(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function iN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pp={exports:{}},Gu={};var bb;function rN(){if(bb)return Gu;bb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Gu.Fragment=e,Gu.jsx=n,Gu.jsxs=n,Gu}var Eb;function aN(){return Eb||(Eb=1,Pp.exports=rN()),Pp.exports}var v=aN(),jp={exports:{}},ke={};var wb;function oN(){if(wb)return ke;wb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function D(L){return L===null||typeof L!="object"?null:(L=w&&L[w]||L["@@iterator"],typeof L=="function"?L:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,P={};function z(L,se,ue){this.props=L,this.context=se,this.refs=P,this.updater=ue||V}z.prototype.isReactComponent={},z.prototype.setState=function(L,se){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,se,"setState")},z.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function K(){}K.prototype=z.prototype;function F(L,se,ue){this.props=L,this.context=se,this.refs=P,this.updater=ue||V}var te=F.prototype=new K;te.constructor=F,R(te,z.prototype),te.isPureReactComponent=!0;var B=Array.isArray;function G(){}var x={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function M(L,se,ue){var ce=ue.ref;return{$$typeof:t,type:L,key:se,ref:ce!==void 0?ce:null,props:ue}}function k(L,se){return M(L.type,se,L.props)}function O(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function I(L){var se={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ue){return se[ue]})}var N=/\/+/g;function pe(L,se){return typeof L=="object"&&L!==null&&L.key!=null?I(""+L.key):se.toString(36)}function Be(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(G,G):(L.status="pending",L.then(function(se){L.status==="pending"&&(L.status="fulfilled",L.value=se)},function(se){L.status==="pending"&&(L.status="rejected",L.reason=se)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function J(L,se,ue,ce,Ee){var Oe=typeof L;(Oe==="undefined"||Oe==="boolean")&&(L=null);var Fe=!1;if(L===null)Fe=!0;else switch(Oe){case"bigint":case"string":case"number":Fe=!0;break;case"object":switch(L.$$typeof){case t:case e:Fe=!0;break;case y:return Fe=L._init,J(Fe(L._payload),se,ue,ce,Ee)}}if(Fe)return Ee=Ee(L),Fe=ce===""?"."+pe(L,0):ce,B(Ee)?(ue="",Fe!=null&&(ue=Fe.replace(N,"$&/")+"/"),J(Ee,se,ue,"",function(ss){return ss})):Ee!=null&&(O(Ee)&&(Ee=k(Ee,ue+(Ee.key==null||L&&L.key===Ee.key?"":(""+Ee.key).replace(N,"$&/")+"/")+Fe)),se.push(Ee)),1;Fe=0;var It=ce===""?".":ce+":";if(B(L))for(var mt=0;mt<L.length;mt++)ce=L[mt],Oe=It+pe(ce,mt),Fe+=J(ce,se,ue,Oe,Ee);else if(mt=D(L),typeof mt=="function")for(L=mt.call(L),mt=0;!(ce=L.next()).done;)ce=ce.value,Oe=It+pe(ce,mt++),Fe+=J(ce,se,ue,Oe,Ee);else if(Oe==="object"){if(typeof L.then=="function")return J(Be(L),se,ue,ce,Ee);throw se=String(L),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Fe}function oe(L,se,ue){if(L==null)return L;var ce=[],Ee=0;return J(L,ce,"","",function(Oe){return se.call(ue,Oe,Ee++)}),ce}function he(L){if(L._status===-1){var se=L._result;se=se(),se.then(function(ue){(L._status===0||L._status===-1)&&(L._status=1,L._result=ue)},function(ue){(L._status===0||L._status===-1)&&(L._status=2,L._result=ue)}),L._status===-1&&(L._status=0,L._result=se)}if(L._status===1)return L._result.default;throw L._result}var Te=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Ce={map:oe,forEach:function(L,se,ue){oe(L,function(){se.apply(this,arguments)},ue)},count:function(L){var se=0;return oe(L,function(){se++}),se},toArray:function(L){return oe(L,function(se){return se})||[]},only:function(L){if(!O(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return ke.Activity=T,ke.Children=Ce,ke.Component=z,ke.Fragment=n,ke.Profiler=a,ke.PureComponent=F,ke.StrictMode=i,ke.Suspense=m,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,ke.__COMPILER_RUNTIME={__proto__:null,c:function(L){return x.H.useMemoCache(L)}},ke.cache=function(L){return function(){return L.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(L,se,ue){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ce=R({},L.props),Ee=L.key;if(se!=null)for(Oe in se.key!==void 0&&(Ee=""+se.key),se)!A.call(se,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&se.ref===void 0||(ce[Oe]=se[Oe]);var Oe=arguments.length-2;if(Oe===1)ce.children=ue;else if(1<Oe){for(var Fe=Array(Oe),It=0;It<Oe;It++)Fe[It]=arguments[It+2];ce.children=Fe}return M(L.type,Ee,ce)},ke.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},ke.createElement=function(L,se,ue){var ce,Ee={},Oe=null;if(se!=null)for(ce in se.key!==void 0&&(Oe=""+se.key),se)A.call(se,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Ee[ce]=se[ce]);var Fe=arguments.length-2;if(Fe===1)Ee.children=ue;else if(1<Fe){for(var It=Array(Fe),mt=0;mt<Fe;mt++)It[mt]=arguments[mt+2];Ee.children=It}if(L&&L.defaultProps)for(ce in Fe=L.defaultProps,Fe)Ee[ce]===void 0&&(Ee[ce]=Fe[ce]);return M(L,Oe,Ee)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(L){return{$$typeof:f,render:L}},ke.isValidElement=O,ke.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:he}},ke.memo=function(L,se){return{$$typeof:g,type:L,compare:se===void 0?null:se}},ke.startTransition=function(L){var se=x.T,ue={};x.T=ue;try{var ce=L(),Ee=x.S;Ee!==null&&Ee(ue,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(G,Te)}catch(Oe){Te(Oe)}finally{se!==null&&ue.types!==null&&(se.types=ue.types),x.T=se}},ke.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},ke.use=function(L){return x.H.use(L)},ke.useActionState=function(L,se,ue){return x.H.useActionState(L,se,ue)},ke.useCallback=function(L,se){return x.H.useCallback(L,se)},ke.useContext=function(L){return x.H.useContext(L)},ke.useDebugValue=function(){},ke.useDeferredValue=function(L,se){return x.H.useDeferredValue(L,se)},ke.useEffect=function(L,se){return x.H.useEffect(L,se)},ke.useEffectEvent=function(L){return x.H.useEffectEvent(L)},ke.useId=function(){return x.H.useId()},ke.useImperativeHandle=function(L,se,ue){return x.H.useImperativeHandle(L,se,ue)},ke.useInsertionEffect=function(L,se){return x.H.useInsertionEffect(L,se)},ke.useLayoutEffect=function(L,se){return x.H.useLayoutEffect(L,se)},ke.useMemo=function(L,se){return x.H.useMemo(L,se)},ke.useOptimistic=function(L,se){return x.H.useOptimistic(L,se)},ke.useReducer=function(L,se,ue){return x.H.useReducer(L,se,ue)},ke.useRef=function(L){return x.H.useRef(L)},ke.useState=function(L){return x.H.useState(L)},ke.useSyncExternalStore=function(L,se,ue){return x.H.useSyncExternalStore(L,se,ue)},ke.useTransition=function(){return x.H.useTransition()},ke.version="19.2.1",ke}var Sb;function wy(){return Sb||(Sb=1,jp.exports=oN()),jp.exports}var Q=wy();const fe=iN(Q);var Lp={exports:{}},Yu={},Up={exports:{}},Bp={};var Ab;function lN(){return Ab||(Ab=1,(function(t){function e(J,oe){var he=J.length;J.push(oe);e:for(;0<he;){var Te=he-1>>>1,Ce=J[Te];if(0<a(Ce,oe))J[Te]=oe,J[he]=Ce,he=Te;else break e}}function n(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var oe=J[0],he=J.pop();if(he!==oe){J[0]=he;e:for(var Te=0,Ce=J.length,L=Ce>>>1;Te<L;){var se=2*(Te+1)-1,ue=J[se],ce=se+1,Ee=J[ce];if(0>a(ue,he))ce<Ce&&0>a(Ee,ue)?(J[Te]=Ee,J[ce]=he,Te=ce):(J[Te]=ue,J[se]=he,Te=se);else if(ce<Ce&&0>a(Ee,he))J[Te]=Ee,J[ce]=he,Te=ce;else break e}}return oe}function a(J,oe){var he=J.sortIndex-oe.sortIndex;return he!==0?he:J.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var m=[],g=[],y=1,T=null,w=3,D=!1,V=!1,R=!1,P=!1,z=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function te(J){for(var oe=n(g);oe!==null;){if(oe.callback===null)i(g);else if(oe.startTime<=J)i(g),oe.sortIndex=oe.expirationTime,e(m,oe);else break;oe=n(g)}}function B(J){if(R=!1,te(J),!V)if(n(m)!==null)V=!0,G||(G=!0,I());else{var oe=n(g);oe!==null&&Be(B,oe.startTime-J)}}var G=!1,x=-1,A=5,M=-1;function k(){return P?!0:!(t.unstable_now()-M<A)}function O(){if(P=!1,G){var J=t.unstable_now();M=J;var oe=!0;try{e:{V=!1,R&&(R=!1,K(x),x=-1),D=!0;var he=w;try{t:{for(te(J),T=n(m);T!==null&&!(T.expirationTime>J&&k());){var Te=T.callback;if(typeof Te=="function"){T.callback=null,w=T.priorityLevel;var Ce=Te(T.expirationTime<=J);if(J=t.unstable_now(),typeof Ce=="function"){T.callback=Ce,te(J),oe=!0;break t}T===n(m)&&i(m),te(J)}else i(m);T=n(m)}if(T!==null)oe=!0;else{var L=n(g);L!==null&&Be(B,L.startTime-J),oe=!1}}break e}finally{T=null,w=he,D=!1}oe=void 0}}finally{oe?I():G=!1}}}var I;if(typeof F=="function")I=function(){F(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,pe=N.port2;N.port1.onmessage=O,I=function(){pe.postMessage(null)}}else I=function(){z(O,0)};function Be(J,oe){x=z(function(){J(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(J){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var he=w;w=oe;try{return J()}finally{w=he}},t.unstable_requestPaint=function(){P=!0},t.unstable_runWithPriority=function(J,oe){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var he=w;w=J;try{return oe()}finally{w=he}},t.unstable_scheduleCallback=function(J,oe,he){var Te=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Te+he:Te):he=Te,J){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=he+Ce,J={id:y++,callback:oe,priorityLevel:J,startTime:he,expirationTime:Ce,sortIndex:-1},he>Te?(J.sortIndex=he,e(g,J),n(m)===null&&J===n(g)&&(R?(K(x),x=-1):R=!0,Be(B,he-Te))):(J.sortIndex=Ce,e(m,J),V||D||(V=!0,G||(G=!0,I()))),J},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(J){var oe=w;return function(){var he=w;w=oe;try{return J.apply(this,arguments)}finally{w=he}}}})(Bp)),Bp}var xb;function uN(){return xb||(xb=1,Up.exports=lN()),Up.exports}var zp={exports:{}},_n={};var Cb;function cN(){if(Cb)return _n;Cb=1;var t=wy();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:m,containerInfo:g,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,_n.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,y)},_n.flushSync=function(m){var g=c.T,y=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=g,i.p=y,i.d.f()}},_n.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},_n.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},_n.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,T=f(y,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:D}):y==="script"&&i.d.X(m,{crossOrigin:T,integrity:w,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},_n.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=f(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},_n.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,T=f(y,g.crossOrigin);i.d.L(m,y,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},_n.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=f(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},_n.requestFormReset=function(m){i.d.r(m)},_n.unstable_batchedUpdates=function(m,g){return m(g)},_n.useFormState=function(m,g,y){return c.H.useFormState(m,g,y)},_n.useFormStatus=function(){return c.H.useHostTransitionStatus()},_n.version="19.2.1",_n}var Db;function Ow(){if(Db)return zp.exports;Db=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zp.exports=cN(),zp.exports}var Nb;function hN(){if(Nb)return Yu;Nb=1;var t=uN(),e=wy(),n=Ow();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function f(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function m(s){if(l(s)!==s)throw Error(i(188))}function g(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,u=r;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return m(d),s;if(p===u)return m(d),r;p=p.sibling}throw Error(i(188))}if(o.return!==u.return)o=d,u=p;else{for(var b=!1,S=d.child;S;){if(S===o){b=!0,o=d,u=p;break}if(S===u){b=!0,u=d,o=p;break}S=S.sibling}if(!b){for(S=p.child;S;){if(S===o){b=!0,o=p,u=d;break}if(S===u){b=!0,u=p,o=d;break}S=S.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function y(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=y(s),r!==null)return r;s=s.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),F=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function I(s){return s===null||typeof s!="object"?null:(s=O&&s[O]||s["@@iterator"],typeof s=="function"?s:null)}var N=Symbol.for("react.client.reference");function pe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===N?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case z:return"Profiler";case P:return"StrictMode";case B:return"Suspense";case G:return"SuspenseList";case M:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case V:return"Portal";case F:return s.displayName||"Context";case K:return(s._context.displayName||"Context")+".Consumer";case te:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case x:return r=s.displayName||null,r!==null?r:pe(s.type)||"Memo";case A:r=s._payload,s=s._init;try{return pe(s(r))}catch{}}return null}var Be=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Te=[],Ce=-1;function L(s){return{current:s}}function se(s){0>Ce||(s.current=Te[Ce],Te[Ce]=null,Ce--)}function ue(s,r){Ce++,Te[Ce]=s.current,s.current=r}var ce=L(null),Ee=L(null),Oe=L(null),Fe=L(null);function It(s,r){switch(ue(Oe,r),ue(Ee,s),ue(ce,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?qT(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=qT(r),s=GT(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}se(ce),ue(ce,s)}function mt(){se(ce),se(Ee),se(Oe)}function ss(s){s.memoizedState!==null&&ue(Fe,s);var r=ce.current,o=GT(r,s.type);r!==o&&(ue(Ee,s),ue(ce,o))}function or(s){Ee.current===s&&(se(ce),se(Ee)),Fe.current===s&&(se(Fe),zu._currentValue=he)}var lr,ur;function is(s){if(lr===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);lr=r&&r[1]||"",ur=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lr+s+ur}var cr=!1;function xi(s,r){if(!s||cr)return"";cr=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Z){var $=Z}Reflect.construct(s,[],ie)}else{try{ie.call()}catch(Z){$=Z}s.call(ie.prototype)}}else{try{throw Error()}catch(Z){$=Z}(ie=s())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Z){if(Z&&$&&typeof Z.stack=="string")return[Z.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),b=p[0],S=p[1];if(b&&S){var j=b.split(`
`),W=S.split(`
`);for(d=u=0;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;for(;d<W.length&&!W[d].includes("DetermineComponentFrameRoot");)d++;if(u===j.length||d===W.length)for(u=j.length-1,d=W.length-1;1<=u&&0<=d&&j[u]!==W[d];)d--;for(;1<=u&&0<=d;u--,d--)if(j[u]!==W[d]){if(u!==1||d!==1)do if(u--,d--,0>d||j[u]!==W[d]){var ee=`
`+j[u].replace(" at new "," at ");return s.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",s.displayName)),ee}while(1<=u&&0<=d);break}}}finally{cr=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?is(o):""}function ca(s,r){switch(s.tag){case 26:case 27:case 5:return is(s.type);case 16:return is("Lazy");case 13:return s.child!==r&&r!==null?is("Suspense Fallback"):is("Suspense");case 19:return is("SuspenseList");case 0:case 15:return xi(s.type,!1);case 11:return xi(s.type.render,!1);case 1:return xi(s.type,!0);case 31:return is("Activity");default:return""}}function ha(s){try{var r="",o=null;do r+=ca(s,o),o=s,s=s.return;while(s);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Dt=Object.prototype.hasOwnProperty,Ot=t.unstable_scheduleCallback,qs=t.unstable_cancelCallback,Hl=t.unstable_shouldYield,fa=t.unstable_requestPaint,Qt=t.unstable_now,Ss=t.unstable_getCurrentPriorityLevel,da=t.unstable_ImmediatePriority,ma=t.unstable_UserBlockingPriority,Gs=t.unstable_NormalPriority,ql=t.unstable_LowPriority,mo=t.unstable_IdlePriority,po=t.log,go=t.unstable_setDisableYieldValue,Bn=null,Xt=null;function Nn(s){if(typeof po=="function"&&go(s),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(Bn,s)}catch{}}var wt=Math.clz32?Math.clz32:Me,pa=Math.log,hr=Math.LN2;function Me(s){return s>>>=0,s===0?32:31-(pa(s)/hr|0)|0}var Le=256,Se=262144,Ae=4194304;function kt(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Re(s,r,o){var u=s.pendingLanes;if(u===0)return 0;var d=0,p=s.suspendedLanes,b=s.pingedLanes;s=s.warmLanes;var S=u&134217727;return S!==0?(u=S&~p,u!==0?d=kt(u):(b&=S,b!==0?d=kt(b):o||(o=S&~s,o!==0&&(d=kt(o))))):(S=u&~p,S!==0?d=kt(S):b!==0?d=kt(b):o||(o=u&~s,o!==0&&(d=kt(o)))),d===0?0:r!==0&&r!==d&&(r&p)===0&&(p=d&-d,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:d}function zn(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Gl(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yo(){var s=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),s}function Mn(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function As(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function zd(s,r,o,u,d,p){var b=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var S=s.entanglements,j=s.expirationTimes,W=s.hiddenUpdates;for(o=b&~o;0<o;){var ee=31-wt(o),ie=1<<ee;S[ee]=0,j[ee]=-1;var $=W[ee];if($!==null)for(W[ee]=null,ee=0;ee<$.length;ee++){var Z=$[ee];Z!==null&&(Z.lane&=-536870913)}o&=~ie}u!==0&&ga(s,u,0),p!==0&&d===0&&s.tag!==0&&(s.suspendedLanes|=p&~(b&~r))}function ga(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-wt(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|o&261930}function Yl(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var u=31-wt(o),d=1<<u;d&r|s[u]&r&&(s[u]|=r),o&=~d}}function Wl(s,r){var o=r&-r;return o=(o&42)!==0?1:ya(o),(o&(s.suspendedLanes|r))!==0?0:o}function ya(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ci(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function $c(){var s=oe.p;return s!==0?s:(s=window.event,s===void 0?32:mb(s.type))}function xs(s,r){var o=oe.p;try{return oe.p=s,r()}finally{oe.p=o}}var Cs=Math.random().toString(36).slice(2),Bt="__reactFiber$"+Cs,sn="__reactProps$"+Cs,Ys="__reactContainer$"+Cs,vo="__reactEvents$"+Cs,Fd="__reactListeners$"+Cs,Qc="__reactHandles$"+Cs,Xc="__reactResources$"+Cs,Ws="__reactMarker$"+Cs;function _o(s){delete s[Bt],delete s[sn],delete s[vo],delete s[Fd],delete s[Qc]}function Ks(s){var r=s[Bt];if(r)return r;for(var o=s.parentNode;o;){if(r=o[Ys]||o[Bt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=ZT(s);s!==null;){if(o=s[Bt])return o;s=ZT(s)}return r}s=o,o=s.parentNode}return null}function rs(s){if(s=s[Bt]||s[Ys]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function Fn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function $s(s){var r=s[Xc];return r||(r=s[Xc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function zt(s){s[Ws]=!0}var Kl=new Set,$l={};function Qs(s,r){Xs(s,r),Xs(s+"Capture",r)}function Xs(s,r){for($l[s]=r,s=0;s<r.length;s++)Kl.add(r[s])}var Ql=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xl={},Zl={};function Zc(s){return Dt.call(Zl,s)?!0:Dt.call(Xl,s)?!1:Ql.test(s)?Zl[s]=!0:(Xl[s]=!0,!1)}function To(s,r,o){if(Zc(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function Hn(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function Ft(s,r,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+u)}}function rn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function fr(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Jl(s,r,o){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,p=u.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return d.call(this)},set:function(b){o=""+b,p.call(this,b)}}),Object.defineProperty(s,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function it(s){if(!s._valueTracker){var r=fr(s)?"checked":"value";s._valueTracker=Jl(s,r,""+s[r])}}function va(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return s&&(u=fr(s)?s.checked?"true":"false":s.value),s=u,s!==o?(r.setValue(s),!0):!1}function Zs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var _a=/[\n"\\]/g;function Rn(s){return s.replace(_a,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function bo(s,r,o,u,d,p,b,S){s.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?s.type=b:s.removeAttribute("type"),r!=null?b==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+rn(r)):s.value!==""+rn(r)&&(s.value=""+rn(r)):b!=="submit"&&b!=="reset"||s.removeAttribute("value"),r!=null?eu(s,b,rn(r)):o!=null?eu(s,b,rn(o)):u!=null&&s.removeAttribute("value"),d==null&&p!=null&&(s.defaultChecked=!!p),d!=null&&(s.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+rn(S):s.removeAttribute("name")}function Jc(s,r,o,u,d,p,b,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){it(s);return}o=o!=null?""+rn(o):"",r=r!=null?""+rn(r):o,S||r===s.value||(s.value=r),s.defaultValue=r}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=S?s.checked:!!u,s.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.name=b),it(s)}function eu(s,r,o){r==="number"&&Zs(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function dr(s,r,o,u){if(s=s.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<s.length;o++)d=r.hasOwnProperty("$"+s[o].value),s[o].selected!==d&&(s[o].selected=d),d&&u&&(s[o].defaultSelected=!0)}else{for(o=""+rn(o),r=null,d=0;d<s.length;d++){if(s[d].value===o){s[d].selected=!0,u&&(s[d].defaultSelected=!0);return}r!==null||s[d].disabled||(r=s[d])}r!==null&&(r.selected=!0)}}function eh(s,r,o){if(r!=null&&(r=""+rn(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+rn(o):""}function mr(s,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(i(92));if(Be(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=rn(r),s.defaultValue=o,u=s.textContent,u===o&&u!==""&&u!==null&&(s.value=u),it(s)}function In(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var th=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tu(s,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,o):typeof o!="number"||o===0||th.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function nu(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var d in r)u=r[d],r.hasOwnProperty(d)&&o[d]!==u&&tu(s,d,u)}else for(var p in r)r.hasOwnProperty(p)&&tu(s,p,r[p])}function Eo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wo(s){return pr.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Ds(){}var su=null;function as(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var gr=null,Js=null;function Ta(s){var r=rs(s);if(r&&(s=r.stateNode)){var o=s[sn]||null;e:switch(s=r.stateNode,r.type){case"input":if(bo(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Rn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==s&&u.form===s.form){var d=u[sn]||null;if(!d)throw Error(i(90));bo(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===s.form&&va(u)}break e;case"textarea":eh(s,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&dr(s,!!o.multiple,r,!1)}}}var So=!1;function yr(s,r,o){if(So)return s(r,o);So=!0;try{var u=s(r);return u}finally{if(So=!1,(gr!==null||Js!==null)&&($h(),gr&&(r=gr,s=Js,Js=gr=null,Ta(r),s)))for(r=0;r<s.length;r++)Ta(s[r])}}function Ns(s,r){var o=s.stateNode;if(o===null)return null;var u=o[sn]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ba=!1;if(os)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){ba=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{ba=!1}var ei=null,iu=null,Ea=null;function ru(){if(Ea)return Ea;var s,r=iu,o=r.length,u,d="value"in ei?ei.value:ei.textContent,p=d.length;for(s=0;s<o&&r[s]===d[s];s++);var b=o-s;for(u=1;u<=b&&r[o-u]===d[p-u];u++);return Ea=d.slice(s,1<u?1-u:void 0)}function wa(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function Di(){return!0}function Ms(){return!1}function un(s){function r(o,u,d,p,b){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(o=s[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Di:Ms,this.isPropagationStopped=Ms,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),r}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ti=un(Ni),vr=T({},Ni,{view:0,detail:0}),au=un(vr),_r,Ao,ni,xo=T({},vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ni&&(ni&&s.type==="mousemove"?(_r=s.screenX-ni.screenX,Ao=s.screenY-ni.screenY):Ao=_r=0,ni=s),_r)},movementY:function(s){return"movementY"in s?s.movementY:Ao}}),ou=un(xo),Sa=T({},xo,{dataTransfer:0}),sh=un(Sa),ih=T({},vr,{relatedTarget:0}),Aa=un(ih),lu=T({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),rh=un(lu),Co=T({},Ni,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ah=un(Co),oh=T({},Ni,{data:0}),si=un(oh),lh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ch={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hh(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=ch[s])?!!r[s]:!1}function Tr(){return hh}var An=T({},vr,{key:function(s){if(s.key){var r=lh[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=wa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?uh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tr,charCode:function(s){return s.type==="keypress"?wa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?wa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),fh=un(An),dh=T({},xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=un(dh),h=T({},vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tr}),_=un(h),E=T({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=un(E),q=T({},xo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),X=un(q),le=T({},Ni,{newState:0,oldState:0}),Pe=un(le),Vt=[9,13,27,32],tt=os&&"CompositionEvent"in window,Tt=null;os&&"documentMode"in document&&(Tt=document.documentMode);var ls=os&&"TextEvent"in window&&!Tt,ii=os&&(!tt||Tt&&8<Tt&&11>=Tt),Rs=" ",Is=!1;function xa(s,r){switch(s){case"keyup":return Vt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Do(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var No=!1;function DD(s,r){switch(s){case"compositionend":return Do(r);case"keypress":return r.which!==32?null:(Is=!0,Rs);case"textInput":return s=r.data,s===Rs&&Is?null:s;default:return null}}function ND(s,r){if(No)return s==="compositionend"||!tt&&xa(s,r)?(s=ru(),Ea=iu=ei=null,No=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ii&&r.locale!=="ko"?null:r.data;default:return null}}var MD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t0(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!MD[s.type]:r==="textarea"}function n0(s,r,o,u){gr?Js?Js.push(u):Js=[u]:gr=u,r=nf(r,"onChange"),0<r.length&&(o=new ti("onChange","change",null,o,u),s.push({event:o,listeners:r}))}var uu=null,cu=null;function RD(s){LT(s,0)}function mh(s){var r=Fn(s);if(va(r))return s}function s0(s,r){if(s==="change")return r}var i0=!1;if(os){var Hd;if(os){var qd="oninput"in document;if(!qd){var r0=document.createElement("div");r0.setAttribute("oninput","return;"),qd=typeof r0.oninput=="function"}Hd=qd}else Hd=!1;i0=Hd&&(!document.documentMode||9<document.documentMode)}function a0(){uu&&(uu.detachEvent("onpropertychange",o0),cu=uu=null)}function o0(s){if(s.propertyName==="value"&&mh(cu)){var r=[];n0(r,cu,s,as(s)),yr(RD,r)}}function ID(s,r,o){s==="focusin"?(a0(),uu=r,cu=o,uu.attachEvent("onpropertychange",o0)):s==="focusout"&&a0()}function OD(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return mh(cu)}function kD(s,r){if(s==="click")return mh(r)}function VD(s,r){if(s==="input"||s==="change")return mh(r)}function PD(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var qn=typeof Object.is=="function"?Object.is:PD;function hu(s,r){if(qn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Dt.call(r,d)||!qn(s[d],r[d]))return!1}return!0}function l0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function u0(s,r){var o=l0(s);s=0;for(var u;o;){if(o.nodeType===3){if(u=s+o.textContent.length,s<=r&&u>=r)return{node:o,offset:r-s};s=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=l0(o)}}function c0(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?c0(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function h0(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=Zs(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=Zs(s.document)}return r}function Gd(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var jD=os&&"documentMode"in document&&11>=document.documentMode,Mo=null,Yd=null,fu=null,Wd=!1;function f0(s,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Wd||Mo==null||Mo!==Zs(u)||(u=Mo,"selectionStart"in u&&Gd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),fu&&hu(fu,u)||(fu=u,u=nf(Yd,"onSelect"),0<u.length&&(r=new ti("onSelect","select",null,r,o),s.push({event:r,listeners:u}),r.target=Mo)))}function Ca(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var Ro={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionrun:Ca("Transition","TransitionRun"),transitionstart:Ca("Transition","TransitionStart"),transitioncancel:Ca("Transition","TransitionCancel"),transitionend:Ca("Transition","TransitionEnd")},Kd={},d0={};os&&(d0=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function Da(s){if(Kd[s])return Kd[s];if(!Ro[s])return s;var r=Ro[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in d0)return Kd[s]=r[o];return s}var m0=Da("animationend"),p0=Da("animationiteration"),g0=Da("animationstart"),LD=Da("transitionrun"),UD=Da("transitionstart"),BD=Da("transitioncancel"),y0=Da("transitionend"),v0=new Map,$d="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$d.push("scrollEnd");function Os(s,r){v0.set(s,r),Qs(r,[s])}var ph=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},us=[],Io=0,Qd=0;function gh(){for(var s=Io,r=Qd=Io=0;r<s;){var o=us[r];us[r++]=null;var u=us[r];us[r++]=null;var d=us[r];us[r++]=null;var p=us[r];if(us[r++]=null,u!==null&&d!==null){var b=u.pending;b===null?d.next=d:(d.next=b.next,b.next=d),u.pending=d}p!==0&&_0(o,d,p)}}function yh(s,r,o,u){us[Io++]=s,us[Io++]=r,us[Io++]=o,us[Io++]=u,Qd|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Xd(s,r,o,u){return yh(s,r,o,u),vh(s)}function Na(s,r){return yh(s,null,null,r),vh(s)}function _0(s,r,o){s.lanes|=o;var u=s.alternate;u!==null&&(u.lanes|=o);for(var d=!1,p=s.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(d=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,d&&r!==null&&(d=31-wt(o),s=p.hiddenUpdates,u=s[d],u===null?s[d]=[r]:u.push(r),r.lane=o|536870912),p):null}function vh(s){if(50<ku)throw ku=0,ap=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var Oo={};function zD(s,r,o,u){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(s,r,o,u){return new zD(s,r,o,u)}function Zd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ri(s,r){var o=s.alternate;return o===null?(o=Gn(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function T0(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function _h(s,r,o,u,d,p){var b=0;if(u=s,typeof s=="function")Zd(s)&&(b=1);else if(typeof s=="string")b=Y2(s,o,ce.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case M:return s=Gn(31,o,r,d),s.elementType=M,s.lanes=p,s;case R:return Ma(o.children,d,p,r);case P:b=8,d|=24;break;case z:return s=Gn(12,o,r,d|2),s.elementType=z,s.lanes=p,s;case B:return s=Gn(13,o,r,d),s.elementType=B,s.lanes=p,s;case G:return s=Gn(19,o,r,d),s.elementType=G,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case F:b=10;break e;case K:b=9;break e;case te:b=11;break e;case x:b=14;break e;case A:b=16,u=null;break e}b=29,o=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=Gn(b,o,r,d),r.elementType=s,r.type=u,r.lanes=p,r}function Ma(s,r,o,u){return s=Gn(7,s,u,r),s.lanes=o,s}function Jd(s,r,o){return s=Gn(6,s,null,r),s.lanes=o,s}function b0(s){var r=Gn(18,null,null,0);return r.stateNode=s,r}function em(s,r,o){return r=Gn(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var E0=new WeakMap;function cs(s,r){if(typeof s=="object"&&s!==null){var o=E0.get(s);return o!==void 0?o:(r={value:s,source:r,stack:ha(r)},E0.set(s,r),r)}return{value:s,source:r,stack:ha(r)}}var ko=[],Vo=0,Th=null,du=0,hs=[],fs=0,br=null,ri=1,ai="";function Ii(s,r){ko[Vo++]=du,ko[Vo++]=Th,Th=s,du=r}function w0(s,r,o){hs[fs++]=ri,hs[fs++]=ai,hs[fs++]=br,br=s;var u=ri;s=ai;var d=32-wt(u)-1;u&=~(1<<d),o+=1;var p=32-wt(r)+d;if(30<p){var b=d-d%5;p=(u&(1<<b)-1).toString(32),u>>=b,d-=b,ri=1<<32-wt(r)+d|o<<d|u,ai=p+s}else ri=1<<p|o<<d|u,ai=s}function tm(s){s.return!==null&&(Ii(s,1),w0(s,1,0))}function nm(s){for(;s===Th;)Th=ko[--Vo],ko[Vo]=null,du=ko[--Vo],ko[Vo]=null;for(;s===br;)br=hs[--fs],hs[fs]=null,ai=hs[--fs],hs[fs]=null,ri=hs[--fs],hs[fs]=null}function S0(s,r){hs[fs++]=ri,hs[fs++]=ai,hs[fs++]=br,ri=r.id,ai=r.overflow,br=s}var cn=null,yt=null,Xe=!1,Er=null,ds=!1,sm=Error(i(519));function wr(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw mu(cs(r,s)),sm}function A0(s){var r=s.stateNode,o=s.type,u=s.memoizedProps;switch(r[Bt]=s,r[sn]=u,o){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(o=0;o<Pu.length;o++)qe(Pu[o],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":qe("invalid",r),Jc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":qe("invalid",r);break;case"textarea":qe("invalid",r),mr(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||FT(r.textContent,o)?(u.popover!=null&&(qe("beforetoggle",r),qe("toggle",r)),u.onScroll!=null&&qe("scroll",r),u.onScrollEnd!=null&&qe("scrollend",r),u.onClick!=null&&(r.onclick=Ds),r=!0):r=!1,r||wr(s,!0)}function x0(s){for(cn=s.return;cn;)switch(cn.tag){case 5:case 31:case 13:ds=!1;return;case 27:case 3:ds=!0;return;default:cn=cn.return}}function Po(s){if(s!==cn)return!1;if(!Xe)return x0(s),Xe=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||bp(s.type,s.memoizedProps)),o=!o),o&&yt&&wr(s),x0(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));yt=XT(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));yt=XT(s)}else r===27?(r=yt,jr(s.type)?(s=xp,xp=null,yt=s):yt=r):yt=cn?ps(s.stateNode.nextSibling):null;return!0}function Ra(){yt=cn=null,Xe=!1}function im(){var s=Er;return s!==null&&(Pn===null?Pn=s:Pn.push.apply(Pn,s),Er=null),s}function mu(s){Er===null?Er=[s]:Er.push(s)}var rm=L(null),Ia=null,Oi=null;function Sr(s,r,o){ue(rm,r._currentValue),r._currentValue=o}function ki(s){s._currentValue=rm.current,se(rm)}function am(s,r,o){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===o)break;s=s.return}}function om(s,r,o,u){var d=s.child;for(d!==null&&(d.return=s);d!==null;){var p=d.dependencies;if(p!==null){var b=d.child;p=p.firstContext;e:for(;p!==null;){var S=p;p=d;for(var j=0;j<r.length;j++)if(S.context===r[j]){p.lanes|=o,S=p.alternate,S!==null&&(S.lanes|=o),am(p.return,o,s),u||(b=null);break e}p=S.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(i(341));b.lanes|=o,p=b.alternate,p!==null&&(p.lanes|=o),am(b,o,s),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===s){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function jo(s,r,o,u){s=null;for(var d=r,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var S=d.type;qn(d.pendingProps.value,b.value)||(s!==null?s.push(S):s=[S])}}else if(d===Fe.current){if(b=d.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(s!==null?s.push(zu):s=[zu])}d=d.return}s!==null&&om(r,s,o,u),r.flags|=262144}function bh(s){for(s=s.firstContext;s!==null;){if(!qn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Oa(s){Ia=s,Oi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function hn(s){return C0(Ia,s)}function Eh(s,r){return Ia===null&&Oa(s),C0(s,r)}function C0(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Oi===null){if(s===null)throw Error(i(308));Oi=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Oi=Oi.next=r;return o}var FD=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},HD=t.unstable_scheduleCallback,qD=t.unstable_NormalPriority,Ht={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lm(){return{controller:new FD,data:new Map,refCount:0}}function pu(s){s.refCount--,s.refCount===0&&HD(qD,function(){s.controller.abort()})}var gu=null,um=0,Lo=0,Uo=null;function GD(s,r){if(gu===null){var o=gu=[];um=0,Lo=fp(),Uo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return um++,r.then(D0,D0),r}function D0(){if(--um===0&&gu!==null){Uo!==null&&(Uo.status="fulfilled");var s=gu;gu=null,Lo=0,Uo=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function YD(s,r){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var N0=J.S;J.S=function(s,r){fT=Qt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&GD(s,r),N0!==null&&N0(s,r)};var ka=L(null);function cm(){var s=ka.current;return s!==null?s:pt.pooledCache}function wh(s,r){r===null?ue(ka,ka.current):ue(ka,r.pool)}function M0(){var s=cm();return s===null?null:{parent:Ht._currentValue,pool:s}}var Bo=Error(i(460)),hm=Error(i(474)),Sh=Error(i(542)),Ah={then:function(){}};function R0(s){return s=s.status,s==="fulfilled"||s==="rejected"}function I0(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(Ds,Ds),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,k0(s),s;default:if(typeof r.status=="string")r.then(Ds,Ds);else{if(s=pt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=u}},function(u){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,k0(s),s}throw Pa=r,Bo}}function Va(s){try{var r=s._init;return r(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Pa=o,Bo):o}}var Pa=null;function O0(){if(Pa===null)throw Error(i(459));var s=Pa;return Pa=null,s}function k0(s){if(s===Bo||s===Sh)throw Error(i(483))}var zo=null,yu=0;function xh(s){var r=yu;return yu+=1,zo===null&&(zo=[]),I0(zo,s,r)}function vu(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Ch(s,r){throw r.$$typeof===w?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function V0(s){function r(H,U){if(s){var Y=H.deletions;Y===null?(H.deletions=[U],H.flags|=16):Y.push(U)}}function o(H,U){if(!s)return null;for(;U!==null;)r(H,U),U=U.sibling;return null}function u(H){for(var U=new Map;H!==null;)H.key!==null?U.set(H.key,H):U.set(H.index,H),H=H.sibling;return U}function d(H,U){return H=Ri(H,U),H.index=0,H.sibling=null,H}function p(H,U,Y){return H.index=Y,s?(Y=H.alternate,Y!==null?(Y=Y.index,Y<U?(H.flags|=67108866,U):Y):(H.flags|=67108866,U)):(H.flags|=1048576,U)}function b(H){return s&&H.alternate===null&&(H.flags|=67108866),H}function S(H,U,Y,ne){return U===null||U.tag!==6?(U=Jd(Y,H.mode,ne),U.return=H,U):(U=d(U,Y),U.return=H,U)}function j(H,U,Y,ne){var _e=Y.type;return _e===R?ee(H,U,Y.props.children,ne,Y.key):U!==null&&(U.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&Va(_e)===U.type)?(U=d(U,Y.props),vu(U,Y),U.return=H,U):(U=_h(Y.type,Y.key,Y.props,null,H.mode,ne),vu(U,Y),U.return=H,U)}function W(H,U,Y,ne){return U===null||U.tag!==4||U.stateNode.containerInfo!==Y.containerInfo||U.stateNode.implementation!==Y.implementation?(U=em(Y,H.mode,ne),U.return=H,U):(U=d(U,Y.children||[]),U.return=H,U)}function ee(H,U,Y,ne,_e){return U===null||U.tag!==7?(U=Ma(Y,H.mode,ne,_e),U.return=H,U):(U=d(U,Y),U.return=H,U)}function ie(H,U,Y){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Jd(""+U,H.mode,Y),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case D:return Y=_h(U.type,U.key,U.props,null,H.mode,Y),vu(Y,U),Y.return=H,Y;case V:return U=em(U,H.mode,Y),U.return=H,U;case A:return U=Va(U),ie(H,U,Y)}if(Be(U)||I(U))return U=Ma(U,H.mode,Y,null),U.return=H,U;if(typeof U.then=="function")return ie(H,xh(U),Y);if(U.$$typeof===F)return ie(H,Eh(H,U),Y);Ch(H,U)}return null}function $(H,U,Y,ne){var _e=U!==null?U.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return _e!==null?null:S(H,U,""+Y,ne);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case D:return Y.key===_e?j(H,U,Y,ne):null;case V:return Y.key===_e?W(H,U,Y,ne):null;case A:return Y=Va(Y),$(H,U,Y,ne)}if(Be(Y)||I(Y))return _e!==null?null:ee(H,U,Y,ne,null);if(typeof Y.then=="function")return $(H,U,xh(Y),ne);if(Y.$$typeof===F)return $(H,U,Eh(H,Y),ne);Ch(H,Y)}return null}function Z(H,U,Y,ne,_e){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return H=H.get(Y)||null,S(U,H,""+ne,_e);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case D:return H=H.get(ne.key===null?Y:ne.key)||null,j(U,H,ne,_e);case V:return H=H.get(ne.key===null?Y:ne.key)||null,W(U,H,ne,_e);case A:return ne=Va(ne),Z(H,U,Y,ne,_e)}if(Be(ne)||I(ne))return H=H.get(Y)||null,ee(U,H,ne,_e,null);if(typeof ne.then=="function")return Z(H,U,Y,xh(ne),_e);if(ne.$$typeof===F)return Z(H,U,Y,Eh(U,ne),_e);Ch(U,ne)}return null}function me(H,U,Y,ne){for(var _e=null,Je=null,ge=U,Ue=U=0,We=null;ge!==null&&Ue<Y.length;Ue++){ge.index>Ue?(We=ge,ge=null):We=ge.sibling;var et=$(H,ge,Y[Ue],ne);if(et===null){ge===null&&(ge=We);break}s&&ge&&et.alternate===null&&r(H,ge),U=p(et,U,Ue),Je===null?_e=et:Je.sibling=et,Je=et,ge=We}if(Ue===Y.length)return o(H,ge),Xe&&Ii(H,Ue),_e;if(ge===null){for(;Ue<Y.length;Ue++)ge=ie(H,Y[Ue],ne),ge!==null&&(U=p(ge,U,Ue),Je===null?_e=ge:Je.sibling=ge,Je=ge);return Xe&&Ii(H,Ue),_e}for(ge=u(ge);Ue<Y.length;Ue++)We=Z(ge,H,Ue,Y[Ue],ne),We!==null&&(s&&We.alternate!==null&&ge.delete(We.key===null?Ue:We.key),U=p(We,U,Ue),Je===null?_e=We:Je.sibling=We,Je=We);return s&&ge.forEach(function(Fr){return r(H,Fr)}),Xe&&Ii(H,Ue),_e}function we(H,U,Y,ne){if(Y==null)throw Error(i(151));for(var _e=null,Je=null,ge=U,Ue=U=0,We=null,et=Y.next();ge!==null&&!et.done;Ue++,et=Y.next()){ge.index>Ue?(We=ge,ge=null):We=ge.sibling;var Fr=$(H,ge,et.value,ne);if(Fr===null){ge===null&&(ge=We);break}s&&ge&&Fr.alternate===null&&r(H,ge),U=p(Fr,U,Ue),Je===null?_e=Fr:Je.sibling=Fr,Je=Fr,ge=We}if(et.done)return o(H,ge),Xe&&Ii(H,Ue),_e;if(ge===null){for(;!et.done;Ue++,et=Y.next())et=ie(H,et.value,ne),et!==null&&(U=p(et,U,Ue),Je===null?_e=et:Je.sibling=et,Je=et);return Xe&&Ii(H,Ue),_e}for(ge=u(ge);!et.done;Ue++,et=Y.next())et=Z(ge,H,Ue,et.value,ne),et!==null&&(s&&et.alternate!==null&&ge.delete(et.key===null?Ue:et.key),U=p(et,U,Ue),Je===null?_e=et:Je.sibling=et,Je=et);return s&&ge.forEach(function(sN){return r(H,sN)}),Xe&&Ii(H,Ue),_e}function ft(H,U,Y,ne){if(typeof Y=="object"&&Y!==null&&Y.type===R&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case D:e:{for(var _e=Y.key;U!==null;){if(U.key===_e){if(_e=Y.type,_e===R){if(U.tag===7){o(H,U.sibling),ne=d(U,Y.props.children),ne.return=H,H=ne;break e}}else if(U.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&Va(_e)===U.type){o(H,U.sibling),ne=d(U,Y.props),vu(ne,Y),ne.return=H,H=ne;break e}o(H,U);break}else r(H,U);U=U.sibling}Y.type===R?(ne=Ma(Y.props.children,H.mode,ne,Y.key),ne.return=H,H=ne):(ne=_h(Y.type,Y.key,Y.props,null,H.mode,ne),vu(ne,Y),ne.return=H,H=ne)}return b(H);case V:e:{for(_e=Y.key;U!==null;){if(U.key===_e)if(U.tag===4&&U.stateNode.containerInfo===Y.containerInfo&&U.stateNode.implementation===Y.implementation){o(H,U.sibling),ne=d(U,Y.children||[]),ne.return=H,H=ne;break e}else{o(H,U);break}else r(H,U);U=U.sibling}ne=em(Y,H.mode,ne),ne.return=H,H=ne}return b(H);case A:return Y=Va(Y),ft(H,U,Y,ne)}if(Be(Y))return me(H,U,Y,ne);if(I(Y)){if(_e=I(Y),typeof _e!="function")throw Error(i(150));return Y=_e.call(Y),we(H,U,Y,ne)}if(typeof Y.then=="function")return ft(H,U,xh(Y),ne);if(Y.$$typeof===F)return ft(H,U,Eh(H,Y),ne);Ch(H,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,U!==null&&U.tag===6?(o(H,U.sibling),ne=d(U,Y),ne.return=H,H=ne):(o(H,U),ne=Jd(Y,H.mode,ne),ne.return=H,H=ne),b(H)):o(H,U)}return function(H,U,Y,ne){try{yu=0;var _e=ft(H,U,Y,ne);return zo=null,_e}catch(ge){if(ge===Bo||ge===Sh)throw ge;var Je=Gn(29,ge,null,H.mode);return Je.lanes=ne,Je.return=H,Je}finally{}}}var ja=V0(!0),P0=V0(!1),Ar=!1;function fm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dm(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function xr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Cr(s,r,o){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(nt&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,r=vh(s),_0(s,null,o),r}return yh(s,u,r,o),vh(s)}function _u(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Yl(s,o)}}function mm(s,r){var o=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?d=p=b:p=p.next=b,o=o.next}while(o!==null);p===null?d=p=r:p=p.next=r}else d=p=r;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var pm=!1;function Tu(){if(pm){var s=Uo;if(s!==null)throw s}}function bu(s,r,o,u){pm=!1;var d=s.updateQueue;Ar=!1;var p=d.firstBaseUpdate,b=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var j=S,W=j.next;j.next=null,b===null?p=W:b.next=W,b=j;var ee=s.alternate;ee!==null&&(ee=ee.updateQueue,S=ee.lastBaseUpdate,S!==b&&(S===null?ee.firstBaseUpdate=W:S.next=W,ee.lastBaseUpdate=j))}if(p!==null){var ie=d.baseState;b=0,ee=W=j=null,S=p;do{var $=S.lane&-536870913,Z=$!==S.lane;if(Z?(Ye&$)===$:(u&$)===$){$!==0&&$===Lo&&(pm=!0),ee!==null&&(ee=ee.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var me=s,we=S;$=r;var ft=o;switch(we.tag){case 1:if(me=we.payload,typeof me=="function"){ie=me.call(ft,ie,$);break e}ie=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=we.payload,$=typeof me=="function"?me.call(ft,ie,$):me,$==null)break e;ie=T({},ie,$);break e;case 2:Ar=!0}}$=S.callback,$!==null&&(s.flags|=64,Z&&(s.flags|=8192),Z=d.callbacks,Z===null?d.callbacks=[$]:Z.push($))}else Z={lane:$,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ee===null?(W=ee=Z,j=ie):ee=ee.next=Z,b|=$;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;Z=S,S=Z.next,Z.next=null,d.lastBaseUpdate=Z,d.shared.pending=null}}while(!0);ee===null&&(j=ie),d.baseState=j,d.firstBaseUpdate=W,d.lastBaseUpdate=ee,p===null&&(d.shared.lanes=0),Ir|=b,s.lanes=b,s.memoizedState=ie}}function j0(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function L0(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)j0(o[s],r)}var Fo=L(null),Dh=L(0);function U0(s,r){s=Hi,ue(Dh,s),ue(Fo,r),Hi=s|r.baseLanes}function gm(){ue(Dh,Hi),ue(Fo,Fo.current)}function ym(){Hi=Dh.current,se(Fo),se(Dh)}var Yn=L(null),ms=null;function Dr(s){var r=s.alternate;ue(Pt,Pt.current&1),ue(Yn,s),ms===null&&(r===null||Fo.current!==null||r.memoizedState!==null)&&(ms=s)}function vm(s){ue(Pt,Pt.current),ue(Yn,s),ms===null&&(ms=s)}function B0(s){s.tag===22?(ue(Pt,Pt.current),ue(Yn,s),ms===null&&(ms=s)):Nr()}function Nr(){ue(Pt,Pt.current),ue(Yn,Yn.current)}function Wn(s){se(Yn),ms===s&&(ms=null),se(Pt)}var Pt=L(0);function Nh(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Sp(o)||Ap(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Vi=0,je=null,ct=null,qt=null,Mh=!1,Ho=!1,La=!1,Rh=0,Eu=0,qo=null,WD=0;function Nt(){throw Error(i(321))}function _m(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!qn(s[o],r[o]))return!1;return!0}function Tm(s,r,o,u,d,p){return Vi=p,je=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,J.H=s===null||s.memoizedState===null?w_:Vm,La=!1,p=o(u,d),La=!1,Ho&&(p=F0(r,o,u,d)),z0(s),p}function z0(s){J.H=Au;var r=ct!==null&&ct.next!==null;if(Vi=0,qt=ct=je=null,Mh=!1,Eu=0,qo=null,r)throw Error(i(300));s===null||Gt||(s=s.dependencies,s!==null&&bh(s)&&(Gt=!0))}function F0(s,r,o,u){je=s;var d=0;do{if(Ho&&(qo=null),Eu=0,Ho=!1,25<=d)throw Error(i(301));if(d+=1,qt=ct=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}J.H=S_,p=r(o,u)}while(Ho);return p}function KD(){var s=J.H,r=s.useState()[0];return r=typeof r.then=="function"?wu(r):r,s=s.useState()[0],(ct!==null?ct.memoizedState:null)!==s&&(je.flags|=1024),r}function bm(){var s=Rh!==0;return Rh=0,s}function Em(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function wm(s){if(Mh){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Mh=!1}Vi=0,qt=ct=je=null,Ho=!1,Eu=Rh=0,qo=null}function xn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?je.memoizedState=qt=s:qt=qt.next=s,qt}function jt(){if(ct===null){var s=je.alternate;s=s!==null?s.memoizedState:null}else s=ct.next;var r=qt===null?je.memoizedState:qt.next;if(r!==null)qt=r,ct=s;else{if(s===null)throw je.alternate===null?Error(i(467)):Error(i(310));ct=s,s={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},qt===null?je.memoizedState=qt=s:qt=qt.next=s}return qt}function Ih(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wu(s){var r=Eu;return Eu+=1,qo===null&&(qo=[]),s=I0(qo,s,r),r=je,(qt===null?r.memoizedState:qt.next)===null&&(r=r.alternate,J.H=r===null||r.memoizedState===null?w_:Vm),s}function Oh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return wu(s);if(s.$$typeof===F)return hn(s)}throw Error(i(438,String(s)))}function Sm(s){var r=null,o=je.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=je.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Ih(),je.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),u=0;u<s;u++)o[u]=k;return r.index++,o}function Pi(s,r){return typeof r=="function"?r(s):r}function kh(s){var r=jt();return Am(r,ct,s)}function Am(s,r,o){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var d=s.baseQueue,p=u.pending;if(p!==null){if(d!==null){var b=d.next;d.next=p.next,p.next=b}r.baseQueue=d=p,u.pending=null}if(p=s.baseState,d===null)s.memoizedState=p;else{r=d.next;var S=b=null,j=null,W=r,ee=!1;do{var ie=W.lane&-536870913;if(ie!==W.lane?(Ye&ie)===ie:(Vi&ie)===ie){var $=W.revertLane;if($===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ie===Lo&&(ee=!0);else if((Vi&$)===$){W=W.next,$===Lo&&(ee=!0);continue}else ie={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},j===null?(S=j=ie,b=p):j=j.next=ie,je.lanes|=$,Ir|=$;ie=W.action,La&&o(p,ie),p=W.hasEagerState?W.eagerState:o(p,ie)}else $={lane:ie,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},j===null?(S=j=$,b=p):j=j.next=$,je.lanes|=ie,Ir|=ie;W=W.next}while(W!==null&&W!==r);if(j===null?b=p:j.next=S,!qn(p,s.memoizedState)&&(Gt=!0,ee&&(o=Uo,o!==null)))throw o;s.memoizedState=p,s.baseState=b,s.baseQueue=j,u.lastRenderedState=p}return d===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function xm(s){var r=jt(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var u=o.dispatch,d=o.pending,p=r.memoizedState;if(d!==null){o.pending=null;var b=d=d.next;do p=s(p,b.action),b=b.next;while(b!==d);qn(p,r.memoizedState)||(Gt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function H0(s,r,o){var u=je,d=jt(),p=Xe;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=r();var b=!qn((ct||d).memoizedState,o);if(b&&(d.memoizedState=o,Gt=!0),d=d.queue,Nm(Y0.bind(null,u,d,s),[s]),d.getSnapshot!==r||b||qt!==null&&qt.memoizedState.tag&1){if(u.flags|=2048,Go(9,{destroy:void 0},G0.bind(null,u,d,o,r),null),pt===null)throw Error(i(349));p||(Vi&127)!==0||q0(u,r,o)}return o}function q0(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=je.updateQueue,r===null?(r=Ih(),je.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function G0(s,r,o,u){r.value=o,r.getSnapshot=u,W0(r)&&K0(s)}function Y0(s,r,o){return o(function(){W0(r)&&K0(s)})}function W0(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!qn(s,o)}catch{return!0}}function K0(s){var r=Na(s,2);r!==null&&jn(r,s,2)}function Cm(s){var r=xn();if(typeof s=="function"){var o=s;if(s=o(),La){Nn(!0);try{o()}finally{Nn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:s},r}function $0(s,r,o,u){return s.baseState=o,Am(s,ct,typeof u=="function"?u:Pi)}function $D(s,r,o,u,d){if(jh(s))throw Error(i(485));if(s=r.action,s!==null){var p={payload:d,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};J.T!==null?o(!0):p.isTransition=!1,u(p),o=r.pending,o===null?(p.next=r.pending=p,Q0(r,p)):(p.next=o.next,r.pending=o.next=p)}}function Q0(s,r){var o=r.action,u=r.payload,d=s.state;if(r.isTransition){var p=J.T,b={};J.T=b;try{var S=o(d,u),j=J.S;j!==null&&j(b,S),X0(s,r,S)}catch(W){Dm(s,r,W)}finally{p!==null&&b.types!==null&&(p.types=b.types),J.T=p}}else try{p=o(d,u),X0(s,r,p)}catch(W){Dm(s,r,W)}}function X0(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Z0(s,r,u)},function(u){return Dm(s,r,u)}):Z0(s,r,o)}function Z0(s,r,o){r.status="fulfilled",r.value=o,J0(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,Q0(s,o)))}function Dm(s,r,o){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,J0(r),r=r.next;while(r!==u)}s.action=null}function J0(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function e_(s,r){return r}function t_(s,r){if(Xe){var o=pt.formState;if(o!==null){e:{var u=je;if(Xe){if(yt){t:{for(var d=yt,p=ds;d.nodeType!==8;){if(!p){d=null;break t}if(d=ps(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){yt=ps(d.nextSibling),u=d.data==="F!";break e}}wr(u)}u=!1}u&&(r=o[0])}}return o=xn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e_,lastRenderedState:r},o.queue=u,o=T_.bind(null,je,u),u.dispatch=o,u=Cm(!1),p=km.bind(null,je,!1,u.queue),u=xn(),d={state:r,dispatch:null,action:s,pending:null},u.queue=d,o=$D.bind(null,je,d,p,o),d.dispatch=o,u.memoizedState=s,[r,o,!1]}function n_(s){var r=jt();return s_(r,ct,s)}function s_(s,r,o){if(r=Am(s,r,e_)[0],s=kh(Pi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=wu(r)}catch(b){throw b===Bo?Sh:b}else u=r;r=jt();var d=r.queue,p=d.dispatch;return o!==r.memoizedState&&(je.flags|=2048,Go(9,{destroy:void 0},QD.bind(null,d,o),null)),[u,p,s]}function QD(s,r){s.action=r}function i_(s){var r=jt(),o=ct;if(o!==null)return s_(r,o,s);jt(),r=r.memoizedState,o=jt();var u=o.queue.dispatch;return o.memoizedState=s,[r,u,!1]}function Go(s,r,o,u){return s={tag:s,create:o,deps:u,inst:r,next:null},r=je.updateQueue,r===null&&(r=Ih(),je.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(u=o.next,o.next=s,s.next=u,r.lastEffect=s),s}function r_(){return jt().memoizedState}function Vh(s,r,o,u){var d=xn();je.flags|=s,d.memoizedState=Go(1|r,{destroy:void 0},o,u===void 0?null:u)}function Ph(s,r,o,u){var d=jt();u=u===void 0?null:u;var p=d.memoizedState.inst;ct!==null&&u!==null&&_m(u,ct.memoizedState.deps)?d.memoizedState=Go(r,p,o,u):(je.flags|=s,d.memoizedState=Go(1|r,p,o,u))}function a_(s,r){Vh(8390656,8,s,r)}function Nm(s,r){Ph(2048,8,s,r)}function XD(s){je.flags|=4;var r=je.updateQueue;if(r===null)r=Ih(),je.updateQueue=r,r.events=[s];else{var o=r.events;o===null?r.events=[s]:o.push(s)}}function o_(s){var r=jt().memoizedState;return XD({ref:r,nextImpl:s}),function(){if((nt&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function l_(s,r){return Ph(4,2,s,r)}function u_(s,r){return Ph(4,4,s,r)}function c_(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function h_(s,r,o){o=o!=null?o.concat([s]):null,Ph(4,4,c_.bind(null,r,s),o)}function Mm(){}function f_(s,r){var o=jt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&_m(r,u[1])?u[0]:(o.memoizedState=[s,r],s)}function d_(s,r){var o=jt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&_m(r,u[1]))return u[0];if(u=s(),La){Nn(!0);try{s()}finally{Nn(!1)}}return o.memoizedState=[u,r],u}function Rm(s,r,o){return o===void 0||(Vi&1073741824)!==0&&(Ye&261930)===0?s.memoizedState=r:(s.memoizedState=o,s=mT(),je.lanes|=s,Ir|=s,o)}function m_(s,r,o,u){return qn(o,r)?o:Fo.current!==null?(s=Rm(s,o,u),qn(s,r)||(Gt=!0),s):(Vi&42)===0||(Vi&1073741824)!==0&&(Ye&261930)===0?(Gt=!0,s.memoizedState=o):(s=mT(),je.lanes|=s,Ir|=s,r)}function p_(s,r,o,u,d){var p=oe.p;oe.p=p!==0&&8>p?p:8;var b=J.T,S={};J.T=S,km(s,!1,r,o);try{var j=d(),W=J.S;if(W!==null&&W(S,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ee=YD(j,u);Su(s,r,ee,Qn(s))}else Su(s,r,u,Qn(s))}catch(ie){Su(s,r,{then:function(){},status:"rejected",reason:ie},Qn())}finally{oe.p=p,b!==null&&S.types!==null&&(b.types=S.types),J.T=b}}function ZD(){}function Im(s,r,o,u){if(s.tag!==5)throw Error(i(476));var d=g_(s).queue;p_(s,d,r,he,o===null?ZD:function(){return y_(s),o(u)})}function g_(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:he},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function y_(s){var r=g_(s);r.next===null&&(r=s.alternate.memoizedState),Su(s,r.next.queue,{},Qn())}function Om(){return hn(zu)}function v_(){return jt().memoizedState}function __(){return jt().memoizedState}function JD(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=Qn();s=xr(o);var u=Cr(r,s,o);u!==null&&(jn(u,r,o),_u(u,r,o)),r={cache:lm()},s.payload=r;return}r=r.return}}function e2(s,r,o){var u=Qn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},jh(s)?b_(r,o):(o=Xd(s,r,o,u),o!==null&&(jn(o,s,u),E_(o,r,u)))}function T_(s,r,o){var u=Qn();Su(s,r,o,u)}function Su(s,r,o,u){var d={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(jh(s))b_(r,d);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var b=r.lastRenderedState,S=p(b,o);if(d.hasEagerState=!0,d.eagerState=S,qn(S,b))return yh(s,r,d,0),pt===null&&gh(),!1}catch{}finally{}if(o=Xd(s,r,d,u),o!==null)return jn(o,s,u),E_(o,r,u),!0}return!1}function km(s,r,o,u){if(u={lane:2,revertLane:fp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},jh(s)){if(r)throw Error(i(479))}else r=Xd(s,o,u,2),r!==null&&jn(r,s,2)}function jh(s){var r=s.alternate;return s===je||r!==null&&r===je}function b_(s,r){Ho=Mh=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function E_(s,r,o){if((o&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Yl(s,o)}}var Au={readContext:hn,use:Oh,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt};Au.useEffectEvent=Nt;var w_={readContext:hn,use:Oh,useCallback:function(s,r){return xn().memoizedState=[s,r===void 0?null:r],s},useContext:hn,useEffect:a_,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,Vh(4194308,4,c_.bind(null,r,s),o)},useLayoutEffect:function(s,r){return Vh(4194308,4,s,r)},useInsertionEffect:function(s,r){Vh(4,2,s,r)},useMemo:function(s,r){var o=xn();r=r===void 0?null:r;var u=s();if(La){Nn(!0);try{s()}finally{Nn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(s,r,o){var u=xn();if(o!==void 0){var d=o(r);if(La){Nn(!0);try{o(r)}finally{Nn(!1)}}}else d=r;return u.memoizedState=u.baseState=d,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:d},u.queue=s,s=s.dispatch=e2.bind(null,je,s),[u.memoizedState,s]},useRef:function(s){var r=xn();return s={current:s},r.memoizedState=s},useState:function(s){s=Cm(s);var r=s.queue,o=T_.bind(null,je,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:Mm,useDeferredValue:function(s,r){var o=xn();return Rm(o,s,r)},useTransition:function(){var s=Cm(!1);return s=p_.bind(null,je,s.queue,!0,!1),xn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var u=je,d=xn();if(Xe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),pt===null)throw Error(i(349));(Ye&127)!==0||q0(u,r,o)}d.memoizedState=o;var p={value:o,getSnapshot:r};return d.queue=p,a_(Y0.bind(null,u,p,s),[s]),u.flags|=2048,Go(9,{destroy:void 0},G0.bind(null,u,p,o,r),null),o},useId:function(){var s=xn(),r=pt.identifierPrefix;if(Xe){var o=ai,u=ri;o=(u&~(1<<32-wt(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Rh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=WD++,r="_"+r+"r_"+o.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:Om,useFormState:t_,useActionState:t_,useOptimistic:function(s){var r=xn();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=km.bind(null,je,!0,o),o.dispatch=r,[s,r]},useMemoCache:Sm,useCacheRefresh:function(){return xn().memoizedState=JD.bind(null,je)},useEffectEvent:function(s){var r=xn(),o={impl:s};return r.memoizedState=o,function(){if((nt&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Vm={readContext:hn,use:Oh,useCallback:f_,useContext:hn,useEffect:Nm,useImperativeHandle:h_,useInsertionEffect:l_,useLayoutEffect:u_,useMemo:d_,useReducer:kh,useRef:r_,useState:function(){return kh(Pi)},useDebugValue:Mm,useDeferredValue:function(s,r){var o=jt();return m_(o,ct.memoizedState,s,r)},useTransition:function(){var s=kh(Pi)[0],r=jt().memoizedState;return[typeof s=="boolean"?s:wu(s),r]},useSyncExternalStore:H0,useId:v_,useHostTransitionStatus:Om,useFormState:n_,useActionState:n_,useOptimistic:function(s,r){var o=jt();return $0(o,ct,s,r)},useMemoCache:Sm,useCacheRefresh:__};Vm.useEffectEvent=o_;var S_={readContext:hn,use:Oh,useCallback:f_,useContext:hn,useEffect:Nm,useImperativeHandle:h_,useInsertionEffect:l_,useLayoutEffect:u_,useMemo:d_,useReducer:xm,useRef:r_,useState:function(){return xm(Pi)},useDebugValue:Mm,useDeferredValue:function(s,r){var o=jt();return ct===null?Rm(o,s,r):m_(o,ct.memoizedState,s,r)},useTransition:function(){var s=xm(Pi)[0],r=jt().memoizedState;return[typeof s=="boolean"?s:wu(s),r]},useSyncExternalStore:H0,useId:v_,useHostTransitionStatus:Om,useFormState:i_,useActionState:i_,useOptimistic:function(s,r){var o=jt();return ct!==null?$0(o,ct,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:Sm,useCacheRefresh:__};S_.useEffectEvent=o_;function Pm(s,r,o,u){r=s.memoizedState,o=o(u,r),o=o==null?r:T({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var jm={enqueueSetState:function(s,r,o){s=s._reactInternals;var u=Qn(),d=xr(u);d.payload=r,o!=null&&(d.callback=o),r=Cr(s,d,u),r!==null&&(jn(r,s,u),_u(r,s,u))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var u=Qn(),d=xr(u);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=Cr(s,d,u),r!==null&&(jn(r,s,u),_u(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=Qn(),u=xr(o);u.tag=2,r!=null&&(u.callback=r),r=Cr(s,u,o),r!==null&&(jn(r,s,o),_u(r,s,o))}};function A_(s,r,o,u,d,p,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,p,b):r.prototype&&r.prototype.isPureReactComponent?!hu(o,u)||!hu(d,p):!0}function x_(s,r,o,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==s&&jm.enqueueReplaceState(r,r.state,null)}function Ua(s,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(s=s.defaultProps){o===r&&(o=T({},o));for(var d in s)o[d]===void 0&&(o[d]=s[d])}return o}function C_(s){ph(s)}function D_(s){console.error(s)}function N_(s){ph(s)}function Lh(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function M_(s,r,o){try{var u=s.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Lm(s,r,o){return o=xr(o),o.tag=3,o.payload={element:null},o.callback=function(){Lh(s,r)},o}function R_(s){return s=xr(s),s.tag=3,s}function I_(s,r,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var p=u.value;s.payload=function(){return d(p)},s.callback=function(){M_(r,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(s.callback=function(){M_(r,o,u),typeof d!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function t2(s,r,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&jo(r,o,d,!0),o=Yn.current,o!==null){switch(o.tag){case 31:case 13:return ms===null?Qh():o.alternate===null&&Mt===0&&(Mt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===Ah?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),up(s,u,d)),!1;case 22:return o.flags|=65536,u===Ah?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),up(s,u,d)),!1}throw Error(i(435,o.tag))}return up(s,u,d),Qh(),!1}if(Xe)return r=Yn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,u!==sm&&(s=Error(i(422),{cause:u}),mu(cs(s,o)))):(u!==sm&&(r=Error(i(423),{cause:u}),mu(cs(r,o))),s=s.current.alternate,s.flags|=65536,d&=-d,s.lanes|=d,u=cs(u,o),d=Lm(s.stateNode,u,d),mm(s,d),Mt!==4&&(Mt=2)),!1;var p=Error(i(520),{cause:u});if(p=cs(p,o),Ou===null?Ou=[p]:Ou.push(p),Mt!==4&&(Mt=2),r===null)return!0;u=cs(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=d&-d,o.lanes|=s,s=Lm(o.stateNode,u,s),mm(o,s),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Or===null||!Or.has(p))))return o.flags|=65536,d&=-d,o.lanes|=d,d=R_(d),I_(d,s,o,u),mm(o,d),!1}o=o.return}while(o!==null);return!1}var Um=Error(i(461)),Gt=!1;function fn(s,r,o,u){r.child=s===null?P0(r,null,o,u):ja(r,s.child,o,u)}function O_(s,r,o,u,d){o=o.render;var p=r.ref;if("ref"in u){var b={};for(var S in u)S!=="ref"&&(b[S]=u[S])}else b=u;return Oa(r),u=Tm(s,r,o,b,p,d),S=bm(),s!==null&&!Gt?(Em(s,r,d),ji(s,r,d)):(Xe&&S&&tm(r),r.flags|=1,fn(s,r,u,d),r.child)}function k_(s,r,o,u,d){if(s===null){var p=o.type;return typeof p=="function"&&!Zd(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,V_(s,r,p,u,d)):(s=_h(o.type,null,u,r,r.mode,d),s.ref=r.ref,s.return=r,r.child=s)}if(p=s.child,!Wm(s,d)){var b=p.memoizedProps;if(o=o.compare,o=o!==null?o:hu,o(b,u)&&s.ref===r.ref)return ji(s,r,d)}return r.flags|=1,s=Ri(p,u),s.ref=r.ref,s.return=r,r.child=s}function V_(s,r,o,u,d){if(s!==null){var p=s.memoizedProps;if(hu(p,u)&&s.ref===r.ref)if(Gt=!1,r.pendingProps=u=p,Wm(s,d))(s.flags&131072)!==0&&(Gt=!0);else return r.lanes=s.lanes,ji(s,r,d)}return Bm(s,r,o,u,d)}function P_(s,r,o,u){var d=u.children,p=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,s!==null){for(u=r.child=s.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~p}else u=0,r.child=null;return j_(s,r,p,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&wh(r,p!==null?p.cachePool:null),p!==null?U0(r,p):gm(),B0(r);else return u=r.lanes=536870912,j_(s,r,p!==null?p.baseLanes|o:o,o,u)}else p!==null?(wh(r,p.cachePool),U0(r,p),Nr(),r.memoizedState=null):(s!==null&&wh(r,null),gm(),Nr());return fn(s,r,d,o),r.child}function xu(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function j_(s,r,o,u,d){var p=cm();return p=p===null?null:{parent:Ht._currentValue,pool:p},r.memoizedState={baseLanes:o,cachePool:p},s!==null&&wh(r,null),gm(),B0(r),s!==null&&jo(s,r,u,!0),r.childLanes=d,null}function Uh(s,r){return r=zh({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function L_(s,r,o){return ja(r,s.child,null,o),s=Uh(r,r.pendingProps),s.flags|=2,Wn(r),r.memoizedState=null,s}function n2(s,r,o){var u=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(Xe){if(u.mode==="hidden")return s=Uh(r,u),r.lanes=536870912,xu(null,s);if(vm(r),(s=yt)?(s=QT(s,ds),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:br!==null?{id:ri,overflow:ai}:null,retryLane:536870912,hydrationErrors:null},o=b0(s),o.return=r,r.child=o,cn=r,yt=null)):s=null,s===null)throw wr(r);return r.lanes=536870912,null}return Uh(r,u)}var p=s.memoizedState;if(p!==null){var b=p.dehydrated;if(vm(r),d)if(r.flags&256)r.flags&=-257,r=L_(s,r,o);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(Gt||jo(s,r,o,!1),d=(o&s.childLanes)!==0,Gt||d){if(u=pt,u!==null&&(b=Wl(u,o),b!==0&&b!==p.retryLane))throw p.retryLane=b,Na(s,b),jn(u,s,b),Um;Qh(),r=L_(s,r,o)}else s=p.treeContext,yt=ps(b.nextSibling),cn=r,Xe=!0,Er=null,ds=!1,s!==null&&S0(r,s),r=Uh(r,u),r.flags|=4096;return r}return s=Ri(s.child,{mode:u.mode,children:u.children}),s.ref=r.ref,r.child=s,s.return=r,s}function Bh(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function Bm(s,r,o,u,d){return Oa(r),o=Tm(s,r,o,u,void 0,d),u=bm(),s!==null&&!Gt?(Em(s,r,d),ji(s,r,d)):(Xe&&u&&tm(r),r.flags|=1,fn(s,r,o,d),r.child)}function U_(s,r,o,u,d,p){return Oa(r),r.updateQueue=null,o=F0(r,u,o,d),z0(s),u=bm(),s!==null&&!Gt?(Em(s,r,p),ji(s,r,p)):(Xe&&u&&tm(r),r.flags|=1,fn(s,r,o,p),r.child)}function B_(s,r,o,u,d){if(Oa(r),r.stateNode===null){var p=Oo,b=o.contextType;typeof b=="object"&&b!==null&&(p=hn(b)),p=new o(u,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=jm,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=u,p.state=r.memoizedState,p.refs={},fm(r),b=o.contextType,p.context=typeof b=="object"&&b!==null?hn(b):Oo,p.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Pm(r,o,b,u),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&jm.enqueueReplaceState(p,p.state,null),bu(r,u,p,d),Tu(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){p=r.stateNode;var S=r.memoizedProps,j=Ua(o,S);p.props=j;var W=p.context,ee=o.contextType;b=Oo,typeof ee=="object"&&ee!==null&&(b=hn(ee));var ie=o.getDerivedStateFromProps;ee=typeof ie=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,ee||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||W!==b)&&x_(r,p,u,b),Ar=!1;var $=r.memoizedState;p.state=$,bu(r,u,p,d),Tu(),W=r.memoizedState,S||$!==W||Ar?(typeof ie=="function"&&(Pm(r,o,ie,u),W=r.memoizedState),(j=Ar||A_(r,o,j,u,$,W,b))?(ee||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=W),p.props=u,p.state=W,p.context=b,u=j):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{p=r.stateNode,dm(s,r),b=r.memoizedProps,ee=Ua(o,b),p.props=ee,ie=r.pendingProps,$=p.context,W=o.contextType,j=Oo,typeof W=="object"&&W!==null&&(j=hn(W)),S=o.getDerivedStateFromProps,(W=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==ie||$!==j)&&x_(r,p,u,j),Ar=!1,$=r.memoizedState,p.state=$,bu(r,u,p,d),Tu();var Z=r.memoizedState;b!==ie||$!==Z||Ar||s!==null&&s.dependencies!==null&&bh(s.dependencies)?(typeof S=="function"&&(Pm(r,o,S,u),Z=r.memoizedState),(ee=Ar||A_(r,o,ee,u,$,Z,j)||s!==null&&s.dependencies!==null&&bh(s.dependencies))?(W||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,Z,j),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,Z,j)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===s.memoizedProps&&$===s.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&$===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Z),p.props=u,p.state=Z,p.context=j,u=ee):(typeof p.componentDidUpdate!="function"||b===s.memoizedProps&&$===s.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&$===s.memoizedState||(r.flags|=1024),u=!1)}return p=u,Bh(s,r),u=(r.flags&128)!==0,p||u?(p=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,s!==null&&u?(r.child=ja(r,s.child,null,d),r.child=ja(r,null,o,d)):fn(s,r,o,d),r.memoizedState=p.state,s=r.child):s=ji(s,r,d),s}function z_(s,r,o,u){return Ra(),r.flags|=256,fn(s,r,o,u),r.child}var zm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fm(s){return{baseLanes:s,cachePool:M0()}}function Hm(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=$n),s}function F_(s,r,o){var u=r.pendingProps,d=!1,p=(r.flags&128)!==0,b;if((b=p)||(b=s!==null&&s.memoizedState===null?!1:(Pt.current&2)!==0),b&&(d=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,s===null){if(Xe){if(d?Dr(r):Nr(),(s=yt)?(s=QT(s,ds),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:br!==null?{id:ri,overflow:ai}:null,retryLane:536870912,hydrationErrors:null},o=b0(s),o.return=r,r.child=o,cn=r,yt=null)):s=null,s===null)throw wr(r);return Ap(s)?r.lanes=32:r.lanes=536870912,null}var S=u.children;return u=u.fallback,d?(Nr(),d=r.mode,S=zh({mode:"hidden",children:S},d),u=Ma(u,d,o,null),S.return=r,u.return=r,S.sibling=u,r.child=S,u=r.child,u.memoizedState=Fm(o),u.childLanes=Hm(s,b,o),r.memoizedState=zm,xu(null,u)):(Dr(r),qm(r,S))}var j=s.memoizedState;if(j!==null&&(S=j.dehydrated,S!==null)){if(p)r.flags&256?(Dr(r),r.flags&=-257,r=Gm(s,r,o)):r.memoizedState!==null?(Nr(),r.child=s.child,r.flags|=128,r=null):(Nr(),S=u.fallback,d=r.mode,u=zh({mode:"visible",children:u.children},d),S=Ma(S,d,o,null),S.flags|=2,u.return=r,S.return=r,u.sibling=S,r.child=u,ja(r,s.child,null,o),u=r.child,u.memoizedState=Fm(o),u.childLanes=Hm(s,b,o),r.memoizedState=zm,r=xu(null,u));else if(Dr(r),Ap(S)){if(b=S.nextSibling&&S.nextSibling.dataset,b)var W=b.dgst;b=W,u=Error(i(419)),u.stack="",u.digest=b,mu({value:u,source:null,stack:null}),r=Gm(s,r,o)}else if(Gt||jo(s,r,o,!1),b=(o&s.childLanes)!==0,Gt||b){if(b=pt,b!==null&&(u=Wl(b,o),u!==0&&u!==j.retryLane))throw j.retryLane=u,Na(s,u),jn(b,s,u),Um;Sp(S)||Qh(),r=Gm(s,r,o)}else Sp(S)?(r.flags|=192,r.child=s.child,r=null):(s=j.treeContext,yt=ps(S.nextSibling),cn=r,Xe=!0,Er=null,ds=!1,s!==null&&S0(r,s),r=qm(r,u.children),r.flags|=4096);return r}return d?(Nr(),S=u.fallback,d=r.mode,j=s.child,W=j.sibling,u=Ri(j,{mode:"hidden",children:u.children}),u.subtreeFlags=j.subtreeFlags&65011712,W!==null?S=Ri(W,S):(S=Ma(S,d,o,null),S.flags|=2),S.return=r,u.return=r,u.sibling=S,r.child=u,xu(null,u),u=r.child,S=s.child.memoizedState,S===null?S=Fm(o):(d=S.cachePool,d!==null?(j=Ht._currentValue,d=d.parent!==j?{parent:j,pool:j}:d):d=M0(),S={baseLanes:S.baseLanes|o,cachePool:d}),u.memoizedState=S,u.childLanes=Hm(s,b,o),r.memoizedState=zm,xu(s.child,u)):(Dr(r),o=s.child,s=o.sibling,o=Ri(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,s!==null&&(b=r.deletions,b===null?(r.deletions=[s],r.flags|=16):b.push(s)),r.child=o,r.memoizedState=null,o)}function qm(s,r){return r=zh({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function zh(s,r){return s=Gn(22,s,null,r),s.lanes=0,s}function Gm(s,r,o){return ja(r,s.child,null,o),s=qm(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function H_(s,r,o){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),am(s.return,r,o)}function Ym(s,r,o,u,d,p){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d,treeForkCount:p}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=o,b.tailMode=d,b.treeForkCount=p)}function q_(s,r,o){var u=r.pendingProps,d=u.revealOrder,p=u.tail;u=u.children;var b=Pt.current,S=(b&2)!==0;if(S?(b=b&1|2,r.flags|=128):b&=1,ue(Pt,b),fn(s,r,u,o),u=Xe?du:0,!S&&s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&H_(s,o,r);else if(s.tag===19)H_(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(d){case"forwards":for(o=r.child,d=null;o!==null;)s=o.alternate,s!==null&&Nh(s)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),Ym(r,!1,d,o,p,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(s=d.alternate,s!==null&&Nh(s)===null){r.child=d;break}s=d.sibling,d.sibling=o,o=d,d=s}Ym(r,!0,o,null,p,u);break;case"together":Ym(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function ji(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),Ir|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(jo(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=Ri(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=Ri(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function Wm(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&bh(s)))}function s2(s,r,o){switch(r.tag){case 3:It(r,r.stateNode.containerInfo),Sr(r,Ht,s.memoizedState.cache),Ra();break;case 27:case 5:ss(r);break;case 4:It(r,r.stateNode.containerInfo);break;case 10:Sr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,vm(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Dr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?F_(s,r,o):(Dr(r),s=ji(s,r,o),s!==null?s.sibling:null);Dr(r);break;case 19:var d=(s.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(jo(s,r,o,!1),u=(o&r.childLanes)!==0),d){if(u)return q_(s,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ue(Pt,Pt.current),u)break;return null;case 22:return r.lanes=0,P_(s,r,o,r.pendingProps);case 24:Sr(r,Ht,s.memoizedState.cache)}return ji(s,r,o)}function G_(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)Gt=!0;else{if(!Wm(s,o)&&(r.flags&128)===0)return Gt=!1,s2(s,r,o);Gt=(s.flags&131072)!==0}else Gt=!1,Xe&&(r.flags&1048576)!==0&&w0(r,du,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(s=Va(r.elementType),r.type=s,typeof s=="function")Zd(s)?(u=Ua(s,u),r.tag=1,r=B_(null,r,s,u,o)):(r.tag=0,r=Bm(null,r,s,u,o));else{if(s!=null){var d=s.$$typeof;if(d===te){r.tag=11,r=O_(null,r,s,u,o);break e}else if(d===x){r.tag=14,r=k_(null,r,s,u,o);break e}}throw r=pe(s)||s,Error(i(306,r,""))}}return r;case 0:return Bm(s,r,r.type,r.pendingProps,o);case 1:return u=r.type,d=Ua(u,r.pendingProps),B_(s,r,u,d,o);case 3:e:{if(It(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var p=r.memoizedState;d=p.element,dm(s,r),bu(r,u,null,o);var b=r.memoizedState;if(u=b.cache,Sr(r,Ht,u),u!==p.cache&&om(r,[Ht],o,!0),Tu(),u=b.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=z_(s,r,u,o);break e}else if(u!==d){d=cs(Error(i(424)),r),mu(d),r=z_(s,r,u,o);break e}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(yt=ps(s.firstChild),cn=r,Xe=!0,Er=null,ds=!0,o=P0(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ra(),u===d){r=ji(s,r,o);break e}fn(s,r,u,o)}r=r.child}return r;case 26:return Bh(s,r),s===null?(o=nb(r.type,null,r.pendingProps,null))?r.memoizedState=o:Xe||(o=r.type,s=r.pendingProps,u=sf(Oe.current).createElement(o),u[Bt]=r,u[sn]=s,dn(u,o,s),zt(u),r.stateNode=u):r.memoizedState=nb(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return ss(r),s===null&&Xe&&(u=r.stateNode=JT(r.type,r.pendingProps,Oe.current),cn=r,ds=!0,d=yt,jr(r.type)?(xp=d,yt=ps(u.firstChild)):yt=d),fn(s,r,r.pendingProps.children,o),Bh(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Xe&&((d=u=yt)&&(u=O2(u,r.type,r.pendingProps,ds),u!==null?(r.stateNode=u,cn=r,yt=ps(u.firstChild),ds=!1,d=!0):d=!1),d||wr(r)),ss(r),d=r.type,p=r.pendingProps,b=s!==null?s.memoizedProps:null,u=p.children,bp(d,p)?u=null:b!==null&&bp(d,b)&&(r.flags|=32),r.memoizedState!==null&&(d=Tm(s,r,KD,null,null,o),zu._currentValue=d),Bh(s,r),fn(s,r,u,o),r.child;case 6:return s===null&&Xe&&((s=o=yt)&&(o=k2(o,r.pendingProps,ds),o!==null?(r.stateNode=o,cn=r,yt=null,s=!0):s=!1),s||wr(r)),null;case 13:return F_(s,r,o);case 4:return It(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=ja(r,null,u,o):fn(s,r,u,o),r.child;case 11:return O_(s,r,r.type,r.pendingProps,o);case 7:return fn(s,r,r.pendingProps,o),r.child;case 8:return fn(s,r,r.pendingProps.children,o),r.child;case 12:return fn(s,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Sr(r,r.type,u.value),fn(s,r,u.children,o),r.child;case 9:return d=r.type._context,u=r.pendingProps.children,Oa(r),d=hn(d),u=u(d),r.flags|=1,fn(s,r,u,o),r.child;case 14:return k_(s,r,r.type,r.pendingProps,o);case 15:return V_(s,r,r.type,r.pendingProps,o);case 19:return q_(s,r,o);case 31:return n2(s,r,o);case 22:return P_(s,r,o,r.pendingProps);case 24:return Oa(r),u=hn(Ht),s===null?(d=cm(),d===null&&(d=pt,p=lm(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=o),d=p),r.memoizedState={parent:u,cache:d},fm(r),Sr(r,Ht,d)):((s.lanes&o)!==0&&(dm(s,r),bu(r,null,null,o),Tu()),d=s.memoizedState,p=r.memoizedState,d.parent!==u?(d={parent:u,cache:u},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Sr(r,Ht,u)):(u=p.cache,Sr(r,Ht,u),u!==d.cache&&om(r,[Ht],o,!0))),fn(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Li(s){s.flags|=4}function Km(s,r,o,u,d){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(d&335544128)===d)if(s.stateNode.complete)s.flags|=8192;else if(vT())s.flags|=8192;else throw Pa=Ah,hm}else s.flags&=-16777217}function Y_(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!ob(r))if(vT())s.flags|=8192;else throw Pa=Ah,hm}function Fh(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?yo():536870912,s.lanes|=r,$o|=r)}function Cu(s,r){if(!Xe)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function vt(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,u=0;if(r)for(var d=s.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=s,d=d.sibling;else for(d=s.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=s,d=d.sibling;return s.subtreeFlags|=u,s.childLanes=o,r}function i2(s,r,o){var u=r.pendingProps;switch(nm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(r),null;case 1:return vt(r),null;case 3:return o=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),ki(Ht),mt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(Po(r)?Li(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,im())),vt(r),null;case 26:var d=r.type,p=r.memoizedState;return s===null?(Li(r),p!==null?(vt(r),Y_(r,p)):(vt(r),Km(r,d,null,u,o))):p?p!==s.memoizedState?(Li(r),vt(r),Y_(r,p)):(vt(r),r.flags&=-16777217):(s=s.memoizedProps,s!==u&&Li(r),vt(r),Km(r,d,s,u,o)),null;case 27:if(or(r),o=Oe.current,d=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Li(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return vt(r),null}s=ce.current,Po(r)?A0(r):(s=JT(d,u,o),r.stateNode=s,Li(r))}return vt(r),null;case 5:if(or(r),d=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Li(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return vt(r),null}if(p=ce.current,Po(r))A0(r);else{var b=sf(Oe.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?b.createElement(d,{is:u.is}):b.createElement(d)}}p[Bt]=r,p[sn]=u;e:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break e;for(;b.sibling===null;){if(b.return===null||b.return===r)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=p;e:switch(dn(p,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Li(r)}}return vt(r),Km(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,o),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&Li(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=Oe.current,Po(r)){if(s=r.stateNode,o=r.memoizedProps,u=null,d=cn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}s[Bt]=r,s=!!(s.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||FT(s.nodeValue,o)),s||wr(r,!0)}else s=sf(s).createTextNode(u),s[Bt]=r,r.stateNode=s}return vt(r),null;case 31:if(o=r.memoizedState,s===null||s.memoizedState!==null){if(u=Po(r),o!==null){if(s===null){if(!u)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Bt]=r}else Ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;vt(r),s=!1}else o=im(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return r.flags&256?(Wn(r),r):(Wn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return vt(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(d=Po(r),u!==null&&u.dehydrated!==null){if(s===null){if(!d)throw Error(i(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Bt]=r}else Ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;vt(r),d=!1}else d=im(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Wn(r),r):(Wn(r),null)}return Wn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,s=s!==null&&s.memoizedState!==null,o&&(u=r.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==d&&(u.flags|=2048)),o!==s&&o&&(r.child.flags|=8192),Fh(r,r.updateQueue),vt(r),null);case 4:return mt(),s===null&&gp(r.stateNode.containerInfo),vt(r),null;case 10:return ki(r.type),vt(r),null;case 19:if(se(Pt),u=r.memoizedState,u===null)return vt(r),null;if(d=(r.flags&128)!==0,p=u.rendering,p===null)if(d)Cu(u,!1);else{if(Mt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(p=Nh(s),p!==null){for(r.flags|=128,Cu(u,!1),s=p.updateQueue,r.updateQueue=s,Fh(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)T0(o,s),o=o.sibling;return ue(Pt,Pt.current&1|2),Xe&&Ii(r,u.treeForkCount),r.child}s=s.sibling}u.tail!==null&&Qt()>Wh&&(r.flags|=128,d=!0,Cu(u,!1),r.lanes=4194304)}else{if(!d)if(s=Nh(p),s!==null){if(r.flags|=128,d=!0,s=s.updateQueue,r.updateQueue=s,Fh(r,s),Cu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Xe)return vt(r),null}else 2*Qt()-u.renderingStartTime>Wh&&o!==536870912&&(r.flags|=128,d=!0,Cu(u,!1),r.lanes=4194304);u.isBackwards?(p.sibling=r.child,r.child=p):(s=u.last,s!==null?s.sibling=p:r.child=p,u.last=p)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=Qt(),s.sibling=null,o=Pt.current,ue(Pt,d?o&1|2:o&1),Xe&&Ii(r,u.treeForkCount),s):(vt(r),null);case 22:case 23:return Wn(r),ym(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(vt(r),r.subtreeFlags&6&&(r.flags|=8192)):vt(r),o=r.updateQueue,o!==null&&Fh(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),s!==null&&se(ka),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ki(Ht),vt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function r2(s,r){switch(nm(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return ki(Ht),mt(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return or(r),null;case 31:if(r.memoizedState!==null){if(Wn(r),r.alternate===null)throw Error(i(340));Ra()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(Wn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Ra()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return se(Pt),null;case 4:return mt(),null;case 10:return ki(r.type),null;case 22:case 23:return Wn(r),ym(),s!==null&&se(ka),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return ki(Ht),null;case 25:return null;default:return null}}function W_(s,r){switch(nm(r),r.tag){case 3:ki(Ht),mt();break;case 26:case 27:case 5:or(r);break;case 4:mt();break;case 31:r.memoizedState!==null&&Wn(r);break;case 13:Wn(r);break;case 19:se(Pt);break;case 10:ki(r.type);break;case 22:case 23:Wn(r),ym(),s!==null&&se(ka);break;case 24:ki(Ht)}}function Du(s,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&s)===s){u=void 0;var p=o.create,b=o.inst;u=p(),b.destroy=u}o=o.next}while(o!==d)}}catch(S){at(r,r.return,S)}}function Mr(s,r,o){try{var u=r.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var p=d.next;u=p;do{if((u.tag&s)===s){var b=u.inst,S=b.destroy;if(S!==void 0){b.destroy=void 0,d=r;var j=o,W=S;try{W()}catch(ee){at(d,j,ee)}}}u=u.next}while(u!==p)}}catch(ee){at(r,r.return,ee)}}function K_(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{L0(r,o)}catch(u){at(s,s.return,u)}}}function $_(s,r,o){o.props=Ua(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(u){at(s,r,u)}}function Nu(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof o=="function"?s.refCleanup=o(u):o.current=u}}catch(d){at(s,r,d)}}function oi(s,r){var o=s.ref,u=s.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){at(s,r,d)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){at(s,r,d)}else o.current=null}function Q_(s){var r=s.type,o=s.memoizedProps,u=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){at(s,s.return,d)}}function $m(s,r,o){try{var u=s.stateNode;C2(u,s.type,o,r),u[sn]=r}catch(d){at(s,s.return,d)}}function X_(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&jr(s.type)||s.tag===4}function Qm(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||X_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&jr(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Xm(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ds));else if(u!==4&&(u===27&&jr(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(Xm(s,r,o),s=s.sibling;s!==null;)Xm(s,r,o),s=s.sibling}function Hh(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(u!==4&&(u===27&&jr(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(Hh(s,r,o),s=s.sibling;s!==null;)Hh(s,r,o),s=s.sibling}function Z_(s){var r=s.stateNode,o=s.memoizedProps;try{for(var u=s.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);dn(r,u,o),r[Bt]=s,r[sn]=o}catch(p){at(s,s.return,p)}}var Ui=!1,Yt=!1,Zm=!1,J_=typeof WeakSet=="function"?WeakSet:Set,an=null;function a2(s,r){if(s=s.containerInfo,_p=hf,s=h0(s),Gd(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var b=0,S=-1,j=-1,W=0,ee=0,ie=s,$=null;t:for(;;){for(var Z;ie!==o||d!==0&&ie.nodeType!==3||(S=b+d),ie!==p||u!==0&&ie.nodeType!==3||(j=b+u),ie.nodeType===3&&(b+=ie.nodeValue.length),(Z=ie.firstChild)!==null;)$=ie,ie=Z;for(;;){if(ie===s)break t;if($===o&&++W===d&&(S=b),$===p&&++ee===u&&(j=b),(Z=ie.nextSibling)!==null)break;ie=$,$=ie.parentNode}ie=Z}o=S===-1||j===-1?null:{start:S,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(Tp={focusedElem:s,selectionRange:o},hf=!1,an=r;an!==null;)if(r=an,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,an=s;else for(;an!==null;){switch(r=an,p=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)d=s[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,o=r,d=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var me=Ua(o.type,d);s=u.getSnapshotBeforeUpdate(me,p),u.__reactInternalSnapshotBeforeUpdate=s}catch(we){at(o,o.return,we)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)wp(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":wp(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,an=s;break}an=r.return}}function eT(s,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:zi(s,o),u&4&&Du(5,o);break;case 1:if(zi(s,o),u&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(b){at(o,o.return,b)}else{var d=Ua(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(d,r,s.__reactInternalSnapshotBeforeUpdate)}catch(b){at(o,o.return,b)}}u&64&&K_(o),u&512&&Nu(o,o.return);break;case 3:if(zi(s,o),u&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{L0(s,r)}catch(b){at(o,o.return,b)}}break;case 27:r===null&&u&4&&Z_(o);case 26:case 5:zi(s,o),r===null&&u&4&&Q_(o),u&512&&Nu(o,o.return);break;case 12:zi(s,o);break;case 31:zi(s,o),u&4&&sT(s,o);break;case 13:zi(s,o),u&4&&iT(s,o),u&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=p2.bind(null,o),V2(s,o))));break;case 22:if(u=o.memoizedState!==null||Ui,!u){r=r!==null&&r.memoizedState!==null||Yt,d=Ui;var p=Yt;Ui=u,(Yt=r)&&!p?Fi(s,o,(o.subtreeFlags&8772)!==0):zi(s,o),Ui=d,Yt=p}break;case 30:break;default:zi(s,o)}}function tT(s){var r=s.alternate;r!==null&&(s.alternate=null,tT(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&_o(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var bt=null,On=!1;function Bi(s,r,o){for(o=o.child;o!==null;)nT(s,r,o),o=o.sibling}function nT(s,r,o){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Bn,o)}catch{}switch(o.tag){case 26:Yt||oi(o,r),Bi(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Yt||oi(o,r);var u=bt,d=On;jr(o.type)&&(bt=o.stateNode,On=!1),Bi(s,r,o),Lu(o.stateNode),bt=u,On=d;break;case 5:Yt||oi(o,r);case 6:if(u=bt,d=On,bt=null,Bi(s,r,o),bt=u,On=d,bt!==null)if(On)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(o.stateNode)}catch(p){at(o,r,p)}else try{bt.removeChild(o.stateNode)}catch(p){at(o,r,p)}break;case 18:bt!==null&&(On?(s=bt,KT(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),sl(s)):KT(bt,o.stateNode));break;case 4:u=bt,d=On,bt=o.stateNode.containerInfo,On=!0,Bi(s,r,o),bt=u,On=d;break;case 0:case 11:case 14:case 15:Mr(2,o,r),Yt||Mr(4,o,r),Bi(s,r,o);break;case 1:Yt||(oi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&$_(o,r,u)),Bi(s,r,o);break;case 21:Bi(s,r,o);break;case 22:Yt=(u=Yt)||o.memoizedState!==null,Bi(s,r,o),Yt=u;break;default:Bi(s,r,o)}}function sT(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{sl(s)}catch(o){at(r,r.return,o)}}}function iT(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{sl(s)}catch(o){at(r,r.return,o)}}function o2(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new J_),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new J_),r;default:throw Error(i(435,s.tag))}}function qh(s,r){var o=o2(s);r.forEach(function(u){if(!o.has(u)){o.add(u);var d=g2.bind(null,s,u);u.then(d,d)}})}function kn(s,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],p=s,b=r,S=b;e:for(;S!==null;){switch(S.tag){case 27:if(jr(S.type)){bt=S.stateNode,On=!1;break e}break;case 5:bt=S.stateNode,On=!1;break e;case 3:case 4:bt=S.stateNode.containerInfo,On=!0;break e}S=S.return}if(bt===null)throw Error(i(160));nT(p,b,d),bt=null,On=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)rT(r,s),r=r.sibling}var ks=null;function rT(s,r){var o=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:kn(r,s),Vn(s),u&4&&(Mr(3,s,s.return),Du(3,s),Mr(5,s,s.return));break;case 1:kn(r,s),Vn(s),u&512&&(Yt||o===null||oi(o,o.return)),u&64&&Ui&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=ks;if(kn(r,s),Vn(s),u&512&&(Yt||o===null||oi(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=s.memoizedState,o===null)if(u===null)if(s.stateNode===null){e:{u=s.type,o=s.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":p=d.getElementsByTagName("title")[0],(!p||p[Ws]||p[Bt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(u),d.head.insertBefore(p,d.querySelector("head > title"))),dn(p,u,o),p[Bt]=s,zt(p),u=p;break e;case"link":var b=rb("link","href",d).get(u+(o.href||""));if(b){for(var S=0;S<b.length;S++)if(p=b[S],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(S,1);break t}}p=d.createElement(u),dn(p,u,o),d.head.appendChild(p);break;case"meta":if(b=rb("meta","content",d).get(u+(o.content||""))){for(S=0;S<b.length;S++)if(p=b[S],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(S,1);break t}}p=d.createElement(u),dn(p,u,o),d.head.appendChild(p);break;default:throw Error(i(468,u))}p[Bt]=s,zt(p),u=p}s.stateNode=u}else ab(d,s.type,s.stateNode);else s.stateNode=ib(d,u,s.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?ab(d,s.type,s.stateNode):ib(d,u,s.memoizedProps)):u===null&&s.stateNode!==null&&$m(s,s.memoizedProps,o.memoizedProps)}break;case 27:kn(r,s),Vn(s),u&512&&(Yt||o===null||oi(o,o.return)),o!==null&&u&4&&$m(s,s.memoizedProps,o.memoizedProps);break;case 5:if(kn(r,s),Vn(s),u&512&&(Yt||o===null||oi(o,o.return)),s.flags&32){d=s.stateNode;try{In(d,"")}catch(me){at(s,s.return,me)}}u&4&&s.stateNode!=null&&(d=s.memoizedProps,$m(s,d,o!==null?o.memoizedProps:d)),u&1024&&(Zm=!0);break;case 6:if(kn(r,s),Vn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,o=s.stateNode;try{o.nodeValue=u}catch(me){at(s,s.return,me)}}break;case 3:if(of=null,d=ks,ks=rf(r.containerInfo),kn(r,s),ks=d,Vn(s),u&4&&o!==null&&o.memoizedState.isDehydrated)try{sl(r.containerInfo)}catch(me){at(s,s.return,me)}Zm&&(Zm=!1,aT(s));break;case 4:u=ks,ks=rf(s.stateNode.containerInfo),kn(r,s),Vn(s),ks=u;break;case 12:kn(r,s),Vn(s);break;case 31:kn(r,s),Vn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,qh(s,u)));break;case 13:kn(r,s),Vn(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Yh=Qt()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,qh(s,u)));break;case 22:d=s.memoizedState!==null;var j=o!==null&&o.memoizedState!==null,W=Ui,ee=Yt;if(Ui=W||d,Yt=ee||j,kn(r,s),Yt=ee,Ui=W,Vn(s),u&8192)e:for(r=s.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||j||Ui||Yt||Ba(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){j=o=r;try{if(p=j.stateNode,d)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=j.stateNode;var ie=j.memoizedProps.style,$=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;S.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(me){at(j,j.return,me)}}}else if(r.tag===6){if(o===null){j=r;try{j.stateNode.nodeValue=d?"":j.memoizedProps}catch(me){at(j,j.return,me)}}}else if(r.tag===18){if(o===null){j=r;try{var Z=j.stateNode;d?$T(Z,!0):$T(j.stateNode,!1)}catch(me){at(j,j.return,me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,qh(s,o))));break;case 19:kn(r,s),Vn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,qh(s,u)));break;case 30:break;case 21:break;default:kn(r,s),Vn(s)}}function Vn(s){var r=s.flags;if(r&2){try{for(var o,u=s.return;u!==null;){if(X_(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var d=o.stateNode,p=Qm(s);Hh(s,p,d);break;case 5:var b=o.stateNode;o.flags&32&&(In(b,""),o.flags&=-33);var S=Qm(s);Hh(s,S,b);break;case 3:case 4:var j=o.stateNode.containerInfo,W=Qm(s);Xm(s,W,j);break;default:throw Error(i(161))}}catch(ee){at(s,s.return,ee)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function aT(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;aT(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function zi(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)eT(s,r.alternate,r),r=r.sibling}function Ba(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Mr(4,r,r.return),Ba(r);break;case 1:oi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&$_(r,r.return,o),Ba(r);break;case 27:Lu(r.stateNode);case 26:case 5:oi(r,r.return),Ba(r);break;case 22:r.memoizedState===null&&Ba(r);break;case 30:Ba(r);break;default:Ba(r)}s=s.sibling}}function Fi(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,d=s,p=r,b=p.flags;switch(p.tag){case 0:case 11:case 15:Fi(d,p,o),Du(4,p);break;case 1:if(Fi(d,p,o),u=p,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(W){at(u,u.return,W)}if(u=p,d=u.updateQueue,d!==null){var S=u.stateNode;try{var j=d.shared.hiddenCallbacks;if(j!==null)for(d.shared.hiddenCallbacks=null,d=0;d<j.length;d++)j0(j[d],S)}catch(W){at(u,u.return,W)}}o&&b&64&&K_(p),Nu(p,p.return);break;case 27:Z_(p);case 26:case 5:Fi(d,p,o),o&&u===null&&b&4&&Q_(p),Nu(p,p.return);break;case 12:Fi(d,p,o);break;case 31:Fi(d,p,o),o&&b&4&&sT(d,p);break;case 13:Fi(d,p,o),o&&b&4&&iT(d,p);break;case 22:p.memoizedState===null&&Fi(d,p,o),Nu(p,p.return);break;case 30:break;default:Fi(d,p,o)}r=r.sibling}}function Jm(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&pu(o))}function ep(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&pu(s))}function Vs(s,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)oT(s,r,o,u),r=r.sibling}function oT(s,r,o,u){var d=r.flags;switch(r.tag){case 0:case 11:case 15:Vs(s,r,o,u),d&2048&&Du(9,r);break;case 1:Vs(s,r,o,u);break;case 3:Vs(s,r,o,u),d&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&pu(s)));break;case 12:if(d&2048){Vs(s,r,o,u),s=r.stateNode;try{var p=r.memoizedProps,b=p.id,S=p.onPostCommit;typeof S=="function"&&S(b,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(j){at(r,r.return,j)}}else Vs(s,r,o,u);break;case 31:Vs(s,r,o,u);break;case 13:Vs(s,r,o,u);break;case 23:break;case 22:p=r.stateNode,b=r.alternate,r.memoizedState!==null?p._visibility&2?Vs(s,r,o,u):Mu(s,r):p._visibility&2?Vs(s,r,o,u):(p._visibility|=2,Yo(s,r,o,u,(r.subtreeFlags&10256)!==0||!1)),d&2048&&Jm(b,r);break;case 24:Vs(s,r,o,u),d&2048&&ep(r.alternate,r);break;default:Vs(s,r,o,u)}}function Yo(s,r,o,u,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=s,b=r,S=o,j=u,W=b.flags;switch(b.tag){case 0:case 11:case 15:Yo(p,b,S,j,d),Du(8,b);break;case 23:break;case 22:var ee=b.stateNode;b.memoizedState!==null?ee._visibility&2?Yo(p,b,S,j,d):Mu(p,b):(ee._visibility|=2,Yo(p,b,S,j,d)),d&&W&2048&&Jm(b.alternate,b);break;case 24:Yo(p,b,S,j,d),d&&W&2048&&ep(b.alternate,b);break;default:Yo(p,b,S,j,d)}r=r.sibling}}function Mu(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,u=r,d=u.flags;switch(u.tag){case 22:Mu(o,u),d&2048&&Jm(u.alternate,u);break;case 24:Mu(o,u),d&2048&&ep(u.alternate,u);break;default:Mu(o,u)}r=r.sibling}}var Ru=8192;function Wo(s,r,o){if(s.subtreeFlags&Ru)for(s=s.child;s!==null;)lT(s,r,o),s=s.sibling}function lT(s,r,o){switch(s.tag){case 26:Wo(s,r,o),s.flags&Ru&&s.memoizedState!==null&&W2(o,ks,s.memoizedState,s.memoizedProps);break;case 5:Wo(s,r,o);break;case 3:case 4:var u=ks;ks=rf(s.stateNode.containerInfo),Wo(s,r,o),ks=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=Ru,Ru=16777216,Wo(s,r,o),Ru=u):Wo(s,r,o));break;default:Wo(s,r,o)}}function uT(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Iu(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];an=u,hT(u,s)}uT(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)cT(s),s=s.sibling}function cT(s){switch(s.tag){case 0:case 11:case 15:Iu(s),s.flags&2048&&Mr(9,s,s.return);break;case 3:Iu(s);break;case 12:Iu(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Gh(s)):Iu(s);break;default:Iu(s)}}function Gh(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];an=u,hT(u,s)}uT(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Mr(8,r,r.return),Gh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Gh(r));break;default:Gh(r)}s=s.sibling}}function hT(s,r){for(;an!==null;){var o=an;switch(o.tag){case 0:case 11:case 15:Mr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:pu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,an=u;else e:for(o=s;an!==null;){u=an;var d=u.sibling,p=u.return;if(tT(u),u===o){an=null;break e}if(d!==null){d.return=p,an=d;break e}an=p}}}var l2={getCacheForType:function(s){var r=hn(Ht),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o},cacheSignal:function(){return hn(Ht).controller.signal}},u2=typeof WeakMap=="function"?WeakMap:Map,nt=0,pt=null,He=null,Ye=0,rt=0,Kn=null,Rr=!1,Ko=!1,tp=!1,Hi=0,Mt=0,Ir=0,za=0,np=0,$n=0,$o=0,Ou=null,Pn=null,sp=!1,Yh=0,fT=0,Wh=1/0,Kh=null,Or=null,Zt=0,kr=null,Qo=null,qi=0,ip=0,rp=null,dT=null,ku=0,ap=null;function Qn(){return(nt&2)!==0&&Ye!==0?Ye&-Ye:J.T!==null?fp():$c()}function mT(){if($n===0)if((Ye&536870912)===0||Xe){var s=Se;Se<<=1,(Se&3932160)===0&&(Se=262144),$n=s}else $n=536870912;return s=Yn.current,s!==null&&(s.flags|=32),$n}function jn(s,r,o){(s===pt&&(rt===2||rt===9)||s.cancelPendingCommit!==null)&&(Xo(s,0),Vr(s,Ye,$n,!1)),As(s,o),((nt&2)===0||s!==pt)&&(s===pt&&((nt&2)===0&&(za|=o),Mt===4&&Vr(s,Ye,$n,!1)),li(s))}function pT(s,r,o){if((nt&6)!==0)throw Error(i(327));var u=!o&&(r&127)===0&&(r&s.expiredLanes)===0||zn(s,r),d=u?f2(s,r):lp(s,r,!0),p=u;do{if(d===0){Ko&&!u&&Vr(s,r,0,!1);break}else{if(o=s.current.alternate,p&&!c2(o)){d=lp(s,r,!1),p=!1;continue}if(d===2){if(p=r,s.errorRecoveryDisabledLanes&p)var b=0;else b=s.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var S=s;d=Ou;var j=S.current.memoizedState.isDehydrated;if(j&&(Xo(S,b).flags|=256),b=lp(S,b,!1),b!==2){if(tp&&!j){S.errorRecoveryDisabledLanes|=p,za|=p,d=4;break e}p=Pn,Pn=d,p!==null&&(Pn===null?Pn=p:Pn.push.apply(Pn,p))}d=b}if(p=!1,d!==2)continue}}if(d===1){Xo(s,0),Vr(s,r,0,!0);break}e:{switch(u=s,p=d,p){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Vr(u,r,$n,!Rr);break e;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(d=Yh+300-Qt(),10<d)){if(Vr(u,r,$n,!Rr),Re(u,0,!0)!==0)break e;qi=r,u.timeoutHandle=YT(gT.bind(null,u,o,Pn,Kh,sp,r,$n,za,$o,Rr,p,"Throttled",-0,0),d);break e}gT(u,o,Pn,Kh,sp,r,$n,za,$o,Rr,p,null,-0,0)}}break}while(!0);li(s)}function gT(s,r,o,u,d,p,b,S,j,W,ee,ie,$,Z){if(s.timeoutHandle=-1,ie=r.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ds},lT(r,p,ie);var me=(p&62914560)===p?Yh-Qt():(p&4194048)===p?fT-Qt():0;if(me=K2(ie,me),me!==null){qi=p,s.cancelPendingCommit=me(ST.bind(null,s,r,p,o,u,d,b,S,j,ee,ie,null,$,Z)),Vr(s,p,b,!W);return}}ST(s,r,p,o,u,d,b,S,j)}function c2(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],p=d.getSnapshot;d=d.value;try{if(!qn(p(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Vr(s,r,o,u){r&=~np,r&=~za,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var d=r;0<d;){var p=31-wt(d),b=1<<p;u[p]=-1,d&=~b}o!==0&&ga(s,o,r)}function $h(){return(nt&6)===0?(Vu(0),!1):!0}function op(){if(He!==null){if(rt===0)var s=He.return;else s=He,Oi=Ia=null,wm(s),zo=null,yu=0,s=He;for(;s!==null;)W_(s.alternate,s),s=s.return;He=null}}function Xo(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,M2(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),qi=0,op(),pt=s,He=o=Ri(s.current,null),Ye=r,rt=0,Kn=null,Rr=!1,Ko=zn(s,r),tp=!1,$o=$n=np=za=Ir=Mt=0,Pn=Ou=null,sp=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var d=31-wt(u),p=1<<d;r|=s[d],u&=~p}return Hi=r,gh(),o}function yT(s,r){je=null,J.H=Au,r===Bo||r===Sh?(r=O0(),rt=3):r===hm?(r=O0(),rt=4):rt=r===Um?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Kn=r,He===null&&(Mt=1,Lh(s,cs(r,s.current)))}function vT(){var s=Yn.current;return s===null?!0:(Ye&4194048)===Ye?ms===null:(Ye&62914560)===Ye||(Ye&536870912)!==0?s===ms:!1}function _T(){var s=J.H;return J.H=Au,s===null?Au:s}function TT(){var s=J.A;return J.A=l2,s}function Qh(){Mt=4,Rr||(Ye&4194048)!==Ye&&Yn.current!==null||(Ko=!0),(Ir&134217727)===0&&(za&134217727)===0||pt===null||Vr(pt,Ye,$n,!1)}function lp(s,r,o){var u=nt;nt|=2;var d=_T(),p=TT();(pt!==s||Ye!==r)&&(Kh=null,Xo(s,r)),r=!1;var b=Mt;e:do try{if(rt!==0&&He!==null){var S=He,j=Kn;switch(rt){case 8:op(),b=6;break e;case 3:case 2:case 9:case 6:Yn.current===null&&(r=!0);var W=rt;if(rt=0,Kn=null,Zo(s,S,j,W),o&&Ko){b=0;break e}break;default:W=rt,rt=0,Kn=null,Zo(s,S,j,W)}}h2(),b=Mt;break}catch(ee){yT(s,ee)}while(!0);return r&&s.shellSuspendCounter++,Oi=Ia=null,nt=u,J.H=d,J.A=p,He===null&&(pt=null,Ye=0,gh()),b}function h2(){for(;He!==null;)bT(He)}function f2(s,r){var o=nt;nt|=2;var u=_T(),d=TT();pt!==s||Ye!==r?(Kh=null,Wh=Qt()+500,Xo(s,r)):Ko=zn(s,r);e:do try{if(rt!==0&&He!==null){r=He;var p=Kn;t:switch(rt){case 1:rt=0,Kn=null,Zo(s,r,p,1);break;case 2:case 9:if(R0(p)){rt=0,Kn=null,ET(r);break}r=function(){rt!==2&&rt!==9||pt!==s||(rt=7),li(s)},p.then(r,r);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:R0(p)?(rt=0,Kn=null,ET(r)):(rt=0,Kn=null,Zo(s,r,p,7));break;case 5:var b=null;switch(He.tag){case 26:b=He.memoizedState;case 5:case 27:var S=He;if(b?ob(b):S.stateNode.complete){rt=0,Kn=null;var j=S.sibling;if(j!==null)He=j;else{var W=S.return;W!==null?(He=W,Xh(W)):He=null}break t}}rt=0,Kn=null,Zo(s,r,p,5);break;case 6:rt=0,Kn=null,Zo(s,r,p,6);break;case 8:op(),Mt=6;break e;default:throw Error(i(462))}}d2();break}catch(ee){yT(s,ee)}while(!0);return Oi=Ia=null,J.H=u,J.A=d,nt=o,He!==null?0:(pt=null,Ye=0,gh(),Mt)}function d2(){for(;He!==null&&!Hl();)bT(He)}function bT(s){var r=G_(s.alternate,s,Hi);s.memoizedProps=s.pendingProps,r===null?Xh(s):He=r}function ET(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=U_(o,r,r.pendingProps,r.type,void 0,Ye);break;case 11:r=U_(o,r,r.pendingProps,r.type.render,r.ref,Ye);break;case 5:wm(r);default:W_(o,r),r=He=T0(r,Hi),r=G_(o,r,Hi)}s.memoizedProps=s.pendingProps,r===null?Xh(s):He=r}function Zo(s,r,o,u){Oi=Ia=null,wm(r),zo=null,yu=0;var d=r.return;try{if(t2(s,d,r,o,Ye)){Mt=1,Lh(s,cs(o,s.current)),He=null;return}}catch(p){if(d!==null)throw He=d,p;Mt=1,Lh(s,cs(o,s.current)),He=null;return}r.flags&32768?(Xe||u===1?s=!0:Ko||(Ye&536870912)!==0?s=!1:(Rr=s=!0,(u===2||u===9||u===3||u===6)&&(u=Yn.current,u!==null&&u.tag===13&&(u.flags|=16384))),wT(r,s)):Xh(r)}function Xh(s){var r=s;do{if((r.flags&32768)!==0){wT(r,Rr);return}s=r.return;var o=i2(r.alternate,r,Hi);if(o!==null){He=o;return}if(r=r.sibling,r!==null){He=r;return}He=r=s}while(r!==null);Mt===0&&(Mt=5)}function wT(s,r){do{var o=r2(s.alternate,s);if(o!==null){o.flags&=32767,He=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){He=s;return}He=s=o}while(s!==null);Mt=6,He=null}function ST(s,r,o,u,d,p,b,S,j){s.cancelPendingCommit=null;do Zh();while(Zt!==0);if((nt&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(p=r.lanes|r.childLanes,p|=Qd,zd(s,o,p,b,S,j),s===pt&&(He=pt=null,Ye=0),Qo=r,kr=s,qi=o,ip=p,rp=d,dT=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,y2(Gs,function(){return NT(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=J.T,J.T=null,d=oe.p,oe.p=2,b=nt,nt|=4;try{a2(s,r,o)}finally{nt=b,oe.p=d,J.T=u}}Zt=1,AT(),xT(),CT()}}function AT(){if(Zt===1){Zt=0;var s=kr,r=Qo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=J.T,J.T=null;var u=oe.p;oe.p=2;var d=nt;nt|=4;try{rT(r,s);var p=Tp,b=h0(s.containerInfo),S=p.focusedElem,j=p.selectionRange;if(b!==S&&S&&S.ownerDocument&&c0(S.ownerDocument.documentElement,S)){if(j!==null&&Gd(S)){var W=j.start,ee=j.end;if(ee===void 0&&(ee=W),"selectionStart"in S)S.selectionStart=W,S.selectionEnd=Math.min(ee,S.value.length);else{var ie=S.ownerDocument||document,$=ie&&ie.defaultView||window;if($.getSelection){var Z=$.getSelection(),me=S.textContent.length,we=Math.min(j.start,me),ft=j.end===void 0?we:Math.min(j.end,me);!Z.extend&&we>ft&&(b=ft,ft=we,we=b);var H=u0(S,we),U=u0(S,ft);if(H&&U&&(Z.rangeCount!==1||Z.anchorNode!==H.node||Z.anchorOffset!==H.offset||Z.focusNode!==U.node||Z.focusOffset!==U.offset)){var Y=ie.createRange();Y.setStart(H.node,H.offset),Z.removeAllRanges(),we>ft?(Z.addRange(Y),Z.extend(U.node,U.offset)):(Y.setEnd(U.node,U.offset),Z.addRange(Y))}}}}for(ie=[],Z=S;Z=Z.parentNode;)Z.nodeType===1&&ie.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ie.length;S++){var ne=ie[S];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}hf=!!_p,Tp=_p=null}finally{nt=d,oe.p=u,J.T=o}}s.current=r,Zt=2}}function xT(){if(Zt===2){Zt=0;var s=kr,r=Qo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=J.T,J.T=null;var u=oe.p;oe.p=2;var d=nt;nt|=4;try{eT(s,r.alternate,r)}finally{nt=d,oe.p=u,J.T=o}}Zt=3}}function CT(){if(Zt===4||Zt===3){Zt=0,fa();var s=kr,r=Qo,o=qi,u=dT;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Zt=5:(Zt=0,Qo=kr=null,DT(s,s.pendingLanes));var d=s.pendingLanes;if(d===0&&(Or=null),Ci(o),r=r.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Bn,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=J.T,d=oe.p,oe.p=2,J.T=null;try{for(var p=s.onRecoverableError,b=0;b<u.length;b++){var S=u[b];p(S.value,{componentStack:S.stack})}}finally{J.T=r,oe.p=d}}(qi&3)!==0&&Zh(),li(s),d=s.pendingLanes,(o&261930)!==0&&(d&42)!==0?s===ap?ku++:(ku=0,ap=s):ku=0,Vu(0)}}function DT(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,pu(r)))}function Zh(){return AT(),xT(),CT(),NT()}function NT(){if(Zt!==5)return!1;var s=kr,r=ip;ip=0;var o=Ci(qi),u=J.T,d=oe.p;try{oe.p=32>o?32:o,J.T=null,o=rp,rp=null;var p=kr,b=qi;if(Zt=0,Qo=kr=null,qi=0,(nt&6)!==0)throw Error(i(331));var S=nt;if(nt|=4,cT(p.current),oT(p,p.current,b,o),nt=S,Vu(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Bn,p)}catch{}return!0}finally{oe.p=d,J.T=u,DT(s,r)}}function MT(s,r,o){r=cs(o,r),r=Lm(s.stateNode,r,2),s=Cr(s,r,2),s!==null&&(As(s,2),li(s))}function at(s,r,o){if(s.tag===3)MT(s,s,o);else for(;r!==null;){if(r.tag===3){MT(r,s,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Or===null||!Or.has(u))){s=cs(o,s),o=R_(2),u=Cr(r,o,2),u!==null&&(I_(o,u,r,s),As(u,2),li(u));break}}r=r.return}}function up(s,r,o){var u=s.pingCache;if(u===null){u=s.pingCache=new u2;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(o)||(tp=!0,d.add(o),s=m2.bind(null,s,r,o),r.then(s,s))}function m2(s,r,o){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,pt===s&&(Ye&o)===o&&(Mt===4||Mt===3&&(Ye&62914560)===Ye&&300>Qt()-Yh?(nt&2)===0&&Xo(s,0):np|=o,$o===Ye&&($o=0)),li(s)}function RT(s,r){r===0&&(r=yo()),s=Na(s,r),s!==null&&(As(s,r),li(s))}function p2(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),RT(s,o)}function g2(s,r){var o=0;switch(s.tag){case 31:case 13:var u=s.stateNode,d=s.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),RT(s,o)}function y2(s,r){return Ot(s,r)}var Jh=null,Jo=null,cp=!1,ef=!1,hp=!1,Pr=0;function li(s){s!==Jo&&s.next===null&&(Jo===null?Jh=Jo=s:Jo=Jo.next=s),ef=!0,cp||(cp=!0,_2())}function Vu(s,r){if(!hp&&ef){hp=!0;do for(var o=!1,u=Jh;u!==null;){if(s!==0){var d=u.pendingLanes;if(d===0)var p=0;else{var b=u.suspendedLanes,S=u.pingedLanes;p=(1<<31-wt(42|s)+1)-1,p&=d&~(b&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,VT(u,p))}else p=Ye,p=Re(u,u===pt?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||zn(u,p)||(o=!0,VT(u,p));u=u.next}while(o);hp=!1}}function v2(){IT()}function IT(){ef=cp=!1;var s=0;Pr!==0&&N2()&&(s=Pr);for(var r=Qt(),o=null,u=Jh;u!==null;){var d=u.next,p=OT(u,r);p===0?(u.next=null,o===null?Jh=d:o.next=d,d===null&&(Jo=o)):(o=u,(s!==0||(p&3)!==0)&&(ef=!0)),u=d}Zt!==0&&Zt!==5||Vu(s),Pr!==0&&(Pr=0)}function OT(s,r){for(var o=s.suspendedLanes,u=s.pingedLanes,d=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var b=31-wt(p),S=1<<b,j=d[b];j===-1?((S&o)===0||(S&u)!==0)&&(d[b]=Gl(S,r)):j<=r&&(s.expiredLanes|=S),p&=~S}if(r=pt,o=Ye,o=Re(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,o===0||s===r&&(rt===2||rt===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&qs(u),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||zn(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(u!==null&&qs(u),Ci(o)){case 2:case 8:o=ma;break;case 32:o=Gs;break;case 268435456:o=mo;break;default:o=Gs}return u=kT.bind(null,s),o=Ot(o,u),s.callbackPriority=r,s.callbackNode=o,r}return u!==null&&u!==null&&qs(u),s.callbackPriority=2,s.callbackNode=null,2}function kT(s,r){if(Zt!==0&&Zt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(Zh()&&s.callbackNode!==o)return null;var u=Ye;return u=Re(s,s===pt?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(pT(s,u,r),OT(s,Qt()),s.callbackNode!=null&&s.callbackNode===o?kT.bind(null,s):null)}function VT(s,r){if(Zh())return null;pT(s,r,!0)}function _2(){R2(function(){(nt&6)!==0?Ot(da,v2):IT()})}function fp(){if(Pr===0){var s=Lo;s===0&&(s=Le,Le<<=1,(Le&261888)===0&&(Le=256)),Pr=s}return Pr}function PT(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:wo(""+s)}function jT(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function T2(s,r,o,u,d){if(r==="submit"&&o&&o.stateNode===d){var p=PT((d[sn]||null).action),b=u.submitter;b&&(r=(r=b[sn]||null)?PT(r.formAction):b.getAttribute("formAction"),r!==null&&(p=r,b=null));var S=new ti("action","action",null,u,d);s.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Pr!==0){var j=b?jT(d,b):new FormData(d);Im(o,{pending:!0,data:j,method:d.method,action:p},null,j)}}else typeof p=="function"&&(S.preventDefault(),j=b?jT(d,b):new FormData(d),Im(o,{pending:!0,data:j,method:d.method,action:p},p,j))},currentTarget:d}]})}}for(var dp=0;dp<$d.length;dp++){var mp=$d[dp],b2=mp.toLowerCase(),E2=mp[0].toUpperCase()+mp.slice(1);Os(b2,"on"+E2)}Os(m0,"onAnimationEnd"),Os(p0,"onAnimationIteration"),Os(g0,"onAnimationStart"),Os("dblclick","onDoubleClick"),Os("focusin","onFocus"),Os("focusout","onBlur"),Os(LD,"onTransitionRun"),Os(UD,"onTransitionStart"),Os(BD,"onTransitionCancel"),Os(y0,"onTransitionEnd"),Xs("onMouseEnter",["mouseout","mouseover"]),Xs("onMouseLeave",["mouseout","mouseover"]),Xs("onPointerEnter",["pointerout","pointerover"]),Xs("onPointerLeave",["pointerout","pointerover"]),Qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pu));function LT(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var u=s[o],d=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var b=u.length-1;0<=b;b--){var S=u[b],j=S.instance,W=S.currentTarget;if(S=S.listener,j!==p&&d.isPropagationStopped())break e;p=S,d.currentTarget=W;try{p(d)}catch(ee){ph(ee)}d.currentTarget=null,p=j}else for(b=0;b<u.length;b++){if(S=u[b],j=S.instance,W=S.currentTarget,S=S.listener,j!==p&&d.isPropagationStopped())break e;p=S,d.currentTarget=W;try{p(d)}catch(ee){ph(ee)}d.currentTarget=null,p=j}}}}function qe(s,r){var o=r[vo];o===void 0&&(o=r[vo]=new Set);var u=s+"__bubble";o.has(u)||(UT(r,s,2,!1),o.add(u))}function pp(s,r,o){var u=0;r&&(u|=4),UT(o,s,u,r)}var tf="_reactListening"+Math.random().toString(36).slice(2);function gp(s){if(!s[tf]){s[tf]=!0,Kl.forEach(function(o){o!=="selectionchange"&&(w2.has(o)||pp(o,!1,s),pp(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[tf]||(r[tf]=!0,pp("selectionchange",!1,r))}}function UT(s,r,o,u){switch(mb(r)){case 2:var d=X2;break;case 8:d=Z2;break;default:d=Rp}o=d.bind(null,r,o,s),d=void 0,!ba||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?s.addEventListener(r,o,{capture:!0,passive:d}):s.addEventListener(r,o,!0):d!==void 0?s.addEventListener(r,o,{passive:d}):s.addEventListener(r,o,!1)}function yp(s,r,o,u,d){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var S=u.stateNode.containerInfo;if(S===d)break;if(b===4)for(b=u.return;b!==null;){var j=b.tag;if((j===3||j===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;S!==null;){if(b=Ks(S),b===null)return;if(j=b.tag,j===5||j===6||j===26||j===27){u=p=b;continue e}S=S.parentNode}}u=u.return}yr(function(){var W=p,ee=as(o),ie=[];e:{var $=v0.get(s);if($!==void 0){var Z=ti,me=s;switch(s){case"keypress":if(wa(o)===0)break e;case"keydown":case"keyup":Z=fh;break;case"focusin":me="focus",Z=Aa;break;case"focusout":me="blur",Z=Aa;break;case"beforeblur":case"afterblur":Z=Aa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=ou;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=sh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=_;break;case m0:case p0:case g0:Z=rh;break;case y0:Z=C;break;case"scroll":case"scrollend":Z=au;break;case"wheel":Z=X;break;case"copy":case"cut":case"paste":Z=ah;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Mi;break;case"toggle":case"beforetoggle":Z=Pe}var we=(r&4)!==0,ft=!we&&(s==="scroll"||s==="scrollend"),H=we?$!==null?$+"Capture":null:$;we=[];for(var U=W,Y;U!==null;){var ne=U;if(Y=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||Y===null||H===null||(ne=Ns(U,H),ne!=null&&we.push(ju(U,ne,Y))),ft)break;U=U.return}0<we.length&&($=new Z($,me,null,o,ee),ie.push({event:$,listeners:we}))}}if((r&7)===0){e:{if($=s==="mouseover"||s==="pointerover",Z=s==="mouseout"||s==="pointerout",$&&o!==su&&(me=o.relatedTarget||o.fromElement)&&(Ks(me)||me[Ys]))break e;if((Z||$)&&($=ee.window===ee?ee:($=ee.ownerDocument)?$.defaultView||$.parentWindow:window,Z?(me=o.relatedTarget||o.toElement,Z=W,me=me?Ks(me):null,me!==null&&(ft=l(me),we=me.tag,me!==ft||we!==5&&we!==27&&we!==6)&&(me=null)):(Z=null,me=W),Z!==me)){if(we=ou,ne="onMouseLeave",H="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(we=Mi,ne="onPointerLeave",H="onPointerEnter",U="pointer"),ft=Z==null?$:Fn(Z),Y=me==null?$:Fn(me),$=new we(ne,U+"leave",Z,o,ee),$.target=ft,$.relatedTarget=Y,ne=null,Ks(ee)===W&&(we=new we(H,U+"enter",me,o,ee),we.target=Y,we.relatedTarget=ft,ne=we),ft=ne,Z&&me)t:{for(we=S2,H=Z,U=me,Y=0,ne=H;ne;ne=we(ne))Y++;ne=0;for(var _e=U;_e;_e=we(_e))ne++;for(;0<Y-ne;)H=we(H),Y--;for(;0<ne-Y;)U=we(U),ne--;for(;Y--;){if(H===U||U!==null&&H===U.alternate){we=H;break t}H=we(H),U=we(U)}we=null}else we=null;Z!==null&&BT(ie,$,Z,we,!1),me!==null&&ft!==null&&BT(ie,ft,me,we,!0)}}e:{if($=W?Fn(W):window,Z=$.nodeName&&$.nodeName.toLowerCase(),Z==="select"||Z==="input"&&$.type==="file")var Je=s0;else if(t0($))if(i0)Je=VD;else{Je=OD;var ge=ID}else Z=$.nodeName,!Z||Z.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?W&&Eo(W.elementType)&&(Je=s0):Je=kD;if(Je&&(Je=Je(s,W))){n0(ie,Je,o,ee);break e}ge&&ge(s,$,W),s==="focusout"&&W&&$.type==="number"&&W.memoizedProps.value!=null&&eu($,"number",$.value)}switch(ge=W?Fn(W):window,s){case"focusin":(t0(ge)||ge.contentEditable==="true")&&(Mo=ge,Yd=W,fu=null);break;case"focusout":fu=Yd=Mo=null;break;case"mousedown":Wd=!0;break;case"contextmenu":case"mouseup":case"dragend":Wd=!1,f0(ie,o,ee);break;case"selectionchange":if(jD)break;case"keydown":case"keyup":f0(ie,o,ee)}var Ue;if(tt)e:{switch(s){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else No?xa(s,o)&&(We="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(We="onCompositionStart");We&&(ii&&o.locale!=="ko"&&(No||We!=="onCompositionStart"?We==="onCompositionEnd"&&No&&(Ue=ru()):(ei=ee,iu="value"in ei?ei.value:ei.textContent,No=!0)),ge=nf(W,We),0<ge.length&&(We=new si(We,s,null,o,ee),ie.push({event:We,listeners:ge}),Ue?We.data=Ue:(Ue=Do(o),Ue!==null&&(We.data=Ue)))),(Ue=ls?DD(s,o):ND(s,o))&&(We=nf(W,"onBeforeInput"),0<We.length&&(ge=new si("onBeforeInput","beforeinput",null,o,ee),ie.push({event:ge,listeners:We}),ge.data=Ue)),T2(ie,s,W,o,ee)}LT(ie,r)})}function ju(s,r,o){return{instance:s,listener:r,currentTarget:o}}function nf(s,r){for(var o=r+"Capture",u=[];s!==null;){var d=s,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=Ns(s,o),d!=null&&u.unshift(ju(s,d,p)),d=Ns(s,r),d!=null&&u.push(ju(s,d,p))),s.tag===3)return u;s=s.return}return[]}function S2(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function BT(s,r,o,u,d){for(var p=r._reactName,b=[];o!==null&&o!==u;){var S=o,j=S.alternate,W=S.stateNode;if(S=S.tag,j!==null&&j===u)break;S!==5&&S!==26&&S!==27||W===null||(j=W,d?(W=Ns(o,p),W!=null&&b.unshift(ju(o,W,j))):d||(W=Ns(o,p),W!=null&&b.push(ju(o,W,j)))),o=o.return}b.length!==0&&s.push({event:r,listeners:b})}var A2=/\r\n?/g,x2=/\u0000|\uFFFD/g;function zT(s){return(typeof s=="string"?s:""+s).replace(A2,`
`).replace(x2,"")}function FT(s,r){return r=zT(r),zT(s)===r}function ht(s,r,o,u,d,p){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||In(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&In(s,""+u);break;case"className":Hn(s,"class",u);break;case"tabIndex":Hn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Hn(s,o,u);break;case"style":nu(s,u,p);break;case"data":if(r!=="object"){Hn(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=wo(""+u),s.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&ht(s,r,"name",d.name,d,null),ht(s,r,"formEncType",d.formEncType,d,null),ht(s,r,"formMethod",d.formMethod,d,null),ht(s,r,"formTarget",d.formTarget,d,null)):(ht(s,r,"encType",d.encType,d,null),ht(s,r,"method",d.method,d,null),ht(s,r,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=wo(""+u),s.setAttribute(o,u);break;case"onClick":u!=null&&(s.onclick=Ds);break;case"onScroll":u!=null&&qe("scroll",s);break;case"onScrollEnd":u!=null&&qe("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}o=wo(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""+u):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":u===!0?s.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,u):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(o,u):s.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(o):s.setAttribute(o,u);break;case"popover":qe("beforetoggle",s),qe("toggle",s),To(s,"popover",u);break;case"xlinkActuate":Ft(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ft(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ft(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ft(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ft(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ft(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ft(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ft(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ft(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":To(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=nh.get(o)||o,To(s,o,u))}}function vp(s,r,o,u,d,p){switch(o){case"style":nu(s,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof u=="string"?In(s,u):(typeof u=="number"||typeof u=="bigint")&&In(s,""+u);break;case"onScroll":u!=null&&qe("scroll",s);break;case"onScrollEnd":u!=null&&qe("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Ds);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$l.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),p=s[sn]||null,p=p!=null?p[o]:null,typeof p=="function"&&s.removeEventListener(r,p,d),typeof u=="function")){typeof p!="function"&&p!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,u,d);break e}o in s?s[o]=u:u===!0?s.setAttribute(o,""):To(s,o,u)}}}function dn(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",s),qe("load",s);var u=!1,d=!1,p;for(p in o)if(o.hasOwnProperty(p)){var b=o[p];if(b!=null)switch(p){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ht(s,r,p,b,o,null)}}d&&ht(s,r,"srcSet",o.srcSet,o,null),u&&ht(s,r,"src",o.src,o,null);return;case"input":qe("invalid",s);var S=p=b=d=null,j=null,W=null;for(u in o)if(o.hasOwnProperty(u)){var ee=o[u];if(ee!=null)switch(u){case"name":d=ee;break;case"type":b=ee;break;case"checked":j=ee;break;case"defaultChecked":W=ee;break;case"value":p=ee;break;case"defaultValue":S=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,r));break;default:ht(s,r,u,ee,o,null)}}Jc(s,p,S,j,W,b,d,!1);return;case"select":qe("invalid",s),u=b=p=null;for(d in o)if(o.hasOwnProperty(d)&&(S=o[d],S!=null))switch(d){case"value":p=S;break;case"defaultValue":b=S;break;case"multiple":u=S;default:ht(s,r,d,S,o,null)}r=p,o=b,s.multiple=!!u,r!=null?dr(s,!!u,r,!1):o!=null&&dr(s,!!u,o,!0);return;case"textarea":qe("invalid",s),p=d=u=null;for(b in o)if(o.hasOwnProperty(b)&&(S=o[b],S!=null))switch(b){case"value":u=S;break;case"defaultValue":d=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:ht(s,r,b,S,o,null)}mr(s,u,d,p);return;case"option":for(j in o)if(o.hasOwnProperty(j)&&(u=o[j],u!=null))switch(j){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ht(s,r,j,u,o,null)}return;case"dialog":qe("beforetoggle",s),qe("toggle",s),qe("cancel",s),qe("close",s);break;case"iframe":case"object":qe("load",s);break;case"video":case"audio":for(u=0;u<Pu.length;u++)qe(Pu[u],s);break;case"image":qe("error",s),qe("load",s);break;case"details":qe("toggle",s);break;case"embed":case"source":case"link":qe("error",s),qe("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(u=o[W],u!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ht(s,r,W,u,o,null)}return;default:if(Eo(r)){for(ee in o)o.hasOwnProperty(ee)&&(u=o[ee],u!==void 0&&vp(s,r,ee,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&ht(s,r,S,u,o,null))}function C2(s,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,b=null,S=null,j=null,W=null,ee=null;for(Z in o){var ie=o[Z];if(o.hasOwnProperty(Z)&&ie!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":j=ie;default:u.hasOwnProperty(Z)||ht(s,r,Z,null,u,ie)}}for(var $ in u){var Z=u[$];if(ie=o[$],u.hasOwnProperty($)&&(Z!=null||ie!=null))switch($){case"type":p=Z;break;case"name":d=Z;break;case"checked":W=Z;break;case"defaultChecked":ee=Z;break;case"value":b=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,r));break;default:Z!==ie&&ht(s,r,$,Z,u,ie)}}bo(s,b,S,j,W,ee,p,d);return;case"select":Z=b=S=$=null;for(p in o)if(j=o[p],o.hasOwnProperty(p)&&j!=null)switch(p){case"value":break;case"multiple":Z=j;default:u.hasOwnProperty(p)||ht(s,r,p,null,u,j)}for(d in u)if(p=u[d],j=o[d],u.hasOwnProperty(d)&&(p!=null||j!=null))switch(d){case"value":$=p;break;case"defaultValue":S=p;break;case"multiple":b=p;default:p!==j&&ht(s,r,d,p,u,j)}r=S,o=b,u=Z,$!=null?dr(s,!!o,$,!1):!!u!=!!o&&(r!=null?dr(s,!!o,r,!0):dr(s,!!o,o?[]:"",!1));return;case"textarea":Z=$=null;for(S in o)if(d=o[S],o.hasOwnProperty(S)&&d!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ht(s,r,S,null,u,d)}for(b in u)if(d=u[b],p=o[b],u.hasOwnProperty(b)&&(d!=null||p!=null))switch(b){case"value":$=d;break;case"defaultValue":Z=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==p&&ht(s,r,b,d,u,p)}eh(s,$,Z);return;case"option":for(var me in o)if($=o[me],o.hasOwnProperty(me)&&$!=null&&!u.hasOwnProperty(me))switch(me){case"selected":s.selected=!1;break;default:ht(s,r,me,null,u,$)}for(j in u)if($=u[j],Z=o[j],u.hasOwnProperty(j)&&$!==Z&&($!=null||Z!=null))switch(j){case"selected":s.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:ht(s,r,j,$,u,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in o)$=o[we],o.hasOwnProperty(we)&&$!=null&&!u.hasOwnProperty(we)&&ht(s,r,we,null,u,$);for(W in u)if($=u[W],Z=o[W],u.hasOwnProperty(W)&&$!==Z&&($!=null||Z!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,r));break;default:ht(s,r,W,$,u,Z)}return;default:if(Eo(r)){for(var ft in o)$=o[ft],o.hasOwnProperty(ft)&&$!==void 0&&!u.hasOwnProperty(ft)&&vp(s,r,ft,void 0,u,$);for(ee in u)$=u[ee],Z=o[ee],!u.hasOwnProperty(ee)||$===Z||$===void 0&&Z===void 0||vp(s,r,ee,$,u,Z);return}}for(var H in o)$=o[H],o.hasOwnProperty(H)&&$!=null&&!u.hasOwnProperty(H)&&ht(s,r,H,null,u,$);for(ie in u)$=u[ie],Z=o[ie],!u.hasOwnProperty(ie)||$===Z||$==null&&Z==null||ht(s,r,ie,$,u,Z)}function HT(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function D2(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var d=o[u],p=d.transferSize,b=d.initiatorType,S=d.duration;if(p&&S&&HT(b)){for(b=0,S=d.responseEnd,u+=1;u<o.length;u++){var j=o[u],W=j.startTime;if(W>S)break;var ee=j.transferSize,ie=j.initiatorType;ee&&HT(ie)&&(j=j.responseEnd,b+=ee*(j<S?1:(S-W)/(j-W)))}if(--u,r+=8*(p+b)/(d.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var _p=null,Tp=null;function sf(s){return s.nodeType===9?s:s.ownerDocument}function qT(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function GT(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function bp(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ep=null;function N2(){var s=window.event;return s&&s.type==="popstate"?s===Ep?!1:(Ep=s,!0):(Ep=null,!1)}var YT=typeof setTimeout=="function"?setTimeout:void 0,M2=typeof clearTimeout=="function"?clearTimeout:void 0,WT=typeof Promise=="function"?Promise:void 0,R2=typeof queueMicrotask=="function"?queueMicrotask:typeof WT<"u"?function(s){return WT.resolve(null).then(s).catch(I2)}:YT;function I2(s){setTimeout(function(){throw s})}function jr(s){return s==="head"}function KT(s,r){var o=r,u=0;do{var d=o.nextSibling;if(s.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(u===0){s.removeChild(d),sl(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Lu(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,Lu(o);for(var p=o.firstChild;p;){var b=p.nextSibling,S=p.nodeName;p[Ws]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=b}}else o==="body"&&Lu(s.ownerDocument.body);o=d}while(o);sl(r)}function $T(s,r){var o=s;s=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=u}while(o)}function wp(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":wp(o),_o(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function O2(s,r,o,u){for(;s.nodeType===1;){var d=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Ws])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==d.rel||s.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||s.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||s.getAttribute("title")!==(d.title==null?null:d.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(d.src==null?null:d.src)||s.getAttribute("type")!==(d.type==null?null:d.type)||s.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=ps(s.nextSibling),s===null)break}return null}function k2(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=ps(s.nextSibling),s===null))return null;return s}function QT(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=ps(s.nextSibling),s===null))return null;return s}function Sp(s){return s.data==="$?"||s.data==="$~"}function Ap(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function V2(s,r){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function ps(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var xp=null;function XT(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(r===0)return ps(s.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}s=s.nextSibling}return null}function ZT(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return s;r--}else o!=="/$"&&o!=="/&"||r++}s=s.previousSibling}return null}function JT(s,r,o){switch(r=sf(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Lu(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);_o(s)}var gs=new Map,eb=new Set;function rf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Gi=oe.d;oe.d={f:P2,r:j2,D:L2,C:U2,L:B2,m:z2,X:H2,S:F2,M:q2};function P2(){var s=Gi.f(),r=$h();return s||r}function j2(s){var r=rs(s);r!==null&&r.tag===5&&r.type==="form"?y_(r):Gi.r(s)}var el=typeof document>"u"?null:document;function tb(s,r,o){var u=el;if(u&&typeof r=="string"&&r){var d=Rn(r);d='link[rel="'+s+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),eb.has(d)||(eb.add(d),s={rel:s,crossOrigin:o,href:r},u.querySelector(d)===null&&(r=u.createElement("link"),dn(r,"link",s),zt(r),u.head.appendChild(r)))}}function L2(s){Gi.D(s),tb("dns-prefetch",s,null)}function U2(s,r){Gi.C(s,r),tb("preconnect",s,r)}function B2(s,r,o){Gi.L(s,r,o);var u=el;if(u&&s&&r){var d='link[rel="preload"][as="'+Rn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Rn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Rn(o.imageSizes)+'"]')):d+='[href="'+Rn(s)+'"]';var p=d;switch(r){case"style":p=tl(s);break;case"script":p=nl(s)}gs.has(p)||(s=T({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),gs.set(p,s),u.querySelector(d)!==null||r==="style"&&u.querySelector(Uu(p))||r==="script"&&u.querySelector(Bu(p))||(r=u.createElement("link"),dn(r,"link",s),zt(r),u.head.appendChild(r)))}}function z2(s,r){Gi.m(s,r);var o=el;if(o&&s){var u=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+Rn(u)+'"][href="'+Rn(s)+'"]',p=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=nl(s)}if(!gs.has(p)&&(s=T({rel:"modulepreload",href:s},r),gs.set(p,s),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Bu(p)))return}u=o.createElement("link"),dn(u,"link",s),zt(u),o.head.appendChild(u)}}}function F2(s,r,o){Gi.S(s,r,o);var u=el;if(u&&s){var d=$s(u).hoistableStyles,p=tl(s);r=r||"default";var b=d.get(p);if(!b){var S={loading:0,preload:null};if(b=u.querySelector(Uu(p)))S.loading=5;else{s=T({rel:"stylesheet",href:s,"data-precedence":r},o),(o=gs.get(p))&&Cp(s,o);var j=b=u.createElement("link");zt(j),dn(j,"link",s),j._p=new Promise(function(W,ee){j.onload=W,j.onerror=ee}),j.addEventListener("load",function(){S.loading|=1}),j.addEventListener("error",function(){S.loading|=2}),S.loading|=4,af(b,r,u)}b={type:"stylesheet",instance:b,count:1,state:S},d.set(p,b)}}}function H2(s,r){Gi.X(s,r);var o=el;if(o&&s){var u=$s(o).hoistableScripts,d=nl(s),p=u.get(d);p||(p=o.querySelector(Bu(d)),p||(s=T({src:s,async:!0},r),(r=gs.get(d))&&Dp(s,r),p=o.createElement("script"),zt(p),dn(p,"link",s),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function q2(s,r){Gi.M(s,r);var o=el;if(o&&s){var u=$s(o).hoistableScripts,d=nl(s),p=u.get(d);p||(p=o.querySelector(Bu(d)),p||(s=T({src:s,async:!0,type:"module"},r),(r=gs.get(d))&&Dp(s,r),p=o.createElement("script"),zt(p),dn(p,"link",s),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function nb(s,r,o,u){var d=(d=Oe.current)?rf(d):null;if(!d)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=tl(o.href),o=$s(d).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=tl(o.href);var p=$s(d).hoistableStyles,b=p.get(s);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,b),(p=d.querySelector(Uu(s)))&&!p._p&&(b.instance=p,b.state.loading=5),gs.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},gs.set(s,o),p||G2(d,s,o,b.state))),r&&u===null)throw Error(i(528,""));return b}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=nl(o),o=$s(d).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function tl(s){return'href="'+Rn(s)+'"'}function Uu(s){return'link[rel="stylesheet"]['+s+"]"}function sb(s){return T({},s,{"data-precedence":s.precedence,precedence:null})}function G2(s,r,o,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),dn(r,"link",o),zt(r),s.head.appendChild(r))}function nl(s){return'[src="'+Rn(s)+'"]'}function Bu(s){return"script[async]"+s}function ib(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+Rn(o.href)+'"]');if(u)return r.instance=u,zt(u),u;var d=T({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),zt(u),dn(u,"style",d),af(u,o.precedence,s),r.instance=u;case"stylesheet":d=tl(o.href);var p=s.querySelector(Uu(d));if(p)return r.state.loading|=4,r.instance=p,zt(p),p;u=sb(o),(d=gs.get(d))&&Cp(u,d),p=(s.ownerDocument||s).createElement("link"),zt(p);var b=p;return b._p=new Promise(function(S,j){b.onload=S,b.onerror=j}),dn(p,"link",u),r.state.loading|=4,af(p,o.precedence,s),r.instance=p;case"script":return p=nl(o.src),(d=s.querySelector(Bu(p)))?(r.instance=d,zt(d),d):(u=o,(d=gs.get(p))&&(u=T({},o),Dp(u,d)),s=s.ownerDocument||s,d=s.createElement("script"),zt(d),dn(d,"link",u),s.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,af(u,o.precedence,s));return r.instance}function af(s,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,p=d,b=0;b<u.length;b++){var S=u[b];if(S.dataset.precedence===r)p=S;else if(p!==d)break}p?p.parentNode.insertBefore(s,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function Cp(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Dp(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var of=null;function rb(s,r,o){if(of===null){var u=new Map,d=of=new Map;d.set(o,u)}else d=of,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(s))return u;for(u.set(s,null),o=o.getElementsByTagName(s),d=0;d<o.length;d++){var p=o[d];if(!(p[Ws]||p[Bt]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(r)||"";b=s+b;var S=u.get(b);S?S.push(p):u.set(b,[p])}}return u}function ab(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function Y2(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function ob(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function W2(s,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=tl(u.href),p=r.querySelector(Uu(d));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=lf.bind(s),r.then(s,s)),o.state.loading|=4,o.instance=p,zt(p);return}p=r.ownerDocument||r,u=sb(u),(d=gs.get(d))&&Cp(u,d),p=p.createElement("link"),zt(p);var b=p;b._p=new Promise(function(S,j){b.onload=S,b.onerror=j}),dn(p,"link",u),o.instance=p}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=lf.bind(s),r.addEventListener("load",o),r.addEventListener("error",o))}}var Np=0;function K2(s,r){return s.stylesheets&&s.count===0&&cf(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var u=setTimeout(function(){if(s.stylesheets&&cf(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4+r);0<s.imgBytes&&Np===0&&(Np=62500*D2());var d=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&cf(s,s.stylesheets),s.unsuspend)){var p=s.unsuspend;s.unsuspend=null,p()}},(s.imgBytes>Np?50:800)+r);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function lf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cf(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var uf=null;function cf(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,uf=new Map,r.forEach($2,s),uf=null,lf.call(s))}function $2(s,r){if(!(r.state.loading&4)){var o=uf.get(s);if(o)var u=o.get(null);else{o=new Map,uf.set(s,o);for(var d=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var b=d[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}d=r.instance,b=d.getAttribute("data-precedence"),p=o.get(b)||u,p===u&&o.set(null,d),o.set(b,d),this.count++,u=lf.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),p?p.parentNode.insertBefore(d,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(d,s.firstChild)),r.state.loading|=4}}var zu={$$typeof:F,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function Q2(s,r,o,u,d,p,b,S,j){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mn(0),this.hiddenUpdates=Mn(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function lb(s,r,o,u,d,p,b,S,j,W,ee,ie){return s=new Q2(s,r,o,b,j,W,ee,ie,S),r=1,p===!0&&(r|=24),p=Gn(3,null,null,r),s.current=p,p.stateNode=s,r=lm(),r.refCount++,s.pooledCache=r,r.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:r},fm(p),s}function ub(s){return s?(s=Oo,s):Oo}function cb(s,r,o,u,d,p){d=ub(d),u.context===null?u.context=d:u.pendingContext=d,u=xr(r),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=Cr(s,u,r),o!==null&&(jn(o,s,r),_u(o,s,r))}function hb(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function Mp(s,r){hb(s,r),(s=s.alternate)&&hb(s,r)}function fb(s){if(s.tag===13||s.tag===31){var r=Na(s,67108864);r!==null&&jn(r,s,67108864),Mp(s,67108864)}}function db(s){if(s.tag===13||s.tag===31){var r=Qn();r=ya(r);var o=Na(s,r);o!==null&&jn(o,s,r),Mp(s,r)}}var hf=!0;function X2(s,r,o,u){var d=J.T;J.T=null;var p=oe.p;try{oe.p=2,Rp(s,r,o,u)}finally{oe.p=p,J.T=d}}function Z2(s,r,o,u){var d=J.T;J.T=null;var p=oe.p;try{oe.p=8,Rp(s,r,o,u)}finally{oe.p=p,J.T=d}}function Rp(s,r,o,u){if(hf){var d=Ip(u);if(d===null)yp(s,r,u,ff,o),pb(s,u);else if(eN(d,s,r,o,u))u.stopPropagation();else if(pb(s,u),r&4&&-1<J2.indexOf(s)){for(;d!==null;){var p=rs(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=kt(p.pendingLanes);if(b!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;b;){var j=1<<31-wt(b);S.entanglements[1]|=j,b&=~j}li(p),(nt&6)===0&&(Wh=Qt()+500,Vu(0))}}break;case 31:case 13:S=Na(p,2),S!==null&&jn(S,p,2),$h(),Mp(p,2)}if(p=Ip(u),p===null&&yp(s,r,u,ff,o),p===d)break;d=p}d!==null&&u.stopPropagation()}else yp(s,r,u,null,o)}}function Ip(s){return s=as(s),Op(s)}var ff=null;function Op(s){if(ff=null,s=Ks(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=c(r),s!==null)return s;s=null}else if(o===31){if(s=f(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return ff=s,null}function mb(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ss()){case da:return 2;case ma:return 8;case Gs:case ql:return 32;case mo:return 268435456;default:return 32}default:return 32}}var kp=!1,Lr=null,Ur=null,Br=null,Fu=new Map,Hu=new Map,zr=[],J2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pb(s,r){switch(s){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":Fu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hu.delete(r.pointerId)}}function qu(s,r,o,u,d,p){return s===null||s.nativeEvent!==p?(s={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[d]},r!==null&&(r=rs(r),r!==null&&fb(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),s)}function eN(s,r,o,u,d){switch(r){case"focusin":return Lr=qu(Lr,s,r,o,u,d),!0;case"dragenter":return Ur=qu(Ur,s,r,o,u,d),!0;case"mouseover":return Br=qu(Br,s,r,o,u,d),!0;case"pointerover":var p=d.pointerId;return Fu.set(p,qu(Fu.get(p)||null,s,r,o,u,d)),!0;case"gotpointercapture":return p=d.pointerId,Hu.set(p,qu(Hu.get(p)||null,s,r,o,u,d)),!0}return!1}function gb(s){var r=Ks(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){s.blockedOn=r,xs(s.priority,function(){db(o)});return}}else if(r===31){if(r=f(o),r!==null){s.blockedOn=r,xs(s.priority,function(){db(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function df(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=Ip(s.nativeEvent);if(o===null){o=s.nativeEvent;var u=new o.constructor(o.type,o);su=u,o.target.dispatchEvent(u),su=null}else return r=rs(o),r!==null&&fb(r),s.blockedOn=o,!1;r.shift()}return!0}function yb(s,r,o){df(s)&&o.delete(r)}function tN(){kp=!1,Lr!==null&&df(Lr)&&(Lr=null),Ur!==null&&df(Ur)&&(Ur=null),Br!==null&&df(Br)&&(Br=null),Fu.forEach(yb),Hu.forEach(yb)}function mf(s,r){s.blockedOn===r&&(s.blockedOn=null,kp||(kp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,tN)))}var pf=null;function vb(s){pf!==s&&(pf=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){pf===s&&(pf=null);for(var r=0;r<s.length;r+=3){var o=s[r],u=s[r+1],d=s[r+2];if(typeof u!="function"){if(Op(u||o)===null)continue;break}var p=rs(o);p!==null&&(s.splice(r,3),r-=3,Im(p,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function sl(s){function r(j){return mf(j,s)}Lr!==null&&mf(Lr,s),Ur!==null&&mf(Ur,s),Br!==null&&mf(Br,s),Fu.forEach(r),Hu.forEach(r);for(var o=0;o<zr.length;o++){var u=zr[o];u.blockedOn===s&&(u.blockedOn=null)}for(;0<zr.length&&(o=zr[0],o.blockedOn===null);)gb(o),o.blockedOn===null&&zr.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],p=o[u+1],b=d[sn]||null;if(typeof p=="function")b||vb(o);else if(b){var S=null;if(p&&p.hasAttribute("formAction")){if(d=p,b=p[sn]||null)S=b.formAction;else if(Op(d)!==null)continue}else S=b.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),vb(o)}}}function _b(){function s(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return d=b})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function Vp(s){this._internalRoot=s}gf.prototype.render=Vp.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,u=Qn();cb(o,u,s,r,null,null)},gf.prototype.unmount=Vp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;cb(s.current,2,null,s,null,null),$h(),r[Ys]=null}};function gf(s){this._internalRoot=s}gf.prototype.unstable_scheduleHydration=function(s){if(s){var r=$c();s={blockedOn:null,target:s,priority:r};for(var o=0;o<zr.length&&r!==0&&r<zr[o].priority;o++);zr.splice(o,0,s),o===0&&gb(s)}};var Tb=e.version;if(Tb!=="19.2.1")throw Error(i(527,Tb,"19.2.1"));oe.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=g(r),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var nN={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yf.isDisabled&&yf.supportsFiber)try{Bn=yf.inject(nN),Xt=yf}catch{}}return Yu.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,u="",d=C_,p=D_,b=N_;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=lb(s,1,!1,null,null,o,u,null,d,p,b,_b),s[Ys]=r.current,gp(s),new Vp(r)},Yu.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var u=!1,d="",p=C_,b=D_,S=N_,j=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(j=o.formState)),r=lb(s,1,!0,r,o??null,u,d,j,p,b,S,_b),r.context=ub(null),o=r.current,u=Qn(),u=ya(u),d=xr(u),d.callback=null,Cr(o,d,u),o=u,r.current.lanes=o,As(r,o),li(r),s[Ys]=r.current,gp(s),new gf(r)},Yu.version="19.2.1",Yu}var Mb;function fN(){if(Mb)return Lp.exports;Mb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Lp.exports=hN(),Lp.exports}var dN=fN();const kw=6048e5,mN=864e5,Vw=6e4,Pw=36e5,Rb=Symbol.for("constructDateFrom");function gt(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Rb in t?t[Rb](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ge(t,e){return gt(e||t,t)}function Jn(t,e,n){const i=Ge(t,n?.in);return isNaN(e)?gt(t,NaN):(e&&i.setDate(i.getDate()+e),i)}function Sy(t,e,n){const i=Ge(t,n?.in);if(isNaN(e))return gt(t,NaN);if(!e)return i;const a=i.getDate(),l=gt(t,i.getTime());l.setMonth(i.getMonth()+e+1,0);const c=l.getDate();return a>=c?l:(i.setFullYear(l.getFullYear(),l.getMonth(),a),i)}function Ib(t,e,n){const{years:i=0,months:a=0,weeks:l=0,days:c=0,hours:f=0,minutes:m=0,seconds:g=0}=e,y=Ge(t,n?.in),T=a||i?Sy(y,a+i*12):y,w=c||l?Jn(T,c+l*7):T,D=m+f*60,R=(g+D*60)*1e3;return gt(t,+w+R)}function pN(t,e,n){return gt(t,+Ge(t)+e)}function gN(t,e,n){return pN(t,e*Pw)}let yN={};function Rc(){return yN}function ws(t,e){const n=Rc(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=Ge(t,e?.in),l=a.getDay(),c=(l<i?7:0)+l-i;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function fc(t,e){return ws(t,{...e,weekStartsOn:1})}function jw(t,e){const n=Ge(t,e?.in),i=n.getFullYear(),a=gt(n,0);a.setFullYear(i+1,0,4),a.setHours(0,0,0,0);const l=fc(a),c=gt(n,0);c.setFullYear(i,0,4),c.setHours(0,0,0,0);const f=fc(c);return n.getTime()>=l.getTime()?i+1:n.getTime()>=f.getTime()?i:i-1}function Ob(t){const e=Ge(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function la(t,...e){const n=gt.bind(null,e.find(i=>typeof i=="object"));return e.map(n)}function dc(t,e){const n=Ge(t,e?.in);return n.setHours(0,0,0,0),n}function Ay(t,e,n){const[i,a]=la(n?.in,t,e),l=dc(i),c=dc(a),f=+l-Ob(l),m=+c-Ob(c);return Math.round((f-m)/mN)}function vN(t,e){const n=jw(t,e),i=gt(t,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),fc(i)}function Lw(t,e,n){const i=Ge(t,n?.in);return i.setTime(i.getTime()+e*Vw),i}function _N(t,e,n){return Jn(t,e*7,n)}function TN(t,e,n){return Sy(t,e*12,n)}function bN(t,e){let n,i=e?.in;return t.forEach(a=>{!i&&typeof a=="object"&&(i=gt.bind(null,a));const l=Ge(a,i);(!n||n<l||isNaN(+l))&&(n=l)}),gt(i,n||NaN)}function EN(t,e){let n,i=e?.in;return t.forEach(a=>{!i&&typeof a=="object"&&(i=gt.bind(null,a));const l=Ge(a,i);(!n||n>l||isNaN(+l))&&(n=l)}),gt(i,n||NaN)}function wN(t){return gt(t,Date.now())}function Yi(t,e,n){const[i,a]=la(n?.in,t,e);return+dc(i)==+dc(a)}function Uw(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function SN(t){return!(!Uw(t)&&typeof t!="number"||isNaN(+Ge(t)))}function AN(t,e,n){const[i,a]=la(n?.in,t,e),l=i.getFullYear()-a.getFullYear(),c=i.getMonth()-a.getMonth();return l*12+c}function xN(t,e,n){const[i,a]=la(n?.in,t,e),l=kb(i,a),c=Math.abs(Ay(i,a));i.setDate(i.getDate()-l*c);const f=+(kb(i,a)===-l),m=l*(c-f);return m===0?0:m}function kb(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function Bw(t){return e=>{const n=Math.trunc,i=n(e);return i===0?0:i}}function _g(t,e,n){const[i,a]=la(n?.in,t,e),l=(+i-+a)/Pw;return Bw()(l)}function CN(t,e){return+Ge(t)-+Ge(e)}function Tg(t,e,n){const i=CN(t,e)/Vw;return Bw()(i)}function zw(t,e){const n=Ge(t,e?.in),i=n.getMonth();return n.setFullYear(n.getFullYear(),i+1,0),n.setHours(23,59,59,999),n}function xy(t,e){const[n,i]=la(t,e.start,e.end);return{start:n,end:i}}function Fw(t,e){const{start:n,end:i}=xy(e?.in,t);let a=+n>+i;const l=a?+n:+i,c=a?i:n;c.setHours(0,0,0,0);let f=1;const m=[];for(;+c<=l;)m.push(gt(n,c)),c.setDate(c.getDate()+f),c.setHours(0,0,0,0);return a?m.reverse():m}function DN(t,e){const{start:n,end:i}=xy(e?.in,t);let a=+n>+i;const l=a?+n:+i,c=a?i:n;c.setHours(0,0,0,0),c.setDate(1);let f=1;const m=[];for(;+c<=l;)m.push(gt(n,c)),c.setMonth(c.getMonth()+f);return a?m.reverse():m}function Hw(t,e){const n=Ge(t,e?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function NN(t,e){const n=Ge(t,e?.in),i=n.getFullYear();return n.setFullYear(i+1,0,0),n.setHours(23,59,59,999),n}function qw(t,e){const n=Ge(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function MN(t,e){const{start:n,end:i}=xy(e?.in,t);let a=+n>+i;const l=a?+n:+i,c=a?i:n;c.setHours(0,0,0,0),c.setMonth(0,1);let f=1;const m=[];for(;+c<=l;)m.push(gt(n,c)),c.setFullYear(c.getFullYear()+f);return a?m.reverse():m}function Cy(t,e){const n=Rc(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=Ge(t,e?.in),l=a.getDay(),c=(l<i?-7:0)+6-(l-i);return a.setDate(a.getDate()+c),a.setHours(23,59,59,999),a}function RN(t,e){return Cy(t,{...e,weekStartsOn:1})}const IN={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ON=(t,e,n)=>{let i;const a=IN[t];return typeof a=="string"?i=a:e===1?i=a.one:i=a.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function pl(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const kN={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},VN={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},PN={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jN={date:pl({formats:kN,defaultWidth:"full"}),time:pl({formats:VN,defaultWidth:"full"}),dateTime:pl({formats:PN,defaultWidth:"full"})},LN={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},UN=(t,e,n,i)=>LN[t];function hi(t){return(e,n)=>{const i=n?.context?String(n.context):"standalone";let a;if(i==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,f=n?.width?String(n.width):c;a=t.formattingValues[f]||t.formattingValues[c]}else{const c=t.defaultWidth,f=n?.width?String(n.width):t.defaultWidth;a=t.values[f]||t.values[c]}const l=t.argumentCallback?t.argumentCallback(e):e;return a[l]}}const BN={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},zN={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},FN={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},HN={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},qN={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},GN={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},YN=(t,e)=>{const n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},WN={ordinalNumber:YN,era:hi({values:BN,defaultWidth:"wide"}),quarter:hi({values:zN,defaultWidth:"wide",argumentCallback:t=>t-1}),month:hi({values:FN,defaultWidth:"wide"}),day:hi({values:HN,defaultWidth:"wide"}),dayPeriod:hi({values:qN,defaultWidth:"wide",formattingValues:GN,defaultFormattingWidth:"wide"})};function fi(t){return(e,n={})=>{const i=n.width,a=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],l=e.match(a);if(!l)return null;const c=l[0],f=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],m=Array.isArray(f)?$N(f,T=>T.test(c)):KN(f,T=>T.test(c));let g;g=t.valueCallback?t.valueCallback(m):m,g=n.valueCallback?n.valueCallback(g):g;const y=e.slice(c.length);return{value:g,rest:y}}}function KN(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function $N(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Gw(t){return(e,n={})=>{const i=e.match(t.matchPattern);if(!i)return null;const a=i[0],l=e.match(t.parsePattern);if(!l)return null;let c=t.valueCallback?t.valueCallback(l[0]):l[0];c=n.valueCallback?n.valueCallback(c):c;const f=e.slice(a.length);return{value:c,rest:f}}}const QN=/^(\d+)(th|st|nd|rd)?/i,XN=/\d+/i,ZN={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},JN={any:[/^b/i,/^(a|c)/i]},eM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},tM={any:[/1/i,/2/i,/3/i,/4/i]},nM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},sM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},iM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},rM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},aM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},oM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},lM={ordinalNumber:Gw({matchPattern:QN,parsePattern:XN,valueCallback:t=>parseInt(t,10)}),era:fi({matchPatterns:ZN,defaultMatchWidth:"wide",parsePatterns:JN,defaultParseWidth:"any"}),quarter:fi({matchPatterns:eM,defaultMatchWidth:"wide",parsePatterns:tM,defaultParseWidth:"any",valueCallback:t=>t+1}),month:fi({matchPatterns:nM,defaultMatchWidth:"wide",parsePatterns:sM,defaultParseWidth:"any"}),day:fi({matchPatterns:iM,defaultMatchWidth:"wide",parsePatterns:rM,defaultParseWidth:"any"}),dayPeriod:fi({matchPatterns:aM,defaultMatchWidth:"any",parsePatterns:oM,defaultParseWidth:"any"})},rl={code:"en-US",formatDistance:ON,formatLong:jN,formatRelative:UN,localize:WN,match:lM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function uM(t,e){const n=Ge(t,e?.in);return Ay(n,qw(n))+1}function Yw(t,e){const n=Ge(t,e?.in),i=+fc(n)-+vN(n);return Math.round(i/kw)+1}function Ww(t,e){const n=Ge(t,e?.in),i=n.getFullYear(),a=Rc(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=gt(e?.in||t,0);c.setFullYear(i+1,0,l),c.setHours(0,0,0,0);const f=ws(c,e),m=gt(e?.in||t,0);m.setFullYear(i,0,l),m.setHours(0,0,0,0);const g=ws(m,e);return+n>=+f?i+1:+n>=+g?i:i-1}function cM(t,e){const n=Rc(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=Ww(t,e),l=gt(e?.in||t,0);return l.setFullYear(a,0,i),l.setHours(0,0,0,0),ws(l,e)}function Kw(t,e){const n=Ge(t,e?.in),i=+ws(n,e)-+cM(n,e);return Math.round(i/kw)+1}function ot(t,e){const n=t<0?"-":"",i=Math.abs(t).toString().padStart(e,"0");return n+i}const Hr={y(t,e){const n=t.getFullYear(),i=n>0?n:1-n;return ot(e==="yy"?i%100:i,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ot(n+1,2)},d(t,e){return ot(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ot(t.getHours()%12||12,e.length)},H(t,e){return ot(t.getHours(),e.length)},m(t,e){return ot(t.getMinutes(),e.length)},s(t,e){return ot(t.getSeconds(),e.length)},S(t,e){const n=e.length,i=t.getMilliseconds(),a=Math.trunc(i*Math.pow(10,n-3));return ot(a,e.length)}},il={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Vb={G:function(t,e,n){const i=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const i=t.getFullYear(),a=i>0?i:1-i;return n.ordinalNumber(a,{unit:"year"})}return Hr.y(t,e)},Y:function(t,e,n,i){const a=Ww(t,i),l=a>0?a:1-a;if(e==="YY"){const c=l%100;return ot(c,2)}return e==="Yo"?n.ordinalNumber(l,{unit:"year"}):ot(l,e.length)},R:function(t,e){const n=jw(t);return ot(n,e.length)},u:function(t,e){const n=t.getFullYear();return ot(n,e.length)},Q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return ot(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return ot(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,n){const i=t.getMonth();switch(e){case"M":case"MM":return Hr.M(t,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,n){const i=t.getMonth();switch(e){case"L":return String(i+1);case"LL":return ot(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,n,i){const a=Kw(t,i);return e==="wo"?n.ordinalNumber(a,{unit:"week"}):ot(a,e.length)},I:function(t,e,n){const i=Yw(t);return e==="Io"?n.ordinalNumber(i,{unit:"week"}):ot(i,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Hr.d(t,e)},D:function(t,e,n){const i=uM(t);return e==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):ot(i,e.length)},E:function(t,e,n){const i=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,n,i){const a=t.getDay(),l=(a-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return ot(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,n,i){const a=t.getDay(),l=(a-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return ot(l,e.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,n){const i=t.getDay(),a=i===0?7:i;switch(e){case"i":return String(a);case"ii":return ot(a,e.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,n){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,n){const i=t.getHours();let a;switch(i===12?a=il.noon:i===0?a=il.midnight:a=i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,n){const i=t.getHours();let a;switch(i>=17?a=il.evening:i>=12?a=il.afternoon:i>=4?a=il.morning:a=il.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let i=t.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Hr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Hr.H(t,e)},K:function(t,e,n){const i=t.getHours()%12;return e==="Ko"?n.ordinalNumber(i,{unit:"hour"}):ot(i,e.length)},k:function(t,e,n){let i=t.getHours();return i===0&&(i=24),e==="ko"?n.ordinalNumber(i,{unit:"hour"}):ot(i,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Hr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Hr.s(t,e)},S:function(t,e){return Hr.S(t,e)},X:function(t,e,n){const i=t.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return jb(i);case"XXXX":case"XX":return Ha(i);case"XXXXX":case"XXX":default:return Ha(i,":")}},x:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"x":return jb(i);case"xxxx":case"xx":return Ha(i);case"xxxxx":case"xxx":default:return Ha(i,":")}},O:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Pb(i,":");case"OOOO":default:return"GMT"+Ha(i,":")}},z:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Pb(i,":");case"zzzz":default:return"GMT"+Ha(i,":")}},t:function(t,e,n){const i=Math.trunc(+t/1e3);return ot(i,e.length)},T:function(t,e,n){return ot(+t,e.length)}};function Pb(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),a=Math.trunc(i/60),l=i%60;return l===0?n+String(a):n+String(a)+e+ot(l,2)}function jb(t,e){return t%60===0?(t>0?"-":"+")+ot(Math.abs(t)/60,2):Ha(t,e)}function Ha(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),a=ot(Math.trunc(i/60),2),l=ot(i%60,2);return n+a+e+l}const Lb=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},$w=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},hM=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],i=n[1],a=n[2];if(!a)return Lb(t,e);let l;switch(i){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",Lb(i,e)).replace("{{time}}",$w(a,e))},fM={p:$w,P:hM},dM=/^D+$/,mM=/^Y+$/,pM=["D","DD","YY","YYYY"];function gM(t){return dM.test(t)}function yM(t){return mM.test(t)}function vM(t,e,n){const i=_M(t,e,n);if(console.warn(i),pM.includes(t))throw new RangeError(i)}function _M(t,e,n){const i=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const TM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,bM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,EM=/^'([^]*?)'?$/,wM=/''/g,SM=/[a-zA-Z]/;function ze(t,e,n){const i=Rc(),a=n?.locale??i.locale??rl,l=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,f=Ge(t,n?.in);if(!SN(f))throw new RangeError("Invalid time value");let m=e.match(bM).map(y=>{const T=y[0];if(T==="p"||T==="P"){const w=fM[T];return w(y,a.formatLong)}return y}).join("").match(TM).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const T=y[0];if(T==="'")return{isToken:!1,value:AM(y)};if(Vb[T])return{isToken:!0,value:y};if(T.match(SM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(m=a.localize.preprocessor(f,m));const g={firstWeekContainsDate:l,weekStartsOn:c,locale:a};return m.map(y=>{if(!y.isToken)return y.value;const T=y.value;(!n?.useAdditionalWeekYearTokens&&yM(T)||!n?.useAdditionalDayOfYearTokens&&gM(T))&&vM(T,e,String(t));const w=Vb[T[0]];return w(f,T,a.localize,g)}).join("")}function AM(t){const e=t.match(EM);return e?e[1].replace(wM,"'"):t}function xM(t,e){const n=Ge(t,e?.in),i=n.getFullYear(),a=n.getMonth(),l=gt(n,0);return l.setFullYear(i,a+1,0),l.setHours(0,0,0,0),l.getDate()}function CM(t,e){return Ge(t,e?.in).getMonth()}function DM(t,e){return Ge(t,e?.in).getFullYear()}function NM(t,e){return+Ge(t)>+Ge(e)}function MM(t,e){return+Ge(t)<+Ge(e)}function RM(t){return+Ge(t)<Date.now()}function Qw(t,e,n){const[i,a]=la(n?.in,t,e);return i.getFullYear()===a.getFullYear()&&i.getMonth()===a.getMonth()}function IM(t,e,n){const[i,a]=la(n?.in,t,e);return i.getFullYear()===a.getFullYear()}function OM(t,e){return Yi(gt(t,t),wN(t))}function Nf(t,e,n){return Jn(t,-e,n)}function Xw(t,e,n){const i=Ge(t,n?.in),a=i.getFullYear(),l=i.getDate(),c=gt(t,0);c.setFullYear(a,e,15),c.setHours(0,0,0,0);const f=xM(c);return i.setMonth(e,Math.min(l,f)),i}function Zw(t,e,n){let i=Ge(t,n?.in);return isNaN(+i)?gt(t,NaN):(e.year!=null&&i.setFullYear(e.year),e.month!=null&&(i=Xw(i,e.month)),e.date!=null&&i.setDate(e.date),e.hours!=null&&i.setHours(e.hours),e.minutes!=null&&i.setMinutes(e.minutes),e.seconds!=null&&i.setSeconds(e.seconds),e.milliseconds!=null&&i.setMilliseconds(e.milliseconds),i)}function Jw(t,e,n){const i=Ge(t,n?.in);return i.setHours(e),i}function eS(t,e,n){const i=Ge(t,n?.in);return i.setMinutes(e),i}function kM(t,e,n){const i=Ge(t,n?.in);return isNaN(+i)?gt(t,NaN):(i.setFullYear(e),i)}var VM=Ow();const PM={lessThanXSeconds:{one:" 1 ",other:" {{count}} "},xSeconds:{one:"1 ",other:"{{count}} "},halfAMinute:"",lessThanXMinutes:{one:" 1 ",other:" {{count}} "},xMinutes:{one:"1 ",other:"{{count}} "},aboutXHours:{one:" 1 ",other:" {{count}} "},xHours:{one:"1 ",other:"{{count}} "},xDays:{one:"1 ",other:"{{count}} "},aboutXWeeks:{one:" 1 ",other:" {{count}} "},xWeeks:{one:"1 ",other:"{{count}} "},aboutXMonths:{one:" 1 ",other:" {{count}} "},xMonths:{one:"1 ",other:"{{count}} "},aboutXYears:{one:" 1 ",other:" {{count}} "},xYears:{one:"1 ",other:"{{count}} "},overXYears:{one:" 1 ",other:" {{count}} "},almostXYears:{one:" 1 ",other:" {{count}} "}},jM=(t,e,n)=>{let i;const a=PM[t];return typeof a=="string"?i=a:e===1?i=a.one:i=a.other.replace("{{count}}",String(e)),n?.addSuffix?n.comparison&&n.comparison>0?t==="halfAMinute"?""+i:" "+i:i+"":i},LM={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},UM={full:"H:mm:ss . zzzz",long:"H:mm:ss . z",medium:"H:mm:ss .",short:"H:mm ."},BM={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zM={date:pl({formats:LM,defaultWidth:"full"}),time:pl({formats:UM,defaultWidth:"medium"}),dateTime:pl({formats:BM,defaultWidth:"full"})},FM={lastWeek:"eeee'' p",yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:"eeee '' p",other:"P"},HM=(t,e,n,i)=>FM[t],qM={narrow:["B",""],abbreviated:["BC",".."],wide:["",""]},GM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["","","",""]},YM={narrow:[".",".",".",".",".",".","."],short:[".",".",".",".",".",".","."],abbreviated:[".",".",".",".",".",".","."],wide:["","","","","","",""]},WM={narrow:["..","..","..","..","..","..","..","..","..","..","..",".."],abbreviated:["..","..","..","..","..","..","..","..","..","..","..",".."],wide:["","","","","","","","","","","",""]},KM={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},$M={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},QM=(t,e)=>String(t),XM={ordinalNumber:QM,era:hi({values:qM,defaultWidth:"wide"}),quarter:hi({values:GM,defaultWidth:"wide",argumentCallback:t=>t-1}),month:hi({values:WM,defaultWidth:"wide"}),day:hi({values:YM,defaultWidth:"wide"}),dayPeriod:hi({values:KM,defaultWidth:"wide",formattingValues:$M,defaultFormattingWidth:"wide"})},ZM=/^\d+/i,JM=/\d+/i,eR={narrow:/^([bB]|[aA]|)/i,abbreviated:/^([bB]\.?\s?[cC]\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?|\.?\.?)/i,wide:/^(||)/i},tR={any:[/^[bB]/i,/^(^[aA]|\.?\.?|||)/i]},nR={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^()? ?[1234]/i},sR={any:[/(1||)/i,/(2|)/i,/(3|)/i,/(4|)/i]},iR={narrow:/^(\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?)/i,abbreviated:/^(\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?')/i,wide:/^(|||||||||||)/i},rR={wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i]},aR={narrow:/^(\.?|\.?|\.?|\.?|\.?|\.?|\.?)/i,short:/^(\.?|\.?|\.?|\.?|\.?|\.?|\.?)/i,abbreviated:/^(\.?|\.?|\.?|\.?|\.?|\.?|\.?)/i,wide:/^(||||||)/i},oR={wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^(?!)/i,/^/i,/^/i,/^/i]},lR={any:/^(||||(.*?)?.*(||||))/i},uR={any:{am:/^/i,pm:/^/i,midnight:/^/i,noon:/^/i,morning://i,afternoon://i,evening://i,night://i}},cR={ordinalNumber:Gw({matchPattern:ZM,parsePattern:JM,valueCallback:t=>parseInt(t,10)}),era:fi({matchPatterns:eR,defaultMatchWidth:"wide",parsePatterns:tR,defaultParseWidth:"any"}),quarter:fi({matchPatterns:nR,defaultMatchWidth:"wide",parsePatterns:sR,defaultParseWidth:"any",valueCallback:t=>t+1}),month:fi({matchPatterns:iR,defaultMatchWidth:"wide",parsePatterns:rR,defaultParseWidth:"any"}),day:fi({matchPatterns:aR,defaultMatchWidth:"wide",parsePatterns:oR,defaultParseWidth:"any"}),dayPeriod:fi({matchPatterns:lR,defaultMatchWidth:"any",parsePatterns:uR,defaultParseWidth:"any"})},es={code:"th",formatDistance:jM,formatLong:zM,formatRelative:HM,localize:XM,match:cR,options:{weekStartsOn:0,firstWeekContainsDate:1}},Dy=Q.createContext({});function Ny(t){const e=Q.useRef(null);return e.current===null&&(e.current=t()),e.current}const My=typeof window<"u",tS=My?Q.useLayoutEffect:Q.useEffect,yd=Q.createContext(null);function Ry(t,e){t.indexOf(e)===-1&&t.push(e)}function Iy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const er=(t,e,n)=>n>e?e:n<t?t:n;let Oy=()=>{};const tr={},nS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function sS(t){return typeof t=="object"&&t!==null}const iS=t=>/^0[^.\s]+$/u.test(t);function ky(t){let e;return()=>(e===void 0&&(e=t()),e)}const Es=t=>t,hR=(t,e)=>n=>e(t(n)),Ic=(...t)=>t.reduce(hR),mc=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Vy{constructor(){this.subscriptions=[]}add(e){return Ry(this.subscriptions,e),()=>Iy(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const pi=t=>t*1e3,bs=t=>t/1e3;function rS(t,e){return e?t*(1e3/e):0}const aS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,fR=1e-7,dR=12;function mR(t,e,n,i,a){let l,c,f=0;do c=e+(n-e)/2,l=aS(c,i,a)-t,l>0?n=c:e=c;while(Math.abs(l)>fR&&++f<dR);return c}function Oc(t,e,n,i){if(t===e&&n===i)return Es;const a=l=>mR(l,0,1,t,n);return l=>l===0||l===1?l:aS(a(l),e,i)}const oS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,lS=t=>e=>1-t(1-e),uS=Oc(.33,1.53,.69,.99),Py=lS(uS),cS=oS(Py),hS=t=>(t*=2)<1?.5*Py(t):.5*(2-Math.pow(2,-10*(t-1))),jy=t=>1-Math.sin(Math.acos(t)),fS=lS(jy),dS=oS(jy),pR=Oc(.42,0,1,1),gR=Oc(0,0,.58,1),mS=Oc(.42,0,.58,1),yR=t=>Array.isArray(t)&&typeof t[0]!="number",pS=t=>Array.isArray(t)&&typeof t[0]=="number",vR={linear:Es,easeIn:pR,easeInOut:mS,easeOut:gR,circIn:jy,circInOut:dS,circOut:fS,backIn:Py,backInOut:cS,backOut:uS,anticipate:hS},_R=t=>typeof t=="string",Ub=t=>{if(pS(t)){Oy(t.length===4);const[e,n,i,a]=t;return Oc(e,n,i,a)}else if(_R(t))return vR[t];return t},vf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function TR(t,e){let n=new Set,i=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(g.schedule(y),t()),y(f)}const g={schedule:(y,T=!1,w=!1)=>{const V=w&&a?n:i;return T&&c.add(y),V.has(y)||V.add(y),y},cancel:y=>{i.delete(y),c.delete(y)},process:y=>{if(f=y,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,g.process(y))}};return g}const bR=40;function gS(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=vf.reduce((F,te)=>(F[te]=TR(l),F),{}),{setup:f,read:m,resolveKeyframes:g,preUpdate:y,update:T,preRender:w,render:D,postRender:V}=c,R=()=>{const F=tr.useManualTiming?a.timestamp:performance.now();n=!1,tr.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(F-a.timestamp,bR),1)),a.timestamp=F,a.isProcessing=!0,f.process(a),m.process(a),g.process(a),y.process(a),T.process(a),w.process(a),D.process(a),V.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(R))},P=()=>{n=!0,i=!0,a.isProcessing||t(R)};return{schedule:vf.reduce((F,te)=>{const B=c[te];return F[te]=(G,x=!1,A=!1)=>(n||P(),B.schedule(G,x,A)),F},{}),cancel:F=>{for(let te=0;te<vf.length;te++)c[vf[te]].cancel(F)},state:a,steps:c}}const{schedule:Et,cancel:ea,state:mn,steps:Fp}=gS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Es,!0);let Mf;function ER(){Mf=void 0}const Un={now:()=>(Mf===void 0&&Un.set(mn.isProcessing||tr.useManualTiming?mn.timestamp:performance.now()),Mf),set:t=>{Mf=t,queueMicrotask(ER)}},yS=t=>e=>typeof e=="string"&&e.startsWith(t),Ly=yS("--"),wR=yS("var(--"),Uy=t=>wR(t)?SR.test(t.split("/*")[0].trim()):!1,SR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ol={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},pc={...Ol,transform:t=>er(0,1,t)},_f={...Ol,default:1},tc=t=>Math.round(t*1e5)/1e5,By=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function AR(t){return t==null}const xR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,zy=(t,e)=>n=>!!(typeof n=="string"&&xR.test(n)&&n.startsWith(t)||e&&!AR(n)&&Object.prototype.hasOwnProperty.call(n,e)),vS=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,c,f]=i.match(By);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},CR=t=>er(0,255,t),Hp={...Ol,transform:t=>Math.round(CR(t))},Ya={test:zy("rgb","red"),parse:vS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Hp.transform(t)+", "+Hp.transform(e)+", "+Hp.transform(n)+", "+tc(pc.transform(i))+")"};function DR(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const bg={test:zy("#"),parse:DR,transform:Ya.transform},kc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Gr=kc("deg"),gi=kc("%"),De=kc("px"),NR=kc("vh"),MR=kc("vw"),Bb={...gi,parse:t=>gi.parse(t)/100,transform:t=>gi.transform(t*100)},cl={test:zy("hsl","hue"),parse:vS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+gi.transform(tc(e))+", "+gi.transform(tc(n))+", "+tc(pc.transform(i))+")"},Kt={test:t=>Ya.test(t)||bg.test(t)||cl.test(t),parse:t=>Ya.test(t)?Ya.parse(t):cl.test(t)?cl.parse(t):bg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ya.transform(t):cl.transform(t),getAnimatableNone:t=>{const e=Kt.parse(t);return e.alpha=0,Kt.transform(e)}},RR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function IR(t){return isNaN(t)&&typeof t=="string"&&(t.match(By)?.length||0)+(t.match(RR)?.length||0)>0}const _S="number",TS="color",OR="var",kR="var(",zb="${}",VR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function gc(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(VR,m=>(Kt.test(m)?(i.color.push(l),a.push(TS),n.push(Kt.parse(m))):m.startsWith(kR)?(i.var.push(l),a.push(OR),n.push(m)):(i.number.push(l),a.push(_S),n.push(parseFloat(m))),++l,zb)).split(zb);return{values:n,split:f,indexes:i,types:a}}function bS(t){return gc(t).values}function ES(t){const{split:e,types:n}=gc(t),i=e.length;return a=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],a[c]!==void 0){const f=n[c];f===_S?l+=tc(a[c]):f===TS?l+=Kt.transform(a[c]):l+=a[c]}return l}}const PR=t=>typeof t=="number"?0:Kt.test(t)?Kt.getAnimatableNone(t):t;function jR(t){const e=bS(t);return ES(t)(e.map(PR))}const ta={test:IR,parse:bS,createTransformer:ES,getAnimatableNone:jR};function qp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function LR({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;a=qp(m,f,t+1/3),l=qp(m,f,t),c=qp(m,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function qf(t,e){return n=>n>0?e:t}const xt=(t,e,n)=>t+(e-t)*n,Gp=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},UR=[bg,Ya,cl],BR=t=>UR.find(e=>e.test(t));function Fb(t){const e=BR(t);if(!e)return!1;let n=e.parse(t);return e===cl&&(n=LR(n)),n}const Hb=(t,e)=>{const n=Fb(t),i=Fb(e);if(!n||!i)return qf(t,e);const a={...n};return l=>(a.red=Gp(n.red,i.red,l),a.green=Gp(n.green,i.green,l),a.blue=Gp(n.blue,i.blue,l),a.alpha=xt(n.alpha,i.alpha,l),Ya.transform(a))},Eg=new Set(["none","hidden"]);function zR(t,e){return Eg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function FR(t,e){return n=>xt(t,e,n)}function Fy(t){return typeof t=="number"?FR:typeof t=="string"?Uy(t)?qf:Kt.test(t)?Hb:GR:Array.isArray(t)?wS:typeof t=="object"?Kt.test(t)?Hb:HR:qf}function wS(t,e){const n=[...t],i=n.length,a=t.map((l,c)=>Fy(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)n[c]=a[c](l);return n}}function HR(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=Fy(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function qR(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],f=t.values[c]??0;n[a]=f,i[l]++}return n}const GR=(t,e)=>{const n=ta.createTransformer(e),i=gc(t),a=gc(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?Eg.has(t)&&!a.values.length||Eg.has(e)&&!i.values.length?zR(t,e):Ic(wS(qR(i,a),a.values),n):qf(t,e)};function SS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?xt(t,e,n):Fy(t)(t,e)}const YR=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Et.update(e,n),stop:()=>ea(e),now:()=>mn.isProcessing?mn.timestamp:Un.now()}},AS=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Gf=2e4;function Hy(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Gf;)e+=n,i=t.next(e);return e>=Gf?1/0:e}function WR(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(Hy(i),Gf);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:bs(a)}}const KR=5;function xS(t,e,n){const i=Math.max(e-KR,0);return rS(n-t(i),e-i)}const Rt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Yp=.001;function $R({duration:t=Rt.duration,bounce:e=Rt.bounce,velocity:n=Rt.velocity,mass:i=Rt.mass}){let a,l,c=1-e;c=er(Rt.minDamping,Rt.maxDamping,c),t=er(Rt.minDuration,Rt.maxDuration,bs(t)),c<1?(a=g=>{const y=g*c,T=y*t,w=y-n,D=wg(g,c),V=Math.exp(-T);return Yp-w/D*V},l=g=>{const T=g*c*t,w=T*n+n,D=Math.pow(c,2)*Math.pow(g,2)*t,V=Math.exp(-T),R=wg(Math.pow(g,2),c);return(-a(g)+Yp>0?-1:1)*((w-D)*V)/R}):(a=g=>{const y=Math.exp(-g*t),T=(g-n)*t+1;return-Yp+y*T},l=g=>{const y=Math.exp(-g*t),T=(n-g)*(t*t);return y*T});const f=5/t,m=XR(a,l,f);if(t=pi(t),isNaN(m))return{stiffness:Rt.stiffness,damping:Rt.damping,duration:t};{const g=Math.pow(m,2)*i;return{stiffness:g,damping:c*2*Math.sqrt(i*g),duration:t}}}const QR=12;function XR(t,e,n){let i=n;for(let a=1;a<QR;a++)i=i-t(i)/e(i);return i}function wg(t,e){return t*Math.sqrt(1-e*e)}const ZR=["duration","bounce"],JR=["stiffness","damping","mass"];function qb(t,e){return e.some(n=>t[n]!==void 0)}function eI(t){let e={velocity:Rt.velocity,stiffness:Rt.stiffness,damping:Rt.damping,mass:Rt.mass,isResolvedFromDuration:!1,...t};if(!qb(t,JR)&&qb(t,ZR))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*er(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Rt.mass,stiffness:a,damping:l}}else{const n=$R(t);e={...e,...n,mass:Rt.mass},e.isResolvedFromDuration=!0}return e}function Yf(t=Rt.visualDuration,e=Rt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:g,mass:y,duration:T,velocity:w,isResolvedFromDuration:D}=eI({...n,velocity:-bs(n.velocity||0)}),V=w||0,R=g/(2*Math.sqrt(m*y)),P=c-l,z=bs(Math.sqrt(m/y)),K=Math.abs(P)<5;i||(i=K?Rt.restSpeed.granular:Rt.restSpeed.default),a||(a=K?Rt.restDelta.granular:Rt.restDelta.default);let F;if(R<1){const B=wg(z,R);F=G=>{const x=Math.exp(-R*z*G);return c-x*((V+R*z*P)/B*Math.sin(B*G)+P*Math.cos(B*G))}}else if(R===1)F=B=>c-Math.exp(-z*B)*(P+(V+z*P)*B);else{const B=z*Math.sqrt(R*R-1);F=G=>{const x=Math.exp(-R*z*G),A=Math.min(B*G,300);return c-x*((V+R*z*P)*Math.sinh(A)+B*P*Math.cosh(A))/B}}const te={calculatedDuration:D&&T||null,next:B=>{const G=F(B);if(D)f.done=B>=T;else{let x=B===0?V:0;R<1&&(x=B===0?pi(V):xS(F,B,G));const A=Math.abs(x)<=i,M=Math.abs(c-G)<=a;f.done=A&&M}return f.value=f.done?c:G,f},toString:()=>{const B=Math.min(Hy(te),Gf),G=AS(x=>te.next(B*x).value,B,30);return B+"ms "+G},toTransition:()=>{}};return te}Yf.applyToOptions=t=>{const e=WR(t,100,Yf);return t.ease=e.ease,t.duration=pi(e.duration),t.type="keyframes",t};function Sg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:m,restDelta:g=.5,restSpeed:y}){const T=t[0],w={done:!1,value:T},D=A=>f!==void 0&&A<f||m!==void 0&&A>m,V=A=>f===void 0?m:m===void 0||Math.abs(f-A)<Math.abs(m-A)?f:m;let R=n*e;const P=T+R,z=c===void 0?P:c(P);z!==P&&(R=z-T);const K=A=>-R*Math.exp(-A/i),F=A=>z+K(A),te=A=>{const M=K(A),k=F(A);w.done=Math.abs(M)<=g,w.value=w.done?z:k};let B,G;const x=A=>{D(w.value)&&(B=A,G=Yf({keyframes:[w.value,V(w.value)],velocity:xS(F,A,w.value),damping:a,stiffness:l,restDelta:g,restSpeed:y}))};return x(0),{calculatedDuration:null,next:A=>{let M=!1;return!G&&B===void 0&&(M=!0,te(A),x(A)),B!==void 0&&A>=B?G.next(A-B):(!M&&te(A),w)}}}function tI(t,e,n){const i=[],a=n||tr.mix||SS,l=t.length-1;for(let c=0;c<l;c++){let f=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||Es:e;f=Ic(m,f)}i.push(f)}return i}function nI(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(Oy(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=tI(e,i,a),m=f.length,g=y=>{if(c&&y<t[0])return e[0];let T=0;if(m>1)for(;T<t.length-2&&!(y<t[T+1]);T++);const w=mc(t[T],t[T+1],y);return f[T](w)};return n?y=>g(er(t[0],t[l-1],y)):g}function sI(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=mc(0,e,i);t.push(xt(n,1,a))}}function iI(t){const e=[0];return sI(e,t.length-1),e}function rI(t,e){return t.map(n=>n*e)}function aI(t,e){return t.map(()=>e||mS).splice(0,t.length-1)}function nc({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=yR(i)?i.map(Ub):Ub(i),l={done:!1,value:e[0]},c=rI(n&&n.length===e.length?n:iI(e),t),f=nI(c,e,{ease:Array.isArray(a)?a:aI(e,a)});return{calculatedDuration:t,next:m=>(l.value=f(m),l.done=m>=t,l)}}const oI=t=>t!==null;function qy(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(oI),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||i===void 0?l[f]:i}const lI={decay:Sg,inertia:Sg,tween:nc,keyframes:nc,spring:Yf};function CS(t){typeof t.type=="string"&&(t.type=lI[t.type])}class Gy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const uI=t=>t/100;class Yy extends Gy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Un.now()&&this.tick(Un.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;CS(e);const{type:n=nc,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:f}=e;const m=n||nc;m!==nc&&typeof f[0]!="number"&&(this.mixKeyframes=Ic(uI,SS(f[0],f[1])),f=[0,100]);const g=m({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Hy(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=g}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return i.next(0);const{delay:g=0,keyframes:y,repeat:T,repeatType:w,repeatDelay:D,type:V,onUpdate:R,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const z=this.currentTime-g*(this.playbackSpeed>=0?1:-1),K=this.playbackSpeed>=0?z<0:z>a;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let F=this.currentTime,te=i;if(T){const A=Math.min(this.currentTime,a)/f;let M=Math.floor(A),k=A%1;!k&&A>=1&&(k=1),k===1&&M--,M=Math.min(M,T+1),!!(M%2)&&(w==="reverse"?(k=1-k,D&&(k-=D/f)):w==="mirror"&&(te=c)),F=er(0,1,k)*f}const B=K?{done:!1,value:y[0]}:te.next(F);l&&(B.value=l(B.value));let{done:G}=B;!K&&m!==null&&(G=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const x=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&G);return x&&V!==Sg&&(B.value=qy(y,this.options,P,this.speed)),R&&R(B.value),x&&this.finish(),B}then(e,n){return this.finished.then(e,n)}get duration(){return bs(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+bs(e)}get time(){return bs(this.currentTime)}set time(e){e=pi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Un.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=bs(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=YR,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Un.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function cI(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Wa=t=>t*180/Math.PI,Ag=t=>{const e=Wa(Math.atan2(t[1],t[0]));return xg(e)},hI={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ag,rotateZ:Ag,skewX:t=>Wa(Math.atan(t[1])),skewY:t=>Wa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},xg=t=>(t=t%360,t<0&&(t+=360),t),Gb=Ag,Yb=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Wb=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),fI={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Yb,scaleY:Wb,scale:t=>(Yb(t)+Wb(t))/2,rotateX:t=>xg(Wa(Math.atan2(t[6],t[5]))),rotateY:t=>xg(Wa(Math.atan2(-t[2],t[0]))),rotateZ:Gb,rotate:Gb,skewX:t=>Wa(Math.atan(t[4])),skewY:t=>Wa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Cg(t){return t.includes("scale")?1:0}function Dg(t,e){if(!t||t==="none")return Cg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=fI,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=hI,a=f}if(!a)return Cg(e);const l=i[e],c=a[1].split(",").map(mI);return typeof l=="function"?l(c):c[l]}const dI=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Dg(n,e)};function mI(t){return parseFloat(t.trim())}const kl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vl=new Set(kl),Kb=t=>t===Ol||t===De,pI=new Set(["x","y","z"]),gI=kl.filter(t=>!pI.has(t));function yI(t){const e=[];return gI.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Xa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Dg(e,"x"),y:(t,{transform:e})=>Dg(e,"y")};Xa.translateX=Xa.x;Xa.translateY=Xa.y;const Za=new Set;let Ng=!1,Mg=!1,Rg=!1;function DS(){if(Mg){const t=Array.from(Za).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=yI(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,c])=>{i.getValue(l)?.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Mg=!1,Ng=!1,Za.forEach(t=>t.complete(Rg)),Za.clear()}function NS(){Za.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Mg=!0)})}function vI(){Rg=!0,NS(),DS(),Rg=!1}class Wy{constructor(e,n,i,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Za.add(this),Ng||(Ng=!0,Et.read(NS),Et.resolveKeyframes(DS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const f=i.readValue(n,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}cI(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Za.delete(this)}cancel(){this.state==="scheduled"&&(Za.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const _I=t=>t.startsWith("--");function TI(t,e,n){_I(e)?t.style.setProperty(e,n):t.style[e]=n}const bI=ky(()=>window.ScrollTimeline!==void 0),EI={};function wI(t,e){const n=ky(t);return()=>EI[e]??n()}const MS=wI(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),$u=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,$b={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$u([0,.65,.55,1]),circOut:$u([.55,0,1,.45]),backIn:$u([.31,.01,.66,-.59]),backOut:$u([.33,1.53,.69,.99])};function RS(t,e){if(t)return typeof t=="function"?MS()?AS(t,e):"ease-out":pS(t)?$u(t):Array.isArray(t)?t.map(n=>RS(n,e)||$b.easeOut):$b[t]}function SI(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:m}={},g=void 0){const y={[e]:n};m&&(y.offset=m);const T=RS(f,a);Array.isArray(T)&&(y.easing=T);const w={delay:i,duration:a,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return g&&(w.pseudoElement=g),t.animate(y,w)}function IS(t){return typeof t=="function"&&"applyToOptions"in t}function AI({type:t,...e}){return IS(t)&&MS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class xI extends Gy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,Oy(typeof e.type!="string");const g=AI(e);this.animation=SI(n,i,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=qy(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):TI(n,i,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return bs(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+bs(e)}get time(){return bs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=pi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&bI()?(this.animation.timeline=e,Es):n(this)}}const OS={anticipate:hS,backInOut:cS,circInOut:dS};function CI(t){return t in OS}function DI(t){typeof t.ease=="string"&&CI(t.ease)&&(t.ease=OS[t.ease])}const Qb=10;class NI extends xI{constructor(e){DI(e),CS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new Yy({...c,autoplay:!1}),m=pi(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-Qb).value,f.sample(m).value,Qb),f.stop()}}const Xb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ta.test(t)||t==="0")&&!t.startsWith("url("));function MI(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function RI(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=Xb(a,e),f=Xb(l,e);return!c||!f?!1:MI(t)||(n==="spring"||IS(n))&&i}function Ig(t){t.duration=0,t.type="keyframes"}const II=new Set(["opacity","clipPath","filter","transform"]),OI=ky(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function kI(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=e.owner.getProps();return OI()&&n&&II.has(n)&&(n!=="transform"||!g)&&!m&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}const VI=40;class PI extends Gy{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:m,motionValue:g,element:y,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Un.now();const w={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:g,element:y,...T},D=y?.KeyframeResolver||Wy;this.keyframeResolver=new D(f,(V,R,P)=>this.onKeyframesResolved(V,R,w,!P),m,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:m,isHandoff:g,onUpdate:y}=i;this.resolvedAt=Un.now(),RI(e,l,c,f)||((tr.instantAnimations||!m)&&y?.(qy(e,i,n)),e[0]=e[e.length-1],Ig(i),i.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>VI?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},D=!g&&kI(w)?new NI({...w,element:w.motionValue.owner.current}):new Yy(w);D.finished.then(()=>this.notifyFinished()).catch(Es),this.pendingTimeline&&(this.stopTimeline=D.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=D}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),vI()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const jI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function LI(t){const e=jI.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function kS(t,e,n=1){const[i,a]=LI(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return nS(c)?parseFloat(c):c}return Uy(a)?kS(a,e,n+1):a}function Ky(t,e){return t?.[e]??t?.default??t}const VS=new Set(["width","height","top","left","right","bottom",...kl]),UI={test:t=>t==="auto",parse:t=>t},PS=t=>e=>e.test(t),jS=[Ol,De,gi,Gr,MR,NR,UI],Zb=t=>jS.find(PS(t));function BI(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||iS(t):!0}const zI=new Set(["brightness","contrast","saturate","opacity"]);function FI(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(By)||[];if(!i)return t;const a=n.replace(i,"");let l=zI.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const HI=/\b([a-z-]*)\(.*?\)/gu,Og={...ta,getAnimatableNone:t=>{const e=t.match(HI);return e?e.map(FI).join(" "):t}},Jb={...Ol,transform:Math.round},qI={rotate:Gr,rotateX:Gr,rotateY:Gr,rotateZ:Gr,scale:_f,scaleX:_f,scaleY:_f,scaleZ:_f,skew:Gr,skewX:Gr,skewY:Gr,distance:De,translateX:De,translateY:De,translateZ:De,x:De,y:De,z:De,perspective:De,transformPerspective:De,opacity:pc,originX:Bb,originY:Bb,originZ:De},$y={borderWidth:De,borderTopWidth:De,borderRightWidth:De,borderBottomWidth:De,borderLeftWidth:De,borderRadius:De,radius:De,borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomRightRadius:De,borderBottomLeftRadius:De,width:De,maxWidth:De,height:De,maxHeight:De,top:De,right:De,bottom:De,left:De,padding:De,paddingTop:De,paddingRight:De,paddingBottom:De,paddingLeft:De,margin:De,marginTop:De,marginRight:De,marginBottom:De,marginLeft:De,backgroundPositionX:De,backgroundPositionY:De,...qI,zIndex:Jb,fillOpacity:pc,strokeOpacity:pc,numOctaves:Jb},GI={...$y,color:Kt,backgroundColor:Kt,outlineColor:Kt,fill:Kt,stroke:Kt,borderColor:Kt,borderTopColor:Kt,borderRightColor:Kt,borderBottomColor:Kt,borderLeftColor:Kt,filter:Og,WebkitFilter:Og},LS=t=>GI[t];function US(t,e){let n=LS(t);return n!==Og&&(n=ta),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const YI=new Set(["auto","none","0"]);function WI(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!YI.has(l)&&gc(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=US(n,a)}class KI extends Wy{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let g=e[m];if(typeof g=="string"&&(g=g.trim(),Uy(g))){const y=kS(g,n.current);y!==void 0&&(e[m]=y),m===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!VS.has(i)||e.length!==2)return;const[a,l]=e,c=Zb(a),f=Zb(l);if(c!==f)if(Kb(c)&&Kb(f))for(let m=0;m<e.length;m++){const g=e[m];typeof g=="string"&&(e[m]=parseFloat(g))}else Xa[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||BI(e[a]))&&i.push(a);i.length&&WI(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xa[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=Xa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{e.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function $I(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const BS=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function zS(t){return sS(t)&&"offsetHeight"in t}const e1=30,QI=t=>!isNaN(parseFloat(t));class XI{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=Un.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Un.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=QI(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Vy);const i=this.events[e].add(n);return e==="change"?()=>{i(),Et.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Un.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>e1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,e1);return rS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wl(t,e){return new XI(t,e)}const{schedule:Qy}=gS(queueMicrotask,!1),Ls={x:!1,y:!1};function FS(){return Ls.x||Ls.y}function ZI(t){return t==="x"||t==="y"?Ls[t]?null:(Ls[t]=!0,()=>{Ls[t]=!1}):Ls.x||Ls.y?null:(Ls.x=Ls.y=!0,()=>{Ls.x=Ls.y=!1})}function HS(t,e){const n=$I(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function t1(t){return!(t.pointerType==="touch"||FS())}function JI(t,e,n={}){const[i,a,l]=HS(t,n),c=f=>{if(!t1(f))return;const{target:m}=f,g=e(m,f);if(typeof g!="function"||!m)return;const y=T=>{t1(T)&&(g(T),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return i.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}const qS=(t,e)=>e?t===e?!0:qS(t,e.parentElement):!1,Xy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,eO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function tO(t){return eO.has(t.tagName)||t.tabIndex!==-1}const Rf=new WeakSet;function n1(t){return e=>{e.key==="Enter"&&t(e)}}function Wp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const nO=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=n1(()=>{if(Rf.has(n))return;Wp(n,"down");const a=n1(()=>{Wp(n,"up")}),l=()=>Wp(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function s1(t){return Xy(t)&&!FS()}function sO(t,e,n={}){const[i,a,l]=HS(t,n),c=f=>{const m=f.currentTarget;if(!s1(f))return;Rf.add(m);const g=e(m,f),y=(D,V)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",w),Rf.has(m)&&Rf.delete(m),s1(D)&&typeof g=="function"&&g(D,{success:V})},T=D=>{y(D,m===window||m===document||n.useGlobalTarget||qS(m,D.target))},w=D=>{y(D,!1)};window.addEventListener("pointerup",T,a),window.addEventListener("pointercancel",w,a)};return i.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),zS(f)&&(f.addEventListener("focus",g=>nO(g,a)),!tO(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function GS(t){return sS(t)&&"ownerSVGElement"in t}function iO(t){return GS(t)&&t.tagName==="svg"}const wn=t=>!!(t&&t.getVelocity),rO=[...jS,Kt,ta],aO=t=>rO.find(PS(t)),Zy=Q.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function i1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function oO(...t){return e=>{let n=!1;const i=t.map(a=>{const l=i1(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():i1(t[a],null)}}}}function lO(...t){return Q.useCallback(oO(...t),t)}class uO extends Q.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=zS(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function cO({children:t,isPresent:e,anchorX:n,root:i}){const a=Q.useId(),l=Q.useRef(null),c=Q.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=Q.useContext(Zy),m=lO(l,t?.ref);return Q.useInsertionEffect(()=>{const{width:g,height:y,top:T,left:w,right:D}=c.current;if(e||!l.current||!g||!y)return;const V=n==="left"?`left: ${w}`:`right: ${D}`;l.current.dataset.motionPopId=a;const R=document.createElement("style");f&&(R.nonce=f);const P=i??document.head;return P.appendChild(R),R.sheet&&R.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${V}px !important;
            top: ${T}px !important;
          }
        `),()=>{P.contains(R)&&P.removeChild(R)}},[e]),v.jsx(uO,{isPresent:e,childRef:l,sizeRef:c,children:Q.cloneElement(t,{ref:m})})}const hO=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:c,anchorX:f,root:m})=>{const g=Ny(fO),y=Q.useId();let T=!0,w=Q.useMemo(()=>(T=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:D=>{g.set(D,!0);for(const V of g.values())if(!V)return;i&&i()},register:D=>(g.set(D,!1),()=>g.delete(D))}),[n,g,i]);return l&&T&&(w={...w}),Q.useMemo(()=>{g.forEach((D,V)=>g.set(V,!1))},[n]),Q.useEffect(()=>{!n&&!g.size&&i&&i()},[n]),c==="popLayout"&&(t=v.jsx(cO,{isPresent:n,anchorX:f,root:m,children:t})),v.jsx(yd.Provider,{value:w,children:t})};function fO(){return new Map}function YS(t=!0){const e=Q.useContext(yd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=Q.useId();Q.useEffect(()=>{if(t)return a(l)},[t]);const c=Q.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,c]:[!0]}const Tf=t=>t.key||"";function r1(t){const e=[];return Q.Children.forEach(t,n=>{Q.isValidElement(n)&&e.push(n)}),e}const di=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:f="left",root:m})=>{const[g,y]=YS(c),T=Q.useMemo(()=>r1(t),[t]),w=c&&!g?[]:T.map(Tf),D=Q.useRef(!0),V=Q.useRef(T),R=Ny(()=>new Map),[P,z]=Q.useState(T),[K,F]=Q.useState(T);tS(()=>{D.current=!1,V.current=T;for(let G=0;G<K.length;G++){const x=Tf(K[G]);w.includes(x)?R.delete(x):R.get(x)!==!0&&R.set(x,!1)}},[K,w.length,w.join("-")]);const te=[];if(T!==P){let G=[...T];for(let x=0;x<K.length;x++){const A=K[x],M=Tf(A);w.includes(M)||(G.splice(x,0,A),te.push(A))}return l==="wait"&&te.length&&(G=te),F(r1(G)),z(T),null}const{forceRender:B}=Q.useContext(Dy);return v.jsx(v.Fragment,{children:K.map(G=>{const x=Tf(G),A=c&&!g?!1:T===K||w.includes(x),M=()=>{if(R.has(x))R.set(x,!0);else return;let k=!0;R.forEach(O=>{O||(k=!1)}),k&&(B?.(),F(V.current),c&&y?.(),i&&i())};return v.jsx(hO,{isPresent:A,initial:!D.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:A?void 0:M,anchorX:f,children:G},x)})})},WS=Q.createContext({strict:!1}),a1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Sl={};for(const t in a1)Sl[t]={isEnabled:e=>a1[t].some(n=>!!e[n])};function dO(t){for(const e in t)Sl[e]={...Sl[e],...t[e]}}const mO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Wf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||mO.has(t)}let KS=t=>!Wf(t);function pO(t){typeof t=="function"&&(KS=e=>e.startsWith("on")?!Wf(e):t(e))}try{pO(require("@emotion/is-prop-valid").default)}catch{}function gO(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(KS(a)||n===!0&&Wf(a)||!e&&!Wf(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const vd=Q.createContext({});function _d(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function yc(t){return typeof t=="string"||Array.isArray(t)}const Jy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ev=["initial",...Jy];function Td(t){return _d(t.animate)||ev.some(e=>yc(t[e]))}function $S(t){return!!(Td(t)||t.variants)}function yO(t,e){if(Td(t)){const{initial:n,animate:i}=t;return{initial:n===!1||yc(n)?n:void 0,animate:yc(i)?i:void 0}}return t.inherit!==!1?e:{}}function vO(t){const{initial:e,animate:n}=yO(t,Q.useContext(vd));return Q.useMemo(()=>({initial:e,animate:n}),[o1(e),o1(n)])}function o1(t){return Array.isArray(t)?t.join(" "):t}const vc={};function _O(t){for(const e in t)vc[e]=t[e],Ly(e)&&(vc[e].isCSSVariable=!0)}function QS(t,{layout:e,layoutId:n}){return Vl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!vc[t]||t==="opacity")}const TO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bO=kl.length;function EO(t,e,n){let i="",a=!0;for(let l=0;l<bO;l++){const c=kl[l],f=t[c];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(c.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const g=BS(f,$y[c]);if(!m){a=!1;const y=TO[c]||c;i+=`${y}(${g}) `}n&&(e[c]=g)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function tv(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let c=!1,f=!1;for(const m in e){const g=e[m];if(Vl.has(m)){c=!0;continue}else if(Ly(m)){a[m]=g;continue}else{const y=BS(g,$y[m]);m.startsWith("origin")?(f=!0,l[m]=y):i[m]=y}}if(e.transform||(c||n?i.transform=EO(e,t.transform,n):i.transform&&(i.transform="none")),f){const{originX:m="50%",originY:g="50%",originZ:y=0}=l;i.transformOrigin=`${m} ${g} ${y}`}}const nv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function XS(t,e,n){for(const i in e)!wn(e[i])&&!QS(i,n)&&(t[i]=e[i])}function wO({transformTemplate:t},e){return Q.useMemo(()=>{const n=nv();return tv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function SO(t,e){const n=t.style||{},i={};return XS(i,n,t),Object.assign(i,wO(t,e)),i}function AO(t,e){const n={},i=SO(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const xO={offset:"stroke-dashoffset",array:"stroke-dasharray"},CO={offset:"strokeDashoffset",array:"strokeDasharray"};function DO(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?xO:CO;t[l.offset]=De.transform(-i);const c=De.transform(e),f=De.transform(n);t[l.array]=`${c} ${f}`}function ZS(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...f},m,g,y){if(tv(t,f,g),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:T,style:w}=t;T.transform&&(w.transform=T.transform,delete T.transform),(w.transform||T.transformOrigin)&&(w.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),w.transform&&(w.transformBox=y?.transformBox??"fill-box",delete T.transformBox),e!==void 0&&(T.x=e),n!==void 0&&(T.y=n),i!==void 0&&(T.scale=i),a!==void 0&&DO(T,a,l,c,!1)}const JS=()=>({...nv(),attrs:{}}),eA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function NO(t,e,n,i){const a=Q.useMemo(()=>{const l=JS();return ZS(l,e,eA(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};XS(l,t.style,t),a.style={...l,...a.style}}return a}const MO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sv(t){return typeof t!="string"||t.includes("-")?!1:!!(MO.indexOf(t)>-1||/[A-Z]/u.test(t))}function RO(t,e,n,{latestValues:i},a,l=!1){const f=(sv(t)?NO:AO)(e,i,a,t),m=gO(e,typeof t=="string",l),g=t!==Q.Fragment?{...m,...f,ref:n}:{},{children:y}=e,T=Q.useMemo(()=>wn(y)?y.get():y,[y]);return Q.createElement(t,{...g,children:T})}function l1(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function iv(t,e,n,i){if(typeof e=="function"){const[a,l]=l1(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=l1(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function If(t){return wn(t)?t.get():t}function IO({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:OO(n,i,a,t),renderState:e()}}function OO(t,e,n,i){const a={},l=i(t,{});for(const w in l)a[w]=If(l[w]);let{initial:c,animate:f}=t;const m=Td(t),g=$S(t);e&&g&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const T=y?f:c;if(T&&typeof T!="boolean"&&!_d(T)){const w=Array.isArray(T)?T:[T];for(let D=0;D<w.length;D++){const V=iv(t,w[D]);if(V){const{transitionEnd:R,transition:P,...z}=V;for(const K in z){let F=z[K];if(Array.isArray(F)){const te=y?F.length-1:0;F=F[te]}F!==null&&(a[K]=F)}for(const K in R)a[K]=R[K]}}}return a}const tA=t=>(e,n)=>{const i=Q.useContext(vd),a=Q.useContext(yd),l=()=>IO(t,e,i,a);return n?l():Ny(l)};function rv(t,e,n){const{style:i}=t,a={};for(const l in i)(wn(i[l])||e.style&&wn(e.style[l])||QS(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=i[l]);return a}const kO=tA({scrapeMotionValuesFromProps:rv,createRenderState:nv});function nA(t,e,n){const i=rv(t,e,n);for(const a in t)if(wn(t[a])||wn(e[a])){const l=kl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}const VO=tA({scrapeMotionValuesFromProps:nA,createRenderState:JS}),PO=Symbol.for("motionComponentSymbol");function hl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function jO(t,e,n){return Q.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):hl(n)&&(n.current=i))},[e])}const av=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),LO="framerAppearId",sA="data-"+av(LO),iA=Q.createContext({});function UO(t,e,n,i,a){const{visualElement:l}=Q.useContext(vd),c=Q.useContext(WS),f=Q.useContext(yd),m=Q.useContext(Zy).reducedMotion,g=Q.useRef(null);i=i||c.renderer,!g.current&&i&&(g.current=i(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const y=g.current,T=Q.useContext(iA);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&BO(g.current,n,a,T);const w=Q.useRef(!1);Q.useInsertionEffect(()=>{y&&w.current&&y.update(n,f)});const D=n[sA],V=Q.useRef(!!D&&!window.MotionHandoffIsComplete?.(D)&&window.MotionHasOptimisedAnimation?.(D));return tS(()=>{y&&(w.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),V.current&&y.animationState&&y.animationState.animateChanges())}),Q.useEffect(()=>{y&&(!V.current&&y.animationState&&y.animationState.animateChanges(),V.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(D)}),V.current=!1),y.enteringChildren=void 0)}),y}function BO(t,e,n,i){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:g,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:rA(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&hl(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:m,layoutRoot:g})}function rA(t){if(t)return t.options.allowProjection!==!1?t.projection:rA(t.parent)}function Kp(t,{forwardMotionProps:e=!1}={},n,i){n&&dO(n);const a=sv(t)?VO:kO;function l(f,m){let g;const y={...Q.useContext(Zy),...f,layoutId:zO(f)},{isStatic:T}=y,w=vO(f),D=a(f,T);if(!T&&My){FO();const V=HO(y);g=V.MeasureLayout,w.visualElement=UO(t,D,y,i,V.ProjectionNode)}return v.jsxs(vd.Provider,{value:w,children:[g&&w.visualElement?v.jsx(g,{visualElement:w.visualElement,...y}):null,RO(t,f,jO(D,w.visualElement,m),D,T,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=Q.forwardRef(l);return c[PO]=t,c}function zO({layoutId:t}){const e=Q.useContext(Dy).id;return e&&t!==void 0?e+"-"+t:t}function FO(t,e){Q.useContext(WS).strict}function HO(t){const{drag:e,layout:n}=Sl;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function qO(t,e){if(typeof Proxy>"u")return Kp;const n=new Map,i=(l,c)=>Kp(l,c,t,e),a=(l,c)=>i(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?i:(n.has(c)||n.set(c,Kp(c,void 0,t,e)),n.get(c))})}function aA({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function GO({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function YO(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function $p(t){return t===void 0||t===1}function kg({scale:t,scaleX:e,scaleY:n}){return!$p(t)||!$p(e)||!$p(n)}function qa(t){return kg(t)||oA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function oA(t){return u1(t.x)||u1(t.y)}function u1(t){return t&&t!=="0%"}function Kf(t,e,n){const i=t-n,a=e*i;return n+a}function c1(t,e,n,i,a){return a!==void 0&&(t=Kf(t,a,i)),Kf(t,n,i)+e}function Vg(t,e=0,n=1,i,a){t.min=c1(t.min,e,n,i,a),t.max=c1(t.max,e,n,i,a)}function lA(t,{x:e,y:n}){Vg(t.x,e.translate,e.scale,e.originPoint),Vg(t.y,n.translate,n.scale,n.originPoint)}const h1=.999999999999,f1=1.0000000000001;function WO(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&dl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,lA(t,c)),i&&qa(l.latestValues)&&dl(t,l.latestValues))}e.x<f1&&e.x>h1&&(e.x=1),e.y<f1&&e.y>h1&&(e.y=1)}function fl(t,e){t.min=t.min+e,t.max=t.max+e}function d1(t,e,n,i,a=.5){const l=xt(t.min,t.max,a);Vg(t,e,n,l,i)}function dl(t,e){d1(t.x,e.x,e.scaleX,e.scale,e.originX),d1(t.y,e.y,e.scaleY,e.scale,e.originY)}function uA(t,e){return aA(YO(t.getBoundingClientRect(),e))}function KO(t,e,n){const i=uA(t,n),{scroll:a}=e;return a&&(fl(i.x,a.offset.x),fl(i.y,a.offset.y)),i}const m1=()=>({translate:0,scale:1,origin:0,originPoint:0}),ml=()=>({x:m1(),y:m1()}),p1=()=>({min:0,max:0}),Jt=()=>({x:p1(),y:p1()}),Pg={current:null},cA={current:!1};function $O(){if(cA.current=!0,!!My)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Pg.current=t.matches;t.addEventListener("change",e),e()}else Pg.current=!1}const QO=new WeakMap;function XO(t,e,n){for(const i in e){const a=e[i],l=n[i];if(wn(a))t.addValue(i,a);else if(wn(l))t.addValue(i,wl(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(i);t.addValue(i,wl(c!==void 0?c:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const g1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ZO{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Wy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Un.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Et.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=g,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Td(n),this.isVariantNode=$S(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in T){const D=T[w];m[w]!==void 0&&wn(D)&&D.set(m[w])}}mount(e){this.current=e,QO.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),cA.current||$O(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Pg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ea(this.notifyUpdate),ea(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Vl.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Et.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Sl){const n=Sl[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Jt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<g1.length;i++){const a=g1[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=XO(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=wl(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(nS(i)||iS(i))?i=parseFloat(i):!aO(i)&&ta.test(n)&&(i=US(e,n)),this.setBaseTarget(e,wn(i)?i.get():i)),wn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=iv(this.props,n,this.presenceContext?.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!wn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Vy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Qy.render(this.render)}}class hA extends ZO{constructor(){super(...arguments),this.KeyframeResolver=KI}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;wn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function fA(t,{style:e,vars:n},i,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,i);for(c in n)l.setProperty(c,n[c])}function JO(t){return window.getComputedStyle(t)}class ek extends hA{constructor(){super(...arguments),this.type="html",this.renderInstance=fA}readValueFromInstance(e,n){if(Vl.has(n))return this.projection?.isProjecting?Cg(n):dI(e,n);{const i=JO(e),a=(Ly(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return uA(e,n)}build(e,n,i){tv(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return rv(e,n,i)}}const dA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tk(t,e,n,i){fA(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(dA.has(a)?a:av(a),e.attrs[a])}class nk extends hA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Jt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Vl.has(n)){const i=LS(n);return i&&i.default||0}return n=dA.has(n)?n:av(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return nA(e,n,i)}build(e,n,i){ZS(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){tk(e,n,i,a)}mount(e){this.isSVGTag=eA(e.tagName),super.mount(e)}}const sk=(t,e)=>sv(t)?new nk(e):new ek(e,{allowProjection:t!==Q.Fragment});function gl(t,e,n){const i=t.getProps();return iv(i,e,n!==void 0?n:i.custom,t)}const jg=t=>Array.isArray(t);function ik(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,wl(n))}function rk(t){return jg(t)?t[t.length-1]||0:t}function ak(t,e){const n=gl(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const c in l){const f=rk(l[c]);ik(t,c,f)}}function ok(t){return!!(wn(t)&&t.add)}function Lg(t,e){const n=t.getValue("willChange");if(ok(n))return n.add(e);if(!n&&tr.WillChange){const i=new tr.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function mA(t){return t.props[sA]}const lk=t=>t!==null;function uk(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(lk),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const ck={type:"spring",stiffness:500,damping:25,restSpeed:10},hk=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),fk={type:"keyframes",duration:.8},dk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mk=(t,{keyframes:e})=>e.length>2?fk:Vl.has(t)?t.startsWith("scale")?hk(e[1]):ck:dk;function pk({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:m,elapsed:g,...y}){return!!Object.keys(y).length}const ov=(t,e,n,i={},a,l)=>c=>{const f=Ky(i,t)||{},m=f.delay||i.delay||0;let{elapsed:g=0}=i;g=g-pi(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-g,onUpdate:w=>{e.set(w),f.onUpdate&&f.onUpdate(w)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};pk(f)||Object.assign(y,mk(t,y)),y.duration&&(y.duration=pi(y.duration)),y.repeatDelay&&(y.repeatDelay=pi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let T=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Ig(y),y.delay===0&&(T=!0)),(tr.instantAnimations||tr.skipAnimations)&&(T=!0,Ig(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,T&&!l&&e.get()!==void 0){const w=uk(y.keyframes,f);if(w!==void 0){Et.update(()=>{y.onUpdate(w),y.onComplete()});return}}return f.isSync?new Yy(y):new PI(y)};function gk({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function pA(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...f}=e;i&&(l=i);const m=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const y in f){const T=t.getValue(y,t.latestValues[y]??null),w=f[y];if(w===void 0||g&&gk(g,y))continue;const D={delay:n,...Ky(l||{},y)},V=T.get();if(V!==void 0&&!T.isAnimating&&!Array.isArray(w)&&w===V&&!D.velocity)continue;let R=!1;if(window.MotionHandoffAnimation){const z=mA(t);if(z){const K=window.MotionHandoffAnimation(z,y,Et);K!==null&&(D.startTime=K,R=!0)}}Lg(t,y),T.start(ov(y,T,w,t.shouldReduceMotion&&VS.has(y)?{type:!1}:D,t,R));const P=T.animation;P&&m.push(P)}return c&&Promise.all(m).then(()=>{Et.update(()=>{c&&ak(t,c)})}),m}function gA(t,e,n,i=0,a=1){const l=Array.from(t).sort((g,y)=>g.sortNodePosition(y)).indexOf(e),c=t.size,f=(c-1)*i;return typeof n=="function"?n(l,c):a===1?l*i:f-l*i}function Ug(t,e,n={}){const i=gl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(pA(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:T}=a;return yk(t,e,m,g,y,T,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,g]=f==="beforeChildren"?[l,c]:[c,l];return m().then(()=>g())}else return Promise.all([l(),c(n.delay)])}function yk(t,e,n=0,i=0,a=0,l=1,c){const f=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),f.push(Ug(m,e,{...c,delay:n+(typeof i=="function"?0:i)+gA(t.variantChildren,m,i,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(f)}function vk(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>Ug(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=Ug(t,e,n);else{const a=typeof e=="function"?gl(t,e,n.custom):e;i=Promise.all(pA(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function yA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const _k=ev.length;function vA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?vA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<_k;n++){const i=ev[n],a=t.props[i];(yc(a)||a===!1)&&(e[i]=a)}return e}const Tk=[...Jy].reverse(),bk=Jy.length;function Ek(t){return e=>Promise.all(e.map(({animation:n,options:i})=>vk(t,n,i)))}function wk(t){let e=Ek(t),n=y1(),i=!0;const a=m=>(g,y)=>{const T=gl(t,y,m==="exit"?t.presenceContext?.custom:void 0);if(T){const{transition:w,transitionEnd:D,...V}=T;g={...g,...V,...D}}return g};function l(m){e=m(t)}function c(m){const{props:g}=t,y=vA(t.parent)||{},T=[],w=new Set;let D={},V=1/0;for(let P=0;P<bk;P++){const z=Tk[P],K=n[z],F=g[z]!==void 0?g[z]:y[z],te=yc(F),B=z===m?K.isActive:null;B===!1&&(V=P);let G=F===y[z]&&F!==g[z]&&te;if(G&&i&&t.manuallyAnimateOnMount&&(G=!1),K.protectedKeys={...D},!K.isActive&&B===null||!F&&!K.prevProp||_d(F)||typeof F=="boolean")continue;const x=Sk(K.prevProp,F);let A=x||z===m&&K.isActive&&!G&&te||P>V&&te,M=!1;const k=Array.isArray(F)?F:[F];let O=k.reduce(a(z),{});B===!1&&(O={});const{prevResolvedValues:I={}}=K,N={...I,...O},pe=oe=>{A=!0,w.has(oe)&&(M=!0,w.delete(oe)),K.needsAnimating[oe]=!0;const he=t.getValue(oe);he&&(he.liveStyle=!1)};for(const oe in N){const he=O[oe],Te=I[oe];if(D.hasOwnProperty(oe))continue;let Ce=!1;jg(he)&&jg(Te)?Ce=!yA(he,Te):Ce=he!==Te,Ce?he!=null?pe(oe):w.add(oe):he!==void 0&&w.has(oe)?pe(oe):K.protectedKeys[oe]=!0}K.prevProp=F,K.prevResolvedValues=O,K.isActive&&(D={...D,...O}),i&&t.blockInitialAnimation&&(A=!1);const Be=G&&x;A&&(!Be||M)&&T.push(...k.map(oe=>{const he={type:z};if(typeof oe=="string"&&i&&!Be&&t.manuallyAnimateOnMount&&t.parent){const{parent:Te}=t,Ce=gl(Te,oe);if(Te.enteringChildren&&Ce){const{delayChildren:L}=Ce.transition||{};he.delay=gA(Te.enteringChildren,t,L)}}return{animation:oe,options:he}}))}if(w.size){const P={};if(typeof g.initial!="boolean"){const z=gl(t,Array.isArray(g.initial)?g.initial[0]:g.initial);z&&z.transition&&(P.transition=z.transition)}w.forEach(z=>{const K=t.getBaseTarget(z),F=t.getValue(z);F&&(F.liveStyle=!0),P[z]=K??null}),T.push({animation:P})}let R=!!T.length;return i&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(R=!1),i=!1,R?e(T):Promise.resolve()}function f(m,g){if(n[m].isActive===g)return Promise.resolve();t.variantChildren?.forEach(T=>T.animationState?.setActive(m,g)),n[m].isActive=g;const y=c(m);for(const T in n)n[T].protectedKeys={};return y}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=y1()}}}function Sk(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!yA(e,t):!1}function Fa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function y1(){return{animate:Fa(!0),whileInView:Fa(),whileHover:Fa(),whileTap:Fa(),whileDrag:Fa(),whileFocus:Fa(),exit:Fa()}}class ua{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Ak extends ua{constructor(e){super(e),e.animationState||(e.animationState=wk(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();_d(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let xk=0;class Ck extends ua{constructor(){super(...arguments),this.id=xk++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Dk={animation:{Feature:Ak},exit:{Feature:Ck}};function _c(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Vc(t){return{point:{x:t.pageX,y:t.pageY}}}const Nk=t=>e=>Xy(e)&&t(e,Vc(e));function sc(t,e,n,i){return _c(t,e,Nk(n),i)}const _A=1e-4,Mk=1-_A,Rk=1+_A,TA=.01,Ik=0-TA,Ok=0+TA;function Dn(t){return t.max-t.min}function kk(t,e,n){return Math.abs(t-e)<=n}function v1(t,e,n,i=.5){t.origin=i,t.originPoint=xt(e.min,e.max,t.origin),t.scale=Dn(n)/Dn(e),t.translate=xt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Mk&&t.scale<=Rk||isNaN(t.scale))&&(t.scale=1),(t.translate>=Ik&&t.translate<=Ok||isNaN(t.translate))&&(t.translate=0)}function ic(t,e,n,i){v1(t.x,e.x,n.x,i?i.originX:void 0),v1(t.y,e.y,n.y,i?i.originY:void 0)}function _1(t,e,n){t.min=n.min+e.min,t.max=t.min+Dn(e)}function Vk(t,e,n){_1(t.x,e.x,n.x),_1(t.y,e.y,n.y)}function T1(t,e,n){t.min=e.min-n.min,t.max=t.min+Dn(e)}function $f(t,e,n){T1(t.x,e.x,n.x),T1(t.y,e.y,n.y)}function ys(t){return[t("x"),t("y")]}const bA=({current:t})=>t?t.ownerDocument.defaultView:null,b1=(t,e)=>Math.abs(t-e);function Pk(t,e){const n=b1(t.x,e.x),i=b1(t.y,e.y);return Math.sqrt(n**2+i**2)}class EA{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Xp(this.lastMoveEventInfo,this.history),D=this.startEvent!==null,V=Pk(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!D&&!V)return;const{point:R}=w,{timestamp:P}=mn;this.history.push({...R,timestamp:P});const{onStart:z,onMove:K}=this.handlers;D||(z&&z(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),K&&K(this.lastMoveEvent,w)},this.handlePointerMove=(w,D)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Qp(D,this.transformPagePoint),Et.update(this.updatePoint,!0)},this.handlePointerUp=(w,D)=>{this.end();const{onEnd:V,onSessionEnd:R,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const z=Xp(w.type==="pointercancel"?this.lastMoveEventInfo:Qp(D,this.transformPagePoint),this.history);this.startEvent&&V&&V(w,z),R&&R(w,z)},!Xy(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const f=Vc(e),m=Qp(f,this.transformPagePoint),{point:g}=m,{timestamp:y}=mn;this.history=[{...g,timestamp:y}];const{onSessionStart:T}=n;T&&T(e,Xp(m,this.history)),this.removeListeners=Ic(sc(this.contextWindow,"pointermove",this.handlePointerMove),sc(this.contextWindow,"pointerup",this.handlePointerUp),sc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ea(this.updatePoint)}}function Qp(t,e){return e?{point:e(t.point)}:t}function E1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Xp({point:t},e){return{point:t,delta:E1(t,wA(e)),offset:E1(t,jk(e)),velocity:Lk(e,.1)}}function jk(t){return t[0]}function wA(t){return t[t.length-1]}function Lk(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=wA(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>pi(e)));)n--;if(!i)return{x:0,y:0};const l=bs(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Uk(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?xt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?xt(n,t,i.max):Math.min(t,n)),t}function w1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Bk(t,{top:e,left:n,bottom:i,right:a}){return{x:w1(t.x,n,a),y:w1(t.y,e,i)}}function S1(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function zk(t,e){return{x:S1(t.x,e.x),y:S1(t.y,e.y)}}function Fk(t,e){let n=.5;const i=Dn(t),a=Dn(e);return a>i?n=mc(e.min,e.max-i,t.min):i>a&&(n=mc(t.min,t.max-a,e.min)),er(0,1,n)}function Hk(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Bg=.35;function qk(t=Bg){return t===!1?t=0:t===!0&&(t=Bg),{x:A1(t,"left","right"),y:A1(t,"top","bottom")}}function A1(t,e,n){return{min:x1(t,e),max:x1(t,n)}}function x1(t,e){return typeof t=="number"?t:t[e]||0}const Gk=new WeakMap;class Yk{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Jt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=T=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Vc(T).point)},c=(T,w)=>{const{drag:D,dragPropagation:V,onDragStart:R}=this.getProps();if(D&&!V&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ZI(D),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ys(z=>{let K=this.getAxisMotionValue(z).get()||0;if(gi.test(K)){const{projection:F}=this.visualElement;if(F&&F.layout){const te=F.layout.layoutBox[z];te&&(K=Dn(te)*(parseFloat(K)/100))}}this.originPoint[z]=K}),R&&Et.postRender(()=>R(T,w)),Lg(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},f=(T,w)=>{this.latestPointerEvent=T,this.latestPanInfo=w;const{dragPropagation:D,dragDirectionLock:V,onDirectionLock:R,onDrag:P}=this.getProps();if(!D&&!this.openDragLock)return;const{offset:z}=w;if(V&&this.currentDirection===null){this.currentDirection=Wk(z),this.currentDirection!==null&&R&&R(this.currentDirection);return}this.updateAxis("x",w.point,z),this.updateAxis("y",w.point,z),this.visualElement.render(),P&&P(T,w)},m=(T,w)=>{this.latestPointerEvent=T,this.latestPanInfo=w,this.stop(T,w),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>ys(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new EA(e,{onSessionStart:l,onStart:c,onMove:f,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:bA(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&Et.postRender(()=>f(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!bf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=Uk(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&hl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Bk(i.layoutBox,e):this.constraints=!1,this.elastic=qk(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ys(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Hk(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!hl(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=KO(i,a.root,this.visualElement.getTransformPagePoint());let c=zk(a.layout.layoutBox,l);if(n){const f=n(GO(c));this.hasMutatedConstraints=!!f,f&&(c=aA(f))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},g=ys(y=>{if(!bf(y,n,this.currentDirection))return;let T=m&&m[y]||{};c&&(T={min:0,max:0});const w=a?200:1e6,D=a?40:1e7,V={type:"inertia",velocity:i?e[y]:0,bounceStiffness:w,bounceDamping:D,timeConstant:750,restDelta:1,restSpeed:10,...l,...T};return this.startAxisValueAnimation(y,V)});return Promise.all(g).then(f)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Lg(this.visualElement,e),i.start(ov(e,i,0,n,this.visualElement,!1))}stopAnimation(){ys(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ys(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){ys(n=>{const{drag:i}=this.getProps();if(!bf(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n];l.set(e[n]-xt(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!hl(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ys(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();a[c]=Fk({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ys(c=>{if(!bf(c,e,null))return;const f=this.getAxisMotionValue(c),{min:m,max:g}=this.constraints[c];f.set(xt(m,g,a[c]))})}addListeners(){if(!this.visualElement.current)return;Gk.set(this.visualElement,this);const e=this.visualElement.current,n=sc(e,"pointerdown",m=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(m)}),i=()=>{const{dragConstraints:m}=this.getProps();hl(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Et.read(i);const c=_c(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(ys(y=>{const T=this.getAxisMotionValue(y);T&&(this.originPoint[y]+=m[y].translate,T.set(T.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Bg,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function bf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Wk(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Kk extends ua{constructor(e){super(e),this.removeGroupControls=Es,this.removeListeners=Es,this.controls=new Yk(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Es}unmount(){this.removeGroupControls(),this.removeListeners()}}const C1=t=>(e,n)=>{t&&Et.postRender(()=>t(e,n))};class $k extends ua{constructor(){super(...arguments),this.removePointerDownListener=Es}onPointerDown(e){this.session=new EA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:C1(e),onStart:C1(n),onMove:i,onEnd:(l,c)=>{delete this.session,a&&Et.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=sc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Of={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function D1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Wu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(De.test(t))t=parseFloat(t);else return t;const n=D1(t,e.target.x),i=D1(t,e.target.y);return`${n}% ${i}%`}},Qk={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=ta.parse(t);if(a.length>5)return i;const l=ta.createTransformer(t),c=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=f,a[1+c]/=m;const g=xt(f,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g),l(a)}};let Zp=!1;class Xk extends Q.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;_O(Zk),l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),Zp&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Of.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,Zp=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Et.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Qy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;Zp=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function SA(t){const[e,n]=YS(),i=Q.useContext(Dy);return v.jsx(Xk,{...t,layoutGroup:i,switchLayoutGroup:Q.useContext(iA),isPresent:e,safeToRemove:n})}const Zk={borderRadius:{...Wu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wu,borderTopRightRadius:Wu,borderBottomLeftRadius:Wu,borderBottomRightRadius:Wu,boxShadow:Qk};function Jk(t,e,n){const i=wn(t)?t:wl(t);return i.start(ov("",i,e,n)),i.animation}const eV=(t,e)=>t.depth-e.depth;class tV{constructor(){this.children=[],this.isDirty=!1}add(e){Ry(this.children,e),this.isDirty=!0}remove(e){Iy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(eV),this.isDirty=!1,this.children.forEach(e)}}function nV(t,e){const n=Un.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(ea(i),t(l-e))};return Et.setup(i,!0),()=>ea(i)}const AA=["TopLeft","TopRight","BottomLeft","BottomRight"],sV=AA.length,N1=t=>typeof t=="string"?parseFloat(t):t,M1=t=>typeof t=="number"||De.test(t);function iV(t,e,n,i,a,l){a?(t.opacity=xt(0,n.opacity??1,rV(i)),t.opacityExit=xt(e.opacity??1,0,aV(i))):l&&(t.opacity=xt(e.opacity??1,n.opacity??1,i));for(let c=0;c<sV;c++){const f=`border${AA[c]}Radius`;let m=R1(e,f),g=R1(n,f);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||M1(m)===M1(g)?(t[f]=Math.max(xt(N1(m),N1(g),i),0),(gi.test(g)||gi.test(m))&&(t[f]+="%")):t[f]=g}(e.rotate||n.rotate)&&(t.rotate=xt(e.rotate||0,n.rotate||0,i))}function R1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const rV=xA(0,.5,fS),aV=xA(.5,.95,Es);function xA(t,e,n){return i=>i<t?0:i>e?1:n(mc(t,e,i))}function I1(t,e){t.min=e.min,t.max=e.max}function Ps(t,e){I1(t.x,e.x),I1(t.y,e.y)}function O1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function k1(t,e,n,i,a){return t-=e,t=Kf(t,1/n,i),a!==void 0&&(t=Kf(t,1/a,i)),t}function oV(t,e=0,n=1,i=.5,a,l=t,c=t){if(gi.test(e)&&(e=parseFloat(e),e=xt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=xt(l.min,l.max,i);t===l&&(f-=e),t.min=k1(t.min,e,n,f,a),t.max=k1(t.max,e,n,f,a)}function V1(t,e,[n,i,a],l,c){oV(t,e[n],e[i],e[a],e.scale,l,c)}const lV=["x","scaleX","originX"],uV=["y","scaleY","originY"];function P1(t,e,n,i){V1(t.x,e,lV,n?n.x:void 0,i?i.x:void 0),V1(t.y,e,uV,n?n.y:void 0,i?i.y:void 0)}function j1(t){return t.translate===0&&t.scale===1}function CA(t){return j1(t.x)&&j1(t.y)}function L1(t,e){return t.min===e.min&&t.max===e.max}function cV(t,e){return L1(t.x,e.x)&&L1(t.y,e.y)}function U1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function DA(t,e){return U1(t.x,e.x)&&U1(t.y,e.y)}function B1(t){return Dn(t.x)/Dn(t.y)}function z1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class hV{constructor(){this.members=[]}add(e){Ry(this.members,e),e.scheduleRender()}remove(e){if(Iy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function fV(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(i=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:g,rotate:y,rotateX:T,rotateY:w,skewX:D,skewY:V}=n;g&&(i=`perspective(${g}px) ${i}`),y&&(i+=`rotate(${y}deg) `),T&&(i+=`rotateX(${T}deg) `),w&&(i+=`rotateY(${w}deg) `),D&&(i+=`skewX(${D}deg) `),V&&(i+=`skewY(${V}deg) `)}const f=t.x.scale*e.x,m=t.y.scale*e.y;return(f!==1||m!==1)&&(i+=`scale(${f}, ${m})`),i||"none"}const Jp=["","X","Y","Z"],dV=1e3;let mV=0;function eg(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function NA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=mA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Et,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&NA(i)}function MA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},f=e?.()){this.id=mV++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(yV),this.nodes.forEach(bV),this.nodes.forEach(EV),this.nodes.forEach(vV)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new tV)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Vy),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=GS(c)&&!iO(c),this.instance=c;const{layoutId:f,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),t){let y,T=0;const w=()=>this.root.updateBlockedByResize=!1;Et.read(()=>{T=window.innerWidth}),t(c,()=>{const D=window.innerWidth;D!==T&&(T=D,this.root.updateBlockedByResize=!0,y&&y(),y=nV(w,250),Of.hasAnimatedSinceResize&&(Of.hasAnimatedSinceResize=!1,this.nodes.forEach(q1)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:T,hasRelativeLayoutChanged:w,layout:D})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const V=this.options.transition||g.getDefaultTransition()||CV,{onLayoutAnimationStart:R,onLayoutAnimationComplete:P}=g.getProps(),z=!this.targetLayout||!DA(this.targetLayout,D),K=!T&&w;if(this.options.layoutRoot||this.resumeFrom||K||T&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...Ky(V,"layout"),onPlay:R,onComplete:P};(g.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(y,K)}else T||q1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=D})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ea(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wV),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&NA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const T=this.path[y];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(F1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(H1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(TV),this.nodes.forEach(pV),this.nodes.forEach(gV)):this.nodes.forEach(H1),this.clearAllSnapshots();const f=Un.now();mn.delta=er(0,1e3/60,f-mn.timestamp),mn.timestamp=f,mn.isProcessing=!0,Fp.update.process(mn),Fp.preRender.process(mn),Fp.render.process(mn),mn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Qy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_V),this.sharedNodes.forEach(SV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Dn(this.snapshot.measuredBox.x)&&!Dn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Jt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const m=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!CA(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&this.instance&&(f||qa(this.latestValues)||y)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),DV(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Jt();const f=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(NV))){const{scroll:g}=this.root;g&&(fl(f.x,g.offset.x),fl(f.y,g.offset.y))}return f}removeElementScroll(c){const f=Jt();if(Ps(f,c),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:T}=g;g!==this.root&&y&&T.layoutScroll&&(y.wasRoot&&Ps(f,c),fl(f.x,y.offset.x),fl(f.y,y.offset.y))}return f}applyTransform(c,f=!1){const m=Jt();Ps(m,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&dl(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),qa(y.latestValues)&&dl(m,y.latestValues)}return qa(this.latestValues)&&dl(m,this.latestValues),m}removeTransform(c){const f=Jt();Ps(f,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!qa(g.latestValues))continue;kg(g.latestValues)&&g.updateSnapshot();const y=Jt(),T=g.measurePageBox();Ps(y,T),P1(f,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return qa(this.latestValues)&&P1(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:T}=this.options;if(!this.layout||!(y||T))return;this.resolvedRelativeTargetAt=mn.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Jt(),this.targetWithTransforms=Jt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Vk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ps(this.target,this.layout.layoutBox),lA(this.target,this.targetDelta)):Ps(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||kg(this.parent.latestValues)||oA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,f,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jt(),this.relativeTargetOrigin=Jt(),$f(this.relativeTargetOrigin,f,m),Ps(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===mn.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;Ps(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,w=this.treeScale.y;WO(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Jt());const{target:D}=c;if(!D){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(O1(this.prevProjectionDelta.x,this.projectionDelta.x),O1(this.prevProjectionDelta.y,this.projectionDelta.y)),ic(this.projectionDelta,this.layoutCorrected,D,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==w||!z1(this.projectionDelta.x,this.prevProjectionDelta.x)||!z1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",D))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ml(),this.projectionDelta=ml(),this.projectionDeltaWithTransform=ml()}setAnimationOrigin(c,f=!1){const m=this.snapshot,g=m?m.latestValues:{},y={...this.latestValues},T=ml();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const w=Jt(),D=m?m.source:void 0,V=this.layout?this.layout.source:void 0,R=D!==V,P=this.getStack(),z=!P||P.members.length<=1,K=!!(R&&!z&&this.options.crossfade===!0&&!this.path.some(xV));this.animationProgress=0;let F;this.mixTargetDelta=te=>{const B=te/1e3;G1(T.x,c.x,B),G1(T.y,c.y,B),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($f(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),AV(this.relativeTarget,this.relativeTargetOrigin,w,B),F&&cV(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Jt()),Ps(F,this.relativeTarget)),R&&(this.animationValues=y,iV(y,g,this.latestValues,B,K,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ea(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Et.update(()=>{Of.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=wl(0)),this.currentAnimation=Jk(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:g,latestValues:y}=c;if(!(!f||!m||!g)){if(this!==c&&this.layout&&g&&RA(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||Jt();const T=Dn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+T;const w=Dn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+w}Ps(f,m),dl(f,y),ic(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new hV),this.sharedNodes.get(c).add(f);const g=f.options.initialPromotionConfig;f.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const g={};m.z&&eg("z",c,g,this.animationValues);for(let y=0;y<Jp.length;y++)eg(`rotate${Jp[y]}`,c,g,this.animationValues),eg(`skew${Jp[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=If(f?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=If(f?.pointerEvents)||""),this.hasProjected&&!qa(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let T=fV(this.projectionDeltaWithTransform,this.treeScale,y);m&&(T=m(y,T)),c.transform=T;const{x:w,y:D}=this.projectionDelta;c.transformOrigin=`${w.origin*100}% ${D.origin*100}% 0`,g.animationValues?c.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const V in vc){if(y[V]===void 0)continue;const{correct:R,applyTo:P,isCSSVariable:z}=vc[V],K=T==="none"?y[V]:R(y[V],g);if(P){const F=P.length;for(let te=0;te<F;te++)c[P[te]]=K}else z?this.options.visualElement.renderState.vars[V]=K:c[V]=K}this.options.layoutId&&(c.pointerEvents=g===this?If(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(F1),this.root.sharedNodes.clear()}}}function pV(t){t.updateLayout()}function gV(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?ys(y=>{const T=l?e.measuredBox[y]:e.layoutBox[y],w=Dn(T);T.min=n[y].min,T.max=T.min+w}):RA(a,e.layoutBox,n)&&ys(y=>{const T=l?e.measuredBox[y]:e.layoutBox[y],w=Dn(n[y]);T.max=T.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+w)});const c=ml();ic(c,n,e.layoutBox);const f=ml();l?ic(f,t.applyTransform(i,!0),e.measuredBox):ic(f,n,e.layoutBox);const m=!CA(c);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:T,layout:w}=y;if(T&&w){const D=Jt();$f(D,e.layoutBox,T.layoutBox);const V=Jt();$f(V,n,w.layoutBox),DA(D,V)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=V,t.relativeTargetOrigin=D,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function yV(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function vV(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function _V(t){t.clearSnapshot()}function F1(t){t.clearMeasurements()}function H1(t){t.isLayoutDirty=!1}function TV(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function q1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function bV(t){t.resolveTargetDelta()}function EV(t){t.calcProjection()}function wV(t){t.resetSkewAndRotation()}function SV(t){t.removeLeadSnapshot()}function G1(t,e,n){t.translate=xt(e.translate,0,n),t.scale=xt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Y1(t,e,n,i){t.min=xt(e.min,n.min,i),t.max=xt(e.max,n.max,i)}function AV(t,e,n,i){Y1(t.x,e.x,n.x,i),Y1(t.y,e.y,n.y,i)}function xV(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const CV={duration:.45,ease:[.4,0,.1,1]},W1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),K1=W1("applewebkit/")&&!W1("chrome/")?Math.round:Es;function $1(t){t.min=K1(t.min),t.max=K1(t.max)}function DV(t){$1(t.x),$1(t.y)}function RA(t,e,n){return t==="position"||t==="preserve-aspect"&&!kk(B1(e),B1(n),.2)}function NV(t){return t!==t.root&&t.scroll?.wasRoot}const MV=MA({attachResizeListener:(t,e)=>_c(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),tg={current:void 0},IA=MA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!tg.current){const t=new MV({});t.mount(window),t.setOptions({layoutScroll:!0}),tg.current=t}return tg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),RV={pan:{Feature:$k},drag:{Feature:Kk,ProjectionNode:IA,MeasureLayout:SA}};function Q1(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&Et.postRender(()=>l(e,Vc(e)))}class IV extends ua{mount(){const{current:e}=this.node;e&&(this.unmount=JI(e,(n,i)=>(Q1(this.node,i,"Start"),a=>Q1(this.node,a,"End"))))}unmount(){}}class OV extends ua{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ic(_c(this.node.current,"focus",()=>this.onFocus()),_c(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function X1(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&Et.postRender(()=>l(e,Vc(e)))}class kV extends ua{mount(){const{current:e}=this.node;e&&(this.unmount=sO(e,(n,i)=>(X1(this.node,i,"Start"),(a,{success:l})=>X1(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const zg=new WeakMap,ng=new WeakMap,VV=t=>{const e=zg.get(t.target);e&&e(t)},PV=t=>{t.forEach(VV)};function jV({root:t,...e}){const n=t||document;ng.has(n)||ng.set(n,{});const i=ng.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(PV,{root:t,...e})),i[a]}function LV(t,e,n){const i=jV(e);return zg.set(t,n),i.observe(t),()=>{zg.delete(t),i.unobserve(t)}}const UV={some:0,all:1};class BV extends ua{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:UV[a]},f=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:T}=this.node.getProps(),w=g?y:T;w&&w(m)};return LV(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(zV(e,n))&&this.startObserver()}unmount(){}}function zV({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const FV={inView:{Feature:BV},tap:{Feature:kV},focus:{Feature:OV},hover:{Feature:IV}},HV={layout:{ProjectionNode:IA,MeasureLayout:SA}},qV={...Dk,...FV,...RV,...HV},no=qO(qV,sk);const GV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YV=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),Z1=t=>{const e=YV(t);return e.charAt(0).toUpperCase()+e.slice(1)},OA=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),WV=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var KV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $V=Q.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...f},m)=>Q.createElement("svg",{ref:m,...KV,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:OA("lucide",a),...!l&&!WV(f)&&{"aria-hidden":"true"},...f},[...c.map(([g,y])=>Q.createElement(g,y)),...Array.isArray(l)?l:[l]]));const dt=(t,e)=>{const n=Q.forwardRef(({className:i,...a},l)=>Q.createElement($V,{ref:l,iconNode:e,className:OA(`lucide-${GV(Z1(t))}`,`lucide-${t}`,i),...a}));return n.displayName=Z1(t),n};const QV=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],kA=dt("archive",QV);const XV=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],VA=dt("bell",XV);const ZV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Pc=dt("calendar",ZV);const JV=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Tc=dt("check",JV);const e4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Fg=dt("chevron-left",e4);const t4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Hg=dt("chevron-right",t4);const n4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],qg=dt("circle-check-big",n4);const s4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],i4=dt("circle",s4);const r4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],PA=dt("clock",r4);const a4=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],o4=dt("download",a4);const l4=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],u4=dt("flag",l4);const c4=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],h4=dt("flame",c4);const f4=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],d4=dt("layers",f4);const m4=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],p4=dt("layout-grid",m4);const g4=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],jA=dt("link",g4);const y4=[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],v4=dt("list-todo",y4);const _4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],T4=dt("log-out",_4);const b4=[["path",{d:"M5 12h14",key:"1ays0h"}]],E4=dt("minus",b4);const w4=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Gg=dt("pencil",w4);const S4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yg=dt("plus",S4);const A4=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ef=dt("refresh-cw",A4);const x4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],C4=dt("search",x4);const D4=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],N4=dt("sparkles",D4);const M4=[["path",{d:"M10 2h4",key:"n1abiw"}],["path",{d:"M12 14v-4",key:"1evpnu"}],["path",{d:"M4 13a8 8 0 0 1 8-7 8 8 0 1 1-5.3 14L4 17.6",key:"1ts96g"}],["path",{d:"M9 17H4v5",key:"8t5av"}]],R4=dt("timer-reset",M4);const I4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],bc=dt("trash-2",I4);const O4=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],k4=dt("upload",O4);const V4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],LA=dt("user",V4);const P4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],j4=dt("x",P4),L4=()=>{};var J1={};const UA=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},U4=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},BA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,f=c?t[a+1]:0,m=a+2<t.length,g=m?t[a+2]:0,y=l>>2,T=(l&3)<<4|f>>4;let w=(f&15)<<2|g>>6,D=g&63;m||(D=64,c||(w=64)),i.push(n[y],n[T],n[w],n[D])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(UA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):U4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const T=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||g==null||T==null)throw new B4;const w=l<<2|f>>4;if(i.push(w),g!==64){const D=f<<4&240|g>>2;if(i.push(D),T!==64){const V=g<<6&192|T;i.push(V)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class B4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const z4=function(t){const e=UA(t);return BA.encodeByteArray(e,!0)},Qf=function(t){return z4(t).replace(/\./g,"")},zA=function(t){try{return BA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function F4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const H4=()=>F4().__FIREBASE_DEFAULTS__,q4=()=>{if(typeof process>"u"||typeof J1>"u")return;const t=J1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},G4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zA(t[1]);return e&&JSON.parse(e)},bd=()=>{try{return L4()||H4()||q4()||G4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},FA=t=>bd()?.emulatorHosts?.[t],Y4=t=>{const e=FA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},HA=()=>bd()?.config,qA=t=>bd()?.[`_${t}`];class W4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function Pl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function GA(t){return(await fetch(t,{credentials:"include"})).ok}function K4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Qf(JSON.stringify(n)),Qf(JSON.stringify(c)),""].join(".")}const rc={};function $4(){const t={prod:[],emulator:[]};for(const e of Object.keys(rc))rc[e]?t.emulator.push(e):t.prod.push(e);return t}function Q4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let eE=!1;function YA(t,e){if(typeof window>"u"||typeof document>"u"||!Pl(window.location.host)||rc[t]===e||rc[t]||eE)return;rc[t]=e;function n(w){return`__firebase__banner__${w}`}const i="__firebase__banner",l=$4().prod.length>0;function c(){const w=document.getElementById(i);w&&w.remove()}function f(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,D){w.setAttribute("width","24"),w.setAttribute("id",D),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{eE=!0,c()},w}function y(w,D){w.setAttribute("id",D),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=Q4(i),D=n("text"),V=document.getElementById(D)||document.createElement("span"),R=n("learnmore"),P=document.getElementById(R)||document.createElement("a"),z=n("preprendIcon"),K=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const F=w.element;f(F),y(P,R);const te=g();m(K,z),F.append(K,V,P,te),document.body.appendChild(F)}l?(V.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function Sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function X4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function Z4(){const t=bd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function J4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nP(){const t=Sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sP(){return!Z4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iP(){try{return typeof indexedDB=="object"}catch{return!1}}function rP(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const aP="FirebaseError";class ar extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=aP,Object.setPrototypeOf(this,ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jc.prototype.create)}}class jc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?oP(l,i):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new ar(a,f,i)}}function oP(t,e){return t.replace(lP,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const lP=/\{\$([^}]+)}/g;function uP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function so(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(tE(l)&&tE(c)){if(!so(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function tE(t){return t!==null&&typeof t=="object"}function Lc(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function cP(t,e){const n=new hP(t,e);return n.subscribe.bind(n)}class hP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");fP(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=sg),a.error===void 0&&(a.error=sg),a.complete===void 0&&(a.complete=sg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function sg(){}function ts(t){return t&&t._delegate?t._delegate:t}class io{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ga="[DEFAULT]";class dP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new W4;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pP(e))try{this.getOrInitializeService({instanceIdentifier:Ga})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ga){return this.instances.has(e)}getOptions(e=Ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:mP(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ga){return this.component?this.component.multipleInstances?e:Ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mP(t){return t===Ga?void 0:t}function pP(t){return t.instantiationMode==="EAGER"}class gP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const yP={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},vP=Ke.INFO,_P={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},TP=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=_P[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lv{constructor(e){this.name=e,this._logLevel=vP,this._logHandler=TP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const bP=(t,e)=>e.some(n=>t instanceof n);let nE,sE;function EP(){return nE||(nE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wP(){return sE||(sE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WA=new WeakMap,Wg=new WeakMap,KA=new WeakMap,ig=new WeakMap,uv=new WeakMap;function SP(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Qr(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&WA.set(n,t)}).catch(()=>{}),uv.set(e,t),e}function AP(t){if(Wg.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Wg.set(t,e)}let Kg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||KA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xP(t){Kg=t(Kg)}function CP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(rg(this),e,...n);return KA.set(i,e.sort?e.sort():[e]),Qr(i)}:wP().includes(t)?function(...e){return t.apply(rg(this),e),Qr(WA.get(this))}:function(...e){return Qr(t.apply(rg(this),e))}}function DP(t){return typeof t=="function"?CP(t):(t instanceof IDBTransaction&&AP(t),bP(t,EP())?new Proxy(t,Kg):t)}function Qr(t){if(t instanceof IDBRequest)return SP(t);if(ig.has(t))return ig.get(t);const e=DP(t);return e!==t&&(ig.set(t,e),uv.set(e,t)),e}const rg=t=>uv.get(t);function NP(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),f=Qr(c);return i&&c.addEventListener("upgradeneeded",m=>{i(Qr(c.result),m.oldVersion,m.newVersion,Qr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const MP=["get","getKey","getAll","getAllKeys","count"],RP=["put","add","delete","clear"],ag=new Map;function iE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ag.get(e))return ag.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=RP.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||MP.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return i&&(g=g.index(f.shift())),(await Promise.all([g[n](...f),a&&m.done]))[0]};return ag.set(e,l),l}xP(t=>({...t,get:(e,n,i)=>iE(e,n)||t.get(e,n,i),has:(e,n)=>!!iE(e,n)||t.has(e,n)}));class IP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OP(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function OP(t){return t.getComponent()?.type==="VERSION"}const $g="@firebase/app",rE="0.14.6";const nr=new lv("@firebase/app"),kP="@firebase/app-compat",VP="@firebase/analytics-compat",PP="@firebase/analytics",jP="@firebase/app-check-compat",LP="@firebase/app-check",UP="@firebase/auth",BP="@firebase/auth-compat",zP="@firebase/database",FP="@firebase/data-connect",HP="@firebase/database-compat",qP="@firebase/functions",GP="@firebase/functions-compat",YP="@firebase/installations",WP="@firebase/installations-compat",KP="@firebase/messaging",$P="@firebase/messaging-compat",QP="@firebase/performance",XP="@firebase/performance-compat",ZP="@firebase/remote-config",JP="@firebase/remote-config-compat",ej="@firebase/storage",tj="@firebase/storage-compat",nj="@firebase/firestore",sj="@firebase/ai",ij="@firebase/firestore-compat",rj="firebase",aj="12.6.0";const Qg="[DEFAULT]",oj={[$g]:"fire-core",[kP]:"fire-core-compat",[PP]:"fire-analytics",[VP]:"fire-analytics-compat",[LP]:"fire-app-check",[jP]:"fire-app-check-compat",[UP]:"fire-auth",[BP]:"fire-auth-compat",[zP]:"fire-rtdb",[FP]:"fire-data-connect",[HP]:"fire-rtdb-compat",[qP]:"fire-fn",[GP]:"fire-fn-compat",[YP]:"fire-iid",[WP]:"fire-iid-compat",[KP]:"fire-fcm",[$P]:"fire-fcm-compat",[QP]:"fire-perf",[XP]:"fire-perf-compat",[ZP]:"fire-rc",[JP]:"fire-rc-compat",[ej]:"fire-gcs",[tj]:"fire-gcs-compat",[nj]:"fire-fst",[ij]:"fire-fst-compat",[sj]:"fire-vertex","fire-js":"fire-js",[rj]:"fire-js-all"};const Xf=new Map,lj=new Map,Xg=new Map;function aE(t,e){try{t.container.addComponent(e)}catch(n){nr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Al(t){const e=t.name;if(Xg.has(e))return nr.debug(`There were multiple attempts to register component ${e}.`),!1;Xg.set(e,t);for(const n of Xf.values())aE(n,t);for(const n of lj.values())aE(n,t);return!0}function cv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Us(t){return t==null?!1:t.settings!==void 0}const uj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new jc("app","Firebase",uj);class cj{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}}const jl=aj;function $A(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Qg,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Xr.create("bad-app-name",{appName:String(a)});if(n||(n=HA()),!n)throw Xr.create("no-options");const l=Xf.get(a);if(l){if(so(n,l.options)&&so(i,l.config))return l;throw Xr.create("duplicate-app",{appName:a})}const c=new gP(a);for(const m of Xg.values())c.addComponent(m);const f=new cj(n,i,c);return Xf.set(a,f),f}function QA(t=Qg){const e=Xf.get(t);if(!e&&t===Qg&&HA())return $A();if(!e)throw Xr.create("no-app",{appName:t});return e}function Zr(t,e,n){let i=oj[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nr.warn(c.join(" "));return}Al(new io(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const hj="firebase-heartbeat-database",fj=1,Ec="firebase-heartbeat-store";let og=null;function XA(){return og||(og=NP(hj,fj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ec)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xr.create("idb-open",{originalErrorMessage:t.message})})),og}async function dj(t){try{const n=(await XA()).transaction(Ec),i=await n.objectStore(Ec).get(ZA(t));return await n.done,i}catch(e){if(e instanceof ar)nr.warn(e.message);else{const n=Xr.create("idb-get",{originalErrorMessage:e?.message});nr.warn(n.message)}}}async function oE(t,e){try{const i=(await XA()).transaction(Ec,"readwrite");await i.objectStore(Ec).put(e,ZA(t)),await i.done}catch(n){if(n instanceof ar)nr.warn(n.message);else{const i=Xr.create("idb-set",{originalErrorMessage:n?.message});nr.warn(i.message)}}}function ZA(t){return`${t.name}!${t.options.appId}`}const mj=1024,pj=30;class gj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vj(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=lE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>pj){const a=_j(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){nr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=lE(),{heartbeatsToSend:n,unsentEntries:i}=yj(this._heartbeatsCache.heartbeats),a=Qf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return nr.warn(e),""}}}function lE(){return new Date().toISOString().substring(0,10)}function yj(t,e=mj){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),uE(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),uE(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class vj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iP()?rP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return oE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return oE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function uE(t){return Qf(JSON.stringify({version:2,heartbeats:t})).length}function _j(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}function Tj(t){Al(new io("platform-logger",e=>new IP(e),"PRIVATE")),Al(new io("heartbeat",e=>new gj(e),"PRIVATE")),Zr($g,rE,t),Zr($g,rE,"esm2020"),Zr("fire-js","")}Tj("");var cE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Jr,JA;(function(){var t;function e(x,A){function M(){}M.prototype=A.prototype,x.F=A.prototype,x.prototype=new M,x.prototype.constructor=x,x.D=function(k,O,I){for(var N=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)N[pe-2]=arguments[pe];return A.prototype[O].apply(k,N)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(x,A,M){M||(M=0);const k=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)k[O]=A.charCodeAt(M++)|A.charCodeAt(M++)<<8|A.charCodeAt(M++)<<16|A.charCodeAt(M++)<<24;else for(O=0;O<16;++O)k[O]=A[M++]|A[M++]<<8|A[M++]<<16|A[M++]<<24;A=x.g[0],M=x.g[1],O=x.g[2];let I=x.g[3],N;N=A+(I^M&(O^I))+k[0]+3614090360&4294967295,A=M+(N<<7&4294967295|N>>>25),N=I+(O^A&(M^O))+k[1]+3905402710&4294967295,I=A+(N<<12&4294967295|N>>>20),N=O+(M^I&(A^M))+k[2]+606105819&4294967295,O=I+(N<<17&4294967295|N>>>15),N=M+(A^O&(I^A))+k[3]+3250441966&4294967295,M=O+(N<<22&4294967295|N>>>10),N=A+(I^M&(O^I))+k[4]+4118548399&4294967295,A=M+(N<<7&4294967295|N>>>25),N=I+(O^A&(M^O))+k[5]+1200080426&4294967295,I=A+(N<<12&4294967295|N>>>20),N=O+(M^I&(A^M))+k[6]+2821735955&4294967295,O=I+(N<<17&4294967295|N>>>15),N=M+(A^O&(I^A))+k[7]+4249261313&4294967295,M=O+(N<<22&4294967295|N>>>10),N=A+(I^M&(O^I))+k[8]+1770035416&4294967295,A=M+(N<<7&4294967295|N>>>25),N=I+(O^A&(M^O))+k[9]+2336552879&4294967295,I=A+(N<<12&4294967295|N>>>20),N=O+(M^I&(A^M))+k[10]+4294925233&4294967295,O=I+(N<<17&4294967295|N>>>15),N=M+(A^O&(I^A))+k[11]+2304563134&4294967295,M=O+(N<<22&4294967295|N>>>10),N=A+(I^M&(O^I))+k[12]+1804603682&4294967295,A=M+(N<<7&4294967295|N>>>25),N=I+(O^A&(M^O))+k[13]+4254626195&4294967295,I=A+(N<<12&4294967295|N>>>20),N=O+(M^I&(A^M))+k[14]+2792965006&4294967295,O=I+(N<<17&4294967295|N>>>15),N=M+(A^O&(I^A))+k[15]+1236535329&4294967295,M=O+(N<<22&4294967295|N>>>10),N=A+(O^I&(M^O))+k[1]+4129170786&4294967295,A=M+(N<<5&4294967295|N>>>27),N=I+(M^O&(A^M))+k[6]+3225465664&4294967295,I=A+(N<<9&4294967295|N>>>23),N=O+(A^M&(I^A))+k[11]+643717713&4294967295,O=I+(N<<14&4294967295|N>>>18),N=M+(I^A&(O^I))+k[0]+3921069994&4294967295,M=O+(N<<20&4294967295|N>>>12),N=A+(O^I&(M^O))+k[5]+3593408605&4294967295,A=M+(N<<5&4294967295|N>>>27),N=I+(M^O&(A^M))+k[10]+38016083&4294967295,I=A+(N<<9&4294967295|N>>>23),N=O+(A^M&(I^A))+k[15]+3634488961&4294967295,O=I+(N<<14&4294967295|N>>>18),N=M+(I^A&(O^I))+k[4]+3889429448&4294967295,M=O+(N<<20&4294967295|N>>>12),N=A+(O^I&(M^O))+k[9]+568446438&4294967295,A=M+(N<<5&4294967295|N>>>27),N=I+(M^O&(A^M))+k[14]+3275163606&4294967295,I=A+(N<<9&4294967295|N>>>23),N=O+(A^M&(I^A))+k[3]+4107603335&4294967295,O=I+(N<<14&4294967295|N>>>18),N=M+(I^A&(O^I))+k[8]+1163531501&4294967295,M=O+(N<<20&4294967295|N>>>12),N=A+(O^I&(M^O))+k[13]+2850285829&4294967295,A=M+(N<<5&4294967295|N>>>27),N=I+(M^O&(A^M))+k[2]+4243563512&4294967295,I=A+(N<<9&4294967295|N>>>23),N=O+(A^M&(I^A))+k[7]+1735328473&4294967295,O=I+(N<<14&4294967295|N>>>18),N=M+(I^A&(O^I))+k[12]+2368359562&4294967295,M=O+(N<<20&4294967295|N>>>12),N=A+(M^O^I)+k[5]+4294588738&4294967295,A=M+(N<<4&4294967295|N>>>28),N=I+(A^M^O)+k[8]+2272392833&4294967295,I=A+(N<<11&4294967295|N>>>21),N=O+(I^A^M)+k[11]+1839030562&4294967295,O=I+(N<<16&4294967295|N>>>16),N=M+(O^I^A)+k[14]+4259657740&4294967295,M=O+(N<<23&4294967295|N>>>9),N=A+(M^O^I)+k[1]+2763975236&4294967295,A=M+(N<<4&4294967295|N>>>28),N=I+(A^M^O)+k[4]+1272893353&4294967295,I=A+(N<<11&4294967295|N>>>21),N=O+(I^A^M)+k[7]+4139469664&4294967295,O=I+(N<<16&4294967295|N>>>16),N=M+(O^I^A)+k[10]+3200236656&4294967295,M=O+(N<<23&4294967295|N>>>9),N=A+(M^O^I)+k[13]+681279174&4294967295,A=M+(N<<4&4294967295|N>>>28),N=I+(A^M^O)+k[0]+3936430074&4294967295,I=A+(N<<11&4294967295|N>>>21),N=O+(I^A^M)+k[3]+3572445317&4294967295,O=I+(N<<16&4294967295|N>>>16),N=M+(O^I^A)+k[6]+76029189&4294967295,M=O+(N<<23&4294967295|N>>>9),N=A+(M^O^I)+k[9]+3654602809&4294967295,A=M+(N<<4&4294967295|N>>>28),N=I+(A^M^O)+k[12]+3873151461&4294967295,I=A+(N<<11&4294967295|N>>>21),N=O+(I^A^M)+k[15]+530742520&4294967295,O=I+(N<<16&4294967295|N>>>16),N=M+(O^I^A)+k[2]+3299628645&4294967295,M=O+(N<<23&4294967295|N>>>9),N=A+(O^(M|~I))+k[0]+4096336452&4294967295,A=M+(N<<6&4294967295|N>>>26),N=I+(M^(A|~O))+k[7]+1126891415&4294967295,I=A+(N<<10&4294967295|N>>>22),N=O+(A^(I|~M))+k[14]+2878612391&4294967295,O=I+(N<<15&4294967295|N>>>17),N=M+(I^(O|~A))+k[5]+4237533241&4294967295,M=O+(N<<21&4294967295|N>>>11),N=A+(O^(M|~I))+k[12]+1700485571&4294967295,A=M+(N<<6&4294967295|N>>>26),N=I+(M^(A|~O))+k[3]+2399980690&4294967295,I=A+(N<<10&4294967295|N>>>22),N=O+(A^(I|~M))+k[10]+4293915773&4294967295,O=I+(N<<15&4294967295|N>>>17),N=M+(I^(O|~A))+k[1]+2240044497&4294967295,M=O+(N<<21&4294967295|N>>>11),N=A+(O^(M|~I))+k[8]+1873313359&4294967295,A=M+(N<<6&4294967295|N>>>26),N=I+(M^(A|~O))+k[15]+4264355552&4294967295,I=A+(N<<10&4294967295|N>>>22),N=O+(A^(I|~M))+k[6]+2734768916&4294967295,O=I+(N<<15&4294967295|N>>>17),N=M+(I^(O|~A))+k[13]+1309151649&4294967295,M=O+(N<<21&4294967295|N>>>11),N=A+(O^(M|~I))+k[4]+4149444226&4294967295,A=M+(N<<6&4294967295|N>>>26),N=I+(M^(A|~O))+k[11]+3174756917&4294967295,I=A+(N<<10&4294967295|N>>>22),N=O+(A^(I|~M))+k[2]+718787259&4294967295,O=I+(N<<15&4294967295|N>>>17),N=M+(I^(O|~A))+k[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+I&4294967295}i.prototype.v=function(x,A){A===void 0&&(A=x.length);const M=A-this.blockSize,k=this.C;let O=this.h,I=0;for(;I<A;){if(O==0)for(;I<=M;)a(this,x,I),I+=this.blockSize;if(typeof x=="string"){for(;I<A;)if(k[O++]=x.charCodeAt(I++),O==this.blockSize){a(this,k),O=0;break}}else for(;I<A;)if(k[O++]=x[I++],O==this.blockSize){a(this,k),O=0;break}}this.h=O,this.o+=A},i.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;A=this.o*8;for(var M=x.length-8;M<x.length;++M)x[M]=A&255,A/=256;for(this.v(x),x=Array(16),A=0,M=0;M<4;++M)for(let k=0;k<32;k+=8)x[A++]=this.g[M]>>>k&255;return x};function l(x,A){var M=f;return Object.prototype.hasOwnProperty.call(M,x)?M[x]:M[x]=A(x)}function c(x,A){this.h=A;const M=[];let k=!0;for(let O=x.length-1;O>=0;O--){const I=x[O]|0;k&&I==A||(M[O]=I,k=!1)}this.g=M}var f={};function m(x){return-128<=x&&x<128?l(x,function(A){return new c([A|0],A<0?-1:0)}):new c([x|0],x<0?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return T;if(x<0)return P(g(-x));const A=[];let M=1;for(let k=0;x>=M;k++)A[k]=x/M|0,M*=4294967296;return new c(A,0)}function y(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return P(y(x.substring(1),A));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=g(Math.pow(A,8));let k=T;for(let I=0;I<x.length;I+=8){var O=Math.min(8,x.length-I);const N=parseInt(x.substring(I,I+O),A);O<8?(O=g(Math.pow(A,O)),k=k.j(O).add(g(N))):(k=k.j(M),k=k.add(g(N)))}return k}var T=m(0),w=m(1),D=m(16777216);t=c.prototype,t.m=function(){if(R(this))return-P(this).m();let x=0,A=1;for(let M=0;M<this.g.length;M++){const k=this.i(M);x+=(k>=0?k:4294967296+k)*A,A*=4294967296}return x},t.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(V(this))return"0";if(R(this))return"-"+P(this).toString(x);const A=g(Math.pow(x,6));var M=this;let k="";for(;;){const O=te(M,A).g;M=z(M,O.j(A));let I=((M.g.length>0?M.g[0]:M.h)>>>0).toString(x);if(M=O,V(M))return I+k;for(;I.length<6;)I="0"+I;k=I+k}},t.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function V(x){if(x.h!=0)return!1;for(let A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function R(x){return x.h==-1}t.l=function(x){return x=z(this,x),R(x)?-1:V(x)?0:1};function P(x){const A=x.g.length,M=[];for(let k=0;k<A;k++)M[k]=~x.g[k];return new c(M,~x.h).add(w)}t.abs=function(){return R(this)?P(this):this},t.add=function(x){const A=Math.max(this.g.length,x.g.length),M=[];let k=0;for(let O=0;O<=A;O++){let I=k+(this.i(O)&65535)+(x.i(O)&65535),N=(I>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);k=N>>>16,I&=65535,N&=65535,M[O]=N<<16|I}return new c(M,M[M.length-1]&-2147483648?-1:0)};function z(x,A){return x.add(P(A))}t.j=function(x){if(V(this)||V(x))return T;if(R(this))return R(x)?P(this).j(P(x)):P(P(this).j(x));if(R(x))return P(this.j(P(x)));if(this.l(D)<0&&x.l(D)<0)return g(this.m()*x.m());const A=this.g.length+x.g.length,M=[];for(var k=0;k<2*A;k++)M[k]=0;for(k=0;k<this.g.length;k++)for(let O=0;O<x.g.length;O++){const I=this.i(k)>>>16,N=this.i(k)&65535,pe=x.i(O)>>>16,Be=x.i(O)&65535;M[2*k+2*O]+=N*Be,K(M,2*k+2*O),M[2*k+2*O+1]+=I*Be,K(M,2*k+2*O+1),M[2*k+2*O+1]+=N*pe,K(M,2*k+2*O+1),M[2*k+2*O+2]+=I*pe,K(M,2*k+2*O+2)}for(x=0;x<A;x++)M[x]=M[2*x+1]<<16|M[2*x];for(x=A;x<2*A;x++)M[x]=0;return new c(M,0)};function K(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function F(x,A){this.g=x,this.h=A}function te(x,A){if(V(A))throw Error("division by zero");if(V(x))return new F(T,T);if(R(x))return A=te(P(x),A),new F(P(A.g),P(A.h));if(R(A))return A=te(x,P(A)),new F(P(A.g),A.h);if(x.g.length>30){if(R(x)||R(A))throw Error("slowDivide_ only works with positive integers.");for(var M=w,k=A;k.l(x)<=0;)M=B(M),k=B(k);var O=G(M,1),I=G(k,1);for(k=G(k,2),M=G(M,2);!V(k);){var N=I.add(k);N.l(x)<=0&&(O=O.add(M),I=N),k=G(k,1),M=G(M,1)}return A=z(x,O.j(A)),new F(O,A)}for(O=T;x.l(A)>=0;){for(M=Math.max(1,Math.floor(x.m()/A.m())),k=Math.ceil(Math.log(M)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),I=g(M),N=I.j(A);R(N)||N.l(x)>0;)M-=k,I=g(M),N=I.j(A);V(I)&&(I=w),O=O.add(I),x=z(x,N)}return new F(O,x)}t.B=function(x){return te(this,x).h},t.and=function(x){const A=Math.max(this.g.length,x.g.length),M=[];for(let k=0;k<A;k++)M[k]=this.i(k)&x.i(k);return new c(M,this.h&x.h)},t.or=function(x){const A=Math.max(this.g.length,x.g.length),M=[];for(let k=0;k<A;k++)M[k]=this.i(k)|x.i(k);return new c(M,this.h|x.h)},t.xor=function(x){const A=Math.max(this.g.length,x.g.length),M=[];for(let k=0;k<A;k++)M[k]=this.i(k)^x.i(k);return new c(M,this.h^x.h)};function B(x){const A=x.g.length+1,M=[];for(let k=0;k<A;k++)M[k]=x.i(k)<<1|x.i(k-1)>>>31;return new c(M,x.h)}function G(x,A){const M=A>>5;A%=32;const k=x.g.length-M,O=[];for(let I=0;I<k;I++)O[I]=A>0?x.i(I+M)>>>A|x.i(I+M+1)<<32-A:x.i(I+M);return new c(O,x.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,JA=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,Jr=c}).apply(typeof cE<"u"?cE:typeof self<"u"?self:typeof window<"u"?window:{});var wf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ex,Qu,tx,kf,Zg,nx,sx,ix;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof wf=="object"&&wf];for(var _=0;_<h.length;++_){var E=h[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=n(this);function a(h,_){if(_)e:{var E=i;h=h.split(".");for(var C=0;C<h.length-1;C++){var q=h[C];if(!(q in E))break e;E=E[q]}h=h[h.length-1],C=E[h],_=_(C),_!=C&&_!=null&&e(E,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var E=[],C;for(C in _)Object.prototype.hasOwnProperty.call(_,C)&&E.push([C,_[C]]);return E}});var l=l||{},c=this||self;function f(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function m(h,_,E){return h.call.apply(h.bind,arguments)}function g(h,_,E){return g=m,g.apply(null,arguments)}function y(h,_){var E=Array.prototype.slice.call(arguments,1);return function(){var C=E.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function T(h,_){function E(){}E.prototype=_.prototype,h.Z=_.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(C,q,X){for(var le=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)le[Pe-2]=arguments[Pe];return _.prototype[q].apply(C,le)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function D(h){const _=h.length;if(_>0){const E=Array(_);for(let C=0;C<_;C++)E[C]=h[C];return E}return[]}function V(h,_){for(let C=1;C<arguments.length;C++){const q=arguments[C];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=h.length||0;const X=q.length||0;h.length=E+X;for(let le=0;le<X;le++)h[E+le]=q[le]}else h.push(q)}}class R{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function P(h){c.setTimeout(()=>{throw h},0)}function z(){var h=x;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class K{constructor(){this.h=this.g=null}add(_,E){const C=F.get();C.set(_,E),this.h?this.h.next=C:this.g=C,this.h=C}}var F=new R(()=>new te,h=>h.reset());class te{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let B,G=!1,x=new K,A=()=>{const h=Promise.resolve(void 0);B=()=>{h.then(M)}};function M(){for(var h;h=z();){try{h.h.call(h.g)}catch(E){P(E)}var _=F;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}G=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var I=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,_),c.removeEventListener("test",E,_)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function pe(h,_){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}T(pe,O),pe.prototype.init=function(h,_){const E=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(E=="mouseover"?_=h.fromElement:E=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Be="closure_listenable_"+(Math.random()*1e6|0),J=0;function oe(h,_,E,C,q){this.listener=h,this.proxy=null,this.src=_,this.type=E,this.capture=!!C,this.ha=q,this.key=++J,this.da=this.fa=!1}function he(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Te(h,_,E){for(const C in h)_.call(E,h[C],C,h)}function Ce(h,_){for(const E in h)_.call(void 0,h[E],E,h)}function L(h){const _={};for(const E in h)_[E]=h[E];return _}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(h,_){let E,C;for(let q=1;q<arguments.length;q++){C=arguments[q];for(E in C)h[E]=C[E];for(let X=0;X<se.length;X++)E=se[X],Object.prototype.hasOwnProperty.call(C,E)&&(h[E]=C[E])}}function ce(h){this.src=h,this.g={},this.h=0}ce.prototype.add=function(h,_,E,C,q){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const le=Oe(h,_,C,q);return le>-1?(_=h[le],E||(_.fa=!1)):(_=new oe(_,this.src,X,!!C,q),_.fa=E,h.push(_)),_};function Ee(h,_){const E=_.type;if(E in h.g){var C=h.g[E],q=Array.prototype.indexOf.call(C,_,void 0),X;(X=q>=0)&&Array.prototype.splice.call(C,q,1),X&&(he(_),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Oe(h,_,E,C){for(let q=0;q<h.length;++q){const X=h[q];if(!X.da&&X.listener==_&&X.capture==!!E&&X.ha==C)return q}return-1}var Fe="closure_lm_"+(Math.random()*1e6|0),It={};function mt(h,_,E,C,q){if(Array.isArray(_)){for(let X=0;X<_.length;X++)mt(h,_[X],E,C,q);return null}return E=ha(E),h&&h[Be]?h.J(_,E,f(C)?!!C.capture:!1,q):ss(h,_,E,!1,C,q)}function ss(h,_,E,C,q,X){if(!_)throw Error("Invalid event type");const le=f(q)?!!q.capture:!!q;let Pe=xi(h);if(Pe||(h[Fe]=Pe=new ce(h)),E=Pe.add(_,E,C,le,X),E.proxy)return E;if(C=or(),E.proxy=C,C.src=h,C.listener=E,h.addEventListener)I||(q=le),q===void 0&&(q=!1),h.addEventListener(_.toString(),C,q);else if(h.attachEvent)h.attachEvent(is(_.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return E}function or(){function h(E){return _.call(h.src,h.listener,E)}const _=cr;return h}function lr(h,_,E,C,q){if(Array.isArray(_))for(var X=0;X<_.length;X++)lr(h,_[X],E,C,q);else C=f(C)?!!C.capture:!!C,E=ha(E),h&&h[Be]?(h=h.i,X=String(_).toString(),X in h.g&&(_=h.g[X],E=Oe(_,E,C,q),E>-1&&(he(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete h.g[X],h.h--)))):h&&(h=xi(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Oe(_,E,C,q)),(E=h>-1?_[h]:null)&&ur(E))}function ur(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Be])Ee(_.i,h);else{var E=h.type,C=h.proxy;_.removeEventListener?_.removeEventListener(E,C,h.capture):_.detachEvent?_.detachEvent(is(E),C):_.addListener&&_.removeListener&&_.removeListener(C),(E=xi(_))?(Ee(E,h),E.h==0&&(E.src=null,_[Fe]=null)):he(h)}}}function is(h){return h in It?It[h]:It[h]="on"+h}function cr(h,_){if(h.da)h=!0;else{_=new pe(_,this);const E=h.listener,C=h.ha||h.src;h.fa&&ur(h),h=E.call(C,_)}return h}function xi(h){return h=h[Fe],h instanceof ce?h:null}var ca="__closure_events_fn_"+(Math.random()*1e9>>>0);function ha(h){return typeof h=="function"?h:(h[ca]||(h[ca]=function(_){return h.handleEvent(_)}),h[ca])}function Dt(){k.call(this),this.i=new ce(this),this.M=this,this.G=null}T(Dt,k),Dt.prototype[Be]=!0,Dt.prototype.removeEventListener=function(h,_,E,C){lr(this,h,_,E,C)};function Ot(h,_){var E,C=h.G;if(C)for(E=[];C;C=C.G)E.push(C);if(h=h.M,C=_.type||_,typeof _=="string")_=new O(_,h);else if(_ instanceof O)_.target=_.target||h;else{var q=_;_=new O(C,h),ue(_,q)}q=!0;let X,le;if(E)for(le=E.length-1;le>=0;le--)X=_.g=E[le],q=qs(X,C,!0,_)&&q;if(X=_.g=h,q=qs(X,C,!0,_)&&q,q=qs(X,C,!1,_)&&q,E)for(le=0;le<E.length;le++)X=_.g=E[le],q=qs(X,C,!1,_)&&q}Dt.prototype.N=function(){if(Dt.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const E=h.g[_];for(let C=0;C<E.length;C++)he(E[C]);delete h.g[_],h.h--}}this.G=null},Dt.prototype.J=function(h,_,E,C){return this.i.add(String(h),_,!1,E,C)},Dt.prototype.K=function(h,_,E,C){return this.i.add(String(h),_,!0,E,C)};function qs(h,_,E,C){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let q=!0;for(let X=0;X<_.length;++X){const le=_[X];if(le&&!le.da&&le.capture==E){const Pe=le.listener,Vt=le.ha||le.src;le.fa&&Ee(h.i,le),q=Pe.call(Vt,C)!==!1&&q}}return q&&!C.defaultPrevented}function Hl(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(h,_||0)}function fa(h){h.g=Hl(()=>{h.g=null,h.i&&(h.i=!1,fa(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Qt extends k{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:fa(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ss(h){k.call(this),this.h=h,this.g={}}T(Ss,k);var da=[];function ma(h){Te(h.g,function(_,E){this.g.hasOwnProperty(E)&&ur(_)},h),h.g={}}Ss.prototype.N=function(){Ss.Z.N.call(this),ma(this)},Ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gs=c.JSON.stringify,ql=c.JSON.parse,mo=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function po(){}function go(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xt(){O.call(this,"d")}T(Xt,O);function Nn(){O.call(this,"c")}T(Nn,O);var wt={},pa=null;function hr(){return pa=pa||new Dt}wt.Ia="serverreachability";function Me(h){O.call(this,wt.Ia,h)}T(Me,O);function Le(h){const _=hr();Ot(_,new Me(_))}wt.STAT_EVENT="statevent";function Se(h,_){O.call(this,wt.STAT_EVENT,h),this.stat=_}T(Se,O);function Ae(h){const _=hr();Ot(_,new Se(_,h))}wt.Ja="timingevent";function kt(h,_){O.call(this,wt.Ja,h),this.size=_}T(kt,O);function Re(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},_)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function Gl(h,_,E,C,q,X){h.info(function(){if(h.g)if(X){var le="",Pe=X.split("&");for(let tt=0;tt<Pe.length;tt++){var Vt=Pe[tt].split("=");if(Vt.length>1){const Tt=Vt[0];Vt=Vt[1];const ls=Tt.split("_");le=ls.length>=2&&ls[1]=="type"?le+(Tt+"="+Vt+"&"):le+(Tt+"=redacted&")}}}else le=null;else le=X;return"XMLHTTP REQ ("+C+") [attempt "+q+"]: "+_+`
`+E+`
`+le})}function yo(h,_,E,C,q,X,le){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+q+"]: "+_+`
`+E+`
`+X+" "+le})}function Mn(h,_,E,C){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+zd(h,E)+(C?" "+C:"")})}function As(h,_){h.info(function(){return"TIMEOUT: "+_})}zn.prototype.info=function(){};function zd(h,_){if(!h.g)return _;if(!_)return null;try{const X=JSON.parse(_);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var E=X[h];if(!(E.length<2)){var C=E[1];if(Array.isArray(C)&&!(C.length<1)){var q=C[0];if(q!="noop"&&q!="stop"&&q!="close")for(let le=1;le<C.length;le++)C[le]=""}}}}return Gs(X)}catch{return _}}var ga={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Yl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Wl;function ya(){}T(ya,po),ya.prototype.g=function(){return new XMLHttpRequest},Wl=new ya;function Ci(h){return encodeURIComponent(String(h))}function $c(h){var _=1;h=h.split(":");const E=[];for(;_>0&&h.length;)E.push(h.shift()),_--;return h.length&&E.push(h.join(":")),E}function xs(h,_,E,C){this.j=h,this.i=_,this.l=E,this.S=C||1,this.V=new Ss(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Cs}function Cs(){this.i=null,this.g="",this.h=!1}var Bt={},sn={};function Ys(h,_,E){h.M=1,h.A=va(Ft(_)),h.u=E,h.R=!0,vo(h,null)}function vo(h,_){h.F=Date.now(),Ws(h),h.B=Ft(h.A);var E=h.B,C=h.S;Array.isArray(C)||(C=[String(C)]),Eo(E.i,"t",C),h.C=0,E=h.j.L,h.h=new Cs,h.g=ch(h.j,E?_:null,!h.u),h.P>0&&(h.O=new Qt(g(h.Y,h,h.g),h.P)),_=h.V,E=h.g,C=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(da[0]=q.toString()),q=da);for(let X=0;X<q.length;X++){const le=mt(E,q[X],C||_.handleEvent,!1,_.h||_);if(!le)break;_.g[le.key]=le}_=h.J?L(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Le(),Gl(h.i,h.v,h.B,h.l,h.S,h.u)}xs.prototype.ba=function(h){h=h.target;const _=this.O;_&&Ms(h)==3?_.j():this.Y(h)},xs.prototype.Y=function(h){try{if(h==this.g)e:{const Pe=Ms(this.g),Vt=this.g.ya(),tt=this.g.ca();if(!(Pe<3)&&(Pe!=3||this.g&&(this.h.h||this.g.la()||un(this.g)))){this.K||Pe!=4||Vt==7||(Vt==8||tt<=0?Le(3):Le(2)),Ks(this);var _=this.g.ca();this.X=_;var E=Fd(this);if(this.o=_==200,yo(this.i,this.v,this.B,this.l,this.S,Pe,_),this.o){if(this.U&&!this.L){t:{if(this.g){var C,q=this.g;if((C=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(C)){var X=C;break t}}X=null}if(h=X)Mn(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,$s(this,h);else{this.o=!1,this.m=3,Ae(12),Fn(this),rs(this);break e}}if(this.R){h=!0;let Tt;for(;!this.K&&this.C<E.length;)if(Tt=Xc(this,E),Tt==sn){Pe==4&&(this.m=4,Ae(14),h=!1),Mn(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==Bt){this.m=4,Ae(15),Mn(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Mn(this.i,this.l,Tt,null),$s(this,Tt);if(Qc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||E.length!=0||this.h.h||(this.m=1,Ae(16),h=!1),this.o=this.o&&h,!h)Mn(this.i,this.l,E,"[Invalid Chunked Response]"),Fn(this),rs(this);else if(E.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),lu(le),le.P=!0,Ae(11))}}else Mn(this.i,this.l,E,null),$s(this,E);Pe==4&&Fn(this),this.o&&!this.K&&(Pe==4?ah(this.j,this):(this.o=!1,Ws(this)))}else Ni(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),Fn(this),rs(this)}}}catch{}finally{}};function Fd(h){if(!Qc(h))return h.g.la();const _=un(h.g);if(_==="")return"";let E="";const C=_.length,q=Ms(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Fn(h),rs(h),"";h.h.i=new c.TextDecoder}for(let X=0;X<C;X++)h.h.h=!0,E+=h.h.i.decode(_[X],{stream:!(q&&X==C-1)});return _.length=0,h.h.g+=E,h.C=0,h.h.g}function Qc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Xc(h,_){var E=h.C,C=_.indexOf(`
`,E);return C==-1?sn:(E=Number(_.substring(E,C)),isNaN(E)?Bt:(C+=1,C+E>_.length?sn:(_=_.slice(C,C+E),h.C=C+E,_)))}xs.prototype.cancel=function(){this.K=!0,Fn(this)};function Ws(h){h.T=Date.now()+h.H,_o(h,h.H)}function _o(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Re(g(h.aa,h),_)}function Ks(h){h.D&&(c.clearTimeout(h.D),h.D=null)}xs.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(As(this.i,this.B),this.M!=2&&(Le(),Ae(17)),Fn(this),this.m=2,rs(this)):_o(this,this.T-h)};function rs(h){h.j.I==0||h.K||ah(h.j,h)}function Fn(h){Ks(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,ma(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function $s(h,_){try{var E=h.j;if(E.I!=0&&(E.g==h||Xs(E.h,h))){if(!h.L&&Xs(E.h,h)&&E.I==3){try{var C=E.Ba.g.parse(_)}catch{C=null}if(Array.isArray(C)&&C.length==3){var q=C;if(q[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Co(E),_r(E);else break e;Aa(E),Ae(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Re(g(E.Va,E),6e3));Qs(E.h)<=1&&E.ta&&(E.ta=void 0)}else si(E,11)}else if((h.L||E.g==h)&&Co(E),!N(_))for(q=E.Ba.g.parse(_),_=0;_<q.length;_++){let tt=q[_];const Tt=tt[0];if(!(Tt<=E.K))if(E.K=Tt,tt=tt[1],E.I==2)if(tt[0]=="c"){E.M=tt[1],E.ba=tt[2];const ls=tt[3];ls!=null&&(E.ka=ls,E.j.info("VER="+E.ka));const ii=tt[4];ii!=null&&(E.za=ii,E.j.info("SVER="+E.za));const Rs=tt[5];Rs!=null&&typeof Rs=="number"&&Rs>0&&(C=1.5*Rs,E.O=C,E.j.info("backChannelRequestTimeoutMs_="+C)),C=E;const Is=h.g;if(Is){const xa=Is.g?Is.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xa){var X=C.h;X.g||xa.indexOf("spdy")==-1&&xa.indexOf("quic")==-1&&xa.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Ql(X,X.h),X.h=null))}if(C.G){const Do=Is.g?Is.g.getResponseHeader("X-HTTP-Session-Id"):null;Do&&(C.wa=Do,it(C.J,C.G,Do))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),C=E;var le=h;if(C.na=uh(C,C.L?C.ba:null,C.W),le.L){Xl(C.h,le);var Pe=le,Vt=C.O;Vt&&(Pe.H=Vt),Pe.D&&(Ks(Pe),Ws(Pe)),C.g=le}else ih(C);E.i.length>0&&ni(E)}else tt[0]!="stop"&&tt[0]!="close"||si(E,7);else E.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?si(E,7):au(E):tt[0]!="noop"&&E.l&&E.l.qa(tt),E.A=0)}}Le(4)}catch{}}var zt=class{constructor(h,_){this.g=h,this.map=_}};function Kl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function $l(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Qs(h){return h.h?1:h.g?h.g.size:0}function Xs(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Ql(h,_){h.g?h.g.add(_):h.h=_}function Xl(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Kl.prototype.cancel=function(){if(this.i=Zl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Zl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const E of h.g.values())_=_.concat(E.G);return _}return D(h.i)}var Zc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function To(h,_){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const C=h[E].indexOf("=");let q,X=null;C>=0?(q=h[E].substring(0,C),X=h[E].substring(C+1)):q=h[E],_(q,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Hn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Hn?(this.l=h.l,rn(this,h.j),this.o=h.o,this.g=h.g,fr(this,h.u),this.h=h.h,Jl(this,nh(h.i)),this.m=h.m):h&&(_=String(h).match(Zc))?(this.l=!1,rn(this,_[1]||"",!0),this.o=Zs(_[2]||""),this.g=Zs(_[3]||"",!0),fr(this,_[4]),this.h=Zs(_[5]||"",!0),Jl(this,_[6]||"",!0),this.m=Zs(_[7]||"")):(this.l=!1,this.i=new mr(null,this.l))}Hn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(_a(_,bo,!0),":");var E=this.g;return(E||_=="file")&&(h.push("//"),(_=this.o)&&h.push(_a(_,bo,!0),"@"),h.push(Ci(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(_a(E,E.charAt(0)=="/"?eu:Jc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",_a(E,eh)),h.join("")},Hn.prototype.resolve=function(h){const _=Ft(this);let E=!!h.j;E?rn(_,h.j):E=!!h.o,E?_.o=h.o:E=!!h.g,E?_.g=h.g:E=h.u!=null;var C=h.h;if(E)fr(_,h.u);else if(E=!!h.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var q=_.h.lastIndexOf("/");q!=-1&&(C=_.h.slice(0,q+1)+C)}if(q=C,q==".."||q==".")C="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){C=q.lastIndexOf("/",0)==0,q=q.split("/");const X=[];for(let le=0;le<q.length;){const Pe=q[le++];Pe=="."?C&&le==q.length&&X.push(""):Pe==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),C&&le==q.length&&X.push("")):(X.push(Pe),C=!0)}C=X.join("/")}else C=q}return E?_.h=C:E=h.i.toString()!=="",E?Jl(_,nh(h.i)):E=!!h.m,E&&(_.m=h.m),_};function Ft(h){return new Hn(h)}function rn(h,_,E){h.j=E?Zs(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function fr(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function Jl(h,_,E){_ instanceof mr?(h.i=_,wo(h.i,h.l)):(E||(_=_a(_,dr)),h.i=new mr(_,h.l))}function it(h,_,E){h.i.set(_,E)}function va(h){return it(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Zs(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function _a(h,_,E){return typeof h=="string"?(h=encodeURI(h).replace(_,Rn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Rn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var bo=/[#\/\?@]/g,Jc=/[#\?:]/g,eu=/[#\?]/g,dr=/[#\?@]/g,eh=/#/g;function mr(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function In(h){h.g||(h.g=new Map,h.h=0,h.i&&To(h.i,function(_,E){h.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=mr.prototype,t.add=function(h,_){In(this),this.i=null,h=pr(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(_),this.h+=1,this};function th(h,_){In(h),_=pr(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function tu(h,_){return In(h),_=pr(h,_),h.g.has(_)}t.forEach=function(h,_){In(this),this.g.forEach(function(E,C){E.forEach(function(q){h.call(_,q,C,this)},this)},this)};function nu(h,_){In(h);let E=[];if(typeof _=="string")tu(h,_)&&(E=E.concat(h.g.get(pr(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)E=E.concat(h[_]);return E}t.set=function(h,_){return In(this),this.i=null,h=pr(this,h),tu(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=nu(this,h),h.length>0?String(h[0]):_):_};function Eo(h,_,E){th(h,_),E.length>0&&(h.i=null,h.g.set(pr(h,_),D(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let C=0;C<_.length;C++){var E=_[C];const q=Ci(E);E=nu(this,E);for(let X=0;X<E.length;X++){let le=q;E[X]!==""&&(le+="="+Ci(E[X])),h.push(le)}}return this.i=h.join("&")};function nh(h){const _=new mr;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function pr(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function wo(h,_){_&&!h.j&&(In(h),h.i=null,h.g.forEach(function(E,C){const q=C.toLowerCase();C!=q&&(th(this,C),Eo(this,q,E))},h)),h.j=_}function Ds(h,_){const E=new zn;if(c.Image){const C=new Image;C.onload=y(as,E,"TestLoadImage: loaded",!0,_,C),C.onerror=y(as,E,"TestLoadImage: error",!1,_,C),C.onabort=y(as,E,"TestLoadImage: abort",!1,_,C),C.ontimeout=y(as,E,"TestLoadImage: timeout",!1,_,C),c.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else _(!1)}function su(h,_){const E=new zn,C=new AbortController,q=setTimeout(()=>{C.abort(),as(E,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:C.signal}).then(X=>{clearTimeout(q),X.ok?as(E,"TestPingServer: ok",!0,_):as(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(q),as(E,"TestPingServer: error",!1,_)})}function as(h,_,E,C,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),C(E)}catch{}}function gr(){this.g=new mo}function Js(h){this.i=h.Sb||null,this.h=h.ab||!1}T(Js,po),Js.prototype.g=function(){return new Ta(this.i,this.h)};function Ta(h,_){Dt.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ta,Dt),t=Ta.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,Ns(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,yr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ns(this)),this.g&&(this.readyState=3,Ns(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;So(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function So(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?yr(this):Ns(this),this.readyState==3&&So(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,yr(this))},t.Na=function(h){this.g&&(this.response=h,yr(this))},t.ga=function(){this.g&&yr(this)};function yr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Ns(h)}t.setRequestHeader=function(h,_){this.A.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=_.next();return h.join(`\r
`)};function Ns(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function os(h){let _="";return Te(h,function(E,C){_+=C,_+=":",_+=E,_+=`\r
`}),_}function ba(h,_,E){e:{for(C in E){var C=!1;break e}C=!0}C||(E=os(E),typeof h=="string"?E!=null&&Ci(E):it(h,_,E))}function ut(h){Dt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(ut,Dt);var ei=/^https?$/i,iu=["POST","PUT"];t=ut.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,_,E,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Wl.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(X){Ea(this,X);return}if(h=E||"",E=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var q in C)E.set(q,C[q]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const X of C.keys())E.set(X,C.get(X));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),q=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(iu,_,void 0)>=0)||C||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,le]of E)this.g.setRequestHeader(X,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){Ea(this,X)}};function Ea(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,ru(h),Di(h)}function ru(h){h.A||(h.A=!0,Ot(h,"complete"),Ot(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ot(this,"complete"),Ot(this,"abort"),Di(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),ut.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?wa(this):this.Xa())},t.Xa=function(){wa(this)};function wa(h){if(h.h&&typeof l<"u"){if(h.v&&Ms(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ot(h,"readystatechange"),Ms(h)==4){h.h=!1;try{const X=h.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var C;if(C=X===0){let le=String(h.D).match(Zc)[1]||null;!le&&c.self&&c.self.location&&(le=c.self.location.protocol.slice(0,-1)),C=!ei.test(le?le.toLowerCase():"")}E=C}if(E)Ot(h,"complete"),Ot(h,"success");else{h.o=6;try{var q=Ms(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",ru(h)}}finally{Di(h)}}}}function Di(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,_||Ot(h,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ms(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Ms(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),ql(_)}};function un(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ni(h){const _={};h=(h.g&&Ms(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(N(h[C]))continue;var E=$c(h[C]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=_[q]||[];_[q]=X,X.push(E)}Ce(_,function(C){return C.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ti(h,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||_}function vr(h){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ti("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ti("baseRetryDelayMs",5e3,h),this.Za=ti("retryDelaySeedMs",1e4,h),this.Ta=ti("forwardChannelMaxRetries",2,h),this.va=ti("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Kl(h&&h.concurrentRequestLimit),this.Ba=new gr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=vr.prototype,t.ka=8,t.I=1,t.connect=function(h,_,E,C){Ae(0),this.W=h,this.H=_||{},E&&C!==void 0&&(this.H.OSID=E,this.H.OAID=C),this.F=this.X,this.J=uh(this,null,this.W),ni(this)};function au(h){if(Ao(h),h.I==3){var _=h.V++,E=Ft(h.J);if(it(E,"SID",h.M),it(E,"RID",_),it(E,"TYPE","terminate"),Sa(h,E),_=new xs(h,h.j,_),_.M=2,_.A=va(Ft(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=_.A,E=!0),E||(_.g=ch(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Ws(_)}lh(h)}function _r(h){h.g&&(lu(h),h.g.cancel(),h.g=null)}function Ao(h){_r(h),h.v&&(c.clearTimeout(h.v),h.v=null),Co(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function ni(h){if(!$l(h.h)&&!h.m){h.m=!0;var _=h.Ea;B||A(),G||(B(),G=!0),x.add(_,h),h.D=0}}function xo(h,_){return Qs(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Re(g(h.Ea,h,_),oh(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new xs(this,this.j,h);let X=this.o;if(this.U&&(X?(X=L(X),ue(X,this.U)):X=this.U),this.u!==null||this.R||(q.J=X,X=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var C=this.i[E];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(_+=C,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=sh(this,q,_),E=Ft(this.J),it(E,"RID",h),it(E,"CVER",22),this.G&&it(E,"X-HTTP-Session-Id",this.G),Sa(this,E),X&&(this.R?_="headers="+Ci(os(X))+"&"+_:this.u&&ba(E,this.u,X)),Ql(this.h,q),this.Ra&&it(E,"TYPE","init"),this.S?(it(E,"$req",_),it(E,"SID","null"),q.U=!0,Ys(q,E,null)):Ys(q,E,_),this.I=2}}else this.I==3&&(h?ou(this,h):this.i.length==0||$l(this.h)||ou(this))};function ou(h,_){var E;_?E=_.l:E=h.V++;const C=Ft(h.J);it(C,"SID",h.M),it(C,"RID",E),it(C,"AID",h.K),Sa(h,C),h.u&&h.o&&ba(C,h.u,h.o),E=new xs(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),_&&(h.i=_.G.concat(h.i)),_=sh(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Ql(h.h,E),Ys(E,C,_)}function Sa(h,_){h.H&&Te(h.H,function(E,C){it(_,C,E)}),h.l&&Te({},function(E,C){it(_,C,E)})}function sh(h,_,E){E=Math.min(h.i.length,E);const C=h.l?g(h.l.Ka,h.l,h):null;e:{var q=h.i;let Pe=-1;for(;;){const Vt=["count="+E];Pe==-1?E>0?(Pe=q[0].g,Vt.push("ofs="+Pe)):Pe=0:Vt.push("ofs="+Pe);let tt=!0;for(let Tt=0;Tt<E;Tt++){var X=q[Tt].g;const ls=q[Tt].map;if(X-=Pe,X<0)Pe=Math.max(0,q[Tt].g-100),tt=!1;else try{X="req"+X+"_"||"";try{var le=ls instanceof Map?ls:Object.entries(ls);for(const[ii,Rs]of le){let Is=Rs;f(Rs)&&(Is=Gs(Rs)),Vt.push(X+ii+"="+encodeURIComponent(Is))}}catch(ii){throw Vt.push(X+"type="+encodeURIComponent("_badmap")),ii}}catch{C&&C(ls)}}if(tt){le=Vt.join("&");break e}}le=void 0}return h=h.i.splice(0,E),_.G=h,le}function ih(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;B||A(),G||(B(),G=!0),x.add(_,h),h.A=0}}function Aa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Re(g(h.Da,h),oh(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,rh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Re(g(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),_r(this),rh(this))};function lu(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function rh(h){h.g=new xs(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Ft(h.na);it(_,"RID","rpc"),it(_,"SID",h.M),it(_,"AID",h.K),it(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&it(_,"TO",h.ia),it(_,"TYPE","xmlhttp"),Sa(h,_),h.u&&h.o&&ba(_,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=va(Ft(_)),E.u=null,E.R=!0,vo(E,h)}t.Va=function(){this.C!=null&&(this.C=null,_r(this),Aa(this),Ae(19))};function Co(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function ah(h,_){var E=null;if(h.g==_){Co(h),lu(h),h.g=null;var C=2}else if(Xs(h.h,_))E=_.G,Xl(h.h,_),C=1;else return;if(h.I!=0){if(_.o)if(C==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var q=h.D;C=hr(),Ot(C,new kt(C,E)),ni(h)}else ih(h);else if(q=_.m,q==3||q==0&&_.X>0||!(C==1&&xo(h,_)||C==2&&Aa(h)))switch(E&&E.length>0&&(_=h.h,_.i=_.i.concat(E)),q){case 1:si(h,5);break;case 4:si(h,10);break;case 3:si(h,6);break;default:si(h,2)}}}function oh(h,_){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*_}function si(h,_){if(h.j.info("Error code "+_),_==2){var E=g(h.bb,h),C=h.Ua;const q=!C;C=new Hn(C||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||rn(C,"https"),va(C),q?Ds(C.toString(),E):su(C.toString(),E)}else Ae(2);h.I=0,h.l&&h.l.pa(_),lh(h),Ao(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function lh(h){if(h.I=0,h.ja=[],h.l){const _=Zl(h.h);(_.length!=0||h.i.length!=0)&&(V(h.ja,_),V(h.ja,h.i),h.h.i.length=0,D(h.i),h.i.length=0),h.l.oa()}}function uh(h,_,E){var C=E instanceof Hn?Ft(E):new Hn(E);if(C.g!="")_&&(C.g=_+"."+C.g),fr(C,C.u);else{var q=c.location;C=q.protocol,_=_?_+"."+q.hostname:q.hostname,q=+q.port;const X=new Hn(null);C&&rn(X,C),_&&(X.g=_),q&&fr(X,q),E&&(X.h=E),C=X}return E=h.G,_=h.wa,E&&_&&it(C,E,_),it(C,"VER",h.ka),Sa(h,C),C}function ch(h,_,E){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new ut(new Js({ab:E})):new ut(h.ma),_.Fa(h.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hh(){}t=hh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Tr(){}Tr.prototype.g=function(h,_){return new An(h,_)};function An(h,_){Dt.call(this),this.g=new vr(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!N(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!N(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Mi(this)}T(An,Dt),An.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){au(this.g)},An.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Gs(h),h=E);_.i.push(new zt(_.Ya++,h)),_.I==3&&ni(_)},An.prototype.N=function(){this.g.l=null,delete this.j,au(this.g),delete this.g,An.Z.N.call(this)};function fh(h){Xt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const E in _){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}T(fh,Xt);function dh(){Nn.call(this),this.status=1}T(dh,Nn);function Mi(h){this.g=h}T(Mi,hh),Mi.prototype.ra=function(){Ot(this.g,"a")},Mi.prototype.qa=function(h){Ot(this.g,new fh(h))},Mi.prototype.pa=function(h){Ot(this.g,new dh)},Mi.prototype.oa=function(){Ot(this.g,"b")},Tr.prototype.createWebChannel=Tr.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,ix=function(){return new Tr},sx=function(){return hr()},nx=wt,Zg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ga.NO_ERROR=0,ga.TIMEOUT=8,ga.HTTP_ERROR=6,kf=ga,Yl.COMPLETE="complete",tx=Yl,go.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",Dt.prototype.listen=Dt.prototype.J,Qu=go,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,ex=ut}).apply(typeof wf<"u"?wf:typeof self<"u"?self:typeof window<"u"?window:{});const hE="@firebase/firestore",fE="4.9.2";class bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");let Ll="12.3.0";const ro=new lv("@firebase/firestore");function al(){return ro.logLevel}function de(t,...e){if(ro.logLevel<=Ke.DEBUG){const n=e.map(hv);ro.debug(`Firestore (${Ll}): ${t}`,...n)}}function sr(t,...e){if(ro.logLevel<=Ke.ERROR){const n=e.map(hv);ro.error(`Firestore (${Ll}): ${t}`,...n)}}function xl(t,...e){if(ro.logLevel<=Ke.WARN){const n=e.map(hv);ro.warn(`Firestore (${Ll}): ${t}`,...n)}}function hv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function xe(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,rx(t,i,n)}function rx(t,e,n){let i=`FIRESTORE (${Ll}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw sr(i),new Error(i)}function st(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||rx(e,a,i)}function Ve(t,e){return t}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends ar{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ja{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class ax{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(bn.UNAUTHENTICATED)))}shutdown(){}}class Ej{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class wj{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){st(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,n(m)):Promise.resolve();let l=new Ja;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ja,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ja)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(st(typeof i.accessToken=="string",31837,{l:i}),new ax(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new bn(e)}}class Sj{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Aj{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new Sj(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(bn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class dE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xj{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Us(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){st(this.o===void 0,3512);const i=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,de("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new dE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(st(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new dE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Cj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class fv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=Cj(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function $e(t,e){return t<e?-1:t>e?1:0}function Jg(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return lg(a)===lg(l)?$e(a,l):lg(a)?1:-1}return $e(t.length,e.length)}const Dj=55296,Nj=57343;function lg(t){const e=t.charCodeAt(0);return e>=Dj&&e<=Nj}function Cl(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}const mE="__name__";class ci{constructor(e,n,i){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&xe(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return ci.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ci?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=ci.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return $e(e.length,n.length)}static compareSegments(e,n){const i=ci.isNumericId(e),a=ci.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?ci.extractNumericId(e).compare(ci.extractNumericId(n)):Jg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Jr.fromString(e.substring(4,e.length-2))}}class At extends ci{construct(e,n,i){return new At(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ve(ae.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new At(n)}static emptyPath(){return new At([])}}const Mj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends ci{construct(e,n,i){return new yn(e,n,i)}static isValidIdentifier(e){return Mj.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mE}static keyField(){return new yn([mE])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ve(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new ve(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ve(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(i+=f,a++):(l(),a++)}if(l(),c)throw new ve(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yn(n)}static emptyPath(){return new yn([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(At.fromString(e))}static fromName(e){return new be(At.fromString(e).popFirst(5))}static empty(){return new be(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return At.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new At(e.slice()))}}function Rj(t,e,n){if(!n)throw new ve(ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Ij(t,e,n,i){if(e===!0&&i===!0)throw new ve(ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pE(t){if(!be.isDocumentKey(t))throw new ve(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ox(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function dv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe(12329,{type:typeof t})}function yl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dv(t);throw new ve(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function $t(t,e){const n={typeString:t};return e&&(n.value=e),n}function Uc(t,e){if(!ox(t))throw new ve(ae.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const c=t[i];if(a&&typeof c!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new ve(ae.INVALID_ARGUMENT,n);return!0}const gE=-62135596800,yE=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*yE);return new _t(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<gE)throw new ve(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yE}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Uc(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-gE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:$t("string",_t._jsonSchemaVersion),seconds:$t("number"),nanoseconds:$t("number")};class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new _t(0,0))}static max(){return new Ie(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const wc=-1;function Oj(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Ie.fromTimestamp(i===1e9?new _t(n+1,0):new _t(n,i));return new na(a,be.empty(),e)}function kj(t){return new na(t.readTime,t.key,wc)}class na{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new na(Ie.min(),be.empty(),wc)}static max(){return new na(Ie.max(),be.empty(),wc)}}function Vj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:$e(t.largestBatchId,e.largestBatchId))}const Pj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ul(t){if(t.code!==ae.FAILED_PRECONDITION||t.message!==Pj)throw t;de("LocalStore","Unexpectedly lost primary lease")}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,i)=>{n(e)}))}static reject(e){return new re(((n,i)=>{i(e)}))}static waitFor(e){return new re(((n,i)=>{let a=0,l=0,c=!1;e.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&n()}),(m=>i(m)))})),c=!0,l===a&&n()}))}static or(e){let n=re.resolve(!1);for(const i of e)n=n.next((a=>a?re.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new re(((i,a)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const g=m;n(e[g]).next((y=>{c[g]=y,++f,f===l&&i(c)}),(y=>a(y)))}}))}static doWhile(e,n){return new re(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function Lj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bl(t){return t.name==="IndexedDbTransactionError"}class Ed{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ed.ce=-1;const mv=-1;function wd(t){return t==null}function Zf(t){return t===0&&1/t==-1/0}function Uj(t){return typeof t=="number"&&Number.isInteger(t)&&!Zf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const lx="";function Bj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=vE(e)),e=zj(t.get(n),e);return vE(e)}function zj(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case lx:n+="";break;default:n+=l}}return n}function vE(t){return t+lx+""}function _E(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function uo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ux(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ct{constructor(e,n){this.comparator=e,this.root=n||gn.EMPTY}insert(e,n){return new Ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sf(this.root,e,this.comparator,!0)}}class Sf{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??gn.RED,this.left=a??gn.EMPTY,this.right=l??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new gn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return gn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new gn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nn{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new TE(this.data.getIterator())}getIteratorFrom(e){return new TE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new nn(this.comparator);return n.data=e,n}}class TE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Bs{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new Bs([])}unionWith(e){let n=new nn(yn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Bs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Cl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class cx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new cx("Invalid base64 string: "+l):l}})(e);return new vn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new vn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const Fj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sa(t){if(st(!!t,39018),typeof t=="string"){let e=0;const n=Fj.exec(t);if(st(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Lt(t.seconds),nanos:Lt(t.nanos)}}function Lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ia(t){return typeof t=="string"?vn.fromBase64String(t):vn.fromUint8Array(t)}const hx="server_timestamp",fx="__type__",dx="__previous_value__",mx="__local_write_time__";function pv(t){return(t?.mapValue?.fields||{})[fx]?.stringValue===hx}function Sd(t){const e=t.mapValue.fields[dx];return pv(e)?Sd(e):e}function Sc(t){const e=sa(t.mapValue.fields[mx].timestampValue);return new _t(e.seconds,e.nanos)}class Hj{constructor(e,n,i,a,l,c,f,m,g,y){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=y}}const Jf="(default)";class Ac{constructor(e,n){this.projectId=e,this.database=n||Jf}static empty(){return new Ac("","")}get isDefaultDatabase(){return this.database===Jf}isEqual(e){return e instanceof Ac&&e.projectId===this.projectId&&e.database===this.database}}const px="__type__",qj="__max__",Af={mapValue:{}},gx="__vector__",ed="value";function ra(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pv(t)?4:Yj(t)?9007199254740991:Gj(t)?10:11:xe(28295,{value:t})}function Ei(t,e){if(t===e)return!0;const n=ra(t);if(n!==ra(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sc(t).isEqual(Sc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=sa(a.timestampValue),f=sa(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return ia(a.bytesValue).isEqual(ia(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Lt(a.geoPointValue.latitude)===Lt(l.geoPointValue.latitude)&&Lt(a.geoPointValue.longitude)===Lt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Lt(a.integerValue)===Lt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Lt(a.doubleValue),f=Lt(l.doubleValue);return c===f?Zf(c)===Zf(f):isNaN(c)&&isNaN(f)}return!1})(t,e);case 9:return Cl(t.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(_E(c)!==_E(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!Ei(c[m],f[m])))return!1;return!0})(t,e);default:return xe(52216,{left:t})}}function xc(t,e){return(t.values||[]).find((n=>Ei(n,e)))!==void 0}function Dl(t,e){if(t===e)return 0;const n=ra(t),i=ra(e);if(n!==i)return $e(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=Lt(l.integerValue||l.doubleValue),m=Lt(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(t,e);case 3:return bE(t.timestampValue,e.timestampValue);case 4:return bE(Sc(t),Sc(e));case 5:return Jg(t.stringValue,e.stringValue);case 6:return(function(l,c){const f=ia(l),m=ia(c);return f.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),m=c.split("/");for(let g=0;g<f.length&&g<m.length;g++){const y=$e(f[g],m[g]);if(y!==0)return y}return $e(f.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=$e(Lt(l.latitude),Lt(c.latitude));return f!==0?f:$e(Lt(l.longitude),Lt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return EE(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const f=l.fields||{},m=c.fields||{},g=f[ed]?.arrayValue,y=m[ed]?.arrayValue,T=$e(g?.values?.length||0,y?.values?.length||0);return T!==0?T:EE(g,y)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Af.mapValue&&c===Af.mapValue)return 0;if(l===Af.mapValue)return 1;if(c===Af.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),g=c.fields||{},y=Object.keys(g);m.sort(),y.sort();for(let T=0;T<m.length&&T<y.length;++T){const w=Jg(m[T],y[T]);if(w!==0)return w;const D=Dl(f[m[T]],g[y[T]]);if(D!==0)return D}return $e(m.length,y.length)})(t.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function bE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return $e(t,e);const n=sa(t),i=sa(e),a=$e(n.seconds,i.seconds);return a!==0?a:$e(n.nanos,i.nanos)}function EE(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=Dl(n[a],i[a]);if(l)return l}return $e(n.length,i.length)}function Nl(t){return ey(t)}function ey(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=sa(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ia(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=ey(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${ey(n.fields[c])}`;return a+"}"})(t.mapValue):xe(61005,{value:t})}function Vf(t){switch(ra(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sd(t);return e?16+Vf(e):16;case 5:return 2*t.stringValue.length;case 6:return ia(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+Vf(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return uo(i.fields,((l,c)=>{a+=l.length+Vf(c)})),a})(t.mapValue);default:throw xe(13486,{value:t})}}function ty(t){return!!t&&"integerValue"in t}function gv(t){return!!t&&"arrayValue"in t}function wE(t){return!!t&&"nullValue"in t}function SE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pf(t){return!!t&&"mapValue"in t}function Gj(t){return(t?.mapValue?.fields||{})[px]?.stringValue===gx}function ac(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return uo(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=ac(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ac(t.arrayValue.values[n]);return e}return{...t}}function Yj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===qj}class _s{constructor(e){this.value=e}static empty(){return new _s({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Pf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ac(n)}setAll(e){let n=yn.emptyPath(),i={},a=[];e.forEach(((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,i,a),i={},a=[],n=f.popLast()}c?i[f.lastSegment()]=ac(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());Pf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Pf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){uo(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new _s(ac(this.value))}}function yx(t){const e=[];return uo(t.fields,((n,i)=>{const a=new yn([n]);if(Pf(i)){const l=yx(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Bs(e)}class En{constructor(e,n,i,a,l,c,f){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new En(e,0,Ie.min(),Ie.min(),Ie.min(),_s.empty(),0)}static newFoundDocument(e,n,i,a){return new En(e,1,n,Ie.min(),i,a,0)}static newNoDocument(e,n){return new En(e,2,n,Ie.min(),Ie.min(),_s.empty(),0)}static newUnknownDocument(e,n){return new En(e,3,n,Ie.min(),Ie.min(),_s.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_s.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_s.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class td{constructor(e,n){this.position=e,this.inclusive=n}}function AE(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?i=be.comparator(be.fromName(c.referenceValue),n.key):i=Dl(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function xE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ei(t.position[n],e.position[n]))return!1;return!0}class nd{constructor(e,n="asc"){this.field=e,this.dir=n}}function Wj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class vx{}class tn extends vx{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new $j(e,n,i):n==="array-contains"?new Zj(e,i):n==="in"?new Jj(e,i):n==="not-in"?new e5(e,i):n==="array-contains-any"?new t5(e,i):new tn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new Qj(e,i):new Xj(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Dl(n,this.value)):n!==null&&ra(this.value)===ra(n)&&this.matchesComparison(Dl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wi extends vx{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new wi(e,n)}matches(e){return _x(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _x(t){return t.op==="and"}function Tx(t){return Kj(t)&&_x(t)}function Kj(t){for(const e of t.filters)if(e instanceof wi)return!1;return!0}function ny(t){if(t instanceof tn)return t.field.canonicalString()+t.op.toString()+Nl(t.value);if(Tx(t))return t.filters.map((e=>ny(e))).join(",");{const e=t.filters.map((n=>ny(n))).join(",");return`${t.op}(${e})`}}function bx(t,e){return t instanceof tn?(function(i,a){return a instanceof tn&&i.op===a.op&&i.field.isEqual(a.field)&&Ei(i.value,a.value)})(t,e):t instanceof wi?(function(i,a){return a instanceof wi&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,f)=>l&&bx(c,a.filters[f])),!0):!1})(t,e):void xe(19439)}function Ex(t){return t instanceof tn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Nl(n.value)}`})(t):t instanceof wi?(function(n){return n.op.toString()+" {"+n.getFilters().map(Ex).join(" ,")+"}"})(t):"Filter"}class $j extends tn{constructor(e,n,i){super(e,n,i),this.key=be.fromName(i.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class Qj extends tn{constructor(e,n){super(e,"in",n),this.keys=wx("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Xj extends tn{constructor(e,n){super(e,"not-in",n),this.keys=wx("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function wx(t,e){return(e.arrayValue?.values||[]).map((n=>be.fromName(n.referenceValue)))}class Zj extends tn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gv(n)&&xc(n.arrayValue,this.value)}}class Jj extends tn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xc(this.value.arrayValue,n)}}class e5 extends tn{constructor(e,n){super(e,"not-in",n)}matches(e){if(xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!xc(this.value.arrayValue,n)}}class t5 extends tn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>xc(this.value.arrayValue,i)))}}class n5{constructor(e,n=null,i=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function CE(t,e=null,n=[],i=[],a=null,l=null,c=null){return new n5(t,e,n,i,a,l,c)}function yv(t){const e=Ve(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>ny(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),wd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Nl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Nl(i))).join(",")),e.Te=n}return e.Te}function vv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Wj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xE(t.startAt,e.startAt)&&xE(t.endAt,e.endAt)}function sy(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Ad{constructor(e,n=null,i=[],a=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function s5(t,e,n,i,a,l,c,f){return new Ad(t,e,n,i,a,l,c,f)}function _v(t){return new Ad(t)}function DE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function i5(t){return t.collectionGroup!==null}function oc(t){const e=Ve(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new nn(yn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(f=f.add(g.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new nd(l,i))})),n.has(yn.keyField().canonicalString())||e.Ie.push(new nd(yn.keyField(),i))}return e.Ie}function yi(t){const e=Ve(t);return e.Ee||(e.Ee=r5(e,oc(t))),e.Ee}function r5(t,e){if(t.limitType==="F")return CE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new nd(a.field,l)}));const n=t.endAt?new td(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new td(t.startAt.position,t.startAt.inclusive):null;return CE(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function iy(t,e,n){return new Ad(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xd(t,e){return vv(yi(t),yi(e))&&t.limitType===e.limitType}function Sx(t){return`${yv(yi(t))}|lt:${t.limitType}`}function ol(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>Ex(a))).join(", ")}]`),wd(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>Nl(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>Nl(a))).join(",")),`Target(${i})`})(yi(t))}; limitType=${t.limitType})`}function Cd(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):be.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of oc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(c,f,m){const g=AE(c,f,m);return c.inclusive?g<=0:g<0})(i.startAt,oc(i),a)||i.endAt&&!(function(c,f,m){const g=AE(c,f,m);return c.inclusive?g>=0:g>0})(i.endAt,oc(i),a))})(t,e)}function a5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ax(t){return(e,n)=>{let i=!1;for(const a of oc(t)){const l=o5(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function o5(t,e,n){const i=t.field.isKeyField()?be.comparator(e.key,n.key):(function(l,c,f){const m=c.data.field(l),g=f.data.field(l);return m!==null&&g!==null?Dl(m,g):xe(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return xe(19790,{direction:t.dir})}}class co{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){uo(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return ux(this.inner)}size(){return this.innerSize}}const l5=new Ct(be.comparator);function ir(){return l5}const xx=new Ct(be.comparator);function Xu(...t){let e=xx;for(const n of t)e=e.insert(n.key,n);return e}function Cx(t){let e=xx;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Ka(){return lc()}function Dx(){return lc()}function lc(){return new co((t=>t.toString()),((t,e)=>t.isEqual(e)))}const u5=new Ct(be.comparator),c5=new nn(be.comparator);function Qe(...t){let e=c5;for(const n of t)e=e.add(n);return e}const h5=new nn($e);function f5(){return h5}function Tv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zf(e)?"-0":e}}function Nx(t){return{integerValue:""+t}}function d5(t,e){return Uj(e)?Nx(e):Tv(t,e)}class Dd{constructor(){this._=void 0}}function m5(t,e,n){return t instanceof sd?(function(a,l){const c={fields:{[fx]:{stringValue:hx},[mx]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&pv(l)&&(l=Sd(l)),l&&(c.fields[dx]=l),{mapValue:c}})(n,e):t instanceof Cc?Rx(t,e):t instanceof Dc?Ix(t,e):(function(a,l){const c=Mx(a,l),f=NE(c)+NE(a.Ae);return ty(c)&&ty(a.Ae)?Nx(f):Tv(a.serializer,f)})(t,e)}function p5(t,e,n){return t instanceof Cc?Rx(t,e):t instanceof Dc?Ix(t,e):n}function Mx(t,e){return t instanceof id?(function(i){return ty(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class sd extends Dd{}class Cc extends Dd{constructor(e){super(),this.elements=e}}function Rx(t,e){const n=Ox(e);for(const i of t.elements)n.some((a=>Ei(a,i)))||n.push(i);return{arrayValue:{values:n}}}class Dc extends Dd{constructor(e){super(),this.elements=e}}function Ix(t,e){let n=Ox(e);for(const i of t.elements)n=n.filter((a=>!Ei(a,i)));return{arrayValue:{values:n}}}class id extends Dd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function NE(t){return Lt(t.integerValue||t.doubleValue)}function Ox(t){return gv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function g5(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof Cc&&a instanceof Cc||i instanceof Dc&&a instanceof Dc?Cl(i.elements,a.elements,Ei):i instanceof id&&a instanceof id?Ei(i.Ae,a.Ae):i instanceof sd&&a instanceof sd})(t.transform,e.transform)}class y5{constructor(e,n){this.version=e,this.transformResults=n}}class Ji{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ji}static exists(e){return new Ji(void 0,e)}static updateTime(e){return new Ji(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Nd{}function kx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Px(t.key,Ji.none()):new Bc(t.key,t.data,Ji.none());{const n=t.data,i=_s.empty();let a=new nn(yn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new ho(t.key,i,new Bs(a.toArray()),Ji.none())}}function v5(t,e,n){t instanceof Bc?(function(a,l,c){const f=a.value.clone(),m=RE(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):t instanceof ho?(function(a,l,c){if(!jf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=RE(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(Vx(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function uc(t,e,n,i){return t instanceof Bc?(function(l,c,f,m){if(!jf(l.precondition,c))return f;const g=l.value.clone(),y=IE(l.fieldTransforms,m,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(t,e,n,i):t instanceof ho?(function(l,c,f,m){if(!jf(l.precondition,c))return f;const g=IE(l.fieldTransforms,m,c),y=c.data;return y.setAll(Vx(l)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(t,e,n,i):(function(l,c,f){return jf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(t,e,n)}function _5(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=Mx(i.transform,a||null);l!=null&&(n===null&&(n=_s.empty()),n.set(i.field,l))}return n||null}function ME(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Cl(i,a,((l,c)=>g5(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bc extends Nd{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ho extends Nd{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Vx(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function RE(t,e,n){const i=new Map;st(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,f=e.data.field(l.field);i.set(l.field,p5(c,f,n[a]))}return i}function IE(t,e,n){const i=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);i.set(a.field,m5(l,c,e))}return i}class Px extends Nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class T5 extends Nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class b5{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&v5(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=uc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=uc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=Dx();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const m=kx(c,f);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ie.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Qe())}isEqual(e){return this.batchId===e.batchId&&Cl(this.mutations,e.mutations,((n,i)=>ME(n,i)))&&Cl(this.baseMutations,e.baseMutations,((n,i)=>ME(n,i)))}}class bv{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){st(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return u5})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new bv(e,n,i,a)}}class E5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class w5{constructor(e,n){this.count=e,this.unchangedNames=n}}var Wt,Ze;function S5(t){switch(t){case ae.OK:return xe(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return xe(15467,{code:t})}}function jx(t){if(t===void 0)return sr("GRPC error has no .code"),ae.UNKNOWN;switch(t){case Wt.OK:return ae.OK;case Wt.CANCELLED:return ae.CANCELLED;case Wt.UNKNOWN:return ae.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return ae.INTERNAL;case Wt.UNAVAILABLE:return ae.UNAVAILABLE;case Wt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Wt.NOT_FOUND:return ae.NOT_FOUND;case Wt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Wt.ABORTED:return ae.ABORTED;case Wt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Wt.DATA_LOSS:return ae.DATA_LOSS;default:return xe(39323,{code:t})}}(Ze=Wt||(Wt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";function A5(){return new TextEncoder}const x5=new Jr([4294967295,4294967295],0);function OE(t){const e=A5().encode(t),n=new JA;return n.update(e),new Uint8Array(n.digest())}function kE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Jr([n,i],0),new Jr([a,l],0)]}class Ev{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Zu(`Invalid padding: ${n}`);if(i<0)throw new Zu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Zu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Zu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Jr.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(Jr.fromNumber(i)));return a.compare(x5)===1&&(a=new Jr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=OE(e),[i,a]=kE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Ev(l,a,n);return i.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const n=OE(e),[i,a]=kE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Zu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Md{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,zc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Md(Ie.min(),a,new Ct($e),ir(),Qe())}}class zc{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new zc(i,n,Qe(),Qe(),Qe())}}class Lf{constructor(e,n,i,a){this.be=e,this.removedTargetIds=n,this.key=i,this.De=a}}class Lx{constructor(e,n){this.targetId=e,this.Ce=n}}class Ux{constructor(e,n,i=vn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class VE{constructor(){this.ve=0,this.Fe=PE(),this.Me=vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qe(),n=Qe(),i=Qe();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:xe(38017,{changeType:l})}})),new zc(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=PE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class C5{constructor(e){this.Ge=e,this.ze=new Map,this.je=ir(),this.Je=xf(),this.He=xf(),this.Ye=new Ct($e)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(sy(l))if(i===0){const c=new be(l.path);this.et(n,c,En.newNoDocument(c,Ie.min()))}else st(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const f=this.ut(e),m=f?this.ct(f,e,c):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=ia(i).toUint8Array()}catch(m){if(m instanceof cx)return xl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new Ev(c,a,l)}catch(m){return xl(m instanceof Zu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&sy(f.target)){const m=new be(f.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,En.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let i=Qe();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Md(e,n,this.Ye,this.je,i);return this.je=ir(),this.Je=xf(),this.He=xf(),this.Ye=new Ct($e),a}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new VE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new nn($e),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new nn($e),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new VE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function xf(){return new Ct(be.comparator)}function PE(){return new Ct(be.comparator)}const D5={asc:"ASCENDING",desc:"DESCENDING"},N5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},M5={and:"AND",or:"OR"};class R5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ry(t,e){return t.useProto3Json||wd(e)?e:{value:e}}function rd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Bx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function I5(t,e){return rd(t,e.toTimestamp())}function vi(t){return st(!!t,49232),Ie.fromTimestamp((function(n){const i=sa(n);return new _t(i.seconds,i.nanos)})(t))}function wv(t,e){return ay(t,e).canonicalString()}function ay(t,e){const n=(function(a){return new At(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function zx(t){const e=At.fromString(t);return st(Yx(e),10190,{key:e.toString()}),e}function oy(t,e){return wv(t.databaseId,e.path)}function ug(t,e){const n=zx(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(Hx(n))}function Fx(t,e){return wv(t.databaseId,e)}function O5(t){const e=zx(t);return e.length===4?At.emptyPath():Hx(e)}function ly(t){return new At(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Hx(t){return st(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function jE(t,e,n){return{name:oy(t,e),fields:n.value.mapValue.fields}}function k5(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:xe(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,y){return g.useProto3Json?(st(y===void 0||typeof y=="string",58123),vn.fromBase64String(y||"")):(st(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),vn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(g){const y=g.code===void 0?ae.UNKNOWN:jx(g.code);return new ve(y,g.message||"")})(c);n=new Ux(i,a,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=ug(t,i.document.name),l=vi(i.document.updateTime),c=i.document.createTime?vi(i.document.createTime):Ie.min(),f=new _s({mapValue:{fields:i.document.fields}}),m=En.newFoundDocument(a,l,c,f),g=i.targetIds||[],y=i.removedTargetIds||[];n=new Lf(g,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=ug(t,i.document),l=i.readTime?vi(i.readTime):Ie.min(),c=En.newNoDocument(a,l),f=i.removedTargetIds||[];n=new Lf([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=ug(t,i.document),l=i.removedTargetIds||[];n=new Lf([],l,a,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new w5(a,l),f=i.targetId;n=new Lx(f,c)}}return n}function V5(t,e){let n;if(e instanceof Bc)n={update:jE(t,e.key,e.value)};else if(e instanceof Px)n={delete:oy(t,e.key)};else if(e instanceof ho)n={update:jE(t,e.key,e.data),updateMask:q5(e.fieldMask)};else{if(!(e instanceof T5))return xe(16599,{Vt:e.type});n={verify:oy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const f=c.transform;if(f instanceof sd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Cc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Dc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof id)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw xe(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:I5(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:xe(27497)})(t,e.precondition)),n}function P5(t,e){return t&&t.length>0?(st(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?vi(a.updateTime):vi(l);return c.isEqual(Ie.min())&&(c=vi(l)),new y5(c,a.transformResults||[])})(n,e)))):[]}function j5(t,e){return{documents:[Fx(t,e.path)]}}function L5(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Fx(t,a);const l=(function(g){if(g.length!==0)return Gx(wi.create(g,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((y=>(function(w){return{field:ll(w.field),direction:z5(w.dir)}})(y)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=ry(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:a}}function U5(t){let e=O5(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){st(i===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(T){const w=qx(T);return w instanceof wi&&Tx(w)?w.getFilters():[w]})(n.where));let c=[];n.orderBy&&(c=(function(T){return T.map((w=>(function(V){return new nd(ul(V.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(w)))})(n.orderBy));let f=null;n.limit&&(f=(function(T){let w;return w=typeof T=="object"?T.value:T,wd(w)?null:w})(n.limit));let m=null;n.startAt&&(m=(function(T){const w=!!T.before,D=T.values||[];return new td(D,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const w=!T.before,D=T.values||[];return new td(D,w)})(n.endAt)),s5(e,a,c,l,f,"F",m,g)}function B5(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qx(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ul(n.unaryFilter.field);return tn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=ul(n.unaryFilter.field);return tn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ul(n.unaryFilter.field);return tn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ul(n.unaryFilter.field);return tn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return tn.create(ul(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return wi.create(n.compositeFilter.filters.map((i=>qx(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(t):xe(30097,{filter:t})}function z5(t){return D5[t]}function F5(t){return N5[t]}function H5(t){return M5[t]}function ll(t){return{fieldPath:t.canonicalString()}}function ul(t){return yn.fromServerFormat(t.fieldPath)}function Gx(t){return t instanceof tn?(function(n){if(n.op==="=="){if(SE(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NAN"}};if(wE(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(SE(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NOT_NAN"}};if(wE(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ll(n.field),op:F5(n.op),value:n.value}}})(t):t instanceof wi?(function(n){const i=n.getFilters().map((a=>Gx(a)));return i.length===1?i[0]:{compositeFilter:{op:H5(n.op),filters:i}}})(t):xe(54877,{filter:t})}function q5(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Yx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class $r{constructor(e,n,i,a,l=Ie.min(),c=Ie.min(),f=vn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new $r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class G5{constructor(e){this.yt=e}}function Y5(t){const e=U5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?iy(e,e.limit,"L"):e}class W5{constructor(){this.Cn=new K5}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(na.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(na.min())}updateCollectionGroup(e,n,i){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class K5{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new nn(At.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new nn(At.comparator)).toArray()}}const LE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Wx=41943040;class Ln{static withCacheSize(e){return new Ln(e,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(Wx,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);class Ml{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ml(0)}static cr(){return new Ml(-1)}}const UE="LruGarbageCollector",$5=1048576;function BE([t,e],[n,i]){const a=$e(t,n);return a===0?$e(e,i):a}class Q5{constructor(e){this.Ir=e,this.buffer=new nn(BE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();BE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class X5{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(UE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Bl(n)?de(UE,"Ignoring IndexedDB error during garbage collection: ",n):await Ul(n)}await this.Vr(3e5)}))}}class Z5{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Ed.ce);const i=new Q5(n);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(LE)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,a,l,c,f,m,g;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(e,a)))).next((T=>(i=T,f=Date.now(),this.removeTargets(e,i,n)))).next((T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((T=>(g=Date.now(),al()<=Ke.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-y}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T}))))}}function J5(t,e){return new Z5(t,e)}class e3{constructor(){this.changes=new co((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?re.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class t3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class n3{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&uc(i.mutation,a,Bs.empty(),_t.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Qe()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Qe()){const a=Ka();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let c=Xu();return l.forEach(((f,m)=>{c=c.insert(f,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const i=Ka();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Qe())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,f)=>{n.set(c,f)}))}))}computeViews(e,n,i,a){let l=ir();const c=lc(),f=(function(){return lc()})();return n.forEach(((m,g)=>{const y=i.get(g.key);a.has(g.key)&&(y===void 0||y.mutation instanceof ho)?l=l.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),uc(y.mutation,g,y.mutation.getFieldMask(),_t.now())):c.set(g.key,Bs.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,y)=>c.set(g,y))),n.forEach(((g,y)=>f.set(g,new t3(y,c.get(g)??null)))),f)))}recalculateAndSaveOverlays(e,n){const i=lc();let a=new Ct(((c,f)=>c-f)),l=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const f of c)f.keys().forEach((m=>{const g=n.get(m);if(g===null)return;let y=i.get(m)||Bs.empty();y=f.applyToLocalView(g,y),i.set(m,y);const T=(a.get(f.batchId)||Qe()).add(m);a=a.insert(f.batchId,T)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),g=m.key,y=m.value,T=Dx();y.forEach((w=>{if(!l.has(w)){const D=kx(n.get(w),i.get(w));D!==null&&T.set(w,D),l=l.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return re.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return(function(c){return be.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):i5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):re.resolve(Ka());let f=wc,m=l;return c.next((g=>re.forEach(g,((y,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),l.get(y)?re.resolve():this.remoteDocumentCache.getEntry(e,y).next((w=>{m=m.insert(y,w)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,Qe()))).next((y=>({batchId:f,changes:Cx(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((i=>{let a=Xu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let c=Xu();return this.indexManager.getCollectionParents(e,l).next((f=>re.forEach(f,(m=>{const g=(function(T,w){return new Ad(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next((y=>{y.forEach(((T,w)=>{c=c.insert(T,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((c=>{l.forEach(((m,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,En.newInvalidDocument(y)))}));let f=Xu();return c.forEach(((m,g)=>{const y=l.get(m);y!==void 0&&uc(y.mutation,g,Bs.empty(),_t.now()),Cd(n,g)&&(f=f.insert(m,g))})),f}))}}class s3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:vi(a.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:Y5(a.bundledQuery),readTime:vi(a.readTime)}})(n)),re.resolve()}}class i3{constructor(){this.overlays=new Ct(be.comparator),this.qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ka();return re.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.St(e,n,l)})),re.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),re.resolve()}getOverlaysForCollection(e,n,i){const a=Ka(),l=n.length+1,c=new be(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return re.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new Ct(((g,y)=>g-y));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>i){let y=l.get(g.largestBatchId);y===null&&(y=Ka(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const f=Ka(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,y)=>f.set(g,y))),!(f.size()>=a)););return re.resolve(f)}St(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new E5(n,i));let l=this.qr.get(n);l===void 0&&(l=Qe(),this.qr.set(n,l)),this.qr.set(n,l.add(i.key))}}class r3{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}class Sv{constructor(){this.Qr=new nn(on.$r),this.Ur=new nn(on.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new on(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new on(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new be(new At([])),i=new on(n,e),a=new on(n,e+1),l=[];return this.Ur.forEachInRange([i,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new be(new At([])),i=new on(n,e),a=new on(n,e+1);let l=Qe();return this.Ur.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new on(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class on{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return be.comparator(e.key,n.key)||$e(e.Yr,n.Yr)}static Kr(e,n){return $e(e.Yr,n.Yr)||be.comparator(e.key,n.key)}}class a3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new nn(on.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new b5(l,n,i,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new on(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return re.resolve(c)}lookupMutationBatch(e,n){return re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.ei(i),l=a<0?0:a;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?mv:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new on(n,0),a=new on(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(c=>{const f=this.Xr(c.Yr);l.push(f)})),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new nn($e);return n.forEach((a=>{const l=new on(a,0),c=new on(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{i=i.add(f.Yr)}))})),re.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;be.isDocumentKey(l)||(l=l.child(""));const c=new on(new be(l),0);let f=new nn($e);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(f=f.add(m.Yr)),!0)}),c),re.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){st(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return re.forEach(n.mutations,(a=>{const l=new on(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new on(n,0),a=this.Zr.firstAfterOrEqual(i);return re.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class o3{constructor(e){this.ri=e,this.docs=(function(){return new Ct(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return re.resolve(i?i.document.mutableCopy():En.newInvalidDocument(n))}getEntries(e,n){let i=ir();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():En.newInvalidDocument(a))})),re.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=ir();const c=n.path,f=new be(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:g,value:{document:y}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||Vj(kj(y),i)<=0||(a.has(y.key)||Cd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,n,i,a){xe(9500)}ii(e,n){return re.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new l3(this)}getSize(e){return re.resolve(this.size)}}class l3 extends e3{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class u3{constructor(e){this.persistence=e,this.si=new co((n=>yv(n)),vv),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new Sv,this.targetCount=0,this.ai=Ml.ur()}forEachTarget(e,n){return this.si.forEach(((i,a)=>n(a))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),re.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ml(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Pr(n),re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=n&&i.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),re.waitFor(l).next((()=>a))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return re.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),re.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),re.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return re.resolve(i)}containsKey(e,n){return re.resolve(this._i.containsKey(n))}}class Kx{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ed(0),this.li=!1,this.li=!0,this.hi=new r3,this.referenceDelegate=e(this),this.Pi=new u3(this),this.indexManager=new W5,this.remoteDocumentCache=(function(a){return new o3(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new G5(n),this.Ii=new s3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new i3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new a3(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){de("MemoryPersistence","Starting transaction:",e);const a=new c3(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return re.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class c3 extends jj{constructor(e){super(),this.currentSequenceNumber=e}}class Av{constructor(e){this.persistence=e,this.Ri=new Sv,this.Vi=null}static mi(e){return new Av(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),re.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(i=>{const a=be.fromPath(i);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Ie.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ad{constructor(e,n){this.persistence=e,this.pi=new co((i=>Bj(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=J5(this,n)}static mi(e,n){return new ad(e,n)}Ei(){}di(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return re.forEach(this.pi,((i,a)=>this.br(e,i,a).next((l=>l?re.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((f=>{f||(i++,l.removeEntry(c,Ie.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),re.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Vf(e.data.value)),n}br(e,n,i){return re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return re.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class xv{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=a}static As(e,n){let i=Qe(),a=Qe();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new xv(e,n.fromCache,i,a)}}class h3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class f3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return sP()?8:Lj(Sn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new h3;return this.Ss(e,n,c).next((f=>{if(l.result=f,this.Vs)return this.bs(e,n,c,f.size)}))})).next((()=>l.result))}bs(e,n,i,a){return i.documentReadCount<this.fs?(al()<=Ke.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",ol(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(al()<=Ke.DEBUG&&de("QueryEngine","Query:",ol(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(al()<=Ke.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",ol(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(n))):re.resolve())}ys(e,n){if(DE(n))return re.resolve(null);let i=yi(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=iy(n,null,"F"),i=yi(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Qe(...l);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,i).next((m=>{const g=this.Ds(n,f);return this.Cs(n,g,c,m.readTime)?this.ys(e,iy(n,null,"F")):this.vs(e,g,n,m)}))))})))))}ws(e,n,i,a){return DE(n)||a.isEqual(Ie.min())?re.resolve(null):this.ps.getDocuments(e,i).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,i,a)?re.resolve(null):(al()<=Ke.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ol(n)),this.vs(e,c,n,Oj(a,wc)).next((f=>f)))}))}Ds(e,n){let i=new nn(Ax(e));return n.forEach(((a,l)=>{Cd(e,l)&&(i=i.add(l))})),i}Cs(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,i){return al()<=Ke.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",ol(n)),this.ps.getDocumentsMatchingQuery(e,n,na.min(),i)}vs(e,n,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const Cv="LocalStore",d3=3e8;class m3{constructor(e,n,i,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Ct($e),this.xs=new co((l=>yv(l)),vv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new n3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function p3(t,e,n,i){return new m3(t,e,n,i)}async function $x(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],f=[];let m=Qe();for(const g of a){c.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}for(const g of l){f.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(i,m).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:f})))}))}))}function g3(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,g,y){const T=g.batch,w=T.keys();let D=re.resolve();return w.forEach((V=>{D=D.next((()=>y.getEntry(m,V))).next((R=>{const P=g.docVersions.get(V);st(P!==null,48541),R.version.compareTo(P)<0&&(T.applyToRemoteDocument(R,g),R.isValidDocument()&&(R.setReadTime(g.commitVersion),y.addEntry(R)))}))})),D.next((()=>f.mutationQueue.removeMutationBatch(m,T)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let m=Qe();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(m=m.add(f.batch.mutations[g].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function Qx(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function y3(t,e){const n=Ve(t),i=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const f=[];e.targetChanges.forEach(((y,T)=>{const w=a.get(T);if(!w)return;f.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,T))));let D=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?D=D.withResumeToken(vn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):y.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(y.resumeToken,i)),a=a.insert(T,D),(function(R,P,z){return R.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=d3?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(w,D,y)&&f.push(n.Pi.updateTargetData(l,D))}));let m=ir(),g=Qe();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(v3(l,c,e.documentUpdates).next((y=>{m=y.ks,g=y.qs}))),!i.isEqual(Ie.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((T=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(y)}return re.waitFor(f).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function v3(t,e,n){let i=Qe(),a=Qe();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let c=ir();return n.forEach(((f,m)=>{const g=l.get(f);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Ie.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):de(Cv,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function _3(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=mv),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function T3(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.Pi.getTargetData(i,e).next((l=>l?(a=l,re.resolve(a)):n.Pi.allocateTargetId(i).next((c=>(a=new $r(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function uy(t,e,n){const i=Ve(t),a=i.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Bl(c))throw c;de(Cv,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function zE(t,e,n){const i=Ve(t);let a=Ie.min(),l=Qe();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,y){const T=Ve(m),w=T.xs.get(y);return w!==void 0?re.resolve(T.Ms.get(w)):T.Pi.getTargetData(g,y)})(i,c,yi(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,f.targetId).next((m=>{l=m}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,n?a:Ie.min(),n?l:Qe()))).next((f=>(b3(i,a5(e),f),{documents:f,Qs:l})))))}function b3(t,e,n){let i=t.Os.get(e)||Ie.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Os.set(e,i)}class FE{constructor(){this.activeTargetIds=f5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class E3{constructor(){this.Mo=new FE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new FE,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class w3{Oo(e){}shutdown(){}}const HE="ConnectivityMonitor";class qE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(HE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(HE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Cf=null;function cy(){return Cf===null?Cf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cf++,"0x"+Cf.toString(16)}const cg="RestConnection",S3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class A3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===Jf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,n,i,a,l){const c=cy(),f=this.zo(e,n.toUriEncodedString());de(cg,`Sending RPC '${e}' ${c}:`,f,i);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:g}=new URL(f),y=Pl(g);return this.Jo(e,f,m,i,y).then((T=>(de(cg,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw xl(cg,`RPC '${e}' ${c} failed with error: `,T,"url: ",f,"request:",i),T}))}Ho(e,n,i,a,l,c){return this.Go(e,n,i,a,l)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ll})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const i=S3[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}class x3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Tn="WebChannelConnection";class C3 extends A3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,a,l){const c=cy();return new Promise(((f,m)=>{const g=new ex;g.setWithCredentials(!0),g.listenOnce(tx.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case kf.NO_ERROR:const T=g.getResponseJson();de(Tn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),f(T);break;case kf.TIMEOUT:de(Tn,`RPC '${e}' ${c} timed out`),m(new ve(ae.DEADLINE_EXCEEDED,"Request time out"));break;case kf.HTTP_ERROR:const w=g.getStatus();if(de(Tn,`RPC '${e}' ${c} failed with status:`,w,"response text:",g.getResponseText()),w>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const V=D?.error;if(V&&V.status&&V.message){const R=(function(z){const K=z.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(K)>=0?K:ae.UNKNOWN})(V.status);m(new ve(R,V.message))}else m(new ve(ae.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ve(ae.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{de(Tn,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(a);de(Tn,`RPC '${e}' ${c} sending request:`,a),g.send(n,"POST",y,i,15)}))}T_(e,n,i){const a=cy(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=ix(),f=sx(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,i),m.encodeInitMessageHeaders=!0;const y=l.join("");de(Tn,`Creating RPC '${e}' stream ${a}: ${y}`,m);const T=c.createWebChannel(y,m);this.I_(T);let w=!1,D=!1;const V=new x3({Yo:P=>{D?de(Tn,`Not sending because RPC '${e}' stream ${a} is closed:`,P):(w||(de(Tn,`Opening RPC '${e}' stream ${a} transport.`),T.open(),w=!0),de(Tn,`RPC '${e}' stream ${a} sending:`,P),T.send(P))},Zo:()=>T.close()}),R=(P,z,K)=>{P.listen(z,(F=>{try{K(F)}catch(te){setTimeout((()=>{throw te}),0)}}))};return R(T,Qu.EventType.OPEN,(()=>{D||(de(Tn,`RPC '${e}' stream ${a} transport opened.`),V.o_())})),R(T,Qu.EventType.CLOSE,(()=>{D||(D=!0,de(Tn,`RPC '${e}' stream ${a} transport closed`),V.a_(),this.E_(T))})),R(T,Qu.EventType.ERROR,(P=>{D||(D=!0,xl(Tn,`RPC '${e}' stream ${a} transport errored. Name:`,P.name,"Message:",P.message),V.a_(new ve(ae.UNAVAILABLE,"The operation could not be completed")))})),R(T,Qu.EventType.MESSAGE,(P=>{if(!D){const z=P.data[0];st(!!z,16349);const K=z,F=K?.error||K[0]?.error;if(F){de(Tn,`RPC '${e}' stream ${a} received error:`,F);const te=F.status;let B=(function(A){const M=Wt[A];if(M!==void 0)return jx(M)})(te),G=F.message;B===void 0&&(B=ae.INTERNAL,G="Unknown error status: "+te+" with message "+F.message),D=!0,V.a_(new ve(B,G)),T.close()}else de(Tn,`RPC '${e}' stream ${a} received:`,z),V.u_(z)}})),R(f,nx.STAT_EVENT,(P=>{P.stat===Zg.PROXY?de(Tn,`RPC '${e}' stream ${a} detected buffering proxy`):P.stat===Zg.NOPROXY&&de(Tn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function hg(){return typeof document<"u"?document:null}function Rd(t){return new R5(t,!0)}class Xx{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&de("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const GE="PersistentStream";class Zx{constructor(e,n,i,a,l,c,f,m){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Xx(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(sr(n.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new ve(ae.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(GE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(de(GE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class D3 extends Zx{constructor(e,n,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=k5(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Ie.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ie.min():c.readTime?vi(c.readTime):Ie.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=ly(this.serializer),n.addTarget=(function(l,c){let f;const m=c.target;if(f=sy(m)?{documents:j5(l,m)}:{query:L5(l,m).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=Bx(l,c.resumeToken);const g=ry(l,c.expectedCount);g!==null&&(f.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ie.min())>0){f.readTime=rd(l,c.snapshotVersion.toTimestamp());const g=ry(l,c.expectedCount);g!==null&&(f.expectedCount=g)}return f})(this.serializer,e);const i=B5(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=ly(this.serializer),n.removeTarget=e,this.q_(n)}}class N3 extends Zx{constructor(e,n,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=P5(e.writeResults,e.commitTime),i=vi(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=ly(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>V5(this.serializer,i)))};this.q_(n)}}class M3{}class R3 extends M3{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ve(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,ay(n,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(ae.UNKNOWN,l.toString())}))}Ho(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,ay(n,i),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(ae.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class I3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(sr(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ao="RemoteStore";class O3{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{fo(this)&&(de(ao,"Restarting streams for network reachability change."),await(async function(m){const g=Ve(m);g.Ea.add(4),await Fc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Id(g)})(this))}))})),this.Ra=new I3(i,a)}}async function Id(t){if(fo(t))for(const e of t.da)await e(!0)}async function Fc(t){for(const e of t.da)await e(!1)}function Jx(t,e){const n=Ve(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Rv(n)?Mv(n):zl(n).O_()&&Nv(n,e))}function Dv(t,e){const n=Ve(t),i=zl(n);n.Ia.delete(e),i.O_()&&eC(n,e),n.Ia.size===0&&(i.O_()?i.L_():fo(n)&&n.Ra.set("Unknown"))}function Nv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zl(t).Y_(e)}function eC(t,e){t.Va.Ue(e),zl(t).Z_(e)}function Mv(t){t.Va=new C5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),zl(t).start(),t.Ra.ua()}function Rv(t){return fo(t)&&!zl(t).x_()&&t.Ia.size>0}function fo(t){return Ve(t).Ea.size===0}function tC(t){t.Va=void 0}async function k3(t){t.Ra.set("Online")}async function V3(t){t.Ia.forEach(((e,n)=>{Nv(t,e)}))}async function P3(t,e){tC(t),Rv(t)?(t.Ra.ha(e),Mv(t)):t.Ra.set("Unknown")}async function j3(t,e,n){if(t.Ra.set("Online"),e instanceof Ux&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))})(t,e)}catch(i){de(ao,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await od(t,i)}else if(e instanceof Lf?t.Va.Ze(e):e instanceof Lx?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ie.min()))try{const i=await Qx(t.localStore);n.compareTo(i)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(g);y&&l.Ia.set(g,y.withResumeToken(m.resumeToken,c))}})),f.targetMismatches.forEach(((m,g)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(vn.EMPTY_BYTE_STRING,y.snapshotVersion)),eC(l,m);const T=new $r(y.target,m,g,y.sequenceNumber);Nv(l,T)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(i){de(ao,"Failed to raise snapshot:",i),await od(t,i)}}async function od(t,e,n){if(!Bl(e))throw e;t.Ea.add(1),await Fc(t),t.Ra.set("Offline"),n||(n=()=>Qx(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{de(ao,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Id(t)}))}function nC(t,e){return e().catch((n=>od(t,n,e)))}async function Od(t){const e=Ve(t),n=aa(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:mv;for(;L3(e);)try{const a=await _3(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,U3(e,a)}catch(a){await od(e,a)}sC(e)&&iC(e)}function L3(t){return fo(t)&&t.Ta.length<10}function U3(t,e){t.Ta.push(e);const n=aa(t);n.O_()&&n.X_&&n.ea(e.mutations)}function sC(t){return fo(t)&&!aa(t).x_()&&t.Ta.length>0}function iC(t){aa(t).start()}async function B3(t){aa(t).ra()}async function z3(t){const e=aa(t);for(const n of t.Ta)e.ea(n.mutations)}async function F3(t,e,n){const i=t.Ta.shift(),a=bv.from(i,e,n);await nC(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Od(t)}async function H3(t,e){e&&aa(t).X_&&await(async function(i,a){if((function(c){return S5(c)&&c!==ae.ABORTED})(a.code)){const l=i.Ta.shift();aa(i).B_(),await nC(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Od(i)}})(t,e),sC(t)&&iC(t)}async function YE(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),de(ao,"RemoteStore received new credentials");const i=fo(n);n.Ea.add(3),await Fc(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Id(n)}async function q3(t,e){const n=Ve(t);e?(n.Ea.delete(2),await Id(n)):e||(n.Ea.add(2),await Fc(n),n.Ra.set("Unknown"))}function zl(t){return t.ma||(t.ma=(function(n,i,a){const l=Ve(n);return l.sa(),new D3(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:k3.bind(null,t),t_:V3.bind(null,t),r_:P3.bind(null,t),H_:j3.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Rv(t)?Mv(t):t.Ra.set("Unknown")):(await t.ma.stop(),tC(t))}))),t.ma}function aa(t){return t.fa||(t.fa=(function(n,i,a){const l=Ve(n);return l.sa(),new N3(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:B3.bind(null,t),r_:H3.bind(null,t),ta:z3.bind(null,t),na:F3.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Od(t)):(await t.fa.stop(),t.Ta.length>0&&(de(ao,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Iv{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Ja,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const c=Date.now()+i,f=new Iv(e,n,c,a,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ov(t,e){if(sr("AsyncQueue",`${e}: ${t}`),Bl(t))return new ve(ae.UNAVAILABLE,`${e}: ${t}`);throw t}class vl{static emptySet(e){return new vl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||be.comparator(n.key,i.key):(n,i)=>be.comparator(n.key,i.key),this.keyedMap=Xu(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new vl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class WE{constructor(){this.ga=new Ct(be.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Rl{constructor(e,n,i,a,l,c,f,m,g){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,i,a,l){const c=[];return n.forEach((f=>{c.push({type:0,doc:f})})),new Rl(e,n,vl.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}class G3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Y3{constructor(){this.queries=KE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Ve(n),l=a.queries;a.queries=KE(),l.forEach(((c,f)=>{for(const m of f.Sa)m.onError(i)}))})(this,new ve(ae.ABORTED,"Firestore shutting down"))}}function KE(){return new co((t=>Sx(t)),xd)}async function W3(t,e){const n=Ve(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new G3,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=Ov(c,`Initialization of query '${ol(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&kv(n)}async function K3(t,e){const n=Ve(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function $3(t,e){const n=Ve(t);let i=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.Sa)f.Fa(a)&&(i=!0);c.wa=a}}i&&kv(n)}function Q3(t,e,n){const i=Ve(t),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);i.queries.delete(e)}function kv(t){t.Ca.forEach((e=>{e.next()}))}var hy,$E;($E=hy||(hy={})).Ma="default",$E.Cache="cache";class X3{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Rl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hy.Cache}}class rC{constructor(e){this.key=e}}class aC{constructor(e){this.key=e}}class Z3{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qe(),this.mutatedKeys=Qe(),this.eu=Ax(e),this.tu=new vl(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new WE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,T)=>{const w=a.get(y),D=Cd(this.query,T)?T:null,V=!!w&&this.mutatedKeys.has(w.key),R=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let P=!1;w&&D?w.data.isEqual(D.data)?V!==R&&(i.track({type:3,doc:D}),P=!0):this.su(w,D)||(i.track({type:2,doc:D}),P=!0,(m&&this.eu(D,m)>0||g&&this.eu(D,g)<0)&&(f=!0)):!w&&D?(i.track({type:0,doc:D}),P=!0):w&&!D&&(i.track({type:1,doc:w}),P=!0,(m||g)&&(f=!0)),P&&(D?(c=c.add(D),l=R?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{tu:c,iu:i,Cs:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((y,T)=>(function(D,V){const R=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:P})}};return R(D)-R(V)})(y.type,T.type)||this.eu(y.doc,T.doc))),this.ou(i),a=a??!1;const f=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,g=m!==this.Za;return this.Za=m,c.length!==0||g?{snapshot:new Rl(this.query,e.tu,l,c,e.mutatedKeys,m===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new WE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Qe(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new aC(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new rC(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Rl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Vv="SyncEngine";class J3{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class e6{constructor(e){this.key=e,this.hu=!1}}class t6{constructor(e,n,i,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new co((f=>Sx(f)),xd),this.Iu=new Map,this.Eu=new Set,this.du=new Ct(be.comparator),this.Au=new Map,this.Ru=new Sv,this.Vu={},this.mu=new Map,this.fu=Ml.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function n6(t,e,n=!0){const i=fC(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await oC(i,e,n,!0),a}async function s6(t,e){const n=fC(t);await oC(n,e,!0,!1)}async function oC(t,e,n,i){const a=await T3(t.localStore,yi(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let f;return i&&(f=await i6(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&Jx(t.remoteStore,a),f}async function i6(t,e,n,i,a){t.pu=(T,w,D)=>(async function(R,P,z,K){let F=P.view.ru(z);F.Cs&&(F=await zE(R.localStore,P.query,!1).then((({documents:x})=>P.view.ru(x,F))));const te=K&&K.targetChanges.get(P.targetId),B=K&&K.targetMismatches.get(P.targetId)!=null,G=P.view.applyChanges(F,R.isPrimaryClient,te,B);return XE(R,P.targetId,G.au),G.snapshot})(t,T,w,D);const l=await zE(t.localStore,e,!0),c=new Z3(e,l.Qs),f=c.ru(l.documents),m=zc.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),g=c.applyChanges(f,t.isPrimaryClient,m);XE(t,n,g.au);const y=new J3(e,n,c);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function r6(t,e,n){const i=Ve(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!xd(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await uy(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&Dv(i.remoteStore,a.targetId),fy(i,a.targetId)})).catch(Ul)):(fy(i,a.targetId),await uy(i.localStore,a.targetId,!0))}async function a6(t,e){const n=Ve(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Dv(n.remoteStore,i.targetId))}async function o6(t,e,n){const i=m6(t);try{const a=await(function(c,f){const m=Ve(c),g=_t.now(),y=f.reduce(((D,V)=>D.add(V.key)),Qe());let T,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let V=ir(),R=Qe();return m.Ns.getEntries(D,y).next((P=>{V=P,V.forEach(((z,K)=>{K.isValidDocument()||(R=R.add(z))}))})).next((()=>m.localDocuments.getOverlayedDocuments(D,V))).next((P=>{T=P;const z=[];for(const K of f){const F=_5(K,T.get(K.key).overlayedDocument);F!=null&&z.push(new ho(K.key,F,yx(F.value.mapValue),Ji.exists(!0)))}return m.mutationQueue.addMutationBatch(D,g,z,f)})).next((P=>{w=P;const z=P.applyToLocalDocumentSet(T,R);return m.documentOverlayCache.saveOverlays(D,P.batchId,z)}))})).then((()=>({batchId:w.batchId,changes:Cx(T)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,f,m){let g=c.Vu[c.currentUser.toKey()];g||(g=new Ct($e)),g=g.insert(f,m),c.Vu[c.currentUser.toKey()]=g})(i,a.batchId,n),await Hc(i,a.changes),await Od(i.remoteStore)}catch(a){const l=Ov(a,"Failed to persist write");n.reject(l)}}async function lC(t,e){const n=Ve(t);try{const i=await y3(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(st(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?st(c.hu,14607):a.removedDocuments.size>0&&(st(c.hu,42227),c.hu=!1))})),await Hc(n,i,e)}catch(i){await Ul(i)}}function QE(t,e,n){const i=Ve(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const m=Ve(c);m.onlineState=f;let g=!1;m.queries.forEach(((y,T)=>{for(const w of T.Sa)w.va(f)&&(g=!0)})),g&&kv(m)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function l6(t,e,n){const i=Ve(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new Ct(be.comparator);c=c.insert(l,En.newNoDocument(l,Ie.min()));const f=Qe().add(l),m=new Md(Ie.min(),new Map,new Ct($e),c,f);await lC(i,m),i.du=i.du.remove(l),i.Au.delete(e),Pv(i)}else await uy(i.localStore,e,!1).then((()=>fy(i,e,n))).catch(Ul)}async function u6(t,e){const n=Ve(t),i=e.batch.batchId;try{const a=await g3(n.localStore,e);cC(n,i,null),uC(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Hc(n,a)}catch(a){await Ul(a)}}async function c6(t,e,n){const i=Ve(t);try{const a=await(function(c,f){const m=Ve(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return m.mutationQueue.lookupMutationBatch(g,f).next((T=>(st(T!==null,37113),y=T.keys(),m.mutationQueue.removeMutationBatch(g,T)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,y,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>m.localDocuments.getDocuments(g,y)))}))})(i.localStore,e);cC(i,e,n),uC(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Hc(i,a)}catch(a){await Ul(a)}}function uC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function cC(t,e,n){const i=Ve(t);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function fy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||hC(t,i)}))}function hC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Dv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Pv(t))}function XE(t,e,n){for(const i of n)i instanceof rC?(t.Ru.addReference(i.key,e),h6(t,i)):i instanceof aC?(de(Vv,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||hC(t,i.key)):xe(19791,{wu:i})}function h6(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(de(Vv,"New document in limbo: "+n),t.Eu.add(i),Pv(t))}function Pv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new be(At.fromString(e)),i=t.fu.next();t.Au.set(i,new e6(n)),t.du=t.du.insert(n,i),Jx(t.remoteStore,new $r(yi(_v(n.path)),i,"TargetPurposeLimboResolution",Ed.ce))}}async function Hc(t,e,n){const i=Ve(t),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,m)=>{c.push(i.pu(m,e,n).then((g=>{if((g||n)&&i.isPrimaryClient){const y=g?!g.fromCache:n?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(g){a.push(g);const y=xv.As(m.targetId,g);l.push(y)}})))})),await Promise.all(c),i.Pu.H_(a),await(async function(m,g){const y=Ve(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>re.forEach(g,(w=>re.forEach(w.Es,(D=>y.persistence.referenceDelegate.addReference(T,w.targetId,D))).next((()=>re.forEach(w.ds,(D=>y.persistence.referenceDelegate.removeReference(T,w.targetId,D)))))))))}catch(T){if(!Bl(T))throw T;de(Cv,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const D=y.Ms.get(w),V=D.snapshotVersion,R=D.withLastLimboFreeSnapshotVersion(V);y.Ms=y.Ms.insert(w,R)}}})(i.localStore,l))}async function f6(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){de(Vv,"User change. New user:",e.toKey());const i=await $x(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new ve(ae.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Hc(n,i.Ls)}}function d6(t,e){const n=Ve(t),i=n.Au.get(e);if(i&&i.hu)return Qe().add(i.key);{let a=Qe();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const f=n.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function fC(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=d6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=l6.bind(null,e),e.Pu.H_=$3.bind(null,e.eventManager),e.Pu.yu=Q3.bind(null,e.eventManager),e}function m6(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=c6.bind(null,e),e}class ld{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return p3(this.persistence,new f3,e.initialUser,this.serializer)}Cu(e){return new Kx(Av.mi,this.serializer)}Du(e){return new E3}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ld.provider={build:()=>new ld};class p6 extends ld{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){st(this.persistence.referenceDelegate instanceof ad,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new X5(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new Kx((i=>ad.mi(i,n)),this.serializer)}}class dy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>QE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=f6.bind(null,this.syncEngine),await q3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Y3})()}createDatastore(e){const n=Rd(e.databaseInfo.databaseId),i=(function(l){return new C3(l)})(e.databaseInfo);return(function(l,c,f,m){return new R3(l,c,f,m)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,c,f){return new O3(i,a,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>QE(this.syncEngine,n,0)),(function(){return qE.v()?new qE:new w3})())}createSyncEngine(e,n){return(function(a,l,c,f,m,g,y){const T=new t6(a,l,c,f,m,g);return y&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Ve(n);de(ao,"RemoteStore shutting down."),i.Ea.add(5),await Fc(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dy.provider={build:()=>new dy};class g6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):sr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const oa="FirestoreClient";class y6{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=bn.UNAUTHENTICATED,this.clientId=fv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{de(oa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(de(oa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ja;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Ov(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function fg(t,e){t.asyncQueue.verifyOperationInProgress(),de(oa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await $x(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function ZE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await v6(t);de(oa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>YE(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>YE(e.remoteStore,a))),t._onlineComponents=e}async function v6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de(oa,"Using user provided OfflineComponentProvider");try{await fg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ae.FAILED_PRECONDITION||a.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;xl("Error using user provided cache. Falling back to memory cache: "+n),await fg(t,new ld)}}else de(oa,"Using default OfflineComponentProvider"),await fg(t,new p6(void 0));return t._offlineComponents}async function dC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de(oa,"Using user provided OnlineComponentProvider"),await ZE(t,t._uninitializedComponentsProvider._online)):(de(oa,"Using default OnlineComponentProvider"),await ZE(t,new dy))),t._onlineComponents}function _6(t){return dC(t).then((e=>e.syncEngine))}async function JE(t){const e=await dC(t),n=e.eventManager;return n.onListen=n6.bind(null,e.syncEngine),n.onUnlisten=r6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=s6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=a6.bind(null,e.syncEngine),n}function mC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const ew=new Map;const pC="firestore.googleapis.com",tw=!0;class nw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pC,this.ssl=tw}else this.host=e.host,this.ssl=e.ssl??tw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Wx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$5)throw new ve(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ij("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mC(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ve(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ve(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ve(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jv{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new bj;switch(i.type){case"firstParty":return new Aj(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=ew.get(n);i&&(de("ComponentProvider","Removing Datastore"),ew.delete(n),i.terminate())})(this),Promise.resolve()}}function T6(t,e,n,i={}){t=yl(t,jv);const a=Pl(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(GA(`https://${f}`),YA("Firestore",!0)),l.host!==pC&&l.host!==f&&xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:i};if(!so(m,c)&&(t._setSettings(m),i.mockUserToken)){let g,y;if(typeof i.mockUserToken=="string")g=i.mockUserToken,y=bn.MOCK_USER;else{g=K4(i.mockUserToken,t._app?.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new ve(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new bn(T)}t._authCredentials=new Ej(new ax(g,y))}}class kd{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new kd(this.firestore,e,this._query)}}class ln{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}toJSON(){return{type:ln._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Uc(n,ln._jsonSchema))return new ln(e,i||null,new be(At.fromString(n.referencePath)))}}ln._jsonSchemaVersion="firestore/documentReference/1.0",ln._jsonSchema={type:$t("string",ln._jsonSchemaVersion),referencePath:$t("string")};class Nc extends kd{constructor(e,n,i){super(e,n,_v(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new be(e))}withConverter(e){return new Nc(this.firestore,e,this._path)}}function my(t,e,...n){if(t=ts(t),arguments.length===1&&(e=fv.newId()),Rj("doc","path",e),t instanceof jv){const i=At.fromString(e,...n);return pE(i),new ln(t,null,new be(i))}{if(!(t instanceof ln||t instanceof Nc))throw new ve(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(At.fromString(e,...n));return pE(i),new ln(t.firestore,t instanceof Nc?t.converter:null,new be(i))}}const sw="AsyncQueue";class iw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Xx(this,"async_queue_retry"),this._c=()=>{const i=hg();i&&de(sw,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=hg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=hg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ja;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Bl(e))throw e;de(sw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,sr("INTERNAL UNHANDLED ERROR: ",rw(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Iv.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&xe(47125,{Pc:rw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function rw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function aw(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class ud extends jv{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new iw,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iw(e),this._firestoreClient=void 0,await e}}}function b6(t,e){const n=typeof t=="object"?t:QA(),i=typeof t=="string"?t:Jf,a=cv(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=Y4("firestore");l&&T6(a,...l)}return a}function gC(t){if(t._terminated)throw new ve(ae.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||E6(t),t._firestoreClient}function E6(t){const e=t._freezeSettings(),n=(function(a,l,c,f){return new Hj(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,mC(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new y6(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class Ts{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ts(vn.fromBase64String(e))}catch(n){throw new ve(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ts(vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ts._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Uc(e,Ts._jsonSchema))return Ts.fromBase64String(e.bytes)}}Ts._jsonSchemaVersion="firestore/bytes/1.0",Ts._jsonSchema={type:$t("string",Ts._jsonSchemaVersion),bytes:$t("string")};class Lv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yC{constructor(e){this._methodName=e}}class _i{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_i._jsonSchemaVersion}}static fromJSON(e){if(Uc(e,_i._jsonSchema))return new _i(e.latitude,e.longitude)}}_i._jsonSchemaVersion="firestore/geoPoint/1.0",_i._jsonSchema={type:$t("string",_i._jsonSchemaVersion),latitude:$t("number"),longitude:$t("number")};class Ti{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ti._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Uc(e,Ti._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ti(e.vectorValues);throw new ve(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ti._jsonSchemaVersion="firestore/vectorValue/1.0",Ti._jsonSchema={type:$t("string",Ti._jsonSchemaVersion),vectorValues:$t("object")};const w6=/^__.*__$/;class S6{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ho(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bc(e,this.data,n,this.fieldTransforms)}}function vC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:t})}}class Uv{constructor(e,n,i,a,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Uv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return cd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(vC(this.Ac)&&w6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class A6{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Rd(e)}Cc(e,n,i,a=!1){return new Uv({Ac:e,methodName:n,Dc:i,path:yn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function x6(t){const e=t._freezeSettings(),n=Rd(t._databaseId);return new A6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function C6(t,e,n,i,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);EC("Data must be an object, but it was:",c,i);const f=TC(i,c);let m,g;if(l.merge)m=new Bs(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const T of l.mergeFields){const w=D6(e,T,n);if(!c.contains(w))throw new ve(ae.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);M6(y,w)||y.push(w)}m=new Bs(y),g=c.fieldTransforms.filter((T=>m.covers(T.field)))}else m=null,g=c.fieldTransforms;return new S6(new _s(f),m,g)}function _C(t,e){if(bC(t=ts(t)))return EC("Unsupported field value:",e,t),TC(t,e);if(t instanceof yC)return(function(i,a){if(!vC(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const f of i){let m=_C(f,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=ts(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return d5(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=_t.fromDate(i);return{timestampValue:rd(a.serializer,l)}}if(i instanceof _t){const l=new _t(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:rd(a.serializer,l)}}if(i instanceof _i)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ts)return{bytesValue:Bx(a.serializer,i._byteString)};if(i instanceof ln){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:wv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Ti)return(function(c,f){return{mapValue:{fields:{[px]:{stringValue:gx},[ed]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw f.Sc("VectorValues must only contain numeric values.");return Tv(f.serializer,g)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${dv(i)}`)})(t,e)}function TC(t,e){const n={};return ux(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uo(t,((i,a)=>{const l=_C(a,e.mc(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function bC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof _i||t instanceof Ts||t instanceof ln||t instanceof yC||t instanceof Ti)}function EC(t,e,n){if(!bC(n)||!ox(n)){const i=dv(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function D6(t,e,n){if((e=ts(e))instanceof Lv)return e._internalPath;if(typeof e=="string")return wC(t,e);throw cd("Field path arguments must be of type string or ",t,!1,void 0,n)}const N6=new RegExp("[~\\*/\\[\\]]");function wC(t,e,n){if(e.search(N6)>=0)throw cd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Lv(...e.split("."))._internalPath}catch{throw cd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function cd(t,e,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new ve(ae.INVALID_ARGUMENT,f+t+m)}function M6(t,e){return t.some((n=>n.isEqual(e)))}class SC{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new R6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(AC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class R6 extends SC{data(){return super.data()}}function AC(t,e){return typeof e=="string"?wC(t,e):e instanceof Lv?e._internalPath:e._delegate._internalPath}function I6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class O6{convertValue(e,n="none"){switch(ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return uo(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){const n=e.fields?.[ed].arrayValue?.values?.map((i=>Lt(i.doubleValue)));return new Ti(n)}convertGeoPoint(e){return new _i(Lt(e.latitude),Lt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Sd(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Sc(e));default:return null}}convertTimestamp(e){const n=sa(e);return new _t(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=At.fromString(e);st(Yx(i),9688,{name:e});const a=new Ac(i.get(1),i.get(3)),l=new be(i.popFirst(5));return a.isEqual(n)||sr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function k6(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class Ju{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eo extends SC{constructor(e,n,i,a,l,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(AC("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=eo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}eo._jsonSchemaVersion="firestore/documentSnapshot/1.0",eo._jsonSchema={type:$t("string",eo._jsonSchemaVersion),bundleSource:$t("string","DocumentSnapshot"),bundleName:$t("string"),bundle:$t("string")};class Uf extends eo{data(e={}){return super.data(e)}}class _l{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Ju(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Uf(this._firestore,this._userDataWriter,i.key,i,new Ju(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const m=new Uf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Ju(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new Uf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Ju(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,y=-1;return f.type!==0&&(g=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:V6(f.type),doc:m,oldIndex:g,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_l._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function V6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:t})}}_l._jsonSchemaVersion="firestore/querySnapshot/1.0",_l._jsonSchema={type:$t("string",_l._jsonSchemaVersion),bundleSource:$t("string","QuerySnapshot"),bundleName:$t("string"),bundle:$t("string")};class xC extends O6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ts(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,n)}}function CC(t,e,n){t=yl(t,ln);const i=yl(t.firestore,ud),a=k6(t.converter,e);return j6(i,[C6(x6(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Ji.none())])}function P6(t,...e){t=ts(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||aw(e[i])||(n=e[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(aw(e[i])){const m=e[i];e[i]=m.next?.bind(m),e[i+1]=m.error?.bind(m),e[i+2]=m.complete?.bind(m)}let l,c,f;if(t instanceof ln)c=yl(t.firestore,ud),f=_v(t._key.path),l={next:m=>{e[i]&&e[i](L6(c,t,m))},error:e[i+1],complete:e[i+2]};else{const m=yl(t,kd);c=yl(m.firestore,ud),f=m._query;const g=new xC(c);l={next:y=>{e[i]&&e[i](new _l(c,g,m,y))},error:e[i+1],complete:e[i+2]},I6(t._query)}return(function(g,y,T,w){const D=new g6(w),V=new X3(y,D,T);return g.asyncQueue.enqueueAndForget((async()=>W3(await JE(g),V))),()=>{D.Nu(),g.asyncQueue.enqueueAndForget((async()=>K3(await JE(g),V)))}})(gC(c),f,a,l)}function j6(t,e){return(function(i,a){const l=new Ja;return i.asyncQueue.enqueueAndForget((async()=>o6(await _6(i),a,l))),l.promise})(gC(t),e)}function L6(t,e,n){const i=n.docs.get(e._key),a=new xC(t);return new eo(t,a,e._key,i,new Ju(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Ll=a})(jl),Al(new io("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new ud(new wj(i.getProvider("auth-internal")),new xj(c,i.getProvider("app-check-internal")),(function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ve(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ac(g.options.projectId,y)})(c,a),c);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Zr(hE,fE,e),Zr(hE,fE,"esm2020")})();function DC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const U6=DC,NC=new jc("auth","Firebase",DC());const hd=new lv("@firebase/auth");function B6(t,...e){hd.logLevel<=Ke.WARN&&hd.warn(`Auth (${jl}): ${t}`,...e)}function Bf(t,...e){hd.logLevel<=Ke.ERROR&&hd.error(`Auth (${jl}): ${t}`,...e)}function Si(t,...e){throw zv(t,...e)}function Hs(t,...e){return zv(t,...e)}function Bv(t,e,n){const i={...U6(),[e]:n};return new jc("auth","Firebase",i).create(e,{appName:t.name})}function to(t){return Bv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function z6(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Si(t,"argument-error"),Bv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zv(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return NC.create(t,...e)}function Ne(t,e,...n){if(!t)throw zv(e,...n)}function Ki(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bf(e),new Error(e)}function rr(t,e){t||Ki(e)}function py(){return typeof self<"u"&&self.location?.href||""}function F6(){return ow()==="http:"||ow()==="https:"}function ow(){return typeof self<"u"&&self.location?.protocol||null}function H6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(F6()||eP()||"connection"in navigator)?navigator.onLine:!0}function q6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class qc{constructor(e,n){this.shortDelay=e,this.longDelay=n,rr(n>e,"Short delay should be less than long delay!"),this.isMobile=X4()||tP()}get(){return H6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Fv(t,e){rr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class MC{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const G6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Y6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],W6=new qc(3e4,6e4);function Hv(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Fl(t,e,n,i,a={}){return RC(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const f=Lc({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:m,...l};return J4()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&Pl(t.emulatorConfig.host)&&(g.credentials="include"),MC.fetch()(await IC(t,t.config.apiHost,n,f),g)})}async function RC(t,e,n){t._canInitEmulator=!1;const i={...G6,...e};try{const a=new $6(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Df(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,g]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Df(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Df(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw Df(t,"user-disabled",c);const y=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Bv(t,y,g);Si(t,y)}}catch(a){if(a instanceof ar)throw a;Si(t,"network-request-failed",{message:String(a)})}}async function K6(t,e,n,i,a={}){const l=await Fl(t,e,n,i,a);return"mfaPendingCredential"in l&&Si(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function IC(t,e,n,i){const a=`${e}${n}?${i}`,l=t,c=l.config.emulator?Fv(t.config,a):`${t.config.apiScheme}://${a}`;return Y6.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class $6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Hs(this.auth,"network-request-failed")),W6.get())})}}function Df(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Hs(t,e,i);return a.customData._tokenResponse=n,a}async function Q6(t,e){return Fl(t,"POST","/v1/accounts:delete",e)}async function fd(t,e){return Fl(t,"POST","/v1/accounts:lookup",e)}function cc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function X6(t,e=!1){const n=ts(t),i=await n.getIdToken(e),a=qv(i);Ne(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:cc(dg(a.auth_time)),issuedAtTime:cc(dg(a.iat)),expirationTime:cc(dg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function dg(t){return Number(t)*1e3}function qv(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Bf("JWT malformed, contained fewer than 3 sections"),null;try{const a=zA(n);return a?JSON.parse(a):(Bf("Failed to decode base64 JWT payload"),null)}catch(a){return Bf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function lw(t){const e=qv(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Mc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof ar&&Z6(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function Z6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class J6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class gy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cc(this.lastLoginAt),this.creationTime=cc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function dd(t){const e=t.auth,n=await t.getIdToken(),i=await Mc(t,fd(e,{idToken:n}));Ne(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?OC(a.providerUserInfo):[],c=tL(t.providerData,l),f=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!c?.length,g=f?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new gy(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function eL(t){const e=ts(t);await dd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tL(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function OC(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function nL(t,e){const n=await RC(t,{},async()=>{const i=Lc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await IC(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:i};return t.emulatorConfig&&Pl(t.emulatorConfig.host)&&(m.credentials="include"),MC.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sL(t,e){return Fl(t,"POST","/v2/accounts:revokeToken",Hv(t,e))}class Tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=lw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await nL(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new Tl;return i&&(Ne(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Ne(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ne(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Tl,this.toJSON())}_performRefresh(){return Ki("not implemented")}}function qr(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zs{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new J6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new gy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Mc(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return X6(this,e)}reload(){return eL(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await dd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Us(this.auth.app))return Promise.reject(to(this.auth));const e=await this.getIdToken();return await Mc(this,Q6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:D,providerData:V,stsTokenManager:R}=n;Ne(T&&R,e,"internal-error");const P=Tl.fromJSON(this.name,R);Ne(typeof T=="string",e,"internal-error"),qr(i,e.name),qr(a,e.name),Ne(typeof w=="boolean",e,"internal-error"),Ne(typeof D=="boolean",e,"internal-error"),qr(l,e.name),qr(c,e.name),qr(f,e.name),qr(m,e.name),qr(g,e.name),qr(y,e.name);const z=new zs({uid:T,auth:e,email:a,emailVerified:w,displayName:i,isAnonymous:D,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:P,createdAt:g,lastLoginAt:y});return V&&Array.isArray(V)&&(z.providerData=V.map(K=>({...K}))),m&&(z._redirectEventId=m),z}static async _fromIdTokenResponse(e,n,i=!1){const a=new Tl;a.updateFromServerResponse(n);const l=new zs({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await dd(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Ne(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?OC(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,f=new Tl;f.updateFromIdToken(i);const m=new zs({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new gy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}const uw=new Map;function $i(t){rr(t instanceof Function,"Expected a class definition");let e=uw.get(t);return e?(rr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,uw.set(t,e),e)}class kC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}kC.type="NONE";const cw=kC;function zf(t,e,n){return`firebase:${t}:${e}:${n}`}class bl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=zf(this.userKey,a.apiKey,l),this.fullPersistenceKey=zf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await fd(this.auth,{idToken:e}).catch(()=>{});return n?zs._fromGetAccountInfoResponse(this.auth,n,e):null}return zs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new bl($i(cw),e,i);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||$i(cw);const c=zf(i,e.config.apiKey,e.name);let f=null;for(const g of n)try{const y=await g._get(c);if(y){let T;if(typeof y=="string"){const w=await fd(e,{idToken:y}).catch(()=>{});if(!w)break;T=await zs._fromGetAccountInfoResponse(e,w,y)}else T=zs._fromJSON(e,y);g!==l&&(f=T),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new bl(l,e,i):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new bl(l,e,i))}}function hw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BC(e))return"Blackberry";if(zC(e))return"Webos";if(PC(e))return"Safari";if((e.includes("chrome/")||jC(e))&&!e.includes("edge/"))return"Chrome";if(UC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function VC(t=Sn()){return/firefox\//i.test(t)}function PC(t=Sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jC(t=Sn()){return/crios\//i.test(t)}function LC(t=Sn()){return/iemobile/i.test(t)}function UC(t=Sn()){return/android/i.test(t)}function BC(t=Sn()){return/blackberry/i.test(t)}function zC(t=Sn()){return/webos/i.test(t)}function Gv(t=Sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function iL(t=Sn()){return Gv(t)&&!!window.navigator?.standalone}function rL(){return nP()&&document.documentMode===10}function FC(t=Sn()){return Gv(t)||UC(t)||zC(t)||BC(t)||/windows phone/i.test(t)||LC(t)}function HC(t,e=[]){let n;switch(t){case"Browser":n=hw(Sn());break;case"Worker":n=`${hw(Sn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${jl}/${i}`}class aL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function oL(t,e={}){return Fl(t,"GET","/v2/passwordPolicy",Hv(t,e))}const lL=6;class uL{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??lL,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class cL{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fw(this),this.idTokenSubscription=new fw(this),this.beforeStateQueue=new aL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$i(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await bl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fd(this,{idToken:e}),i=await zs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Us(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&f?.user&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=q6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Us(this.app))return Promise.reject(to(this));const n=e?ts(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Us(this.app)?Promise.reject(to(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Us(this.app)?Promise.reject(to(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oL(this),n=new uL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new jc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await sL(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$i(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await bl.create(this,[$i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,i,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Us(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&B6(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Vd(t){return ts(t)}class fw{constructor(e){this.auth=e,this.observer=null,this.addObserver=cP(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Yv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hL(t){Yv=t}function fL(t){return Yv.loadJS(t)}function dL(){return Yv.gapiScript}function mL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function pL(t,e){const n=cv(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(so(l,e??{}))return a;Si(a,"already-initialized")}return n.initialize({options:e})}function gL(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map($i);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function yL(t,e,n){const i=Vd(t);Ne(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=qC(e),{host:c,port:f}=vL(e),m=f===null?"":`:${f}`,g={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ne(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ne(so(g,i.config.emulator)&&so(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,Pl(c)?(GA(`${l}//${c}${m}`),YA("Auth",!0)):_L()}function qC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function vL(t){const e=qC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:dw(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:dw(c)}}}function dw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _L(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class GC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ki("not implemented")}_getIdTokenResponse(e){return Ki("not implemented")}_linkToIdToken(e,n){return Ki("not implemented")}_getReauthenticationResolver(e){return Ki("not implemented")}}async function El(t,e){return K6(t,"POST","/v1/accounts:signInWithIdp",Hv(t,e))}const TL="http://localhost";class oo extends GC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Si("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const c=new oo(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return El(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,El(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,El(e,n)}buildRequest(){const e={requestUri:TL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Lc(n)}return e}}class Wv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Gc extends Wv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Yr extends Gc{constructor(){super("facebook.com")}static credential(e){return oo._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yr.PROVIDER_ID="facebook.com";class Wi extends Gc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oo._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Wi.credential(n,i)}catch{return null}}}Wi.GOOGLE_SIGN_IN_METHOD="google.com";Wi.PROVIDER_ID="google.com";class Wr extends Gc{constructor(){super("github.com")}static credential(e){return oo._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.GITHUB_SIGN_IN_METHOD="github.com";Wr.PROVIDER_ID="github.com";class Kr extends Gc{constructor(){super("twitter.com")}static credential(e,n){return oo._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Kr.credential(n,i)}catch{return null}}}Kr.TWITTER_SIGN_IN_METHOD="twitter.com";Kr.PROVIDER_ID="twitter.com";class Il{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await zs._fromIdTokenResponse(e,i,a),c=mw(i);return new Il({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=mw(i);return new Il({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function mw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class md extends ar{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,md.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new md(e,n,i,a)}}function YC(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?md._fromErrorAndOperation(t,l,e,i):l})}async function bL(t,e,n=!1){const i=await Mc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Il._forOperation(t,"link",i)}async function EL(t,e,n=!1){const{auth:i}=t;if(Us(i.app))return Promise.reject(to(i));const a="reauthenticate";try{const l=await Mc(t,YC(i,a,e,t),n);Ne(l.idToken,i,"internal-error");const c=qv(l.idToken);Ne(c,i,"internal-error");const{sub:f}=c;return Ne(t.uid===f,i,"user-mismatch"),Il._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Si(i,"user-mismatch"),l}}async function wL(t,e,n=!1){if(Us(t.app))return Promise.reject(to(t));const i="signIn",a=await YC(t,i,e),l=await Il._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}function SL(t,e,n,i){return ts(t).onIdTokenChanged(e,n,i)}function AL(t,e,n){return ts(t).beforeAuthStateChanged(e,n)}function xL(t,e,n,i){return ts(t).onAuthStateChanged(e,n,i)}function CL(t){return ts(t).signOut()}const pd="__sak";class WC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pd,"1"),this.storage.removeItem(pd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const DL=1e3,NL=10;class KC extends WC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);rL()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,NL):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},DL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}KC.type="LOCAL";const ML=KC;class $C extends WC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$C.type="SESSION";const QC=$C;function RL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Pd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Pd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(c).map(async g=>g(n.origin,l)),m=await RL(f);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pd.receivers=[];function Kv(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}class IL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const g=Kv("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(w.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function bi(){return window}function OL(t){bi().location.href=t}function XC(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function kL(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VL(){return navigator?.serviceWorker?.controller||null}function PL(){return XC()?self:null}const ZC="firebaseLocalStorageDb",jL=1,gd="firebaseLocalStorage",JC="fbase_key";class Yc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jd(t,e){return t.transaction([gd],e?"readwrite":"readonly").objectStore(gd)}function LL(){const t=indexedDB.deleteDatabase(ZC);return new Yc(t).toPromise()}function yy(){const t=indexedDB.open(ZC,jL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(gd,{keyPath:JC})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(gd)?e(i):(i.close(),await LL(),e(await yy()))})})}async function pw(t,e,n){const i=jd(t,!0).put({[JC]:e,value:n});return new Yc(i).toPromise()}async function UL(t,e){const n=jd(t,!1).get(e),i=await new Yc(n).toPromise();return i===void 0?null:i.value}function gw(t,e){const n=jd(t,!0).delete(e);return new Yc(n).toPromise()}const BL=800,zL=3;class eD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>zL)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pd._getInstance(PL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await kL(),!this.activeServiceWorker)return;this.sender=new IL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yy();return await pw(e,pd,"1"),await gw(e,pd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>pw(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>UL(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>gw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=jd(a,!1).getAll();return new Yc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eD.type="LOCAL";const FL=eD;new qc(3e4,6e4);function tD(t,e){return e?$i(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class $v extends GC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return El(e,this._buildIdpRequest())}_linkToIdToken(e,n){return El(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return El(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function HL(t){return wL(t.auth,new $v(t),t.bypassAuthState)}function qL(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),EL(n,new $v(t),t.bypassAuthState)}async function GL(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),bL(n,new $v(t),t.bypassAuthState)}class nD{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HL;case"linkViaPopup":case"linkViaRedirect":return GL;case"reauthViaPopup":case"reauthViaRedirect":return qL;default:Si(this.auth,"internal-error")}}resolve(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const YL=new qc(2e3,1e4);async function WL(t,e,n){if(Us(t.app))return Promise.reject(Hs(t,"operation-not-supported-in-this-environment"));const i=Vd(t);z6(t,e,Wv);const a=tD(i,n);return new $a(i,"signInViaPopup",e,a).executeNotNull()}class $a extends nD{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,$a.currentPopupAction&&$a.currentPopupAction.cancel(),$a.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const e=Kv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Hs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$a.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YL.get())};e()}}$a.currentPopupAction=null;const KL="pendingRedirect",Ff=new Map;class $L extends nD{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Ff.get(this.auth._key());if(!e){try{const i=await QL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Ff.set(this.auth._key(),e)}return this.bypassAuthState||Ff.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QL(t,e){const n=JL(e),i=ZL(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function XL(t,e){Ff.set(t._key(),e)}function ZL(t){return $i(t._redirectPersistence)}function JL(t){return zf(KL,t.config.apiKey,t.name)}async function e9(t,e,n=!1){if(Us(t.app))return Promise.reject(to(t));const i=Vd(t),a=tD(i,e),c=await new $L(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const t9=600*1e3;class n9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!s9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!sD(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Hs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=t9&&this.cachedEventUids.clear(),this.cachedEventUids.has(yw(e))}saveEventToCache(e){this.cachedEventUids.add(yw(e)),this.lastProcessedEventTime=Date.now()}}function yw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function sD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function s9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sD(t);default:return!1}}async function i9(t,e={}){return Fl(t,"GET","/v1/projects",e)}const r9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a9=/^https?/;async function o9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await i9(t);for(const n of e)try{if(l9(n))return}catch{}Si(t,"unauthorized-domain")}function l9(t){const e=py(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!a9.test(n))return!1;if(r9.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const u9=new qc(3e4,6e4);function vw(){const t=bi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function c9(t){return new Promise((e,n)=>{function i(){vw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vw(),n(Hs(t,"network-request-failed"))},timeout:u9.get()})}if(bi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(bi().gapi?.load)i();else{const a=mL("iframefcb");return bi()[a]=()=>{gapi.load?i():n(Hs(t,"network-request-failed"))},fL(`${dL()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Hf=null,e})}let Hf=null;function h9(t){return Hf=Hf||c9(t),Hf}const f9=new qc(5e3,15e3),d9="__/auth/iframe",m9="emulator/auth/iframe",p9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},g9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function y9(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Fv(e,m9):`https://${t.config.authDomain}/${d9}`,i={apiKey:e.apiKey,appName:t.name,v:jl},a=g9.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Lc(i).slice(1)}`}async function v9(t){const e=await h9(t),n=bi().gapi;return Ne(n,t,"internal-error"),e.open({where:document.body,url:y9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p9,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Hs(t,"network-request-failed"),f=bi().setTimeout(()=>{l(c)},f9.get());function m(){bi().clearTimeout(f),a(i)}i.ping(m).then(m,()=>{l(c)})}))}const _9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},T9=500,b9=600,E9="_blank",w9="http://localhost";class _w{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function S9(t,e,n,i=T9,a=b9){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const m={..._9,width:i.toString(),height:a.toString(),top:l,left:c},g=Sn().toLowerCase();n&&(f=jC(g)?E9:n),VC(g)&&(e=e||w9,m.scrollbars="yes");const y=Object.entries(m).reduce((w,[D,V])=>`${w}${D}=${V},`,"");if(iL(g)&&f!=="_self")return A9(e||"",f),new _w(null);const T=window.open(e||"",f,y);Ne(T,t,"popup-blocked");try{T.focus()}catch{}return new _w(T)}function A9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const x9="__/auth/handler",C9="emulator/auth/handler",D9=encodeURIComponent("fac");async function Tw(t,e,n,i,a,l){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:jl,eventId:a};if(e instanceof Wv){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",uP(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,T]of Object.entries({}))c[y]=T}if(e instanceof Gc){const y=e.getScopes().filter(T=>T!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await t._getAppCheckToken(),g=m?`#${D9}=${encodeURIComponent(m)}`:"";return`${N9(t)}?${Lc(f).slice(1)}${g}`}function N9({config:t}){return t.emulator?Fv(t,C9):`https://${t.authDomain}/${x9}`}const mg="webStorageSupport";class M9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QC,this._completeRedirectFn=e9,this._overrideRedirectResult=XL}async _openPopup(e,n,i,a){rr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Tw(e,n,i,py(),a);return S9(e,l,Kv())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await Tw(e,n,i,py(),a);return OL(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(rr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await v9(e),i=new n9(e);return n.register("authEvent",a=>(Ne(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mg,{type:mg},a=>{const l=a?.[0]?.[mg];l!==void 0&&n(!!l),Si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=o9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return FC()||PC()||Gv()}}const R9=M9;var bw="@firebase/auth",Ew="1.11.1";class I9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function O9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function k9(t){Al(new io("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;Ne(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HC(t)},g=new cL(i,a,l,m);return gL(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Al(new io("auth-internal",e=>{const n=Vd(e.getProvider("auth").getImmediate());return(i=>new I9(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zr(bw,Ew,O9(t)),Zr(bw,Ew,"esm2020")}const V9=300,P9=qA("authIdTokenMaxAge")||V9;let ww=null;const j9=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>P9)return;const a=n?.token;ww!==a&&(ww=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function L9(t=QA()){const e=cv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=pL(t,{popupRedirectResolver:R9,persistence:[FL,ML,QC]}),i=qA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=j9(l.toString());AL(n,c,()=>c(n.currentUser)),SL(n,f=>c(f))}}const a=FA("auth");return a&&yL(n,`http://${a}`),n}function U9(){return document.getElementsByTagName("head")?.[0]??document}hL({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Hs("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",U9().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});k9("Browser");var B9="firebase",z9="12.6.0";Zr(B9,z9,"app");const F9={apiKey:"AIzaSyC0wgzVQ1XVJkQlLisLTGeyLHP_RV3ectk",authDomain:"me-u-5ab65.firebaseapp.com",projectId:"me-u-5ab65",storageBucket:"me-u-5ab65.appspot.com",messagingSenderId:"359943167809",appId:"1:359943167809:web:95c5ce6d43740448524bc0"},iD=$A(F9),vy=b6(iD),_y=L9(iD);function H9(t,e,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:t,timeZoneName:n}).format(e).split(/\s/g).slice(2).join(" ")}const q9={},ec={};function Qa(t,e){try{const i=(q9[t]||=new Intl.DateTimeFormat("en-US",{timeZone:t,timeZoneName:"longOffset"}).format)(e).split("GMT")[1];return i in ec?ec[i]:Sw(i,i.split(":"))}catch{if(t in ec)return ec[t];const n=t?.match(G9);return n?Sw(t,n.slice(1)):NaN}}const G9=/([+-]\d\d):?(\d\d)?/;function Sw(t,e){const n=+(e[0]||0),i=+(e[1]||0),a=+(e[2]||0)/60;return ec[t]=n*60+i>0?n*60+i+a:n*60-i-a}class mi extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(Qa(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),rD(this),Ty(this)):this.setTime(Date.now())}static tz(e,...n){return n.length?new mi(...n,e):new mi(Date.now(),e)}withTimeZone(e){return new mi(+this,e)}getTimezoneOffset(){const e=-Qa(this.timeZone,this);return e>0?Math.floor(e):Math.ceil(e)}setTime(e){return Date.prototype.setTime.apply(this,arguments),Ty(this),+this}[Symbol.for("constructDateFrom")](e){return new mi(+new Date(e),this.timeZone)}}const Aw=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!Aw.test(t))return;const e=t.replace(Aw,"$1UTC");mi.prototype[e]&&(t.startsWith("get")?mi.prototype[t]=function(){return this.internal[e]()}:(mi.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),Y9(this),+this},mi.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),Ty(this),+this}))});function Ty(t){t.internal.setTime(+t),t.internal.setUTCSeconds(t.internal.getUTCSeconds()-Math.round(-Qa(t.timeZone,t)*60))}function Y9(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),rD(t)}function rD(t){const e=Qa(t.timeZone,t),n=e>0?Math.floor(e):Math.ceil(e),i=new Date(+t);i.setUTCHours(i.getUTCHours()-1);const a=-new Date(+t).getTimezoneOffset(),l=-new Date(+i).getTimezoneOffset(),c=a-l,f=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();c&&f&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+c);const m=a-n;m&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+m);const g=new Date(+t);g.setUTCSeconds(0);const y=a>0?g.getSeconds():(g.getSeconds()-60)%60,T=Math.round(-(Qa(t.timeZone,t)*60))%60;(T||y)&&(t.internal.setUTCSeconds(t.internal.getUTCSeconds()+T),Date.prototype.setUTCSeconds.call(t,Date.prototype.getUTCSeconds.call(t)+T+y));const w=Qa(t.timeZone,t),D=w>0?Math.floor(w):Math.ceil(w),R=-new Date(+t).getTimezoneOffset()-D,P=D!==n,z=R-m;if(P&&z){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+z);const K=Qa(t.timeZone,t),F=K>0?Math.floor(K):Math.ceil(K),te=D-F;te&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+te),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+te))}}class Qi extends mi{static tz(e,...n){return n.length?new Qi(...n,e):new Qi(Date.now(),e)}toISOString(){const[e,n,i]=this.tzComponents(),a=`${e}${n}:${i}`;return this.internal.toISOString().slice(0,-1)+a}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,n,i,a]=this.internal.toUTCString().split(" ");return`${e?.slice(0,-1)} ${i} ${n} ${a}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[n,i,a]=this.tzComponents();return`${e} GMT${n}${i}${a} (${H9(this.timeZone,this)})`}toLocaleString(e,n){return Date.prototype.toLocaleString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleDateString(e,n){return Date.prototype.toLocaleDateString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleTimeString(e,n){return Date.prototype.toLocaleTimeString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),n=e>0?"-":"+",i=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),a=String(Math.abs(e)%60).padStart(2,"0");return[n,i,a]}withTimeZone(e){return new Qi(+this,e)}[Symbol.for("constructDateFrom")](e){return new Qi(+new Date(e),this.timeZone)}}const xw=5,W9=4;function K9(t,e){const n=e.startOfMonth(t),i=n.getDay()>0?n.getDay():7,a=e.addDays(t,-i+1),l=e.addDays(a,xw*7-1);return e.getMonth(t)===e.getMonth(l)?xw:W9}function aD(t,e){const n=e.startOfMonth(t),i=n.getDay();return i===1?n:i===0?e.addDays(n,-6):e.addDays(n,-1*(i-1))}function $9(t,e){const n=aD(t,e),i=K9(t,e);return e.addDays(n,i*7-1)}const oD={...rl,labels:{labelDayButton:(t,e,n,i)=>{let a;i&&typeof i.format=="function"?a=i.format.bind(i):a=(c,f)=>ze(c,f,{locale:rl,...n});let l=a(t,"PPPP");return e.today&&(l=`Today, ${l}`),e.selected&&(l=`${l}, selected`),l},labelMonthDropdown:"Choose the Month",labelNext:"Go to the Next Month",labelPrevious:"Go to the Previous Month",labelWeekNumber:t=>`Week ${t}`,labelYearDropdown:"Choose the Year",labelGrid:(t,e,n)=>{let i;return n&&typeof n.format=="function"?i=n.format.bind(n):i=(a,l)=>ze(a,l,{locale:rl,...e}),i(t,"LLLL yyyy")},labelGridcell:(t,e,n,i)=>{let a;i&&typeof i.format=="function"?a=i.format.bind(i):a=(c,f)=>ze(c,f,{locale:rl,...n});let l=a(t,"PPPP");return e?.today&&(l=`Today, ${l}`),l},labelNav:"Navigation bar",labelWeekNumberHeader:"Week Number",labelWeekday:(t,e,n)=>{let i;return n&&typeof n.format=="function"?i=n.format.bind(n):i=(a,l)=>ze(a,l,{locale:rl,...e}),i(t,"cccc")}}};class ns{constructor(e,n){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?Qi.tz(this.options.timeZone):new this.Date,this.newDate=(i,a,l)=>this.overrides?.newDate?this.overrides.newDate(i,a,l):this.options.timeZone?new Qi(i,a,l,this.options.timeZone):new Date(i,a,l),this.addDays=(i,a)=>this.overrides?.addDays?this.overrides.addDays(i,a):Jn(i,a),this.addMonths=(i,a)=>this.overrides?.addMonths?this.overrides.addMonths(i,a):Sy(i,a),this.addWeeks=(i,a)=>this.overrides?.addWeeks?this.overrides.addWeeks(i,a):_N(i,a),this.addYears=(i,a)=>this.overrides?.addYears?this.overrides.addYears(i,a):TN(i,a),this.differenceInCalendarDays=(i,a)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(i,a):Ay(i,a),this.differenceInCalendarMonths=(i,a)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(i,a):AN(i,a),this.eachMonthOfInterval=i=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(i):DN(i),this.eachYearOfInterval=i=>{const a=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(i):MN(i),l=new Set(a.map(f=>this.getYear(f)));if(l.size===a.length)return a;const c=[];return l.forEach(f=>{c.push(new Date(f,0,1))}),c},this.endOfBroadcastWeek=i=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(i):$9(i,this),this.endOfISOWeek=i=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(i):RN(i),this.endOfMonth=i=>this.overrides?.endOfMonth?this.overrides.endOfMonth(i):zw(i),this.endOfWeek=(i,a)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(i,a):Cy(i,this.options),this.endOfYear=i=>this.overrides?.endOfYear?this.overrides.endOfYear(i):NN(i),this.format=(i,a,l)=>{const c=this.overrides?.format?this.overrides.format(i,a,this.options):ze(i,a,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(c):c},this.getISOWeek=i=>this.overrides?.getISOWeek?this.overrides.getISOWeek(i):Yw(i),this.getMonth=(i,a)=>this.overrides?.getMonth?this.overrides.getMonth(i,this.options):CM(i,this.options),this.getYear=(i,a)=>this.overrides?.getYear?this.overrides.getYear(i,this.options):DM(i,this.options),this.getWeek=(i,a)=>this.overrides?.getWeek?this.overrides.getWeek(i,this.options):Kw(i,this.options),this.isAfter=(i,a)=>this.overrides?.isAfter?this.overrides.isAfter(i,a):NM(i,a),this.isBefore=(i,a)=>this.overrides?.isBefore?this.overrides.isBefore(i,a):MM(i,a),this.isDate=i=>this.overrides?.isDate?this.overrides.isDate(i):Uw(i),this.isSameDay=(i,a)=>this.overrides?.isSameDay?this.overrides.isSameDay(i,a):Yi(i,a),this.isSameMonth=(i,a)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(i,a):Qw(i,a),this.isSameYear=(i,a)=>this.overrides?.isSameYear?this.overrides.isSameYear(i,a):IM(i,a),this.max=i=>this.overrides?.max?this.overrides.max(i):bN(i),this.min=i=>this.overrides?.min?this.overrides.min(i):EN(i),this.setMonth=(i,a)=>this.overrides?.setMonth?this.overrides.setMonth(i,a):Xw(i,a),this.setYear=(i,a)=>this.overrides?.setYear?this.overrides.setYear(i,a):kM(i,a),this.startOfBroadcastWeek=(i,a)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(i,this):aD(i,this),this.startOfDay=i=>this.overrides?.startOfDay?this.overrides.startOfDay(i):dc(i),this.startOfISOWeek=i=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(i):fc(i),this.startOfMonth=i=>this.overrides?.startOfMonth?this.overrides.startOfMonth(i):Hw(i),this.startOfWeek=(i,a)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(i,this.options):ws(i,this.options),this.startOfYear=i=>this.overrides?.startOfYear?this.overrides.startOfYear(i):qw(i),this.options={locale:oD,...e},this.overrides=n}getDigitMap(){const{numerals:e="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:e}),i={};for(let a=0;a<10;a++)i[a.toString()]=n.format(a);return i}replaceDigits(e){const n=this.getDigitMap();return e.replace(/\d/g,i=>n[i]||i)}formatNumber(e){return this.replaceDigits(e.toString())}getMonthYearOrder(){const e=this.options.locale?.code;return e&&ns.yearFirstLocales.has(e)?"year-first":"month-first"}formatMonthYear(e){const{locale:n,timeZone:i,numerals:a}=this.options,l=n?.code;if(l&&ns.yearFirstLocales.has(l))try{return new Intl.DateTimeFormat(l,{month:"long",year:"numeric",timeZone:i,numberingSystem:a}).format(e)}catch{}const c=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(e,c)}}ns.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const Ai=new ns;class lD{constructor(e,n,i=Ai){this.date=e,this.displayMonth=n,this.outside=!!(n&&!i.isSameMonth(e,n)),this.dateLib=i,this.isoDate=i.format(e,"yyyy-MM-dd"),this.displayMonthId=i.format(n,"yyyy-MM"),this.dateMonthId=i.format(e,"yyyy-MM")}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class Q9{constructor(e,n){this.date=e,this.weeks=n}}class X9{constructor(e,n){this.days=n,this.weekNumber=e}}function Z9(t){return fe.createElement("button",{...t})}function J9(t){return fe.createElement("span",{...t})}function eU(t){const{size:e=24,orientation:n="left",className:i}=t;return fe.createElement("svg",{className:i,width:e,height:e,viewBox:"0 0 24 24"},n==="up"&&fe.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&fe.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&fe.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&fe.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function tU(t){const{day:e,modifiers:n,...i}=t;return fe.createElement("td",{...i})}function nU(t){const{day:e,modifiers:n,...i}=t,a=fe.useRef(null);return fe.useEffect(()=>{n.focused&&a.current?.focus()},[n.focused]),fe.createElement("button",{ref:a,...i})}var ye;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(ye||(ye={}));var St;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(St||(St={}));var Fs;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(Fs||(Fs={}));var Xn;(function(t){t.weeks_before_enter="weeks_before_enter",t.weeks_before_exit="weeks_before_exit",t.weeks_after_enter="weeks_after_enter",t.weeks_after_exit="weeks_after_exit",t.caption_after_enter="caption_after_enter",t.caption_after_exit="caption_after_exit",t.caption_before_enter="caption_before_enter",t.caption_before_exit="caption_before_exit"})(Xn||(Xn={}));function sU(t){const{options:e,className:n,components:i,classNames:a,...l}=t,c=[a[ye.Dropdown],n].join(" "),f=e?.find(({value:m})=>m===l.value);return fe.createElement("span",{"data-disabled":l.disabled,className:a[ye.DropdownRoot]},fe.createElement(i.Select,{className:c,...l},e?.map(({value:m,label:g,disabled:y})=>fe.createElement(i.Option,{key:m,value:m,disabled:y},g))),fe.createElement("span",{className:a[ye.CaptionLabel],"aria-hidden":!0},f?.label,fe.createElement(i.Chevron,{orientation:"down",size:18,className:a[ye.Chevron]})))}function iU(t){return fe.createElement("div",{...t})}function rU(t){return fe.createElement("div",{...t})}function aU(t){const{calendarMonth:e,displayIndex:n,...i}=t;return fe.createElement("div",{...i},t.children)}function oU(t){const{calendarMonth:e,displayIndex:n,...i}=t;return fe.createElement("div",{...i})}function lU(t){return fe.createElement("table",{...t})}function uU(t){return fe.createElement("div",{...t})}const uD=Q.createContext(void 0);function Wc(){const t=Q.useContext(uD);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function cU(t){const{components:e}=Wc();return fe.createElement(e.Dropdown,{...t})}function hU(t){const{onPreviousClick:e,onNextClick:n,previousMonth:i,nextMonth:a,...l}=t,{components:c,classNames:f,labels:{labelPrevious:m,labelNext:g}}=Wc(),y=Q.useCallback(w=>{a&&n?.(w)},[a,n]),T=Q.useCallback(w=>{i&&e?.(w)},[i,e]);return fe.createElement("nav",{...l},fe.createElement(c.PreviousMonthButton,{type:"button",className:f[ye.PreviousMonthButton],tabIndex:i?void 0:-1,"aria-disabled":i?void 0:!0,"aria-label":m(i),onClick:T},fe.createElement(c.Chevron,{disabled:i?void 0:!0,className:f[ye.Chevron],orientation:"left"})),fe.createElement(c.NextMonthButton,{type:"button",className:f[ye.NextMonthButton],tabIndex:a?void 0:-1,"aria-disabled":a?void 0:!0,"aria-label":g(a),onClick:y},fe.createElement(c.Chevron,{disabled:a?void 0:!0,orientation:"right",className:f[ye.Chevron]})))}function fU(t){const{components:e}=Wc();return fe.createElement(e.Button,{...t})}function dU(t){return fe.createElement("option",{...t})}function mU(t){const{components:e}=Wc();return fe.createElement(e.Button,{...t})}function pU(t){const{rootRef:e,...n}=t;return fe.createElement("div",{...n,ref:e})}function gU(t){return fe.createElement("select",{...t})}function yU(t){const{week:e,...n}=t;return fe.createElement("tr",{...n})}function vU(t){return fe.createElement("th",{...t})}function _U(t){return fe.createElement("thead",{"aria-hidden":!0},fe.createElement("tr",{...t}))}function TU(t){const{week:e,...n}=t;return fe.createElement("th",{...n})}function bU(t){return fe.createElement("th",{...t})}function EU(t){return fe.createElement("tbody",{...t})}function wU(t){const{components:e}=Wc();return fe.createElement(e.Dropdown,{...t})}const SU=Object.freeze(Object.defineProperty({__proto__:null,Button:Z9,CaptionLabel:J9,Chevron:eU,Day:tU,DayButton:nU,Dropdown:sU,DropdownNav:iU,Footer:rU,Month:aU,MonthCaption:oU,MonthGrid:lU,Months:uU,MonthsDropdown:cU,Nav:hU,NextMonthButton:fU,Option:dU,PreviousMonthButton:mU,Root:pU,Select:gU,Week:yU,WeekNumber:TU,WeekNumberHeader:bU,Weekday:vU,Weekdays:_U,Weeks:EU,YearsDropdown:wU},Symbol.toStringTag,{value:"Module"}));function Xi(t,e,n=!1,i=Ai){let{from:a,to:l}=t;const{differenceInCalendarDays:c,isSameDay:f}=i;return a&&l?(c(l,a)<0&&([a,l]=[l,a]),c(e,a)>=(n?1:0)&&c(l,e)>=(n?1:0)):!n&&l?f(l,e):!n&&a?f(a,e):!1}function Qv(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function Ld(t){return!!(t&&typeof t=="object"&&"from"in t)}function Xv(t){return!!(t&&typeof t=="object"&&"after"in t)}function Zv(t){return!!(t&&typeof t=="object"&&"before"in t)}function cD(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function hD(t,e){return Array.isArray(t)&&t.every(e.isDate)}function Zi(t,e,n=Ai){const i=Array.isArray(e)?e:[e],{isSameDay:a,differenceInCalendarDays:l,isAfter:c}=n;return i.some(f=>{if(typeof f=="boolean")return f;if(n.isDate(f))return a(t,f);if(hD(f,n))return f.some(m=>a(t,m));if(Ld(f))return Xi(f,t,!1,n);if(cD(f))return Array.isArray(f.dayOfWeek)?f.dayOfWeek.includes(t.getDay()):f.dayOfWeek===t.getDay();if(Qv(f)){const m=l(f.before,t),g=l(f.after,t),y=m>0,T=g<0;return c(f.before,f.after)?T&&y:y||T}return Xv(f)?l(t,f.after)>0:Zv(f)?l(f.before,t)>0:typeof f=="function"?f(t):!1})}function AU(t,e,n,i,a){const{disabled:l,hidden:c,modifiers:f,showOutsideDays:m,broadcastCalendar:g,today:y=a.today()}=e,{isSameDay:T,isSameMonth:w,startOfMonth:D,isBefore:V,endOfMonth:R,isAfter:P}=a,z=n&&D(n),K=i&&R(i),F={[St.focused]:[],[St.outside]:[],[St.disabled]:[],[St.hidden]:[],[St.today]:[]},te={};for(const B of t){const{date:G,displayMonth:x}=B,A=!!(x&&!w(G,x)),M=!!(z&&V(G,z)),k=!!(K&&P(G,K)),O=!!(l&&Zi(G,l,a)),I=!!(c&&Zi(G,c,a))||M||k||!g&&!m&&A||g&&m===!1&&A,N=T(G,y);A&&F.outside.push(B),O&&F.disabled.push(B),I&&F.hidden.push(B),N&&F.today.push(B),f&&Object.keys(f).forEach(pe=>{const Be=f?.[pe];Be&&Zi(G,Be,a)&&(te[pe]?te[pe].push(B):te[pe]=[B])})}return B=>{const G={[St.focused]:!1,[St.disabled]:!1,[St.hidden]:!1,[St.outside]:!1,[St.today]:!1},x={};for(const A in F){const M=F[A];G[A]=M.some(k=>k===B)}for(const A in te)x[A]=te[A].some(M=>M===B);return{...G,...x}}}function xU(t,e,n={}){return Object.entries(t).filter(([,a])=>a===!0).reduce((a,[l])=>(n[l]?a.push(n[l]):e[St[l]]?a.push(e[St[l]]):e[Fs[l]]&&a.push(e[Fs[l]]),a),[e[ye.Day]])}function CU(t){return{...SU,...t}}function DU(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0,"data-nav-layout":t.navLayout||void 0};return Object.entries(t).forEach(([n,i])=>{n.startsWith("data-")&&(e[n]=i)}),e}function NU(){const t={};for(const e in ye)t[ye[e]]=`rdp-${ye[e]}`;for(const e in St)t[St[e]]=`rdp-${St[e]}`;for(const e in Fs)t[Fs[e]]=`rdp-${Fs[e]}`;for(const e in Xn)t[Xn[e]]=`rdp-${Xn[e]}`;return t}function fD(t,e,n){return(n??new ns(e)).formatMonthYear(t)}const MU=fD;function RU(t,e,n){return(n??new ns(e)).format(t,"d")}function IU(t,e=Ai){return e.format(t,"LLLL")}function OU(t,e,n){return(n??new ns(e)).format(t,"cccccc")}function kU(t,e=Ai){return t<10?e.formatNumber(`0${t.toLocaleString()}`):e.formatNumber(`${t.toLocaleString()}`)}function VU(){return""}function dD(t,e=Ai){return e.format(t,"yyyy")}const PU=dD,jU=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:fD,formatDay:RU,formatMonthCaption:MU,formatMonthDropdown:IU,formatWeekNumber:kU,formatWeekNumberHeader:VU,formatWeekdayName:OU,formatYearCaption:PU,formatYearDropdown:dD},Symbol.toStringTag,{value:"Module"}));function LU(t){return t?.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t?.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...jU,...t}}function Jv(t,e,n,i){let a=(i??new ns(n)).format(t,"PPPP");return e.today&&(a=`Today, ${a}`),e.selected&&(a=`${a}, selected`),a}const UU=Jv;function e0(t,e,n){return(n??new ns(e)).formatMonthYear(t)}const BU=e0;function mD(t,e,n,i){let a=(i??new ns(n)).format(t,"PPPP");return e?.today&&(a=`Today, ${a}`),a}function pD(t){return"Choose the Month"}function gD(){return""}const zU="Go to the Next Month";function yD(t,e){return zU}function vD(t){return"Go to the Previous Month"}function _D(t,e,n){return(n??new ns(e)).format(t,"cccc")}function TD(t,e){return`Week ${t}`}function bD(t){return"Week Number"}function ED(t){return"Choose the Year"}const FU=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:BU,labelDay:UU,labelDayButton:Jv,labelGrid:e0,labelGridcell:mD,labelMonthDropdown:pD,labelNav:gD,labelNext:yD,labelPrevious:vD,labelWeekNumber:TD,labelWeekNumberHeader:bD,labelWeekday:_D,labelYearDropdown:ED},Symbol.toStringTag,{value:"Module"})),js=(t,e,n)=>e||(n?typeof n=="function"?n:(...i)=>n:t);function HU(t,e){const n=e.locale?.labels??{};return{...FU,...t??{},labelDayButton:js(Jv,t?.labelDayButton,n.labelDayButton),labelMonthDropdown:js(pD,t?.labelMonthDropdown,n.labelMonthDropdown),labelNext:js(yD,t?.labelNext,n.labelNext),labelPrevious:js(vD,t?.labelPrevious,n.labelPrevious),labelWeekNumber:js(TD,t?.labelWeekNumber,n.labelWeekNumber),labelYearDropdown:js(ED,t?.labelYearDropdown,n.labelYearDropdown),labelGrid:js(e0,t?.labelGrid,n.labelGrid),labelGridcell:js(mD,t?.labelGridcell,n.labelGridcell),labelNav:js(gD,t?.labelNav,n.labelNav),labelWeekNumberHeader:js(bD,t?.labelWeekNumberHeader,n.labelWeekNumberHeader),labelWeekday:js(_D,t?.labelWeekday,n.labelWeekday)}}function qU(t,e,n,i,a){const{startOfMonth:l,startOfYear:c,endOfYear:f,eachMonthOfInterval:m,getMonth:g}=a;return m({start:c(t),end:f(t)}).map(w=>{const D=i.formatMonthDropdown(w,a),V=g(w),R=e&&w<l(e)||n&&w>l(n)||!1;return{value:V,label:D,disabled:R}})}function GU(t,e={},n={}){let i={...e?.[ye.Day]};return Object.entries(t).filter(([,a])=>a===!0).forEach(([a])=>{i={...i,...n?.[a]}}),i}function YU(t,e,n,i){const a=i??t.today(),l=n?t.startOfBroadcastWeek(a,t):e?t.startOfISOWeek(a):t.startOfWeek(a),c=[];for(let f=0;f<7;f++){const m=t.addDays(l,f);c.push(m)}return c}function WU(t,e,n,i,a=!1){if(!t||!e)return;const{startOfYear:l,endOfYear:c,eachYearOfInterval:f,getYear:m}=i,g=l(t),y=c(e),T=f({start:g,end:y});return a&&T.reverse(),T.map(w=>{const D=n.formatYearDropdown(w,i);return{value:m(w),label:D,disabled:!1}})}const Kc=t=>t instanceof HTMLElement?t:null,pg=t=>[...t.querySelectorAll("[data-animated-month]")??[]],KU=t=>Kc(t.querySelector("[data-animated-month]")),gg=t=>Kc(t.querySelector("[data-animated-caption]")),yg=t=>Kc(t.querySelector("[data-animated-weeks]")),$U=t=>Kc(t.querySelector("[data-animated-nav]")),QU=t=>Kc(t.querySelector("[data-animated-weekdays]"));function XU(t,e,{classNames:n,months:i,focused:a,dateLib:l}){const c=Q.useRef(null),f=Q.useRef(i),m=Q.useRef(!1);Q.useLayoutEffect(()=>{const g=f.current;if(f.current=i,!e||!t.current||!(t.current instanceof HTMLElement)||i.length===0||g.length===0||i.length!==g.length)return;const y=l.isSameMonth(i[0].date,g[0].date),T=l.isAfter(i[0].date,g[0].date),w=T?n[Xn.caption_after_enter]:n[Xn.caption_before_enter],D=T?n[Xn.weeks_after_enter]:n[Xn.weeks_before_enter],V=c.current,R=t.current.cloneNode(!0);if(R instanceof HTMLElement?(pg(R).forEach(F=>{if(!(F instanceof HTMLElement))return;const te=KU(F);te&&F.contains(te)&&F.removeChild(te);const B=gg(F);B&&B.classList.remove(w);const G=yg(F);G&&G.classList.remove(D)}),c.current=R):c.current=null,m.current||y||a)return;const P=V instanceof HTMLElement?pg(V):[],z=pg(t.current);if(z?.every(K=>K instanceof HTMLElement)&&P&&P.every(K=>K instanceof HTMLElement)){m.current=!0,t.current.style.isolation="isolate";const K=$U(t.current);K&&(K.style.zIndex="1"),z.forEach((F,te)=>{const B=P[te];if(!B)return;F.style.position="relative",F.style.overflow="hidden";const G=gg(F);G&&G.classList.add(w);const x=yg(F);x&&x.classList.add(D);const A=()=>{m.current=!1,t.current&&(t.current.style.isolation=""),K&&(K.style.zIndex=""),G&&G.classList.remove(w),x&&x.classList.remove(D),F.style.position="",F.style.overflow="",F.contains(B)&&F.removeChild(B)};B.style.pointerEvents="none",B.style.position="absolute",B.style.overflow="hidden",B.setAttribute("aria-hidden","true");const M=QU(B);M&&(M.style.opacity="0");const k=gg(B);k&&(k.classList.add(T?n[Xn.caption_before_exit]:n[Xn.caption_after_exit]),k.addEventListener("animationend",A));const O=yg(B);O&&O.classList.add(T?n[Xn.weeks_before_exit]:n[Xn.weeks_after_exit]),F.insertBefore(B,F.firstChild)})}})}function ZU(t,e,n,i){const a=t[0],l=t[t.length-1],{ISOWeek:c,fixedWeeks:f,broadcastCalendar:m}=n??{},{addDays:g,differenceInCalendarDays:y,differenceInCalendarMonths:T,endOfBroadcastWeek:w,endOfISOWeek:D,endOfMonth:V,endOfWeek:R,isAfter:P,startOfBroadcastWeek:z,startOfISOWeek:K,startOfWeek:F}=i,te=m?z(a,i):c?K(a):F(a),B=m?w(l):c?D(V(l)):R(V(l)),G=e&&(m?w(e):c?D(e):R(e)),x=G&&P(B,G)?G:B,A=y(x,te),M=T(l,a)+1,k=[];for(let N=0;N<=A;N++){const pe=g(te,N);k.push(pe)}const I=(m?35:42)*M;if(f&&k.length<I){const N=I-k.length;for(let pe=0;pe<N;pe++){const Be=g(k[k.length-1],1);k.push(Be)}}return k}function JU(t){const e=[];return t.reduce((n,i)=>{const a=i.weeks.reduce((l,c)=>l.concat(c.days.slice()),e.slice());return n.concat(a.slice())},e.slice())}function eB(t,e,n,i){const{numberOfMonths:a=1}=n,l=[];for(let c=0;c<a;c++){const f=i.addMonths(t,c);if(e&&f>e)break;l.push(f)}return l}function Cw(t,e,n,i){const{month:a,defaultMonth:l,today:c=i.today(),numberOfMonths:f=1}=t;let m=a||l||c;const{differenceInCalendarMonths:g,addMonths:y,startOfMonth:T}=i;if(n&&g(n,m)<f-1){const w=-1*(f-1);m=y(n,w)}return e&&g(m,e)<0&&(m=e),T(m)}function tB(t,e,n,i){const{addDays:a,endOfBroadcastWeek:l,endOfISOWeek:c,endOfMonth:f,endOfWeek:m,getISOWeek:g,getWeek:y,startOfBroadcastWeek:T,startOfISOWeek:w,startOfWeek:D}=i,V=t.reduce((R,P)=>{const z=n.broadcastCalendar?T(P,i):n.ISOWeek?w(P):D(P),K=n.broadcastCalendar?l(P):n.ISOWeek?c(f(P)):m(f(P)),F=e.filter(x=>x>=z&&x<=K),te=n.broadcastCalendar?35:42;if(n.fixedWeeks&&F.length<te){const x=e.filter(A=>{const M=te-F.length;return A>K&&A<=a(K,M)});F.push(...x)}const B=F.reduce((x,A)=>{const M=n.ISOWeek?g(A):y(A),k=x.find(I=>I.weekNumber===M),O=new lD(A,P,i);return k?k.days.push(O):x.push(new X9(M,[O])),x},[]),G=new Q9(P,B);return R.push(G),R},[]);return n.reverseMonths?V.reverse():V}function nB(t,e){let{startMonth:n,endMonth:i}=t;const{startOfYear:a,startOfDay:l,startOfMonth:c,endOfMonth:f,addYears:m,endOfYear:g,newDate:y,today:T}=e,{fromYear:w,toYear:D,fromMonth:V,toMonth:R}=t;!n&&V&&(n=V),!n&&w&&(n=e.newDate(w,0,1)),!i&&R&&(i=R),!i&&D&&(i=y(D,11,31));const P=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return n?n=c(n):w?n=y(w,0,1):!n&&P&&(n=a(m(t.today??T(),-100))),i?i=f(i):D?i=y(D,11,31):!i&&P&&(i=g(t.today??T())),[n&&l(n),i&&l(i)]}function sB(t,e,n,i){if(n.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:l=1}=n,{startOfMonth:c,addMonths:f,differenceInCalendarMonths:m}=i,g=a?l:1,y=c(t);if(!e)return f(y,g);if(!(m(e,t)<l))return f(y,g)}function iB(t,e,n,i){if(n.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:l}=n,{startOfMonth:c,addMonths:f,differenceInCalendarMonths:m}=i,g=a?l??1:1,y=c(t);if(!e)return f(y,-g);if(!(m(y,e)<=0))return f(y,-g)}function rB(t){const e=[];return t.reduce((n,i)=>n.concat(i.weeks.slice()),e.slice())}function Ud(t,e){const[n,i]=Q.useState(t);return[e===void 0?n:e,i]}function aB(t,e){const[n,i]=nB(t,e),{startOfMonth:a,endOfMonth:l}=e,c=Cw(t,n,i,e),[f,m]=Ud(c,t.month?c:void 0);Q.useEffect(()=>{const te=Cw(t,n,i,e);m(te)},[t.timeZone]);const{months:g,weeks:y,days:T,previousMonth:w,nextMonth:D}=Q.useMemo(()=>{const te=eB(f,i,{numberOfMonths:t.numberOfMonths},e),B=ZU(te,t.endMonth?l(t.endMonth):void 0,{ISOWeek:t.ISOWeek,fixedWeeks:t.fixedWeeks,broadcastCalendar:t.broadcastCalendar},e),G=tB(te,B,{broadcastCalendar:t.broadcastCalendar,fixedWeeks:t.fixedWeeks,ISOWeek:t.ISOWeek,reverseMonths:t.reverseMonths},e),x=rB(G),A=JU(G),M=iB(f,n,t,e),k=sB(f,i,t,e);return{months:G,weeks:x,days:A,previousMonth:M,nextMonth:k}},[e,f.getTime(),i?.getTime(),n?.getTime(),t.disableNavigation,t.broadcastCalendar,t.endMonth?.getTime(),t.fixedWeeks,t.ISOWeek,t.numberOfMonths,t.pagedNavigation,t.reverseMonths]),{disableNavigation:V,onMonthChange:R}=t,P=te=>y.some(B=>B.days.some(G=>G.isEqualTo(te))),z=te=>{if(V)return;let B=a(te);n&&B<a(n)&&(B=a(n)),i&&B>a(i)&&(B=a(i)),m(B),R?.(B)};return{months:g,weeks:y,days:T,navStart:n,navEnd:i,previousMonth:w,nextMonth:D,goToMonth:z,goToDay:te=>{P(te)||z(te.date)}}}var ui;(function(t){t[t.Today=0]="Today",t[t.Selected=1]="Selected",t[t.LastFocused=2]="LastFocused",t[t.FocusedModifier=3]="FocusedModifier"})(ui||(ui={}));function Dw(t){return!t[St.disabled]&&!t[St.hidden]&&!t[St.outside]}function oB(t,e,n,i){let a,l=-1;for(const c of t){const f=e(c);Dw(f)&&(f[St.focused]&&l<ui.FocusedModifier?(a=c,l=ui.FocusedModifier):i?.isEqualTo(c)&&l<ui.LastFocused?(a=c,l=ui.LastFocused):n(c.date)&&l<ui.Selected?(a=c,l=ui.Selected):f[St.today]&&l<ui.Today&&(a=c,l=ui.Today))}return a||(a=t.find(c=>Dw(e(c)))),a}function lB(t,e,n,i,a,l,c){const{ISOWeek:f,broadcastCalendar:m}=l,{addDays:g,addMonths:y,addWeeks:T,addYears:w,endOfBroadcastWeek:D,endOfISOWeek:V,endOfWeek:R,max:P,min:z,startOfBroadcastWeek:K,startOfISOWeek:F,startOfWeek:te}=c;let G={day:g,week:T,month:y,year:w,startOfWeek:x=>m?K(x,c):f?F(x):te(x),endOfWeek:x=>m?D(x):f?V(x):R(x)}[t](n,e==="after"?1:-1);return e==="before"&&i?G=P([i,G]):e==="after"&&a&&(G=z([a,G])),G}function wD(t,e,n,i,a,l,c,f=0){if(f>365)return;const m=lB(t,e,n.date,i,a,l,c),g=!!(l.disabled&&Zi(m,l.disabled,c)),y=!!(l.hidden&&Zi(m,l.hidden,c)),T=m,w=new lD(m,T,c);return!g&&!y?w:wD(t,e,w,i,a,l,c,f+1)}function uB(t,e,n,i,a){const{autoFocus:l}=t,[c,f]=Q.useState(),m=oB(e.days,n,i||(()=>!1),c),[g,y]=Q.useState(l?m:void 0);return{isFocusTarget:R=>!!m?.isEqualTo(R),setFocused:y,focused:g,blur:()=>{f(g),y(void 0)},moveFocus:(R,P)=>{if(!g)return;const z=wD(R,P,g,e.navStart,e.navEnd,t,a);z&&(t.disableNavigation&&!e.days.some(F=>F.isEqualTo(z))||(e.goToDay(z),y(z)))}}}function cB(t,e){const{selected:n,required:i,onSelect:a}=t,[l,c]=Ud(n,a?n:void 0),f=a?n:l,{isSameDay:m}=e,g=D=>f?.some(V=>m(V,D))??!1,{min:y,max:T}=t;return{selected:f,select:(D,V,R)=>{let P=[...f??[]];if(g(D)){if(f?.length===y||i&&f?.length===1)return;P=f?.filter(z=>!m(z,D))}else f?.length===T?P=[D]:P=[...P,D];return a||c(P),a?.(P,D,V,R),P},isSelected:g}}function hB(t,e,n=0,i=0,a=!1,l=Ai){const{from:c,to:f}=e||{},{isSameDay:m,isAfter:g,isBefore:y}=l;let T;if(!c&&!f)T={from:t,to:n>0?void 0:t};else if(c&&!f)m(c,t)?n===0?T={from:c,to:t}:a?T={from:c,to:void 0}:T=void 0:y(t,c)?T={from:t,to:c}:T={from:c,to:t};else if(c&&f)if(m(c,t)&&m(f,t))a?T={from:c,to:f}:T=void 0;else if(m(c,t))T={from:c,to:n>0?void 0:t};else if(m(f,t))T={from:t,to:n>0?void 0:t};else if(y(t,c))T={from:t,to:f};else if(g(t,c))T={from:c,to:t};else if(g(t,f))T={from:c,to:t};else throw new Error("Invalid range");if(T?.from&&T?.to){const w=l.differenceInCalendarDays(T.to,T.from);i>0&&w>i?T={from:t,to:void 0}:n>1&&w<n&&(T={from:t,to:void 0})}return T}function fB(t,e,n=Ai){const i=Array.isArray(e)?e:[e];let a=t.from;const l=n.differenceInCalendarDays(t.to,t.from),c=Math.min(l,6);for(let f=0;f<=c;f++){if(i.includes(a.getDay()))return!0;a=n.addDays(a,1)}return!1}function Nw(t,e,n=Ai){return Xi(t,e.from,!1,n)||Xi(t,e.to,!1,n)||Xi(e,t.from,!1,n)||Xi(e,t.to,!1,n)}function dB(t,e,n=Ai){const i=Array.isArray(e)?e:[e];if(i.filter(f=>typeof f!="function").some(f=>typeof f=="boolean"?f:n.isDate(f)?Xi(t,f,!1,n):hD(f,n)?f.some(m=>Xi(t,m,!1,n)):Ld(f)?f.from&&f.to?Nw(t,{from:f.from,to:f.to},n):!1:cD(f)?fB(t,f.dayOfWeek,n):Qv(f)?n.isAfter(f.before,f.after)?Nw(t,{from:n.addDays(f.after,1),to:n.addDays(f.before,-1)},n):Zi(t.from,f,n)||Zi(t.to,f,n):Xv(f)||Zv(f)?Zi(t.from,f,n)||Zi(t.to,f,n):!1))return!0;const c=i.filter(f=>typeof f=="function");if(c.length){let f=t.from;const m=n.differenceInCalendarDays(t.to,t.from);for(let g=0;g<=m;g++){if(c.some(y=>y(f)))return!0;f=n.addDays(f,1)}}return!1}function mB(t,e){const{disabled:n,excludeDisabled:i,selected:a,required:l,onSelect:c}=t,[f,m]=Ud(a,c?a:void 0),g=c?a:f;return{selected:g,select:(w,D,V)=>{const{min:R,max:P}=t,z=w?hB(w,g,R,P,l,e):void 0;return i&&n&&z?.from&&z.to&&dB({from:z.from,to:z.to},n,e)&&(z.from=w,z.to=void 0),c||m(z),c?.(z,w,D,V),z},isSelected:w=>g&&Xi(g,w,!1,e)}}function pB(t,e){const{selected:n,required:i,onSelect:a}=t,[l,c]=Ud(n,a?n:void 0),f=a?n:l,{isSameDay:m}=e;return{selected:f,select:(T,w,D)=>{let V=T;return!i&&f&&f&&m(T,f)&&(V=void 0),a||c(V),a?.(V,T,w,D),V},isSelected:T=>f?m(f,T):!1}}function gB(t,e){const n=pB(t,e),i=cB(t,e),a=mB(t,e);switch(t.mode){case"single":return n;case"multiple":return i;case"range":return a;default:return}}function pn(t,e){return t instanceof Qi&&t.timeZone===e?t:new Qi(t,e)}function Mw(t,e){return typeof t=="boolean"||typeof t=="function"?t:t instanceof Date?pn(t,e):Array.isArray(t)?t.map(n=>n instanceof Date?pn(n,e):n):Ld(t)?{...t,from:t.from?pn(t.from,e):t.from,to:t.to?pn(t.to,e):t.to}:Qv(t)?{before:pn(t.before,e),after:pn(t.after,e)}:Xv(t)?{after:pn(t.after,e)}:Zv(t)?{before:pn(t.before,e)}:t}function vg(t,e){return t&&(Array.isArray(t)?t.map(n=>Mw(n,e)):Mw(t,e))}function SD(t){let e=t;const n=e.timeZone;if(n&&(e={...t,timeZone:n},e.today&&(e.today=pn(e.today,n)),e.month&&(e.month=pn(e.month,n)),e.defaultMonth&&(e.defaultMonth=pn(e.defaultMonth,n)),e.startMonth&&(e.startMonth=pn(e.startMonth,n)),e.endMonth&&(e.endMonth=pn(e.endMonth,n)),e.mode==="single"&&e.selected?e.selected=pn(e.selected,n):e.mode==="multiple"&&e.selected?e.selected=e.selected?.map(Me=>pn(Me,n)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?pn(e.selected.from,n):e.selected.from,to:e.selected.to?pn(e.selected.to,n):e.selected.to}),e.disabled!==void 0&&(e.disabled=vg(e.disabled,n)),e.hidden!==void 0&&(e.hidden=vg(e.hidden,n)),e.modifiers)){const Me={};Object.keys(e.modifiers).forEach(Le=>{Me[Le]=vg(e.modifiers?.[Le],n)}),e.modifiers=Me}const{components:i,formatters:a,labels:l,dateLib:c,locale:f,classNames:m}=Q.useMemo(()=>{const Me={...oD,...e.locale},Le=new ns({locale:Me,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},e.dateLib);return{dateLib:Le,components:CU(e.components),formatters:LU(e.formatters),labels:HU(e.labels,Le.options),locale:Me,classNames:{...NU(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.components,e.formatters,e.labels,e.classNames]);e.today||(e={...e,today:c.today()});const{captionLayout:g,mode:y,navLayout:T,numberOfMonths:w=1,onDayBlur:D,onDayClick:V,onDayFocus:R,onDayKeyDown:P,onDayMouseEnter:z,onDayMouseLeave:K,onNextClick:F,onPrevClick:te,showWeekNumber:B,styles:G}=e,{formatCaption:x,formatDay:A,formatMonthDropdown:M,formatWeekNumber:k,formatWeekNumberHeader:O,formatWeekdayName:I,formatYearDropdown:N}=a,pe=aB(e,c),{days:Be,months:J,navStart:oe,navEnd:he,previousMonth:Te,nextMonth:Ce,goToMonth:L}=pe,se=AU(Be,e,oe,he,c),{isSelected:ue,select:ce,selected:Ee}=gB(e,c)??{},{blur:Oe,focused:Fe,isFocusTarget:It,moveFocus:mt,setFocused:ss}=uB(e,pe,se,ue??(()=>!1),c),{labelDayButton:or,labelGridcell:lr,labelGrid:ur,labelMonthDropdown:is,labelNav:cr,labelPrevious:xi,labelNext:ca,labelWeekday:ha,labelWeekNumber:Dt,labelWeekNumberHeader:Ot,labelYearDropdown:qs}=l,Hl=Q.useMemo(()=>YU(c,e.ISOWeek,e.broadcastCalendar,e.today),[c,e.ISOWeek,e.broadcastCalendar,e.today]),fa=y!==void 0||V!==void 0,Qt=Q.useCallback(()=>{Te&&(L(Te),te?.(Te))},[Te,L,te]),Ss=Q.useCallback(()=>{Ce&&(L(Ce),F?.(Ce))},[L,Ce,F]),da=Q.useCallback((Me,Le)=>Se=>{Se.preventDefault(),Se.stopPropagation(),ss(Me),!Le.disabled&&(ce?.(Me.date,Le,Se),V?.(Me.date,Le,Se))},[ce,V,ss]),ma=Q.useCallback((Me,Le)=>Se=>{ss(Me),R?.(Me.date,Le,Se)},[R,ss]),Gs=Q.useCallback((Me,Le)=>Se=>{Oe(),D?.(Me.date,Le,Se)},[Oe,D]),ql=Q.useCallback((Me,Le)=>Se=>{const Ae={ArrowLeft:[Se.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[Se.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[Se.shiftKey?"year":"week","after"],ArrowUp:[Se.shiftKey?"year":"week","before"],PageUp:[Se.shiftKey?"year":"month","before"],PageDown:[Se.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Ae[Se.key]){Se.preventDefault(),Se.stopPropagation();const[kt,Re]=Ae[Se.key];mt(kt,Re)}P?.(Me.date,Le,Se)},[mt,P,e.dir]),mo=Q.useCallback((Me,Le)=>Se=>{z?.(Me.date,Le,Se)},[z]),po=Q.useCallback((Me,Le)=>Se=>{K?.(Me.date,Le,Se)},[K]),go=Q.useCallback(Me=>Le=>{const Se=Number(Le.target.value),Ae=c.setMonth(c.startOfMonth(Me),Se);L(Ae)},[c,L]),Bn=Q.useCallback(Me=>Le=>{const Se=Number(Le.target.value),Ae=c.setYear(c.startOfMonth(Me),Se);L(Ae)},[c,L]),{className:Xt,style:Nn}=Q.useMemo(()=>({className:[m[ye.Root],e.className].filter(Boolean).join(" "),style:{...G?.[ye.Root],...e.style}}),[m,e.className,e.style,G]),wt=DU(e),pa=Q.useRef(null);XU(pa,!!e.animate,{classNames:m,months:J,focused:Fe,dateLib:c});const hr={dayPickerProps:e,selected:Ee,select:ce,isSelected:ue,months:J,nextMonth:Ce,previousMonth:Te,goToMonth:L,getModifiers:se,components:i,classNames:m,styles:G,labels:l,formatters:a};return fe.createElement(uD.Provider,{value:hr},fe.createElement(i.Root,{rootRef:e.animate?pa:void 0,className:Xt,style:Nn,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],"aria-labelledby":e["aria-labelledby"],...wt},fe.createElement(i.Months,{className:m[ye.Months],style:G?.[ye.Months]},!e.hideNavigation&&!T&&fe.createElement(i.Nav,{"data-animated-nav":e.animate?"true":void 0,className:m[ye.Nav],style:G?.[ye.Nav],"aria-label":cr(),onPreviousClick:Qt,onNextClick:Ss,previousMonth:Te,nextMonth:Ce}),J.map((Me,Le)=>fe.createElement(i.Month,{"data-animated-month":e.animate?"true":void 0,className:m[ye.Month],style:G?.[ye.Month],key:Le,displayIndex:Le,calendarMonth:Me},T==="around"&&!e.hideNavigation&&Le===0&&fe.createElement(i.PreviousMonthButton,{type:"button",className:m[ye.PreviousMonthButton],tabIndex:Te?void 0:-1,"aria-disabled":Te?void 0:!0,"aria-label":xi(Te),onClick:Qt,"data-animated-button":e.animate?"true":void 0},fe.createElement(i.Chevron,{disabled:Te?void 0:!0,className:m[ye.Chevron],orientation:e.dir==="rtl"?"right":"left"})),fe.createElement(i.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:m[ye.MonthCaption],style:G?.[ye.MonthCaption],calendarMonth:Me,displayIndex:Le},g?.startsWith("dropdown")?fe.createElement(i.DropdownNav,{className:m[ye.Dropdowns],style:G?.[ye.Dropdowns]},(()=>{const Se=g==="dropdown"||g==="dropdown-months"?fe.createElement(i.MonthsDropdown,{key:"month",className:m[ye.MonthsDropdown],"aria-label":is(),classNames:m,components:i,disabled:!!e.disableNavigation,onChange:go(Me.date),options:qU(Me.date,oe,he,a,c),style:G?.[ye.Dropdown],value:c.getMonth(Me.date)}):fe.createElement("span",{key:"month"},M(Me.date,c)),Ae=g==="dropdown"||g==="dropdown-years"?fe.createElement(i.YearsDropdown,{key:"year",className:m[ye.YearsDropdown],"aria-label":qs(c.options),classNames:m,components:i,disabled:!!e.disableNavigation,onChange:Bn(Me.date),options:WU(oe,he,a,c,!!e.reverseYears),style:G?.[ye.Dropdown],value:c.getYear(Me.date)}):fe.createElement("span",{key:"year"},N(Me.date,c));return c.getMonthYearOrder()==="year-first"?[Ae,Se]:[Se,Ae]})(),fe.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},x(Me.date,c.options,c))):fe.createElement(i.CaptionLabel,{className:m[ye.CaptionLabel],role:"status","aria-live":"polite"},x(Me.date,c.options,c))),T==="around"&&!e.hideNavigation&&Le===w-1&&fe.createElement(i.NextMonthButton,{type:"button",className:m[ye.NextMonthButton],tabIndex:Ce?void 0:-1,"aria-disabled":Ce?void 0:!0,"aria-label":ca(Ce),onClick:Ss,"data-animated-button":e.animate?"true":void 0},fe.createElement(i.Chevron,{disabled:Ce?void 0:!0,className:m[ye.Chevron],orientation:e.dir==="rtl"?"left":"right"})),Le===w-1&&T==="after"&&!e.hideNavigation&&fe.createElement(i.Nav,{"data-animated-nav":e.animate?"true":void 0,className:m[ye.Nav],style:G?.[ye.Nav],"aria-label":cr(),onPreviousClick:Qt,onNextClick:Ss,previousMonth:Te,nextMonth:Ce}),fe.createElement(i.MonthGrid,{role:"grid","aria-multiselectable":y==="multiple"||y==="range","aria-label":ur(Me.date,c.options,c)||void 0,className:m[ye.MonthGrid],style:G?.[ye.MonthGrid]},!e.hideWeekdays&&fe.createElement(i.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:m[ye.Weekdays],style:G?.[ye.Weekdays]},B&&fe.createElement(i.WeekNumberHeader,{"aria-label":Ot(c.options),className:m[ye.WeekNumberHeader],style:G?.[ye.WeekNumberHeader],scope:"col"},O()),Hl.map(Se=>fe.createElement(i.Weekday,{"aria-label":ha(Se,c.options,c),className:m[ye.Weekday],key:String(Se),style:G?.[ye.Weekday],scope:"col"},I(Se,c.options,c)))),fe.createElement(i.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:m[ye.Weeks],style:G?.[ye.Weeks]},Me.weeks.map(Se=>fe.createElement(i.Week,{className:m[ye.Week],key:Se.weekNumber,style:G?.[ye.Week],week:Se},B&&fe.createElement(i.WeekNumber,{week:Se,style:G?.[ye.WeekNumber],"aria-label":Dt(Se.weekNumber,{locale:f}),className:m[ye.WeekNumber],scope:"row",role:"rowheader"},k(Se.weekNumber,c)),Se.days.map(Ae=>{const{date:kt}=Ae,Re=se(Ae);if(Re[St.focused]=!Re.hidden&&!!Fe?.isEqualTo(Ae),Re[Fs.selected]=ue?.(kt)||Re.selected,Ld(Ee)){const{from:Mn,to:As}=Ee;Re[Fs.range_start]=!!(Mn&&As&&c.isSameDay(kt,Mn)),Re[Fs.range_end]=!!(Mn&&As&&c.isSameDay(kt,As)),Re[Fs.range_middle]=Xi(Ee,kt,!0,c)}const zn=GU(Re,G,e.modifiersStyles),Gl=xU(Re,m,e.modifiersClassNames),yo=!fa&&!Re.hidden?lr(kt,Re,c.options,c):void 0;return fe.createElement(i.Day,{key:`${Ae.isoDate}_${Ae.displayMonthId}`,day:Ae,modifiers:Re,className:Gl.join(" "),style:zn,role:"gridcell","aria-selected":Re.selected||void 0,"aria-label":yo,"data-day":Ae.isoDate,"data-month":Ae.outside?Ae.dateMonthId:void 0,"data-selected":Re.selected||void 0,"data-disabled":Re.disabled||void 0,"data-hidden":Re.hidden||void 0,"data-outside":Ae.outside||void 0,"data-focused":Re.focused||void 0,"data-today":Re.today||void 0},!Re.hidden&&fa?fe.createElement(i.DayButton,{className:m[ye.DayButton],style:G?.[ye.DayButton],type:"button",day:Ae,modifiers:Re,disabled:!Re.focused&&Re.disabled||void 0,"aria-disabled":Re.focused&&Re.disabled||void 0,tabIndex:It(Ae)?0:-1,"aria-label":or(kt,Re,c.options,c),onClick:da(Ae,Re),onBlur:Gs(Ae,Re),onFocus:ma(Ae,Re),onKeyDown:ql(Ae,Re),onMouseEnter:mo(Ae,Re),onMouseLeave:po(Ae,Re)},A(kt,c.options,c)):!Re.hidden&&A(Ae.date,c.options,c))})))))))),e.footer&&fe.createElement(i.Footer,{className:m[ye.Footer],style:G?.[ye.Footer],role:"status","aria-live":"polite"},e.footer)))}const en=({as:t="button",className:e="",children:n,...i})=>v.jsx(t,{className:`inline-flex items-center justify-center gap-2 select-none
      px-4 py-3 text-sm md:text-base font-semibold rounded-2xl
      bg-gradient-to-br from-indigo-600 to-indigo-500 text-white
      shadow-lg shadow-indigo-500/25 hover:shadow-xl active:scale-95 
      focus:outline-none
      transition-all disabled:opacity-60 ${e}`,...i,children:n}),lt=({as:t="button",className:e="",children:n,...i})=>v.jsx(t,{className:`inline-flex items-center justify-center gap-2 px-3 py-2 text-sm rounded-lg
      backdrop-blur-sm border border-white/10 text-slate-700
      hover:bg-white/60 active:scale-95 focus:outline-none
      transition ${e}`,...i,children:n}),Ut=fe.forwardRef((t,e)=>v.jsx("input",{ref:e,...t,className:`w-full px-3 py-2 text-sm md:text-base rounded-xl bg-white/60 backdrop-blur-sm
      border border-slate-200/30 outline-none focus:border-indigo-400
      placeholder:text-slate-400 transition ${t.className||""}`})),AD=t=>{const e=Q.useRef(null);return Q.useEffect(()=>{const n=e.current;n&&(n.style.height="0px",n.style.height=`${n.scrollHeight}px`)},[t.value]),v.jsx("textarea",{ref:e,rows:1,...t,className:`w-full px-3 py-2 text-sm md:text-base rounded-xl bg-white/60 backdrop-blur-sm
        border border-white/10 outline-none focus:ring-2 focus:ring-indigo-400 transition resize-none overflow-y-hidden
        ${t.className||""}`})},yB=t=>v.jsx("select",{...t,className:`w-full px-3 py-2 text-sm md:text-base rounded-xl bg-white/60 backdrop-blur-sm
      border border-slate-200/30 outline-none focus:border-indigo-400 transition ${t.className||""}`}),Cn=({className:t="",children:e,...n})=>v.jsx(no.div,{initial:{opacity:0,y:8,scale:.995},animate:{opacity:1,y:0,scale:1},transition:{duration:.18},className:`bg-white/70 backdrop-blur-sm border border-white/10
      p-4 md:p-6 mb-3 rounded-2xl shadow-lg shadow-slate-300/20 ${t}`,...n,children:e}),Zn=({children:t})=>v.jsx(no.div,{initial:{opacity:0,x:-8},animate:{opacity:1,x:0},transition:{duration:.18},className:"text-lg md:text-2xl font-semibold mb-4 flex items-center gap-2 text-slate-800",children:t}),Bd=({children:t,className:e=""})=>v.jsx("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 text-xs font-semibold rounded-full bg-white/20 border border-white/5 ${e}`,children:t}),vs={book:v.jsx("span",{className:"material-symbols-outlined text-blue-600",style:{fontVariationSettings:'"FILL" 1'},children:"book"}),door:v.jsx("span",{className:"material-symbols-outlined text-teal-500",style:{fontVariationSettings:'"FILL" 1'},children:"door_open"}),location:v.jsx("span",{className:"material-symbols-outlined text-red-500",style:{fontVariationSettings:'"FILL" 1'},children:"location_on"}),teacher:v.jsx("span",{className:"material-symbols-outlined text-violet-500",style:{fontVariationSettings:'"FILL" 1'},children:"school"}),lightbulb:v.jsx("span",{className:"material-symbols-outlined text-yellow-500",style:{fontVariationSettings:'"FILL" 1'},children:"lightbulb"}),celebration:v.jsx("span",{className:"material-symbols-outlined text-pink-500",style:{fontVariationSettings:'"FILL" 1'},children:"celebration"}),bolt:v.jsx("span",{className:"material-symbols-outlined text-amber-500",style:{fontVariationSettings:'"FILL" 1'},children:"bolt"}),task:v.jsx("span",{className:"material-symbols-outlined text-indigo-600",style:{fontVariationSettings:'"FILL" 1'},children:"task"}),event:v.jsx("span",{className:"material-symbols-outlined text-purple-600",style:{fontVariationSettings:'"FILL" 1'},children:"event"}),smile:v.jsx("span",{className:"material-symbols-outlined text-orange-500",style:{fontVariationSettings:'"FILL" 1'},children:"sentiment_satisfied"})},hc={subjects:[],tasks:[],courses:[],scheduleOverrides:{},lastLogin:null,loginStreak:0};function vB(t,e){switch(e.type){case"load":{const n=e.payload;return typeof n!="object"||n===null?hc:{...hc,subjects:Array.isArray(n.subjects)?n.subjects.filter(i=>i&&typeof i=="object"):[],tasks:Array.isArray(n.tasks)?n.tasks.filter(i=>i&&typeof i=="object"):[],courses:Array.isArray(n.courses)?n.courses.filter(i=>i&&typeof i=="object"):[],scheduleOverrides:typeof n.scheduleOverrides=="object"&&n.scheduleOverrides!==null?n.scheduleOverrides:{},lastLogin:n.lastLogin||null,loginStreak:n.loginStreak||0}}case"addSubject":return{...t,subjects:[...t.subjects,e.payload]};case"updateSubject":return{...t,subjects:t.subjects.map(n=>n.id===e.payload.id?{...n,...e.payload}:n)};case"deleteSubject":return{...t,subjects:t.subjects.filter(n=>n.id!==e.id),tasks:t.tasks.filter(n=>n.subjectId!==e.id)};case"addTask":return{...t,tasks:[...t.tasks,e.payload]};case"updateTask":return{...t,tasks:t.tasks.map(n=>n.id===e.payload.id?{...n,...e.payload,updatedAt:Date.now()}:n)};case"deleteTask":return{...t,tasks:t.tasks.filter(n=>n.id!==e.id)};case"addCourse":return{...t,courses:[...t.courses,e.payload]};case"updateCourse":return{...t,courses:t.courses.map(n=>n.id===e.payload.id?{...n,...e.payload,updatedAt:Date.now()}:n)};case"deleteCourse":return{...t,courses:t.courses.filter(n=>n.id!==e.id)};case"setScheduleOverride":{const{key:n,status:i}=e.payload;return{...t,scheduleOverrides:{...t.scheduleOverrides,[n]:i}}}case"removeScheduleOverride":{const{key:n}=e.payload,i={...t.scheduleOverrides};return delete i[n],{...t,scheduleOverrides:i}}case"updateLoginStreak":return{...t,lastLogin:e.payload.lastLogin,loginStreak:e.payload.loginStreak};case"reset":return{...hc,scheduleOverrides:{}};default:return t}}const by=()=>Math.random().toString(36).slice(2,9),xD=(t,e=1)=>{if(!t||!/^#([A-Fa-f0-9]{3}){1,2}$/.test(t))return"";let n=t.substring(1).split("");return n.length===3&&(n=[n[0],n[0],n[1],n[1],n[2],n[2]]),n="0x"+n.join(""),`rgba(${n>>16&255}, ${n>>8&255}, ${n&255}, ${e})`},CD=t=>{const e=new Date("2025-12-02"),n=ws(t,{weekStartsOn:1}),i=ws(e,{weekStartsOn:1});return Math.floor(xN(n,i)/7)%2===0?"odd":"even"},Ku=(t,e,n={})=>{const i=ws(e,{weekStartsOn:1}),a=ze(i,"yyyy-MM-dd"),l=`${t.id}_${a}`;if(n[l])return{status:n[l],isOverridden:!0};const c=CD(e);let f="unknown";return t.scheduleType==="online-always"?f="online":t.scheduleType==="onsite-always"?f="onsite":t.scheduleType==="odd-onsite"?f=c==="odd"?"onsite":"online":t.scheduleType==="even-onsite"&&(f=c==="even"?"onsite":"online"),{status:f,isOverridden:!1}},Rw=(t,e)=>{const n=e.getDay();return t.filter(i=>i.dayOfWeek===n).sort((i,a)=>i.startTime.localeCompare(a.startTime))},_B=t=>{const e=new Date,n={};return Object.entries(t||{}).forEach(([i,a])=>{const l=i.split("_")[1];if(!l){n[i]=a;return}const c=new Date(l),f=Jn(c,4),m=Jn(f,5);e<m?n[i]=a:console.log(`  override : ${i} ( ${ze(m,"yyyy-MM-dd")})`)}),n};function TB(t){const[e,n]=Q.useReducer(vB,hc),i=Q.useRef(!0);return Q.useEffect(()=>{if(!t){n({type:"reset"});return}i.current=!0;const a=my(vy,"schedules",t),l=P6(a,c=>{if(c.exists()){const f=c.data();console.log("  Firestore:",f);const m=_B(f.scheduleOverrides);Object.keys(f.scheduleOverrides||{}).length!==Object.keys(m).length&&(console.log("  override  ..."),f.scheduleOverrides=m),n({type:"load",payload:f}),i.current=!1;const y=ze(new Date,"yyyy-MM-dd"),T=f.lastLogin?ze(new Date(f.lastLogin),"yyyy-MM-dd"):null;if(T!==y){const w=ze(Jn(new Date,-1),"yyyy-MM-dd"),D=T===w?(f.loginStreak||0)+1:1;console.log("  login streak:",D),n({type:"updateLoginStreak",payload:{lastLogin:new Date().toISOString(),loginStreak:D}})}}else console.log("  "),n({type:"reset"}),i.current=!1},c=>{console.error(" Error listening to document:",c),i.current=!1});return()=>l()},[t]),Q.useEffect(()=>{if(!t||i.current){console.log("  (userId:",t,"isInitialLoad:",i.current,")");return}const a=JSON.parse(JSON.stringify(e,(c,f)=>f===void 0?null:f));console.log("  Firestore..."),console.log(" scheduleOverrides:",e.scheduleOverrides),console.log("  keys:",Object.keys(e.scheduleOverrides||{}).length),console.log(" Full cleanState:",a);const l=my(vy,"schedules",t);CC(l,a).then(()=>{console.log(" !"),console.log(" scheduleOverrides :",a.scheduleOverrides)}).catch(c=>{console.error(" Error writing document: ",c),alert(" ")})},[e,t]),[e,n]}function bB(t){if(!("Notification"in window)||Notification.permission!=="granted"||!t.dueAt||!t.reminders?.length)return;const e=new Date(t.dueAt);t.reminders.forEach(n=>{let i=new Date(e);n.type==="minutes"&&(i=Lw(e,-n.amount)),n.type==="hours"&&(i=gN(e,-n.amount)),n.type==="days"&&(i=Jn(e,-n.amount));const a=i.getTime()-Date.now();a>0&&setTimeout(()=>{new Notification(`: ${t.title}`,{body:t.subjectName?`: ${t.subjectName}`:void 0})},Math.min(a,2147483647))})}function EB(t){const e=new Date(t),n=Math.max(0,Tg(e,new Date));return n>=1440?` ${Math.floor(n/1440)} `:n>=60?` ${Math.floor(n/60)} .`:` ${n} `}function Ey(t){const e={todo:"",doing:"",done:""},n=t==="done"?"border-emerald-400 text-emerald-600 dark:text-emerald-300":t==="doing"?"border-amber-400 text-amber-600 dark:text-amber-300":"border-slate-300 text-slate-500 dark:text-slate-300";return v.jsx(Bd,{className:n,children:e[t]})}function wB(){const[t,e]=Q.useState(null),[n,i]=Q.useState(!0),[a,l]=TB(t?.uid),[c,f]=Q.useState("dashboard"),[m,g]=Q.useState(null),[y,T]=Q.useState(""),[w,D]=Q.useState(!1),[V,R]=Q.useState(new Set),[P,z]=Q.useState(0);Q.useEffect(()=>{const I=xL(_y,N=>{e(N),i(!1)});return()=>I()},[]),Q.useEffect(()=>{const I=setInterval(()=>z(N=>N+1),3e4);return()=>clearInterval(I)},[]);const K=Q.useMemo(()=>Object.fromEntries(a.subjects.map(I=>[I.id,I])),[a.subjects]),F=Q.useMemo(()=>a.tasks.map(I=>({...I,subjectName:K[I.subjectId]?.name,subjectColor:K[I.subjectId]?.color})),[a.tasks,K]),te=F.filter(I=>I.dueAt&&OM(new Date(I.dueAt))),B=te.length?Math.round(te.reduce((I,N)=>I+(N.progress||0),0)/te.length):F.length?Math.round(F.reduce((I,N)=>I+(N.progress||0),0)/F.length):0;F.filter(I=>I.status==="done").length;const G=Math.max(0,100-B),x=F.filter(I=>I.dueAt&&I.status!=="done").sort((I,N)=>new Date(I.dueAt)-new Date(N.dueAt)).slice(0,5),A=Q.useMemo(()=>{let I=F;return m&&(I=I.filter(N=>N.subjectId===m)),y.trim()&&(I=I.filter(N=>(N.title+" "+(N.detail||"")).toLowerCase().includes(y.toLowerCase()))),I=[...I].sort((N,pe)=>N.status==="done"&&pe.status!=="done"?1:N.status!=="done"&&pe.status==="done"?-1:N.dueAt&&pe.dueAt?new Date(N.dueAt)-new Date(pe.dueAt):N.dueAt?-1:pe.dueAt?1:new Date(pe.createdAt)-new Date(N.createdAt)),I.filter(N=>N.status==="done"&&N.updatedAt?_g(new Date,new Date(N.updatedAt))<1:!0)},[F,m,y]);Q.useEffect(()=>{if("Notification"in window&&Notification.permission==="default"){const I=setTimeout(()=>Notification.requestPermission(),1e3);return()=>clearTimeout(I)}},[]);const M=Q.useMemo(()=>F.filter(I=>I.status==="done"&&I.updatedAt&&_g(new Date,new Date(I.updatedAt))>=1).sort((I,N)=>new Date(N.updatedAt)-new Date(I.updatedAt)),[F]),k=[{key:"dashboard",label:"",icon:p4},{key:"tasks",label:"",icon:v4},{key:"schedule",label:"",icon:Pc},{key:"settings",label:"",icon:d4}];if(Q.useEffect(()=>{F.forEach(bB)},[F]),n)return v.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-100 dark:bg-slate-900",children:"..."});if(!t)return v.jsx(OB,{});const O=()=>{confirm("?")&&CL(_y)};return v.jsxs("div",{className:"min-h-screen text-slate-800 dark:text-slate-100 bg-slate-100 dark:bg-slate-950 font-sans",children:[v.jsxs("div",{className:"md:flex pb-16 md:pb-0",children:[v.jsxs("aside",{className:"hidden md:flex flex-col w-64 bg-white dark:bg-black border-r-4 border-black dark:border-white p-4",children:[v.jsx("div",{className:"flex items-center gap-3 mb-8 px-2",children:v.jsx("img",{src:"/logo.svg",alt:"FlowO Logo",className:"h-9"})}),v.jsx("nav",{className:"flex-1 space-y-2",children:k.map(({key:I,label:N,icon:pe})=>v.jsxs("a",{href:"#",onClick:Be=>{Be.preventDefault(),f(I)},className:`flex items-center gap-3 px-4 py-2.5 rounded-xl text-sm font-medium transition-all ${c===I?"bg-white text-indigo-600 shadow-md":"hover:bg-slate-200/50 text-slate-600"}`,children:[v.jsx(pe,{className:"h-5 w-5"}),v.jsx("span",{children:N})]},I))}),v.jsx("div",{className:"mt-auto",children:v.jsxs("div",{className:"flex items-center gap-2 text-sm p-2 rounded-xl bg-slate-200/50 dark:bg-slate-800/50",children:[t.photoURL?v.jsx("img",{src:t.photoURL,alt:t.displayName||t.email,className:"h-8 w-8 rounded-full"}):v.jsx("div",{className:"h-8 w-8 rounded-full bg-slate-300 dark:bg-slate-700 flex items-center justify-center",children:v.jsx(LA,{className:"h-4 w-4 text-slate-500"})}),v.jsx("span",{className:"truncate flex-1 font-medium",children:t.displayName||t.email})]})})]}),v.jsxs("main",{className:"flex-1 px-4 py-6 md:p-8",children:[v.jsx("header",{className:"md:hidden flex items-center justify-between mb-4",children:v.jsx("img",{src:"/logo.svg",alt:"FlowO Logo",className:"h-8"})}),v.jsx(di,{mode:"wait",children:v.jsxs(no.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.12},children:[c==="dashboard"&&v.jsx(SB,{state:a,tasks:F,dueSoon:x,progressToday:B,lazyScore:G,setView:f,setSelectedSubject:g}),c==="tasks"&&v.jsx(xB,{state:a,dispatch:l,tasks:F,filteredTasks:A,setQuery:T,query:y,selectedSubject:m,setSelectedSubject:g,deleteMode:w,selectedTasksForDeletion:V,setSelectedTasksForDeletion:R}),c==="schedule"&&v.jsx(AB,{state:a,dispatch:l,userId:t?.uid}),c==="settings"&&v.jsx(MB,{state:a,dispatch:l,userId:t?.uid,onLogout:O,setView:f}),c==="history"&&v.jsx(IB,{tasks:M,dispatch:l})]},c)})]})]}),c==="tasks"&&v.jsxs("div",{className:"fixed left-4 right-4 bottom-20 md:bottom-6 flex items-center justify-between gap-3 z-40",children:[w?v.jsxs(en,{onClick:()=>{D(!1),R(new Set)},className:"bg-slate-500 hover:bg-slate-600",children:[v.jsx(j4,{className:"h-4 w-4"})," "]}):v.jsx(en,{onClick:()=>D(!0),className:"bg-slate-600 hover:bg-slate-700",children:v.jsx(bc,{className:"h-4 w-4"})}),w?v.jsxs(en,{onClick:()=>{confirm(` ${V.size} ?`)&&(V.forEach(I=>l({type:"deleteTask",id:I})),R(new Set),D(!1))},className:"bg-rose-600 hover:bg-rose-700",disabled:V.size===0,children:[v.jsx(bc,{className:"h-4 w-4"}),"  ",V.size," "]}):v.jsx(CB,{subjects:a.subjects,onAdd:I=>l({type:"addTask",payload:I})})]}),v.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white/90 dark:bg-slate-950/90 border-t border-slate-200/50 dark:border-slate-800/50 p-1",children:v.jsx("div",{className:"flex items-center justify-around",children:k.map(({key:I,label:N,icon:pe})=>v.jsxs("a",{href:"#",onClick:Be=>{Be.preventDefault(),f(I)},className:`flex flex-col items-center justify-center w-16 h-14 rounded-xl transition-all ${c===I?"text-indigo-600":"text-slate-500"}`,children:[v.jsx(pe,{className:"h-6 w-6"}),v.jsx("span",{className:"text-xs mt-1",children:N})]},I))})})]})}function SB({state:t,tasks:e,dueSoon:n,progressToday:i,lazyScore:a,setView:l,setSelectedSubject:c}){const[f,m]=Q.useState(null),[g,y]=Q.useState(new Date),[T,w]=Q.useState(new Date),D=Hw(T),V=zw(T),R=Fw({start:ws(D,{weekStartsOn:1}),end:Cy(V,{weekStartsOn:1})}),P=e.reduce((B,G)=>{if(!G.dueAt)return B;const x=ze(new Date(G.dueAt),"yyyy-MM-dd");return B[x]=B[x]||[],B[x].push(G),B},{}),z=B=>{m(B),y(B)},K=Q.useMemo(()=>{const B=new Map;for(const G of R){const x=ze(G,"yyyy-MM-dd"),A=new Set;for(const k of e){const O=k.taskType==="event",I=k.dueAt&&Yi(new Date(k.dueAt),G),N=k.startAt&&Yi(new Date(k.startAt),G),pe=k.startAt&&k.dueAt&&!N&&!I&&G>new Date(k.startAt)&&G<new Date(k.dueAt);I&&(O||k.taskType==="deadline")?A.add("red"):N?A.add("blue"):pe&&A.add("green")}const M=Array.from(A).sort((k,O)=>{const I={red:0,blue:1,green:2};return I[k]-I[O]});B.set(x,M)}return B},[R,e]),F=Q.useMemo(()=>{const B=[],G=(P[ze(g,"yyyy-MM-dd")]||[]).sort((I,N)=>(I.dueAt?new Date(I.dueAt).getTime():-1)-(N.dueAt?new Date(N.dueAt).getTime():-1)),x=G.filter(I=>!I.dueAt),A=e.filter(I=>I.taskType==="deadline"&&I.startAt&&I.dueAt&&Yi(g,new Date(I.startAt))===!1&&Yi(g,new Date(I.dueAt))===!1&&g>new Date(I.startAt)&&g<new Date(I.dueAt));x.length>0&&B.push({type:"all-day",tasks:x});const M=G.filter(I=>I.dueAt);let k=new Date(g).setHours(0,0,0,0);M.forEach(I=>{const N=new Date(I.dueAt).getTime();if(N>k){const Be=Tg(N,k);Be>15&&B.push({type:"free",start:k,end:N,duration:Be})}const pe=Lw(N,I.duration||60).getTime();B.push({type:"task",task:I}),k=pe});const O=new Date(g).setHours(23,59,59,999);if(O>k){const I=Tg(O,k);I>15&&B.push({type:"free",start:k,end:O,duration:I})}return A.length>0&&B.unshift({type:"workable",tasks:A}),B},[g,P]),te=B=>B<60?`${B} `:`${Math.floor(B/60)} . ${B%60>0?B%60+" ":""}`;return v.jsxs("div",{className:"space-y-6",children:[v.jsxs(Cn,{children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsxs(Zn,{children:[v.jsx(h4,{className:"h-4 w-4"})," "]}),v.jsx("div",{className:"text-sm text-slate-500",children:""})]}),v.jsx("div",{className:"space-y-3",children:n.length>0?n.map(B=>v.jsxs("div",{className:"p-3 rounded-lg bg-white/60 flex items-start justify-between",children:[v.jsxs("div",{className:"min-w-0 flex-1",children:[v.jsx("div",{className:"font-medium truncate",children:B.title}),v.jsxs("div",{className:"text-xs text-slate-500",children:[B.subjectName||"","  ",B.dueAt?ze(new Date(B.dueAt),"d MMM HH:mm",{locale:es}):""]})]}),v.jsx("div",{className:"ml-3 flex flex-col items-end gap-2",children:Ey(B.status)})]},B.id)):v.jsx("div",{className:"text-slate-500 text-center py-6",children:""})})]}),v.jsxs(Cn,{children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsxs(Zn,{children:[v.jsx(Pc,{className:"h-4 w-4"})," "]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(lt,{onClick:()=>w(Ib(T,{months:-1})),children:v.jsx(Fg,{className:"h-4 w-4"})}),v.jsx("div",{className:"text-sm font-medium w-32 text-center",children:ze(T,"MMMM yyyy",{locale:es})}),v.jsx(lt,{onClick:()=>w(Ib(T,{months:1})),children:v.jsx(Hg,{className:"h-4 w-4"})})]})]}),v.jsx("div",{className:"grid grid-cols-7 gap-1 text-center text-xs text-slate-500 mb-2",children:["","","","","","",""].map(B=>v.jsx("div",{children:B},B))}),v.jsx("div",{className:"grid grid-cols-7 gap-1",children:R.map(B=>{const G=ze(B,"yyyy-MM-dd");P[G];const x=K.get(G)||[];return v.jsxs("div",{onClick:()=>z(B),className:`
                  aspect-square p-1 rounded-lg cursor-pointer
                  transition-all duration-200
                  border border-slate-200/50 dark:border-slate-700/50
                  backdrop-blur-sm
                  ${x.length>0?"scale-100":"scale-90 opacity-60"}
                  ${Qw(B,T)?`bg-white/60 ${!f||!Yi(B,f)?"hover:bg-white/80":""}`:"opacity-40"}
                  ${Yi(B,new Date)?"ring-2 ring-indigo-400":""}
                `,children:[v.jsx("div",{className:`text-xs ${Yi(B,new Date)?"font-semibold text-indigo-600":""}`,children:ze(B,"d")}),v.jsx("div",{className:"absolute bottom-1 left-1 right-1 flex flex-col gap-0.5",children:x.slice(0,8).map((A,M)=>v.jsx("div",{className:`h-0.5 w-full rounded-full ${A==="red"?"bg-red-500":A==="blue"?"bg-blue-500":"bg-green-500"}`},M))})]},G)})})]}),v.jsxs(Cn,{children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsxs(Zn,{children:[v.jsx(R4,{className:"h-4 w-4"})," "]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(lt,{onClick:()=>y(Nf(g,1)),children:v.jsx(Fg,{className:"h-4 w-4"})}),v.jsx("div",{className:"text-sm font-medium w-32 text-center",children:ze(g,"EEEE d MMM",{locale:es})}),v.jsx(lt,{onClick:()=>y(Jn(g,1)),children:v.jsx(Hg,{className:"h-4 w-4"})})]})]}),v.jsx("div",{className:"space-y-1",children:F.length>0?F.map((B,G)=>{if(B.type==="task"){const{task:x}=B,A=new Date(x.dueAt),M=x.taskType==="event";return v.jsxs("div",{className:"flex gap-4",children:[v.jsx("div",{className:"text-xs text-slate-400 w-12 text-right pt-2",children:ze(A,"HH:mm")}),v.jsxs("div",{className:`flex-1 p-3 rounded-lg border ${M?"border-green-500":"border-blue-500"}`,style:{backgroundColor:xD(M?"#22c55e":"#3b82f6",.1)},children:[v.jsx("div",{className:"font-medium text-sm",children:x.title}),v.jsx("div",{className:"text-xs text-slate-500",children:x.subjectName})]})]},x.id)}return B.type==="free"?v.jsx("div",{className:"relative flex items-center h-8",children:B.duration>30&&v.jsxs("div",{className:"absolute left-0 right-0 flex items-center justify-center",children:[v.jsx("div",{className:"w-full border-t-2 border-dashed border-slate-200 dark:border-slate-700 absolute"}),v.jsxs("span",{className:"bg-slate-100 dark:bg-slate-900 px-2 text-xs text-slate-400 relative z-10",children:[" ",te(B.duration)]})]})},`free-${G}`):B.type==="all-day"?v.jsxs("div",{className:"mb-2",children:[v.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300 mb-2",children:" ()"}),B.tasks.map(x=>v.jsx("div",{className:"p-2 rounded-lg bg-slate-100/80 dark:bg-slate-800/80 mb-1 text-sm",children:x.title},x.id))]},"all-day"):B.type==="workable"?v.jsxs("div",{className:"mb-2 p-3 rounded-lg bg-slate-100/80 dark:bg-slate-800/80",children:[v.jsxs("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300 mb-2 flex items-center gap-2",children:["  ",vs.smile]}),B.tasks.map(x=>v.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["- ",x.title," ",v.jsxs("span",{className:"text-xs",children:["(",x.subjectName,")"]})]},x.id))]},"workable-day"):null}):v.jsx("div",{className:"text-slate-500 text-center py-8",children:" "})})]}),v.jsx(di,{children:f&&v.jsxs(lo,{onClose:()=>m(null),children:[v.jsxs("div",{className:"text-lg font-semibold mb-4",children:[" ",ze(f,"d MMMM yyyy",{locale:es})]}),(()=>{const B=P[ze(f,"yyyy-MM-dd")]||[],G=B.filter(A=>A.status!=="done"),x=B.filter(A=>A.status==="done");return B.length===0?v.jsx("div",{className:"text-slate-500 text-center py-8",children:" "}):v.jsxs("div",{className:"space-y-4",children:[G.length>0&&v.jsx("div",{className:"space-y-2",children:G.map(A=>v.jsx("div",{onClick:()=>{l("tasks"),c(null)},className:"p-3 rounded-lg bg-slate-50 hover:bg-slate-100 cursor-pointer transition-colors",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("div",{className:"font-medium",children:A.title}),v.jsx("div",{className:"text-xs text-slate-500",children:A.subjectName})]}),v.jsx("div",{className:"flex gap-2",children:Ey(A.status)})]})},A.id))}),x.length>0&&v.jsxs("div",{children:[v.jsx("div",{className:"text-sm font-semibold text-slate-500 mt-4 pt-4 border-t border-slate-200/80",children:""}),v.jsx("div",{className:"space-y-2 mt-2",children:x.map(A=>v.jsxs("div",{className:"p-3 rounded-lg bg-slate-50/50 opacity-70",children:[v.jsx("div",{className:"font-medium line-through",children:A.title}),v.jsx("div",{className:"text-xs text-slate-500",children:A.subjectName})]},A.id))})]})]})})()]})})]})}function AB({state:t,dispatch:e,userId:n}){const[i,a]=Q.useState(new Date),[l,c]=Q.useState(null),f=CD(i),m=f==="odd"?"":"",g=f==="odd"?"bg-gradient-to-r from-indigo-500 to-purple-500 text-white shadow-lg shadow-indigo-500/50":"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-lg shadow-purple-500/50",y=Q.useMemo(()=>Rw(t.courses,i),[t.courses,i]),T=Q.useMemo(()=>{const R=ws(i,{weekStartsOn:1}),P=Jn(R,4);return Fw({start:R,end:P})},[i]),w=Q.useMemo(()=>{const R={};return T.forEach(P=>{const z=ze(P,"yyyy-MM-dd");R[z]=Rw(t.courses,P)}),R},[t.courses,T]),D=R=>{const[P,z]=R.startTime.split(":").map(Number),[K,F]=R.endTime.split(":").map(Number),te=P*60+z,B=K*60+F;return Math.ceil((B-te)/60)},V=(R,P)=>{const{status:z}=Ku(R,P,t.scheduleOverrides),K=ws(P,{weekStartsOn:1}),F=ze(K,"yyyy-MM-dd"),te=`${R.id}_${F}`,B=Ku(R,P,{}),G=z==="online"?"onsite":"online";G===B.status?e({type:"removeScheduleOverride",payload:{key:te}}):e({type:"setScheduleOverride",payload:{key:te,status:G}})};return v.jsxs("div",{className:"space-y-6",children:[v.jsxs(Cn,{children:[v.jsx("div",{className:"flex items-center justify-between mb-2",children:v.jsxs(Zn,{children:[v.jsx(Pc,{className:"h-4 w-4"})," "]})}),v.jsxs("div",{className:"flex items-center justify-between ",children:[v.jsxs(lt,{onClick:()=>{let R=Nf(i,1);R.getDay()===0&&(R=Nf(R,2)),R.getDay()===6&&(R=Nf(R,1)),a(R)},children:[v.jsx("span",{className:"hidden sm:inline text-base font-medium",children:""}),v.jsx(Fg,{className:"h-4 w-4 mr-0.5"})]}),v.jsxs("div",{className:"text-center flex-1 px-2 whitespace-nowrap",children:[v.jsx("div",{className:"font-semibold text-lg mb-2",children:ze(i,"EEEE d MMMM",{locale:es})}),v.jsx("div",{className:`inline-block px-12 py-2 rounded-full font-bold text-lg ${g}`,children:m})]}),v.jsxs(lt,{onClick:()=>{let R=Jn(i,1);R.getDay()===6&&(R=Jn(R,2)),R.getDay()===0&&(R=Jn(R,1)),a(R)},children:[v.jsx("span",{className:"hidden sm:inline text-base font-medium",children:""}),v.jsx(Hg,{className:"h-5 w-5"})]})]})]}),v.jsxs(Cn,{children:[v.jsx(Zn,{children:""}),y.length>0?v.jsx("div",{className:"space-y-3 mt-4",children:y.map(R=>{const{status:P,isOverridden:z}=Ku(R,i,t.scheduleOverrides),K=P==="online"?"bg-blue-500":P==="onsite"?"bg-green-500":"bg-slate-500",F=P==="online"?v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx("span",{className:"material-symbols-outlined text-sm leading-none",children:"globe"})," ",v.jsx("span",{className:"leading-none",children:""})]}):P==="onsite"?v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx("span",{className:"material-symbols-outlined text-sm leading-none",children:"school"})," ",v.jsx("span",{className:"leading-none",children:""})]}):v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx("span",{className:"material-symbols-outlined text-sm leading-none",children:"question_mark"})," ",v.jsx("span",{className:"leading-none",children:""})]});return v.jsxs("div",{onClick:()=>c({course:R,date:i}),className:"rounded-xl bg-white/60 dark:bg-slate-800/60 hover:bg-white dark:hover:bg-slate-800 cursor-pointer transition-all overflow-hidden border-l-4",style:{borderLeftColor:R.color},children:[v.jsxs("div",{className:`${K} text-white px-4 py-2 font-bold text-sm flex items-center justify-between`,children:[v.jsxs("div",{className:"flex items-center gap-2",children:[z&&v.jsx(Ef,{className:"h-4 w-4 animate-spin"}),F]}),v.jsxs("span",{className:"text-xs opacity-90",children:[v.jsx(PA,{className:"h-3 w-3 inline mr-1"}),R.startTime," - ",R.endTime]})]}),v.jsx("div",{className:"p-4",children:v.jsx("div",{className:"flex items-start justify-between",children:v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"font-semibold text-lg mb-2",children:R.name}),v.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-300 space-y-1",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[vs.book," : ",R.code]}),R.room&&v.jsxs("div",{className:"flex items-center gap-2",children:[vs.door," : ",R.room]}),R.pRoom&&v.jsxs("div",{className:"flex items-center gap-2",children:[vs.location,"  P: ",R.pRoom]}),R.teacher&&v.jsxs("div",{className:"flex items-center gap-2",children:[vs.teacher," : ",R.teacher]})]})]})})})]},R.id)})}):v.jsxs("div",{className:"text-center text-slate-500 py-10 flex flex-col items-center gap-2",children:[vs.celebration,v.jsx("span",{children:""})]})]}),v.jsxs(Cn,{children:[v.jsx("div",{className:"flex items-center justify-between mb-1",children:v.jsxs("div",{className:"flex flex-col",children:[v.jsx(Zn,{children:""}),v.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-1",children:[vs.lightbulb,"  "]})]})}),v.jsx("div",{className:"-mx-4 mt-5 overflow-x-auto",children:v.jsxs("table",{className:"w-full border-collapse",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{className:"border border-slate-200 dark:border-slate-700 p-2 bg-slate-50 dark:bg-slate-800 text-sm font-semibold sticky left-0 z-10",children:""}),T.map(R=>v.jsxs("th",{className:"border border-slate-200 dark:border-slate-700 p-2 bg-slate-50 dark:bg-slate-800 text-sm font-semibold min-w-[100px]",children:[ze(R,"EEEE",{locale:es}),v.jsx("div",{className:"text-xs font-normal text-slate-500",children:ze(R,"d MMM",{locale:es})})]},ze(R,"yyyy-MM-dd")))]})}),v.jsx("tbody",{children:["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00"].map((R,P)=>{const z=new Set;return v.jsxs("tr",{children:[v.jsx("td",{className:"border border-slate-200 dark:border-slate-700 p-2 text-xs text-slate-500 font-medium bg-slate-50 dark:bg-slate-800 sticky left-0 z-10",children:R}),T.map((K,F)=>{const te=ze(K,"yyyy-MM-dd"),B=`${te}-${P}`;if(z.has(B))return null;const x=(w[te]||[]).find(A=>A.startTime<=R&&A.endTime>R);if(x&&x.startTime===R){const A=D(x),{status:M,isOverridden:k}=Ku(x,K,t.scheduleOverrides),O=M==="online"?"bg-blue-500":M==="onsite"?"bg-green-500":"bg-slate-500",I=M==="online"?v.jsx("span",{className:"material-symbols-outlined text-[12px] leading-none",children:"globe"}):M==="onsite"?v.jsx("span",{className:"material-symbols-outlined text-[12px] leading-none",children:"school"}):v.jsx("span",{className:"material-symbols-outlined text-[12px] leading-none",children:"question_mark"}),N=M==="online"?"":M==="onsite"?"":"";for(let pe=0;pe<A;pe++)z.add(`${te}-${P+pe}`);return v.jsx("td",{rowSpan:A,onClick:()=>c({course:x,date:K}),className:"border border-slate-200 dark:border-slate-700 p-0 align-top cursor-pointer hover:shadow-lg hover:brightness-95 transition-all duration-200 group",style:{backgroundColor:xD(x.color,.15)},title:"",children:v.jsxs("div",{className:"h-full flex flex-col",children:[v.jsxs("div",{className:`${O} text-white px-2 py-1 text-[10px] font-bold flex items-center justify-center gap-1`,children:[k&&v.jsx(Ef,{className:"h-3 w-3 animate-spin"}),v.jsxs("span",{className:"flex items-center gap-1",children:[I,v.jsx("span",{className:"leading-none",children:N})]})]}),v.jsxs("div",{className:"p-2 flex-1",children:[v.jsx("div",{className:"font-medium text-xs",children:x.name}),v.jsx("div",{className:"text-slate-600 dark:text-slate-300 text-[10px]",children:x.code}),v.jsxs("div",{className:"text-slate-500 text-[10px] mt-1",children:[x.startTime,"-",x.endTime]})]})]})},te)}else if(!x)return v.jsx("td",{className:"border border-slate-200 dark:border-slate-700 p-1"},te);return null})]},R)})})]})})]}),v.jsx(di,{children:l&&(()=>{const{course:R,date:P}=l,{status:z,isOverridden:K}=Ku(R,P,t.scheduleOverrides),F=z==="online"?"onsite":"online";return v.jsxs(lo,{onClose:()=>c(null),children:[v.jsx("div",{className:"text-lg font-semibold mb-4",children:R.name}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-slate-500",children:""}),v.jsx("div",{className:"font-medium",children:R.code})]}),R.room&&v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-slate-500",children:""}),v.jsx("div",{className:"font-medium",children:R.room})]}),R.pRoom&&v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-slate-500",children:" P"}),v.jsx("div",{className:"font-medium",children:R.pRoom})]}),R.teacher&&v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-slate-500",children:""}),v.jsx("div",{className:"font-medium",children:R.teacher})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-slate-500",children:""}),v.jsxs("div",{className:"font-medium",children:[R.startTime," - ",R.endTime]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-slate-500",children:""}),v.jsxs("div",{className:"font-medium",children:[R.scheduleType==="odd-onsite"&&" / ",R.scheduleType==="even-onsite"&&" / ",R.scheduleType==="online-always"&&"",R.scheduleType==="onsite-always"&&""]})]})]}),v.jsxs("div",{className:"mt-6 pt-4 border-t-2 border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg ",children:[v.jsxs("div",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2 flex justify-center items-center gap-2",children:[vs.bolt," "]}),v.jsxs("div",{className:"flex flex-col gap-4",children:[v.jsx("div",{children:v.jsxs("div",{className:"font-bold text-sm flex justify-center gap-2 mt-1",children:[v.jsx("label",{className:"text-sm text-slate-500",children:""}),K&&v.jsx(Ef,{className:"h-5 w-5 animate-spin text-indigo-500"}),z==="online"?v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"material-symbols-outlined",children:"globe"})," "]}):v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"material-symbols-outlined",children:"school"})," "]})]})}),v.jsx("div",{className:"flex justify-center",children:v.jsxs(en,{onClick:()=>V(R,P),className:"bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white font-bold px-5 py-2 shadow-lg",children:[v.jsx(Ef,{className:"h-5 w-5 mr-2"})," ",F==="online"?v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"material-symbols-outlined",children:"globe"})," "]}):v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"material-symbols-outlined",children:"school"})," "]})]})})]})]})]})})()})]})}function xB({state:t,dispatch:e,tasks:n,filteredTasks:i,setQuery:a,query:l,selectedSubject:c,setSelectedSubject:f,deleteMode:m,selectedTasksForDeletion:g,setSelectedTasksForDeletion:y}){const[T,w]=Q.useState(null),D=Q.useMemo(()=>Object.fromEntries(t.subjects.map(V=>[V.id,n.filter(R=>R.subjectId===V.id).length])),[n,t.subjects]);return v.jsxs("div",{className:"space-y-6 pb-24",children:[v.jsx("div",{className:"sticky top-0 z-20 bg-slate-100/80 dark:bg-slate-950/80 backdrop-blur-xl p-4 -mx-4",children:v.jsxs("div",{className:"relative",children:[v.jsx(C4,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-indigo-400"}),v.jsx(Ut,{placeholder:"...",value:l,onChange:V=>a(V.target.value),className:"pl-9 w-full shadow-lg"})]})}),v.jsx("div",{className:"sticky top-[76px] z-10 -mx-4 px-4 py-2 bg-slate-100/60 dark:bg-slate-950/60 backdrop-blur-xl",children:v.jsxs("div",{className:"flex flex-wrap gap-2",children:[v.jsx(lt,{onClick:()=>f(null),className:`transition-all ${c?"bg-white/40":"bg-indigo-500 !text-white shadow-lg"}`,children:""}),t.subjects.map(V=>v.jsxs(lt,{onClick:()=>f(V.id),className:`transition-all
                ${c===V.id?"bg-indigo-500 !text-white shadow-lg":"bg-white/40"}
              `,children:[v.jsx("span",{className:"w-2 h-2 rounded-full mr-2",style:{backgroundColor:V.color}}),V.name,v.jsx(Bd,{className:"ml-1 !px-1.5",children:D[V.id]||0})]},V.id))]})}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(di,{children:i.map(V=>v.jsx(no.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{duration:.3},children:v.jsx(DB,{task:V,isInDeleteMode:m,isSelected:g.has(V.id),onToggleSelect:()=>y(R=>{const P=new Set(R);return P.has(V.id)?P.delete(V.id):P.add(V.id),P}),onUpdate:R=>e({type:"updateTask",payload:R}),onView:()=>w(V)})},V.id))}),i.length===0&&v.jsx("div",{className:"text-center text-slate-500 py-10",children:""})]}),v.jsx(di,{children:T&&v.jsx(lo,{onClose:()=>w(null),children:v.jsx(RB,{task:T,onUpdate:V=>e({type:"updateTask",payload:V}),onClose:()=>w(null),subjects:t.subjects})})})]})}function CB({subjects:t,onAdd:e}){const[n,i]=Q.useState(!1),[a,l]=Q.useState({subjectId:t[0]?.id||"",title:"",detail:"",startAt:"",dueAt:"",link:"",status:"todo",category:"",reminders:[],taskType:"deadline"});Q.useEffect(()=>{t.length&&!a.subjectId&&l(y=>({...y,subjectId:t[0].id}))},[t]);const c=y=>{const{startAt:T,dueAt:w}=a,D=Zw(y,{hours:0,minutes:0,seconds:0,milliseconds:0});if(!T&&!w)l(V=>({...V,dueAt:D.toISOString(),startAt:""}));else if(!T&&w){const V=new Date(w);D<V?l(R=>({...R,startAt:D.toISOString()})):l(R=>({...R,startAt:w,dueAt:D.toISOString()}))}else l(V=>({...V,dueAt:D.toISOString(),startAt:""}))},f=(y,T)=>{if(!T)return;const[w,D]=T.split(":"),V=a[y]?new Date(a[y]):new Date;let R=Jw(V,parseInt(w,10));R=eS(R,parseInt(D,10)),l(P=>({...P,[y]:R.toISOString()}))},m=Q.useMemo(()=>{const y=a.startAt?new Date(a.startAt):void 0,T=a.dueAt?new Date(a.dueAt):void 0;return y&&!T?{from:y,to:y}:!y&&T?{from:T,to:T}:{from:y,to:T}},[a.startAt,a.dueAt]),g=()=>{if(!a.title)return alert("");const y={...a,id:by(),createdAt:Date.now(),updatedAt:Date.now(),detail:a.detail||"",link:a.link||""};e(y),i(!1),l({subjectId:t[0]?.id||"",title:"",detail:"",startAt:"",dueAt:"",link:"",status:"todo",category:"",reminders:[],taskType:"deadline"})};return v.jsxs(v.Fragment,{children:[v.jsxs(en,{onClick:()=>i(!0),children:[v.jsx(Yg,{className:"h-4 w-4"})," "]}),v.jsx(di,{children:n&&v.jsxs(lo,{onClose:()=>i(!1),children:[v.jsx("div",{className:"text-lg font-semibold mb-4 px-2",children:""}),v.jsxs("div",{className:"px-2 mb-4",children:[v.jsx("label",{className:"text-xs text-slate-500 mb-1 block",children:""}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx(lt,{onClick:()=>l({...a,taskType:"deadline"}),className:`flex-1 ${a.taskType==="deadline"?"bg-indigo-500 !text-white":"bg-white/40"}`,children:v.jsxs("span",{className:"flex items-center gap-2",children:[vs.task," "]})}),v.jsx(lt,{onClick:()=>l({...a,taskType:"event"}),className:`flex-1 ${a.taskType==="event"?"bg-indigo-500 !text-white":"bg-white/40"}`,children:v.jsxs("span",{className:"flex items-center gap-2",children:[vs.event," "]})})]})]}),v.jsxs("div",{className:"overflow-y-auto max-h-[calc(85vh-8rem)] px-2",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-y-4 gap-x-4",children:[v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{className:"text-xs text-slate-500 mb-1 block",children:""}),v.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(y=>v.jsxs(lt,{onClick:()=>l({...a,subjectId:y.id}),className:`${a.subjectId===y.id?"bg-indigo-500 !text-white":"bg-white/40"}`,children:[v.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:y.color}})," ",y.name]},y.id))})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{className:"text-xs",children:""}),v.jsx(Ut,{value:a.title,onChange:y=>l({...a,title:y.target.value}),placeholder:" Assignment  3"})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{className:"text-xs",children:""}),v.jsx(AD,{value:a.detail,onChange:y=>l({...a,detail:y.target.value}),placeholder:"  checklist "})]}),v.jsxs("div",{className:"md:col-span-2 p-3 rounded-2xl bg-slate-100/50",children:[v.jsx("div",{className:"flex justify-center",children:v.jsx(SD,{mode:"range",selected:m,onDayClick:c,locale:es,showOutsideDays:!0,weekStartsOn:1})}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2 pt-2 border-t border-slate-200/50",children:[a.taskType==="deadline"&&v.jsxs("div",{children:[v.jsx("label",{className:"text-xs",children:""}),v.jsx(Ut,{type:"time",value:a.startAt?ze(new Date(a.startAt),"HH:mm"):"",onChange:y=>f("startAt",y.target.value)})]}),v.jsxs("div",{className:a.taskType!=="deadline"?"col-span-2":"",children:[v.jsx("label",{className:"text-xs",children:a.taskType==="deadline"?"":""}),v.jsx(Ut,{type:"time",value:a.dueAt?ze(new Date(a.dueAt),"HH:mm"):"",onChange:y=>f("dueAt",y.target.value)})]})]}),v.jsx("div",{className:"text-xs text-center text-slate-500 mt-2",children:a.startAt&&a.dueAt?"":a.dueAt?" ":""})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs",children:""}),v.jsx(Ut,{value:a.link,onChange:y=>l({...a,link:y.target.value}),placeholder:""})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{className:"text-xs",children:""}),v.jsx("div",{className:"flex flex-wrap gap-2",children:[{value:"",label:""},{value:"",label:""},{value:"",label:""}].map(y=>v.jsx(lt,{onClick:()=>l({...a,category:y.value}),className:`${a.category===y.value?"bg-indigo-500 !text-white":"bg-white/40"}`,children:y.label},y.value))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs",children:""}),v.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:[{value:"todo",label:""},{value:"doing",label:""},{value:"done",label:""}].map(y=>v.jsx(lt,{onClick:()=>l({...a,status:y.value}),className:a.status===y.value?"bg-indigo-500 !text-white":"bg-white/40",children:y.label},y.value))})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{className:"text-xs",children:" ()"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:[{label:"15 ",type:"minutes",amount:15},{label:"1 .",type:"hours",amount:1},{label:"1 ",type:"days",amount:1}].map(y=>v.jsxs(lt,{onClick:()=>{l(T=>({...T,reminders:T.reminders.some(w=>w.type===y.type&&w.amount===y.amount)?T.reminders.filter(w=>!(w.type===y.type&&w.amount===y.amount)):[...T.reminders,y]}))},className:a.reminders.some(T=>T.type===y.type&&T.amount===y.amount)?"bg-indigo-500 !text-white":"bg-white/40",children:[v.jsx(VA,{className:"h-4 w-4"})," ",y.label]},y.label))})]})]}),v.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[v.jsx(lt,{onClick:()=>i(!1),children:""}),v.jsxs(en,{onClick:g,children:[v.jsx(Tc,{className:"h-4 w-4"})," "]})]})]})]})})]})}function DB({task:t,onUpdate:e,onView:n,isInDeleteMode:i,isSelected:a,onToggleSelect:l}){const c=y=>{y.stopPropagation();const T=["todo","doing","done"],w=T.indexOf(t.status),D=T[(w+1)%T.length];if(t.status==="done"&&t.updatedAt&&_g(new Date,new Date(t.updatedAt))>=1){alert(" 1 ");return}e({...t,status:D,updatedAt:new Date().toISOString()})},f=t.status==="done"?"opacity-60 bg-gradient-to-l from-emerald-400/10":t.status==="doing"?"bg-gradient-to-l from-amber-400/10":"",m=t.taskType==="event",g=()=>{i?l():n()};return v.jsx(Cn,{onClick:g,className:`${f} cursor-pointer transition-all ${a?"ring-2 ring-indigo-500":""}`,children:v.jsxs("div",{className:"flex items-start gap-4",children:[v.jsxs("button",{onClick:c,className:"flex-shrink-0 mt-1 transition-transform active:scale-90",title:"",children:[t.status==="done"&&v.jsx(qg,{className:"h-6 w-6 text-emerald-500"}),t.status==="doing"&&v.jsx("div",{className:"h-6 w-6 rounded-full border-2 border-amber-500 flex items-center justify-center",children:v.jsx(E4,{className:"h-4 w-4 text-amber-500"})}),t.status==="todo"&&v.jsx(i4,{className:"h-6 w-6 text-slate-300 dark:text-slate-600"})]}),v.jsxs("div",{className:"min-w-0 flex-1",children:[v.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[v.jsx("div",{className:"font-medium truncate",children:t.title}),t.subjectName&&v.jsxs(Bd,{className:"border-slate-300 text-slate-500",children:[v.jsx("span",{className:"inline-block w-2 h-2 rounded-full mr-1",style:{background:t.subjectColor}})," ",t.subjectName]})]}),t.detail&&v.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1 whitespace-pre-wrap line-clamp-4",children:t.detail}),v.jsx("div",{className:"mt-2",children:v.jsxs("div",{className:"text-xs text-slate-500 mt-1 flex items-center gap-2 flex-wrap",children:[t.dueAt?m?v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(PA,{className:"h-3 w-3"})," : ",ze(new Date(t.dueAt),"d MMM yy HH:mm",{locale:es})]}):v.jsxs(v.Fragment,{children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(u4,{className:"h-3 w-3"})," : ",ze(new Date(t.dueAt),"d MMM yy HH:mm",{locale:es})]}),v.jsxs("span",{children:[" ",RM(new Date(t.dueAt))?"":EB(t.dueAt)]})]}):v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(Pc,{className:"h-3 w-3"})," "]}),t.link&&v.jsxs("a",{href:t.link,target:"_blank",className:"inline-flex items-center gap-1 underline",children:[v.jsx(jA,{className:"h-3 w-3"})," "]})]})})]}),i&&v.jsx("div",{className:"absolute top-2 right-2",children:v.jsx(qg,{className:`h-6 w-6 transition-all ${a?"text-indigo-500 scale-100":"text-slate-300 dark:text-slate-600 scale-0"}`})})]})})}function NB({value:t,onChange:e}){const n=[{label:"15 ",type:"minutes",amount:15},{label:"30 ",type:"minutes",amount:30},{label:"1 .",type:"hours",amount:1},{label:"3 .",type:"hours",amount:3},{label:"1 ",type:"days",amount:1}],i=a=>{const l=t.some(c=>c.type===a.type&&c.amount===a.amount);e(l?t.filter(c=>!(c.type===a.type&&c.amount===a.amount)):[...t,a])};return v.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(a=>v.jsxs(lt,{onClick:()=>i(a),className:t.some(l=>l.type===a.type&&l.amount===a.amount)?"bg-slate-50 dark:bg-slate-800":"",children:[v.jsx(VA,{className:"h-4 w-4"})," ",a.label]},a.label))})}function Iw({course:t,onClose:e,onSave:n}){const[i,a]=Q.useState(t||{name:"",code:"",room:"",pRoom:"",teacher:"",dayOfWeek:1,startTime:"09:00",endTime:"12:00",scheduleType:"odd-onsite",color:"#6366f1"}),l=()=>{if(!i.name||!i.code){alert("");return}n(i)};return v.jsxs(lo,{onClose:e,children:[v.jsx("div",{className:"text-lg font-semibold mb-4",children:t?"":""}),v.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-slate-500",children:""}),v.jsx(Ut,{value:i.name,onChange:c=>a({...i,name:c.target.value}),placeholder:" ",autoFocus:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-slate-500",children:""}),v.jsx(Ut,{value:i.code,onChange:c=>a({...i,code:c.target.value}),placeholder:" 002125"})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-slate-500",children:""}),v.jsx(Ut,{value:i.room,onChange:c=>a({...i,room:c.target.value}),placeholder:" 9.06.06"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-slate-500",children:" P"}),v.jsx(Ut,{value:i.pRoom,onChange:c=>a({...i,pRoom:c.target.value}),placeholder:" P3"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-slate-500",children:""}),v.jsx(Ut,{value:i.teacher,onChange:c=>a({...i,teacher:c.target.value}),placeholder:""})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-slate-500",children:""}),v.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:[{value:1,label:""},{value:2,label:""},{value:3,label:""},{value:4,label:""},{value:5,label:""}].map(c=>v.jsx(lt,{onClick:()=>a({...i,dayOfWeek:c.value}),className:i.dayOfWeek===c.value?"bg-indigo-500 !text-white":"bg-white/40",children:c.label},c.value))})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-slate-500",children:""}),v.jsx(Ut,{type:"time",value:i.startTime,onChange:c=>a({...i,startTime:c.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-slate-500",children:""}),v.jsx(Ut,{type:"time",value:i.endTime,onChange:c=>a({...i,endTime:c.target.value})})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-slate-500 mb-2 block",children:""}),v.jsx("div",{className:"space-y-2",children:[{value:"odd-onsite",label:" / "},{value:"even-onsite",label:" / "},{value:"online-always",label:""},{value:"onsite-always",label:""}].map(c=>v.jsxs("label",{className:"flex items-center gap-2 p-2 rounded-lg hover:bg-slate-100/50 dark:hover:bg-slate-800/50 cursor-pointer",children:[v.jsx("input",{type:"radio",name:"scheduleType",value:c.value,checked:i.scheduleType===c.value,onChange:f=>a({...i,scheduleType:f.target.value}),className:"w-4 h-4"}),v.jsx("span",{className:"text-sm",children:c.label})]},c.value))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-slate-500",children:""}),v.jsx(Ut,{type:"color",value:i.color,onChange:c=>a({...i,color:c.target.value}),className:"w-full h-12 p-1"})]})]}),v.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[v.jsx(lt,{onClick:e,children:""}),v.jsxs(en,{onClick:l,children:[v.jsx(Tc,{className:"h-4 w-4"})," "]})]})]})}function MB({state:t,dispatch:e,userId:n,onLogout:i,setView:a}){const l=Q.useRef(null),[c,f]=Q.useState(!1),[m,g]=Q.useState(null),[y,T]=Q.useState(!1),[w,D]=Q.useState(null),V=Q.useRef(null),R=Q.useRef(null),P=Q.useRef(null),z=Q.useRef(null),K=()=>{const O=V.current.value.trim();O&&(e({type:"addSubject",payload:{id:by(),name:O,color:R.current.value||"#6366f1"}}),V.current.value="",f(!1))},F=O=>{g(O)},te=()=>{if(!m)return;const O=P.current.value.trim();O&&e({type:"updateSubject",payload:{...m,name:O,color:z.current.value||"#6366f1"}}),g(null)},B=O=>{confirm("?")&&e({type:"deleteSubject",id:O})},G=O=>{D(O)},x=O=>{confirm("?")&&e({type:"deleteCourse",id:O})},A=()=>{const O=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),I=URL.createObjectURL(O),N=document.createElement("a");N.href=I,N.download="flowo-data.json",N.click(),URL.revokeObjectURL(I)},M=O=>{const I=O.target.files?.[0];if(!I)return;const N=new FileReader;N.onload=pe=>{try{const Be=JSON.parse(pe.target.result);e({type:"load",payload:Be}),alert("!")}catch{alert("")}},N.readAsText(I)},k=()=>{if(confirm("? ")){if(!n)return;const O=my(vy,"schedules",n);CC(O,hc).then(()=>{alert("!")}).catch(I=>{console.error("Error clearing document: ",I),alert("")})}};return v.jsxs("div",{className:"space-y-6",children:[v.jsxs(Cn,{children:[v.jsx(Zn,{children:""}),v.jsx("div",{className:"space-y-2 mb-4",children:t.subjects.map(O=>v.jsxs("div",{className:"flex items-center p-2 rounded-lg bg-slate-100/50 dark:bg-slate-800/50 group",children:[v.jsx("span",{className:"w-3 h-3 rounded-full mr-3",style:{backgroundColor:O.color}}),v.jsx("span",{className:"flex-1",children:O.name}),v.jsxs("div",{className:"flex items-center opacity-0 group-hover:opacity-100 transition-opacity",children:[v.jsx(lt,{onClick:()=>F(O),className:"!p-2",children:v.jsx(Gg,{className:"h-4 w-4"})}),v.jsx(lt,{onClick:()=>B(O.id),className:"!p-2 text-rose-500",children:v.jsx(bc,{className:"h-4 w-4"})})]})]},O.id))}),v.jsxs(en,{onClick:()=>f(!0),children:[v.jsx(Yg,{className:"h-4 w-4"})," "]})]}),v.jsx(di,{children:c&&v.jsxs(lo,{onClose:()=>f(!1),children:[v.jsx("div",{className:"text-lg font-semibold mb-4",children:""}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs",children:""}),v.jsx(Ut,{ref:V,placeholder:" GEN001",autoFocus:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs",children:""}),v.jsx(Ut,{ref:R,type:"color",defaultValue:"#6366f1",className:"w-full h-12 p-1"})]})]}),v.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[v.jsx(lt,{onClick:()=>f(!1),children:""}),v.jsxs(en,{onClick:K,children:[v.jsx(Tc,{className:"h-4 w-4"})," "]})]})]})}),v.jsx(di,{children:m&&v.jsxs(lo,{onClose:()=>g(null),children:[v.jsx("div",{className:"text-lg font-semibold mb-4",children:""}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs",children:""}),v.jsx(Ut,{ref:P,defaultValue:m.name,autoFocus:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs",children:""}),v.jsx(Ut,{ref:z,type:"color",defaultValue:m.color,className:"w-full h-12 p-1"})]})]}),v.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[v.jsx(lt,{onClick:()=>g(null),children:""}),v.jsxs(en,{onClick:te,children:[v.jsx(Tc,{className:"h-4 w-4"})," "]})]})]})}),v.jsxs(Cn,{children:[v.jsx(Zn,{children:""}),v.jsx("div",{className:"space-y-2 mb-4",children:t.courses.map(O=>v.jsxs("div",{className:"flex items-center p-2 rounded-lg bg-slate-100/50 dark:bg-slate-800/50 group",children:[v.jsx("span",{className:"w-3 h-3 rounded-full mr-3",style:{backgroundColor:O.color}}),v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"font-medium",children:O.name}),v.jsxs("div",{className:"text-xs text-slate-500",children:[O.code,"  ",["","","","","",""][O.dayOfWeek]," ",O.startTime,"-",O.endTime]})]}),v.jsxs("div",{className:"flex items-center opacity-0 group-hover:opacity-100 transition-opacity",children:[v.jsx(lt,{onClick:()=>G(O),className:"!p-2",children:v.jsx(Gg,{className:"h-4 w-4"})}),v.jsx(lt,{onClick:()=>x(O.id),className:"!p-2 text-rose-500",children:v.jsx(bc,{className:"h-4 w-4"})})]})]},O.id))}),v.jsxs(en,{onClick:()=>T(!0),children:[v.jsx(Yg,{className:"h-4 w-4"})," "]})]}),v.jsx(di,{children:y&&v.jsx(Iw,{onClose:()=>T(!1),onSave:O=>{e({type:"addCourse",payload:{...O,id:by(),createdAt:Date.now(),updatedAt:Date.now()}}),T(!1)}})}),v.jsx(di,{children:w&&v.jsx(Iw,{course:w,onClose:()=>D(null),onSave:O=>{e({type:"updateCourse",payload:O}),D(null)}})}),v.jsxs(Cn,{children:[v.jsxs(Zn,{children:[v.jsx(kA,{className:"h-4 w-4"})," "]}),v.jsx("p",{className:"text-sm text-slate-500 mb-3",children:""}),v.jsx(en,{onClick:()=>a("history"),children:""})]}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[v.jsxs(Cn,{className:"sm:col-span-1",children:[v.jsx(Zn,{children:"/"}),v.jsxs("div",{className:"flex flex-wrap items-center gap-2 justify-center sm:justify-start",children:[v.jsxs(en,{onClick:A,children:[v.jsx(o4,{className:"h-4 w-4"}),"  JSON"]}),v.jsxs(lt,{onClick:()=>l.current?.click(),children:[v.jsx(k4,{className:"h-4 w-4"}),"  JSON"]}),v.jsx("input",{ref:l,type:"file",accept:"application/json",className:"hidden",onChange:M})]}),v.jsx("div",{className:"mt-3 text-xs text-slate-500",children:""})]}),v.jsxs(Cn,{className:"sm:col-span-1",children:[v.jsx(Zn,{children:""}),v.jsxs("div",{className:"flex flex-col items-start",children:[v.jsx(en,{className:"bg-rose-600 hover:bg-rose-700",onClick:k,children:""}),v.jsx("p",{className:"text-xs text-slate-500 mt-2",children:""})]})]})]}),v.jsxs(Cn,{children:[v.jsx(Zn,{children:""}),v.jsx("p",{className:"text-sm text-slate-500 mb-3",children:""}),v.jsxs(en,{onClick:i,className:"bg-slate-600 hover:bg-slate-700",children:[v.jsx(T4,{className:"h-4 w-4"})," "]})]})]})}function RB({task:t,onUpdate:e,onClose:n,subjects:i}){const[a,l]=Q.useState(!1),[c,f]=Q.useState({...t,taskType:t.taskType||"deadline",startAt:t.startAt?ze(new Date(t.startAt),"yyyy-MM-dd'T'HH:mm"):"",dueAt:t.dueAt?ze(new Date(t.dueAt),"yyyy-MM-dd'T'HH:mm"):""}),m=w=>{const{startAt:D,dueAt:V}=c,R=Zw(w,{hours:0,minutes:0,seconds:0,milliseconds:0});if(!D&&!V)f(P=>({...P,dueAt:R.toISOString(),startAt:""}));else if(!D&&V){const P=new Date(V);R<P?f(z=>({...z,startAt:R.toISOString()})):f(z=>({...z,startAt:V,dueAt:R.toISOString()}))}else f(P=>({...P,dueAt:R.toISOString(),startAt:""}))},g=(w,D)=>{if(!D)return;const[V,R]=D.split(":"),P=c[w]?new Date(c[w]):new Date;let z=Jw(P,parseInt(V,10));z=eS(z,parseInt(R,10)),f(K=>({...K,[w]:z.toISOString()}))},y=Q.useMemo(()=>{const w=c.startAt?new Date(c.startAt):void 0,D=c.dueAt?new Date(c.dueAt):void 0;return w&&!D?{from:w,to:w}:!w&&D?{from:D,to:D}:{from:w,to:D}},[c.startAt,c.dueAt]),T=()=>{const w={...c,detail:c.detail||"",link:c.link||""};e(w),l(!1)};return a?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("div",{className:"text-lg font-semibold",children:""}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx(lt,{onClick:()=>l(!1),children:""}),v.jsxs(en,{onClick:T,children:[v.jsx(Tc,{className:"h-4 w-4"})," "]})]})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"text-xs text-slate-500 mb-1 block",children:""}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx(lt,{onClick:()=>f({...c,taskType:"deadline"}),className:`flex-1 ${c.taskType==="deadline"?"bg-indigo-500 !text-white":"bg-white/40"}`,children:v.jsxs("span",{className:"flex items-center gap-2",children:[vs.task," "]})}),v.jsx(lt,{onClick:()=>f({...c,taskType:"event"}),className:`flex-1 ${c.taskType==="event"?"bg-indigo-500 !text-white":"bg-white/40"}`,children:v.jsxs("span",{className:"flex items-center gap-2",children:[vs.event," "]})})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs",children:""}),v.jsx("div",{className:"custom-select-wrapper",children:v.jsxs(yB,{value:c.status,onChange:w=>f({...c,status:w.target.value}),children:[v.jsx("option",{value:"todo",children:""}),v.jsx("option",{value:"doing",children:""}),v.jsx("option",{value:"done",children:""})]})})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{className:"text-xs",children:""}),v.jsx(Ut,{value:c.title,onChange:w=>f({...c,title:w.target.value}),className:"w-full"})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{className:"text-xs",children:""}),v.jsx(AD,{value:c.detail||"",onChange:w=>f({...c,detail:w.target.value})})]}),v.jsxs("div",{className:"md:col-span-2 p-3 rounded-2xl bg-slate-100/50",children:[v.jsx(SD,{mode:"range",selected:y,onDayClick:m,locale:es,showOutsideDays:!0,weekStartsOn:1}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2 pt-2 border-t border-slate-200/50",children:[c.taskType==="deadline"&&v.jsxs("div",{children:[v.jsx("label",{className:"text-xs",children:""}),v.jsx(Ut,{type:"time",value:c.startAt?ze(new Date(c.startAt),"HH:mm"):"",onChange:w=>g("startAt",w.target.value)})]}),v.jsxs("div",{className:c.taskType!=="deadline"?"col-span-2":"",children:[v.jsx("label",{className:"text-xs",children:c.taskType==="deadline"?"":""}),v.jsx(Ut,{type:"time",value:c.dueAt?ze(new Date(c.dueAt),"HH:mm"):"",onChange:w=>g("dueAt",w.target.value)})]})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs",children:""}),v.jsx(Ut,{value:c.link||"",onChange:w=>f({...c,link:w.target.value}),className:"w-full"})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{className:"text-xs",children:""}),v.jsx(NB,{value:c.reminders||[],onChange:w=>f({...c,reminders:w})})]})]})]}):v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"text-lg font-semibold mb-2",children:t.title}),v.jsxs("div",{className:"space-y-4",children:[t.detail&&v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-slate-500",children:""}),v.jsx("div",{className:"whitespace-pre-wrap text-sm",children:t.detail})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-slate-500",children:t.taskType==="event"?"":""}),v.jsx("div",{className:"flex items-center gap-2 text-sm",children:t.dueAt?v.jsxs(v.Fragment,{children:[v.jsx(Pc,{className:"h-4 w-4 text-slate-500"}),v.jsx("span",{children:ze(new Date(t.dueAt),"d MMMM yyyy '' HH:mm",{locale:es})})]}):v.jsx("span",{className:"text-slate-500",children:""})})]}),t.link&&v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-slate-500",children:""}),v.jsxs("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-500 hover:underline flex items-center gap-1 text-sm truncate",children:[v.jsx(jA,{className:"h-4 w-4"})," ",t.link]})]}),v.jsxs("div",{className:"flex gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-slate-500",children:""}),v.jsx("div",{children:Ey(t.status)})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-slate-500",children:""}),v.jsx("div",{children:t.subjectName?v.jsxs(Bd,{className:"border-slate-300 text-slate-500",children:[v.jsx("span",{className:"inline-block w-2 h-2 rounded-full mr-1",style:{background:t.subjectColor||"#94a3b8"}})," ",t.subjectName]}):""})]})]})]}),v.jsxs("div",{className:"mt-6 pt-4 border-t border-slate-200 dark:border-slate-700 flex justify-end gap-2",children:[v.jsx(lt,{onClick:n,children:""}),v.jsxs(en,{onClick:()=>l(!0),children:[v.jsx(Gg,{className:"h-4 w-4"})," "]})]})]})}function IB({tasks:t,dispatch:e}){const[n,i]=Q.useState(new Set),a=()=>{n.size!==0&&confirm(` ${n.size} ?`)&&(n.forEach(l=>e({type:"deleteTask",id:l})),i(new Set))};return v.jsxs("div",{className:"space-y-4",children:[v.jsxs(Zn,{children:[v.jsx(kA,{className:"h-5 w-5"})," "]}),v.jsx("p",{className:"text-sm text-slate-500 -mt-4",children:" 1 "}),v.jsx("div",{className:"flex justify-end",children:v.jsxs(en,{onClick:a,disabled:n.size===0,className:"bg-rose-600 hover:bg-rose-700",children:[v.jsx(bc,{className:"h-4 w-4"}),"  ",n.size," "]})}),v.jsxs("div",{className:"space-y-2",children:[t.map(l=>v.jsx(Cn,{onClick:()=>{const c=new Set(n);c.has(l.id)?c.delete(l.id):c.add(l.id),i(c)},className:`cursor-pointer transition-opacity opacity-70 hover:opacity-100 ${n.has(l.id)?"ring-2 ring-rose-500":""}`,children:v.jsxs("div",{className:"flex justify-between",children:[v.jsxs("div",{children:[v.jsx("div",{className:"font-medium",children:l.title}),v.jsxs("div",{className:"text-xs text-slate-500",children:[": ",ze(new Date(l.updatedAt),"d MMM yy HH:mm",{locale:es})]})]}),n.has(l.id)&&v.jsx(qg,{className:"h-5 w-5 text-rose-500"})]})},l.id)),t.length===0&&v.jsx("div",{className:"text-center text-slate-500 py-10",children:""})]})]})}function OB(){const t=async()=>{const e=new Wi;try{await WL(_y,e)}catch(n){console.error("Error signing in with Google",n),alert(": "+n.message)}};return v.jsxs("div",{className:"h-screen flex flex-col items-center justify-center gap-8 bg-slate-100 dark:bg-slate-950 p-4",children:[v.jsxs("div",{className:"text-center",children:[v.jsx(no.div,{initial:{rotate:-8,scale:.9},animate:{rotate:0,scale:1},className:"inline-block h-20 w-20 mb-4 rounded-3xl bg-indigo-600 text-white items-center justify-center shadow-lg shadow-indigo-500/30",children:v.jsx(N4,{className:"h-12 w-12 m-4"})}),v.jsx("h1",{className:"text-3xl font-bold font-display",children:" FlowO"}),v.jsx("p",{className:"text-slate-500 mt-2",children:""})]}),v.jsxs(en,{onClick:t,className:"!px-6 !py-3 !text-base",children:[v.jsx(LA,{className:"h-5 w-5"}),"  Google"]})]})}function lo({children:t,onClose:e}){return Q.useEffect(()=>{const n=i=>{i.key==="Escape"&&e()};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[e]),VM.createPortal(v.jsxs(v.Fragment,{children:[v.jsx(no.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-40",onClick:e}),v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-8",onClick:e,children:v.jsx(no.div,{initial:{opacity:0,scale:.98,y:8},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.98,y:8},transition:{duration:.18},className:"w-[92%] sm:w-[80%] md:w-[720px] mx-auto",onClick:n=>n.stopPropagation(),children:v.jsx("div",{className:"max-h-[calc(100vh-4rem)] w-full overflow-y-auto rounded-2xl",children:v.jsx(Cn,{className:"p-4 md:p-6 rounded-2xl",children:t})})})})]}),document.body)}dN.createRoot(document.getElementById("root")).render(v.jsx(Q.StrictMode,{children:v.jsx(wB,{})}));
