(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function a2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Vp={exports:{}},qu={};var Eb;function o2(){if(Eb)return qu;Eb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return qu.Fragment=e,qu.jsx=n,qu.jsxs=n,qu}var wb;function l2(){return wb||(wb=1,Vp.exports=o2()),Vp.exports}var v=l2(),Pp={exports:{}},Ve={};var Sb;function u2(){if(Sb)return Ve;Sb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),E=Symbol.iterator;function N(j){return j===null||typeof j!="object"?null:(j=E&&j[E]||j["@@iterator"],typeof j=="function"?j:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,R={};function B(j,se,he){this.props=j,this.context=se,this.refs=R,this.updater=he||V}B.prototype.isReactComponent={},B.prototype.setState=function(j,se){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,se,"setState")},B.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function z(){}z.prototype=B.prototype;function F(j,se,he){this.props=j,this.context=se,this.refs=R,this.updater=he||V}var te=F.prototype=new z;te.constructor=F,L(te,B.prototype),te.isPureReactComponent=!0;var H=Array.isArray;function K(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function M(j,se,he){var fe=he.ref;return{$$typeof:t,type:j,key:se,ref:fe!==void 0?fe:null,props:he}}function O(j,se){return M(j.type,se,j.props)}function k(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function I(j){var se={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(he){return se[he]})}var A=/\/+/g;function le(j,se){return typeof j=="object"&&j!==null&&j.key!=null?I(""+j.key):se.toString(36)}function be(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(K,K):(j.status="pending",j.then(function(se){j.status==="pending"&&(j.status="fulfilled",j.value=se)},function(se){j.status==="pending"&&(j.status="rejected",j.reason=se)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function J(j,se,he,fe,we){var ke=typeof j;(ke==="undefined"||ke==="boolean")&&(j=null);var Fe=!1;if(j===null)Fe=!0;else switch(ke){case"bigint":case"string":case"number":Fe=!0;break;case"object":switch(j.$$typeof){case t:case e:Fe=!0;break;case y:return Fe=j._init,J(Fe(j._payload),se,he,fe,we)}}if(Fe)return we=we(j),Fe=fe===""?"."+le(j,0):fe,H(we)?(he="",Fe!=null&&(he=Fe.replace(A,"$&/")+"/"),J(we,se,he,"",function(ss){return ss})):we!=null&&(k(we)&&(we=O(we,he+(we.key==null||j&&j.key===we.key?"":(""+we.key).replace(A,"$&/")+"/")+Fe)),se.push(we)),1;Fe=0;var It=fe===""?".":fe+":";if(H(j))for(var mt=0;mt<j.length;mt++)fe=j[mt],ke=It+le(fe,mt),Fe+=J(fe,se,he,ke,we);else if(mt=N(j),typeof mt=="function")for(j=mt.call(j),mt=0;!(fe=j.next()).done;)fe=fe.value,ke=It+le(fe,mt++),Fe+=J(fe,se,he,ke,we);else if(ke==="object"){if(typeof j.then=="function")return J(be(j),se,he,fe,we);throw se=String(j),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Fe}function ae(j,se,he){if(j==null)return j;var fe=[],we=0;return J(j,fe,"","",function(ke){return se.call(he,ke,we++)}),fe}function de(j){if(j._status===-1){var se=j._result;se=se(),se.then(function(he){(j._status===0||j._status===-1)&&(j._status=1,j._result=he)},function(he){(j._status===0||j._status===-1)&&(j._status=2,j._result=he)}),j._status===-1&&(j._status=0,j._result=se)}if(j._status===1)return j._result.default;throw j._result}var Te=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},De={map:ae,forEach:function(j,se,he){ae(j,function(){se.apply(this,arguments)},he)},count:function(j){var se=0;return ae(j,function(){se++}),se},toArray:function(j){return ae(j,function(se){return se})||[]},only:function(j){if(!k(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Ve.Activity=T,Ve.Children=De,Ve.Component=B,Ve.Fragment=n,Ve.Profiler=a,Ve.PureComponent=F,Ve.StrictMode=i,Ve.Suspense=m,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(j){return C.H.useMemoCache(j)}},Ve.cache=function(j){return function(){return j.apply(null,arguments)}},Ve.cacheSignal=function(){return null},Ve.cloneElement=function(j,se,he){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var fe=L({},j.props),we=j.key;if(se!=null)for(ke in se.key!==void 0&&(we=""+se.key),se)!S.call(se,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&se.ref===void 0||(fe[ke]=se[ke]);var ke=arguments.length-2;if(ke===1)fe.children=he;else if(1<ke){for(var Fe=Array(ke),It=0;It<ke;It++)Fe[It]=arguments[It+2];fe.children=Fe}return M(j.type,we,fe)},Ve.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:l,_context:j},j},Ve.createElement=function(j,se,he){var fe,we={},ke=null;if(se!=null)for(fe in se.key!==void 0&&(ke=""+se.key),se)S.call(se,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(we[fe]=se[fe]);var Fe=arguments.length-2;if(Fe===1)we.children=he;else if(1<Fe){for(var It=Array(Fe),mt=0;mt<Fe;mt++)It[mt]=arguments[mt+2];we.children=It}if(j&&j.defaultProps)for(fe in Fe=j.defaultProps,Fe)we[fe]===void 0&&(we[fe]=Fe[fe]);return M(j,ke,we)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(j){return{$$typeof:f,render:j}},Ve.isValidElement=k,Ve.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:de}},Ve.memo=function(j,se){return{$$typeof:g,type:j,compare:se===void 0?null:se}},Ve.startTransition=function(j){var se=C.T,he={};C.T=he;try{var fe=j(),we=C.S;we!==null&&we(he,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(K,Te)}catch(ke){Te(ke)}finally{se!==null&&he.types!==null&&(se.types=he.types),C.T=se}},Ve.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ve.use=function(j){return C.H.use(j)},Ve.useActionState=function(j,se,he){return C.H.useActionState(j,se,he)},Ve.useCallback=function(j,se){return C.H.useCallback(j,se)},Ve.useContext=function(j){return C.H.useContext(j)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(j,se){return C.H.useDeferredValue(j,se)},Ve.useEffect=function(j,se){return C.H.useEffect(j,se)},Ve.useEffectEvent=function(j){return C.H.useEffectEvent(j)},Ve.useId=function(){return C.H.useId()},Ve.useImperativeHandle=function(j,se,he){return C.H.useImperativeHandle(j,se,he)},Ve.useInsertionEffect=function(j,se){return C.H.useInsertionEffect(j,se)},Ve.useLayoutEffect=function(j,se){return C.H.useLayoutEffect(j,se)},Ve.useMemo=function(j,se){return C.H.useMemo(j,se)},Ve.useOptimistic=function(j,se){return C.H.useOptimistic(j,se)},Ve.useReducer=function(j,se,he){return C.H.useReducer(j,se,he)},Ve.useRef=function(j){return C.H.useRef(j)},Ve.useState=function(j){return C.H.useState(j)},Ve.useSyncExternalStore=function(j,se,he){return C.H.useSyncExternalStore(j,se,he)},Ve.useTransition=function(){return C.H.useTransition()},Ve.version="19.2.1",Ve}var xb;function wy(){return xb||(xb=1,Pp.exports=u2()),Pp.exports}var Q=wy();const ce=a2(Q);var jp={exports:{}},Gu={},Lp={exports:{}},Up={};var Ab;function c2(){return Ab||(Ab=1,(function(t){function e(J,ae){var de=J.length;J.push(ae);e:for(;0<de;){var Te=de-1>>>1,De=J[Te];if(0<a(De,ae))J[Te]=ae,J[de]=De,de=Te;else break e}}function n(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var ae=J[0],de=J.pop();if(de!==ae){J[0]=de;e:for(var Te=0,De=J.length,j=De>>>1;Te<j;){var se=2*(Te+1)-1,he=J[se],fe=se+1,we=J[fe];if(0>a(he,de))fe<De&&0>a(we,he)?(J[Te]=we,J[fe]=de,Te=fe):(J[Te]=he,J[se]=de,Te=se);else if(fe<De&&0>a(we,de))J[Te]=we,J[fe]=de,Te=fe;else break e}}return ae}function a(J,ae){var de=J.sortIndex-ae.sortIndex;return de!==0?de:J.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var m=[],g=[],y=1,T=null,E=3,N=!1,V=!1,L=!1,R=!1,B=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function te(J){for(var ae=n(g);ae!==null;){if(ae.callback===null)i(g);else if(ae.startTime<=J)i(g),ae.sortIndex=ae.expirationTime,e(m,ae);else break;ae=n(g)}}function H(J){if(L=!1,te(J),!V)if(n(m)!==null)V=!0,K||(K=!0,I());else{var ae=n(g);ae!==null&&be(H,ae.startTime-J)}}var K=!1,C=-1,S=5,M=-1;function O(){return R?!0:!(t.unstable_now()-M<S)}function k(){if(R=!1,K){var J=t.unstable_now();M=J;var ae=!0;try{e:{V=!1,L&&(L=!1,z(C),C=-1),N=!0;var de=E;try{t:{for(te(J),T=n(m);T!==null&&!(T.expirationTime>J&&O());){var Te=T.callback;if(typeof Te=="function"){T.callback=null,E=T.priorityLevel;var De=Te(T.expirationTime<=J);if(J=t.unstable_now(),typeof De=="function"){T.callback=De,te(J),ae=!0;break t}T===n(m)&&i(m),te(J)}else i(m);T=n(m)}if(T!==null)ae=!0;else{var j=n(g);j!==null&&be(H,j.startTime-J),ae=!1}}break e}finally{T=null,E=de,N=!1}ae=void 0}}finally{ae?I():K=!1}}}var I;if(typeof F=="function")I=function(){F(k)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,le=A.port2;A.port1.onmessage=k,I=function(){le.postMessage(null)}}else I=function(){B(k,0)};function be(J,ae){C=B(function(){J(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(J){switch(E){case 1:case 2:case 3:var ae=3;break;default:ae=E}var de=E;E=ae;try{return J()}finally{E=de}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(J,ae){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var de=E;E=J;try{return ae()}finally{E=de}},t.unstable_scheduleCallback=function(J,ae,de){var Te=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Te+de:Te):de=Te,J){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=de+De,J={id:y++,callback:ae,priorityLevel:J,startTime:de,expirationTime:De,sortIndex:-1},de>Te?(J.sortIndex=de,e(g,J),n(m)===null&&J===n(g)&&(L?(z(C),C=-1):L=!0,be(H,de-Te))):(J.sortIndex=De,e(m,J),V||N||(V=!0,K||(K=!0,I()))),J},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(J){var ae=E;return function(){var de=E;E=ae;try{return J.apply(this,arguments)}finally{E=de}}}})(Up)),Up}var Cb;function h2(){return Cb||(Cb=1,Lp.exports=c2()),Lp.exports}var Bp={exports:{}},_n={};var Db;function f2(){if(Db)return _n;Db=1;var t=wy();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:m,containerInfo:g,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,_n.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,y)},_n.flushSync=function(m){var g=c.T,y=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=g,i.p=y,i.d.f()}},_n.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},_n.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},_n.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,T=f(y,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:E,fetchPriority:N}):y==="script"&&i.d.X(m,{crossOrigin:T,integrity:E,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},_n.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=f(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},_n.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,T=f(y,g.crossOrigin);i.d.L(m,y,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},_n.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=f(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},_n.requestFormReset=function(m){i.d.r(m)},_n.unstable_batchedUpdates=function(m,g){return m(g)},_n.useFormState=function(m,g,y){return c.H.useFormState(m,g,y)},_n.useFormStatus=function(){return c.H.useHostTransitionStatus()},_n.version="19.2.1",_n}var Nb;function kw(){if(Nb)return Bp.exports;Nb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bp.exports=f2(),Bp.exports}var Mb;function d2(){if(Mb)return Gu;Mb=1;var t=h2(),e=wy(),n=kw();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function f(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function m(s){if(l(s)!==s)throw Error(i(188))}function g(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,u=r;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return m(d),s;if(p===u)return m(d),r;p=p.sibling}throw Error(i(188))}if(o.return!==u.return)o=d,u=p;else{for(var b=!1,x=d.child;x;){if(x===o){b=!0,o=d,u=p;break}if(x===u){b=!0,u=d,o=p;break}x=x.sibling}if(!b){for(x=p.child;x;){if(x===o){b=!0,o=p,u=d;break}if(x===u){b=!0,u=p,o=d;break}x=x.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function y(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=y(s),r!==null)return r;s=s.sibling}return null}var T=Object.assign,E=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),F=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function I(s){return s===null||typeof s!="object"?null:(s=k&&s[k]||s["@@iterator"],typeof s=="function"?s:null)}var A=Symbol.for("react.client.reference");function le(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===A?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case L:return"Fragment";case B:return"Profiler";case R:return"StrictMode";case H:return"Suspense";case K:return"SuspenseList";case M:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case V:return"Portal";case F:return s.displayName||"Context";case z:return(s._context.displayName||"Context")+".Consumer";case te:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case C:return r=s.displayName||null,r!==null?r:le(s.type)||"Memo";case S:r=s._payload,s=s._init;try{return le(s(r))}catch{}}return null}var be=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Te=[],De=-1;function j(s){return{current:s}}function se(s){0>De||(s.current=Te[De],Te[De]=null,De--)}function he(s,r){De++,Te[De]=s.current,s.current=r}var fe=j(null),we=j(null),ke=j(null),Fe=j(null);function It(s,r){switch(he(ke,r),he(we,s),he(fe,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?GT(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=GT(r),s=YT(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}se(fe),he(fe,s)}function mt(){se(fe),se(we),se(ke)}function ss(s){s.memoizedState!==null&&he(Fe,s);var r=fe.current,o=YT(r,s.type);r!==o&&(he(we,s),he(fe,o))}function rr(s){we.current===s&&(se(fe),se(we)),Fe.current===s&&(se(Fe),Bu._currentValue=de)}var ar,or;function is(s){if(ar===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);ar=r&&r[1]||"",or=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ar+s+or}var lr=!1;function xi(s,r){if(!s||lr)return"";lr=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Z){var $=Z}Reflect.construct(s,[],ie)}else{try{ie.call()}catch(Z){$=Z}s.call(ie.prototype)}}else{try{throw Error()}catch(Z){$=Z}(ie=s())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Z){if(Z&&$&&typeof Z.stack=="string")return[Z.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),b=p[0],x=p[1];if(b&&x){var P=b.split(`
`),W=x.split(`
`);for(d=u=0;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;for(;d<W.length&&!W[d].includes("DetermineComponentFrameRoot");)d++;if(u===P.length||d===W.length)for(u=P.length-1,d=W.length-1;1<=u&&0<=d&&P[u]!==W[d];)d--;for(;1<=u&&0<=d;u--,d--)if(P[u]!==W[d]){if(u!==1||d!==1)do if(u--,d--,0>d||P[u]!==W[d]){var ee=`
`+P[u].replace(" at new "," at ");return s.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",s.displayName)),ee}while(1<=u&&0<=d);break}}}finally{lr=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?is(o):""}function ca(s,r){switch(s.tag){case 26:case 27:case 5:return is(s.type);case 16:return is("Lazy");case 13:return s.child!==r&&r!==null?is("Suspense Fallback"):is("Suspense");case 19:return is("SuspenseList");case 0:case 15:return xi(s.type,!1);case 11:return xi(s.type.render,!1);case 1:return xi(s.type,!0);case 31:return is("Activity");default:return""}}function ha(s){try{var r="",o=null;do r+=ca(s,o),o=s,s=s.return;while(s);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Dt=Object.prototype.hasOwnProperty,Ot=t.unstable_scheduleCallback,qs=t.unstable_cancelCallback,Fl=t.unstable_shouldYield,fa=t.unstable_requestPaint,Xt=t.unstable_now,Ss=t.unstable_getCurrentPriorityLevel,da=t.unstable_ImmediatePriority,ma=t.unstable_UserBlockingPriority,Gs=t.unstable_NormalPriority,Hl=t.unstable_LowPriority,fo=t.unstable_IdlePriority,mo=t.log,po=t.unstable_setDisableYieldValue,zn=null,Zt=null;function Mn(s){if(typeof mo=="function"&&po(s),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(zn,s)}catch{}}var wt=Math.clz32?Math.clz32:Re,pa=Math.log,ur=Math.LN2;function Re(s){return s>>>=0,s===0?32:31-(pa(s)/ur|0)|0}var Ue=256,xe=262144,Ae=4194304;function kt(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ie(s,r,o){var u=s.pendingLanes;if(u===0)return 0;var d=0,p=s.suspendedLanes,b=s.pingedLanes;s=s.warmLanes;var x=u&134217727;return x!==0?(u=x&~p,u!==0?d=kt(u):(b&=x,b!==0?d=kt(b):o||(o=x&~s,o!==0&&(d=kt(o))))):(x=u&~p,x!==0?d=kt(x):b!==0?d=kt(b):o||(o=u&~s,o!==0&&(d=kt(o)))),d===0?0:r!==0&&r!==d&&(r&p)===0&&(p=d&-d,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:d}function Fn(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function ql(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function go(){var s=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),s}function Rn(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function xs(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Bd(s,r,o,u,d,p){var b=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var x=s.entanglements,P=s.expirationTimes,W=s.hiddenUpdates;for(o=b&~o;0<o;){var ee=31-wt(o),ie=1<<ee;x[ee]=0,P[ee]=-1;var $=W[ee];if($!==null)for(W[ee]=null,ee=0;ee<$.length;ee++){var Z=$[ee];Z!==null&&(Z.lane&=-536870913)}o&=~ie}u!==0&&ga(s,u,0),p!==0&&d===0&&s.tag!==0&&(s.suspendedLanes|=p&~(b&~r))}function ga(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-wt(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|o&261930}function Gl(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var u=31-wt(o),d=1<<u;d&r|s[u]&r&&(s[u]|=r),o&=~d}}function Yl(s,r){var o=r&-r;return o=(o&42)!==0?1:ya(o),(o&(s.suspendedLanes|r))!==0?0:o}function ya(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ai(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function $c(){var s=ae.p;return s!==0?s:(s=window.event,s===void 0?32:pb(s.type))}function As(s,r){var o=ae.p;try{return ae.p=s,r()}finally{ae.p=o}}var Cs=Math.random().toString(36).slice(2),zt="__reactFiber$"+Cs,sn="__reactProps$"+Cs,Ys="__reactContainer$"+Cs,yo="__reactEvents$"+Cs,zd="__reactListeners$"+Cs,Qc="__reactHandles$"+Cs,Xc="__reactResources$"+Cs,Ws="__reactMarker$"+Cs;function vo(s){delete s[zt],delete s[sn],delete s[yo],delete s[zd],delete s[Qc]}function Ks(s){var r=s[zt];if(r)return r;for(var o=s.parentNode;o;){if(r=o[Ys]||o[zt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=JT(s);s!==null;){if(o=s[zt])return o;s=JT(s)}return r}s=o,o=s.parentNode}return null}function rs(s){if(s=s[zt]||s[Ys]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function Hn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function $s(s){var r=s[Xc];return r||(r=s[Xc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ft(s){s[Ws]=!0}var Wl=new Set,Kl={};function Qs(s,r){Xs(s,r),Xs(s+"Capture",r)}function Xs(s,r){for(Kl[s]=r,s=0;s<r.length;s++)Wl.add(r[s])}var $l=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ql={},Xl={};function Zc(s){return Dt.call(Xl,s)?!0:Dt.call(Ql,s)?!1:$l.test(s)?Xl[s]=!0:(Ql[s]=!0,!1)}function _o(s,r,o){if(Zc(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function qn(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function Ht(s,r,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+u)}}function rn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function cr(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Zl(s,r,o){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,p=u.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return d.call(this)},set:function(b){o=""+b,p.call(this,b)}}),Object.defineProperty(s,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function it(s){if(!s._valueTracker){var r=cr(s)?"checked":"value";s._valueTracker=Zl(s,r,""+s[r])}}function va(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return s&&(u=cr(s)?s.checked?"true":"false":s.value),s=u,s!==o?(r.setValue(s),!0):!1}function Zs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var _a=/[\n"\\]/g;function In(s){return s.replace(_a,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function To(s,r,o,u,d,p,b,x){s.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?s.type=b:s.removeAttribute("type"),r!=null?b==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+rn(r)):s.value!==""+rn(r)&&(s.value=""+rn(r)):b!=="submit"&&b!=="reset"||s.removeAttribute("value"),r!=null?Jl(s,b,rn(r)):o!=null?Jl(s,b,rn(o)):u!=null&&s.removeAttribute("value"),d==null&&p!=null&&(s.defaultChecked=!!p),d!=null&&(s.checked=d&&typeof d!="function"&&typeof d!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.name=""+rn(x):s.removeAttribute("name")}function Jc(s,r,o,u,d,p,b,x){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){it(s);return}o=o!=null?""+rn(o):"",r=r!=null?""+rn(r):o,x||r===s.value||(s.value=r),s.defaultValue=r}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=x?s.checked:!!u,s.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.name=b),it(s)}function Jl(s,r,o){r==="number"&&Zs(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function hr(s,r,o,u){if(s=s.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<s.length;o++)d=r.hasOwnProperty("$"+s[o].value),s[o].selected!==d&&(s[o].selected=d),d&&u&&(s[o].defaultSelected=!0)}else{for(o=""+rn(o),r=null,d=0;d<s.length;d++){if(s[d].value===o){s[d].selected=!0,u&&(s[d].defaultSelected=!0);return}r!==null||s[d].disabled||(r=s[d])}r!==null&&(r.selected=!0)}}function eh(s,r,o){if(r!=null&&(r=""+rn(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+rn(o):""}function fr(s,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(i(92));if(be(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=rn(r),s.defaultValue=o,u=s.textContent,u===o&&u!==""&&u!==null&&(s.value=u),it(s)}function On(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var th=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eu(s,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,o):typeof o!="number"||o===0||th.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function tu(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var d in r)u=r[d],r.hasOwnProperty(d)&&o[d]!==u&&eu(s,d,u)}else for(var p in r)r.hasOwnProperty(p)&&eu(s,p,r[p])}function bo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Eo(s){return dr.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Ds(){}var nu=null;function as(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var mr=null,Js=null;function Ta(s){var r=rs(s);if(r&&(s=r.stateNode)){var o=s[sn]||null;e:switch(s=r.stateNode,r.type){case"input":if(To(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+In(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==s&&u.form===s.form){var d=u[sn]||null;if(!d)throw Error(i(90));To(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===s.form&&va(u)}break e;case"textarea":eh(s,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&hr(s,!!o.multiple,r,!1)}}}var wo=!1;function pr(s,r,o){if(wo)return s(r,o);wo=!0;try{var u=s(r);return u}finally{if(wo=!1,(mr!==null||Js!==null)&&($h(),mr&&(r=mr,s=Js,Js=mr=null,Ta(r),s)))for(r=0;r<s.length;r++)Ta(s[r])}}function Ns(s,r){var o=s.stateNode;if(o===null)return null;var u=o[sn]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ba=!1;if(os)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){ba=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{ba=!1}var ei=null,su=null,Ea=null;function iu(){if(Ea)return Ea;var s,r=su,o=r.length,u,d="value"in ei?ei.value:ei.textContent,p=d.length;for(s=0;s<o&&r[s]===d[s];s++);var b=o-s;for(u=1;u<=b&&r[o-u]===d[p-u];u++);return Ea=d.slice(s,1<u?1-u:void 0)}function wa(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function Ci(){return!0}function Ms(){return!1}function un(s){function r(o,u,d,p,b){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var x in s)s.hasOwnProperty(x)&&(o=s[x],this[x]=o?o(p):p[x]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ci:Ms,this.isPropagationStopped=Ms,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ci)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ci)},persist:function(){},isPersistent:Ci}),r}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ti=un(Di),gr=T({},Di,{view:0,detail:0}),ru=un(gr),yr,So,ni,xo=T({},gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ni&&(ni&&s.type==="mousemove"?(yr=s.screenX-ni.screenX,So=s.screenY-ni.screenY):So=yr=0,ni=s),yr)},movementY:function(s){return"movementY"in s?s.movementY:So}}),au=un(xo),Sa=T({},xo,{dataTransfer:0}),sh=un(Sa),ih=T({},gr,{relatedTarget:0}),xa=un(ih),ou=T({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),rh=un(ou),Ao=T({},Di,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ah=un(Ao),oh=T({},Di,{data:0}),si=un(oh),lh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ch={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hh(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=ch[s])?!!r[s]:!1}function vr(){return hh}var An=T({},gr,{key:function(s){if(s.key){var r=lh[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=wa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?uh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vr,charCode:function(s){return s.type==="keypress"?wa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?wa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),fh=un(An),dh=T({},xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ni=un(dh),h=T({},gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vr}),_=un(h),w=T({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),D=un(w),G=T({},xo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),X=un(G),ue=T({},Di,{newState:0,oldState:0}),je=un(ue),Vt=[9,13,27,32],tt=os&&"CompositionEvent"in window,Tt=null;os&&"documentMode"in document&&(Tt=document.documentMode);var ls=os&&"TextEvent"in window&&!Tt,ii=os&&(!tt||Tt&&8<Tt&&11>=Tt),Rs=" ",Is=!1;function Aa(s,r){switch(s){case"keyup":return Vt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Co(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Do=!1;function MD(s,r){switch(s){case"compositionend":return Co(r);case"keypress":return r.which!==32?null:(Is=!0,Rs);case"textInput":return s=r.data,s===Rs&&Is?null:s;default:return null}}function RD(s,r){if(Do)return s==="compositionend"||!tt&&Aa(s,r)?(s=iu(),Ea=su=ei=null,Do=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ii&&r.locale!=="ko"?null:r.data;default:return null}}var ID={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nv(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!ID[s.type]:r==="textarea"}function sv(s,r,o,u){mr?Js?Js.push(u):Js=[u]:mr=u,r=nf(r,"onChange"),0<r.length&&(o=new ti("onChange","change",null,o,u),s.push({event:o,listeners:r}))}var lu=null,uu=null;function OD(s){UT(s,0)}function mh(s){var r=Hn(s);if(va(r))return s}function iv(s,r){if(s==="change")return r}var rv=!1;if(os){var Fd;if(os){var Hd="oninput"in document;if(!Hd){var av=document.createElement("div");av.setAttribute("oninput","return;"),Hd=typeof av.oninput=="function"}Fd=Hd}else Fd=!1;rv=Fd&&(!document.documentMode||9<document.documentMode)}function ov(){lu&&(lu.detachEvent("onpropertychange",lv),uu=lu=null)}function lv(s){if(s.propertyName==="value"&&mh(uu)){var r=[];sv(r,uu,s,as(s)),pr(OD,r)}}function kD(s,r,o){s==="focusin"?(ov(),lu=r,uu=o,lu.attachEvent("onpropertychange",lv)):s==="focusout"&&ov()}function VD(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return mh(uu)}function PD(s,r){if(s==="click")return mh(r)}function jD(s,r){if(s==="input"||s==="change")return mh(r)}function LD(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Gn=typeof Object.is=="function"?Object.is:LD;function cu(s,r){if(Gn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Dt.call(r,d)||!Gn(s[d],r[d]))return!1}return!0}function uv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function cv(s,r){var o=uv(s);s=0;for(var u;o;){if(o.nodeType===3){if(u=s+o.textContent.length,s<=r&&u>=r)return{node:o,offset:r-s};s=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=uv(o)}}function hv(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?hv(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function fv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=Zs(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=Zs(s.document)}return r}function qd(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var UD=os&&"documentMode"in document&&11>=document.documentMode,No=null,Gd=null,hu=null,Yd=!1;function dv(s,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Yd||No==null||No!==Zs(u)||(u=No,"selectionStart"in u&&qd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),hu&&cu(hu,u)||(hu=u,u=nf(Gd,"onSelect"),0<u.length&&(r=new ti("onSelect","select",null,r,o),s.push({event:r,listeners:u}),r.target=No)))}function Ca(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var Mo={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionrun:Ca("Transition","TransitionRun"),transitionstart:Ca("Transition","TransitionStart"),transitioncancel:Ca("Transition","TransitionCancel"),transitionend:Ca("Transition","TransitionEnd")},Wd={},mv={};os&&(mv=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function Da(s){if(Wd[s])return Wd[s];if(!Mo[s])return s;var r=Mo[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in mv)return Wd[s]=r[o];return s}var pv=Da("animationend"),gv=Da("animationiteration"),yv=Da("animationstart"),BD=Da("transitionrun"),zD=Da("transitionstart"),FD=Da("transitioncancel"),vv=Da("transitionend"),_v=new Map,Kd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kd.push("scrollEnd");function Os(s,r){_v.set(s,r),Qs(r,[s])}var ph=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},us=[],Ro=0,$d=0;function gh(){for(var s=Ro,r=$d=Ro=0;r<s;){var o=us[r];us[r++]=null;var u=us[r];us[r++]=null;var d=us[r];us[r++]=null;var p=us[r];if(us[r++]=null,u!==null&&d!==null){var b=u.pending;b===null?d.next=d:(d.next=b.next,b.next=d),u.pending=d}p!==0&&Tv(o,d,p)}}function yh(s,r,o,u){us[Ro++]=s,us[Ro++]=r,us[Ro++]=o,us[Ro++]=u,$d|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Qd(s,r,o,u){return yh(s,r,o,u),vh(s)}function Na(s,r){return yh(s,null,null,r),vh(s)}function Tv(s,r,o){s.lanes|=o;var u=s.alternate;u!==null&&(u.lanes|=o);for(var d=!1,p=s.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(d=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,d&&r!==null&&(d=31-wt(o),s=p.hiddenUpdates,u=s[d],u===null?s[d]=[r]:u.push(r),r.lane=o|536870912),p):null}function vh(s){if(50<Ou)throw Ou=0,rp=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var Io={};function HD(s,r,o,u){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(s,r,o,u){return new HD(s,r,o,u)}function Xd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Mi(s,r){var o=s.alternate;return o===null?(o=Yn(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function bv(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function _h(s,r,o,u,d,p){var b=0;if(u=s,typeof s=="function")Xd(s)&&(b=1);else if(typeof s=="string")b=KN(s,o,fe.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case M:return s=Yn(31,o,r,d),s.elementType=M,s.lanes=p,s;case L:return Ma(o.children,d,p,r);case R:b=8,d|=24;break;case B:return s=Yn(12,o,r,d|2),s.elementType=B,s.lanes=p,s;case H:return s=Yn(13,o,r,d),s.elementType=H,s.lanes=p,s;case K:return s=Yn(19,o,r,d),s.elementType=K,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case F:b=10;break e;case z:b=9;break e;case te:b=11;break e;case C:b=14;break e;case S:b=16,u=null;break e}b=29,o=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=Yn(b,o,r,d),r.elementType=s,r.type=u,r.lanes=p,r}function Ma(s,r,o,u){return s=Yn(7,s,u,r),s.lanes=o,s}function Zd(s,r,o){return s=Yn(6,s,null,r),s.lanes=o,s}function Ev(s){var r=Yn(18,null,null,0);return r.stateNode=s,r}function Jd(s,r,o){return r=Yn(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var wv=new WeakMap;function cs(s,r){if(typeof s=="object"&&s!==null){var o=wv.get(s);return o!==void 0?o:(r={value:s,source:r,stack:ha(r)},wv.set(s,r),r)}return{value:s,source:r,stack:ha(r)}}var Oo=[],ko=0,Th=null,fu=0,hs=[],fs=0,_r=null,ri=1,ai="";function Ri(s,r){Oo[ko++]=fu,Oo[ko++]=Th,Th=s,fu=r}function Sv(s,r,o){hs[fs++]=ri,hs[fs++]=ai,hs[fs++]=_r,_r=s;var u=ri;s=ai;var d=32-wt(u)-1;u&=~(1<<d),o+=1;var p=32-wt(r)+d;if(30<p){var b=d-d%5;p=(u&(1<<b)-1).toString(32),u>>=b,d-=b,ri=1<<32-wt(r)+d|o<<d|u,ai=p+s}else ri=1<<p|o<<d|u,ai=s}function em(s){s.return!==null&&(Ri(s,1),Sv(s,1,0))}function tm(s){for(;s===Th;)Th=Oo[--ko],Oo[ko]=null,fu=Oo[--ko],Oo[ko]=null;for(;s===_r;)_r=hs[--fs],hs[fs]=null,ai=hs[--fs],hs[fs]=null,ri=hs[--fs],hs[fs]=null}function xv(s,r){hs[fs++]=ri,hs[fs++]=ai,hs[fs++]=_r,ri=r.id,ai=r.overflow,_r=s}var cn=null,yt=null,Xe=!1,Tr=null,ds=!1,nm=Error(i(519));function br(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw du(cs(r,s)),nm}function Av(s){var r=s.stateNode,o=s.type,u=s.memoizedProps;switch(r[zt]=s,r[sn]=u,o){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(o=0;o<Vu.length;o++)qe(Vu[o],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":qe("invalid",r),Jc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":qe("invalid",r);break;case"textarea":qe("invalid",r),fr(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||HT(r.textContent,o)?(u.popover!=null&&(qe("beforetoggle",r),qe("toggle",r)),u.onScroll!=null&&qe("scroll",r),u.onScrollEnd!=null&&qe("scrollend",r),u.onClick!=null&&(r.onclick=Ds),r=!0):r=!1,r||br(s,!0)}function Cv(s){for(cn=s.return;cn;)switch(cn.tag){case 5:case 31:case 13:ds=!1;return;case 27:case 3:ds=!0;return;default:cn=cn.return}}function Vo(s){if(s!==cn)return!1;if(!Xe)return Cv(s),Xe=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||Tp(s.type,s.memoizedProps)),o=!o),o&&yt&&br(s),Cv(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));yt=ZT(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));yt=ZT(s)}else r===27?(r=yt,Vr(s.type)?(s=xp,xp=null,yt=s):yt=r):yt=cn?ps(s.stateNode.nextSibling):null;return!0}function Ra(){yt=cn=null,Xe=!1}function sm(){var s=Tr;return s!==null&&(jn===null?jn=s:jn.push.apply(jn,s),Tr=null),s}function du(s){Tr===null?Tr=[s]:Tr.push(s)}var im=j(null),Ia=null,Ii=null;function Er(s,r,o){he(im,r._currentValue),r._currentValue=o}function Oi(s){s._currentValue=im.current,se(im)}function rm(s,r,o){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===o)break;s=s.return}}function am(s,r,o,u){var d=s.child;for(d!==null&&(d.return=s);d!==null;){var p=d.dependencies;if(p!==null){var b=d.child;p=p.firstContext;e:for(;p!==null;){var x=p;p=d;for(var P=0;P<r.length;P++)if(x.context===r[P]){p.lanes|=o,x=p.alternate,x!==null&&(x.lanes|=o),rm(p.return,o,s),u||(b=null);break e}p=x.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(i(341));b.lanes|=o,p=b.alternate,p!==null&&(p.lanes|=o),rm(b,o,s),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===s){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function Po(s,r,o,u){s=null;for(var d=r,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var x=d.type;Gn(d.pendingProps.value,b.value)||(s!==null?s.push(x):s=[x])}}else if(d===Fe.current){if(b=d.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(s!==null?s.push(Bu):s=[Bu])}d=d.return}s!==null&&am(r,s,o,u),r.flags|=262144}function bh(s){for(s=s.firstContext;s!==null;){if(!Gn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Oa(s){Ia=s,Ii=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function hn(s){return Dv(Ia,s)}function Eh(s,r){return Ia===null&&Oa(s),Dv(s,r)}function Dv(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Ii===null){if(s===null)throw Error(i(308));Ii=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Ii=Ii.next=r;return o}var qD=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},GD=t.unstable_scheduleCallback,YD=t.unstable_NormalPriority,qt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function om(){return{controller:new qD,data:new Map,refCount:0}}function mu(s){s.refCount--,s.refCount===0&&GD(YD,function(){s.controller.abort()})}var pu=null,lm=0,jo=0,Lo=null;function WD(s,r){if(pu===null){var o=pu=[];lm=0,jo=hp(),Lo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return lm++,r.then(Nv,Nv),r}function Nv(){if(--lm===0&&pu!==null){Lo!==null&&(Lo.status="fulfilled");var s=pu;pu=null,jo=0,Lo=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function KD(s,r){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var Mv=J.S;J.S=function(s,r){dT=Xt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&WD(s,r),Mv!==null&&Mv(s,r)};var ka=j(null);function um(){var s=ka.current;return s!==null?s:pt.pooledCache}function wh(s,r){r===null?he(ka,ka.current):he(ka,r.pool)}function Rv(){var s=um();return s===null?null:{parent:qt._currentValue,pool:s}}var Uo=Error(i(460)),cm=Error(i(474)),Sh=Error(i(542)),xh={then:function(){}};function Iv(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Ov(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(Ds,Ds),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Vv(s),s;default:if(typeof r.status=="string")r.then(Ds,Ds);else{if(s=pt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=u}},function(u){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Vv(s),s}throw Pa=r,Uo}}function Va(s){try{var r=s._init;return r(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Pa=o,Uo):o}}var Pa=null;function kv(){if(Pa===null)throw Error(i(459));var s=Pa;return Pa=null,s}function Vv(s){if(s===Uo||s===Sh)throw Error(i(483))}var Bo=null,gu=0;function Ah(s){var r=gu;return gu+=1,Bo===null&&(Bo=[]),Ov(Bo,s,r)}function yu(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Ch(s,r){throw r.$$typeof===E?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function Pv(s){function r(q,U){if(s){var Y=q.deletions;Y===null?(q.deletions=[U],q.flags|=16):Y.push(U)}}function o(q,U){if(!s)return null;for(;U!==null;)r(q,U),U=U.sibling;return null}function u(q){for(var U=new Map;q!==null;)q.key!==null?U.set(q.key,q):U.set(q.index,q),q=q.sibling;return U}function d(q,U){return q=Mi(q,U),q.index=0,q.sibling=null,q}function p(q,U,Y){return q.index=Y,s?(Y=q.alternate,Y!==null?(Y=Y.index,Y<U?(q.flags|=67108866,U):Y):(q.flags|=67108866,U)):(q.flags|=1048576,U)}function b(q){return s&&q.alternate===null&&(q.flags|=67108866),q}function x(q,U,Y,ne){return U===null||U.tag!==6?(U=Zd(Y,q.mode,ne),U.return=q,U):(U=d(U,Y),U.return=q,U)}function P(q,U,Y,ne){var _e=Y.type;return _e===L?ee(q,U,Y.props.children,ne,Y.key):U!==null&&(U.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===S&&Va(_e)===U.type)?(U=d(U,Y.props),yu(U,Y),U.return=q,U):(U=_h(Y.type,Y.key,Y.props,null,q.mode,ne),yu(U,Y),U.return=q,U)}function W(q,U,Y,ne){return U===null||U.tag!==4||U.stateNode.containerInfo!==Y.containerInfo||U.stateNode.implementation!==Y.implementation?(U=Jd(Y,q.mode,ne),U.return=q,U):(U=d(U,Y.children||[]),U.return=q,U)}function ee(q,U,Y,ne,_e){return U===null||U.tag!==7?(U=Ma(Y,q.mode,ne,_e),U.return=q,U):(U=d(U,Y),U.return=q,U)}function ie(q,U,Y){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Zd(""+U,q.mode,Y),U.return=q,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case N:return Y=_h(U.type,U.key,U.props,null,q.mode,Y),yu(Y,U),Y.return=q,Y;case V:return U=Jd(U,q.mode,Y),U.return=q,U;case S:return U=Va(U),ie(q,U,Y)}if(be(U)||I(U))return U=Ma(U,q.mode,Y,null),U.return=q,U;if(typeof U.then=="function")return ie(q,Ah(U),Y);if(U.$$typeof===F)return ie(q,Eh(q,U),Y);Ch(q,U)}return null}function $(q,U,Y,ne){var _e=U!==null?U.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return _e!==null?null:x(q,U,""+Y,ne);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case N:return Y.key===_e?P(q,U,Y,ne):null;case V:return Y.key===_e?W(q,U,Y,ne):null;case S:return Y=Va(Y),$(q,U,Y,ne)}if(be(Y)||I(Y))return _e!==null?null:ee(q,U,Y,ne,null);if(typeof Y.then=="function")return $(q,U,Ah(Y),ne);if(Y.$$typeof===F)return $(q,U,Eh(q,Y),ne);Ch(q,Y)}return null}function Z(q,U,Y,ne,_e){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return q=q.get(Y)||null,x(U,q,""+ne,_e);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case N:return q=q.get(ne.key===null?Y:ne.key)||null,P(U,q,ne,_e);case V:return q=q.get(ne.key===null?Y:ne.key)||null,W(U,q,ne,_e);case S:return ne=Va(ne),Z(q,U,Y,ne,_e)}if(be(ne)||I(ne))return q=q.get(Y)||null,ee(U,q,ne,_e,null);if(typeof ne.then=="function")return Z(q,U,Y,Ah(ne),_e);if(ne.$$typeof===F)return Z(q,U,Y,Eh(U,ne),_e);Ch(U,ne)}return null}function pe(q,U,Y,ne){for(var _e=null,Je=null,ge=U,Be=U=0,We=null;ge!==null&&Be<Y.length;Be++){ge.index>Be?(We=ge,ge=null):We=ge.sibling;var et=$(q,ge,Y[Be],ne);if(et===null){ge===null&&(ge=We);break}s&&ge&&et.alternate===null&&r(q,ge),U=p(et,U,Be),Je===null?_e=et:Je.sibling=et,Je=et,ge=We}if(Be===Y.length)return o(q,ge),Xe&&Ri(q,Be),_e;if(ge===null){for(;Be<Y.length;Be++)ge=ie(q,Y[Be],ne),ge!==null&&(U=p(ge,U,Be),Je===null?_e=ge:Je.sibling=ge,Je=ge);return Xe&&Ri(q,Be),_e}for(ge=u(ge);Be<Y.length;Be++)We=Z(ge,q,Be,Y[Be],ne),We!==null&&(s&&We.alternate!==null&&ge.delete(We.key===null?Be:We.key),U=p(We,U,Be),Je===null?_e=We:Je.sibling=We,Je=We);return s&&ge.forEach(function(Br){return r(q,Br)}),Xe&&Ri(q,Be),_e}function Se(q,U,Y,ne){if(Y==null)throw Error(i(151));for(var _e=null,Je=null,ge=U,Be=U=0,We=null,et=Y.next();ge!==null&&!et.done;Be++,et=Y.next()){ge.index>Be?(We=ge,ge=null):We=ge.sibling;var Br=$(q,ge,et.value,ne);if(Br===null){ge===null&&(ge=We);break}s&&ge&&Br.alternate===null&&r(q,ge),U=p(Br,U,Be),Je===null?_e=Br:Je.sibling=Br,Je=Br,ge=We}if(et.done)return o(q,ge),Xe&&Ri(q,Be),_e;if(ge===null){for(;!et.done;Be++,et=Y.next())et=ie(q,et.value,ne),et!==null&&(U=p(et,U,Be),Je===null?_e=et:Je.sibling=et,Je=et);return Xe&&Ri(q,Be),_e}for(ge=u(ge);!et.done;Be++,et=Y.next())et=Z(ge,q,Be,et.value,ne),et!==null&&(s&&et.alternate!==null&&ge.delete(et.key===null?Be:et.key),U=p(et,U,Be),Je===null?_e=et:Je.sibling=et,Je=et);return s&&ge.forEach(function(r2){return r(q,r2)}),Xe&&Ri(q,Be),_e}function ft(q,U,Y,ne){if(typeof Y=="object"&&Y!==null&&Y.type===L&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case N:e:{for(var _e=Y.key;U!==null;){if(U.key===_e){if(_e=Y.type,_e===L){if(U.tag===7){o(q,U.sibling),ne=d(U,Y.props.children),ne.return=q,q=ne;break e}}else if(U.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===S&&Va(_e)===U.type){o(q,U.sibling),ne=d(U,Y.props),yu(ne,Y),ne.return=q,q=ne;break e}o(q,U);break}else r(q,U);U=U.sibling}Y.type===L?(ne=Ma(Y.props.children,q.mode,ne,Y.key),ne.return=q,q=ne):(ne=_h(Y.type,Y.key,Y.props,null,q.mode,ne),yu(ne,Y),ne.return=q,q=ne)}return b(q);case V:e:{for(_e=Y.key;U!==null;){if(U.key===_e)if(U.tag===4&&U.stateNode.containerInfo===Y.containerInfo&&U.stateNode.implementation===Y.implementation){o(q,U.sibling),ne=d(U,Y.children||[]),ne.return=q,q=ne;break e}else{o(q,U);break}else r(q,U);U=U.sibling}ne=Jd(Y,q.mode,ne),ne.return=q,q=ne}return b(q);case S:return Y=Va(Y),ft(q,U,Y,ne)}if(be(Y))return pe(q,U,Y,ne);if(I(Y)){if(_e=I(Y),typeof _e!="function")throw Error(i(150));return Y=_e.call(Y),Se(q,U,Y,ne)}if(typeof Y.then=="function")return ft(q,U,Ah(Y),ne);if(Y.$$typeof===F)return ft(q,U,Eh(q,Y),ne);Ch(q,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,U!==null&&U.tag===6?(o(q,U.sibling),ne=d(U,Y),ne.return=q,q=ne):(o(q,U),ne=Zd(Y,q.mode,ne),ne.return=q,q=ne),b(q)):o(q,U)}return function(q,U,Y,ne){try{gu=0;var _e=ft(q,U,Y,ne);return Bo=null,_e}catch(ge){if(ge===Uo||ge===Sh)throw ge;var Je=Yn(29,ge,null,q.mode);return Je.lanes=ne,Je.return=q,Je}finally{}}}var ja=Pv(!0),jv=Pv(!1),wr=!1;function hm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fm(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Sr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function xr(s,r,o){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(nt&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,r=vh(s),Tv(s,null,o),r}return yh(s,u,r,o),vh(s)}function vu(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Gl(s,o)}}function dm(s,r){var o=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?d=p=b:p=p.next=b,o=o.next}while(o!==null);p===null?d=p=r:p=p.next=r}else d=p=r;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var mm=!1;function _u(){if(mm){var s=Lo;if(s!==null)throw s}}function Tu(s,r,o,u){mm=!1;var d=s.updateQueue;wr=!1;var p=d.firstBaseUpdate,b=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var P=x,W=P.next;P.next=null,b===null?p=W:b.next=W,b=P;var ee=s.alternate;ee!==null&&(ee=ee.updateQueue,x=ee.lastBaseUpdate,x!==b&&(x===null?ee.firstBaseUpdate=W:x.next=W,ee.lastBaseUpdate=P))}if(p!==null){var ie=d.baseState;b=0,ee=W=P=null,x=p;do{var $=x.lane&-536870913,Z=$!==x.lane;if(Z?(Ye&$)===$:(u&$)===$){$!==0&&$===jo&&(mm=!0),ee!==null&&(ee=ee.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var pe=s,Se=x;$=r;var ft=o;switch(Se.tag){case 1:if(pe=Se.payload,typeof pe=="function"){ie=pe.call(ft,ie,$);break e}ie=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Se.payload,$=typeof pe=="function"?pe.call(ft,ie,$):pe,$==null)break e;ie=T({},ie,$);break e;case 2:wr=!0}}$=x.callback,$!==null&&(s.flags|=64,Z&&(s.flags|=8192),Z=d.callbacks,Z===null?d.callbacks=[$]:Z.push($))}else Z={lane:$,tag:x.tag,payload:x.payload,callback:x.callback,next:null},ee===null?(W=ee=Z,P=ie):ee=ee.next=Z,b|=$;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;Z=x,x=Z.next,Z.next=null,d.lastBaseUpdate=Z,d.shared.pending=null}}while(!0);ee===null&&(P=ie),d.baseState=P,d.firstBaseUpdate=W,d.lastBaseUpdate=ee,p===null&&(d.shared.lanes=0),Mr|=b,s.lanes=b,s.memoizedState=ie}}function Lv(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function Uv(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)Lv(o[s],r)}var zo=j(null),Dh=j(0);function Bv(s,r){s=Fi,he(Dh,s),he(zo,r),Fi=s|r.baseLanes}function pm(){he(Dh,Fi),he(zo,zo.current)}function gm(){Fi=Dh.current,se(zo),se(Dh)}var Wn=j(null),ms=null;function Ar(s){var r=s.alternate;he(Pt,Pt.current&1),he(Wn,s),ms===null&&(r===null||zo.current!==null||r.memoizedState!==null)&&(ms=s)}function ym(s){he(Pt,Pt.current),he(Wn,s),ms===null&&(ms=s)}function zv(s){s.tag===22?(he(Pt,Pt.current),he(Wn,s),ms===null&&(ms=s)):Cr()}function Cr(){he(Pt,Pt.current),he(Wn,Wn.current)}function Kn(s){se(Wn),ms===s&&(ms=null),se(Pt)}var Pt=j(0);function Nh(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||wp(o)||Sp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ki=0,Le=null,ct=null,Gt=null,Mh=!1,Fo=!1,La=!1,Rh=0,bu=0,Ho=null,$D=0;function Nt(){throw Error(i(321))}function vm(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!Gn(s[o],r[o]))return!1;return!0}function _m(s,r,o,u,d,p){return ki=p,Le=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,J.H=s===null||s.memoizedState===null?S_:km,La=!1,p=o(u,d),La=!1,Fo&&(p=Hv(r,o,u,d)),Fv(s),p}function Fv(s){J.H=Su;var r=ct!==null&&ct.next!==null;if(ki=0,Gt=ct=Le=null,Mh=!1,bu=0,Ho=null,r)throw Error(i(300));s===null||Yt||(s=s.dependencies,s!==null&&bh(s)&&(Yt=!0))}function Hv(s,r,o,u){Le=s;var d=0;do{if(Fo&&(Ho=null),bu=0,Fo=!1,25<=d)throw Error(i(301));if(d+=1,Gt=ct=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}J.H=x_,p=r(o,u)}while(Fo);return p}function QD(){var s=J.H,r=s.useState()[0];return r=typeof r.then=="function"?Eu(r):r,s=s.useState()[0],(ct!==null?ct.memoizedState:null)!==s&&(Le.flags|=1024),r}function Tm(){var s=Rh!==0;return Rh=0,s}function bm(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function Em(s){if(Mh){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Mh=!1}ki=0,Gt=ct=Le=null,Fo=!1,bu=Rh=0,Ho=null}function Cn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?Le.memoizedState=Gt=s:Gt=Gt.next=s,Gt}function jt(){if(ct===null){var s=Le.alternate;s=s!==null?s.memoizedState:null}else s=ct.next;var r=Gt===null?Le.memoizedState:Gt.next;if(r!==null)Gt=r,ct=s;else{if(s===null)throw Le.alternate===null?Error(i(467)):Error(i(310));ct=s,s={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Gt===null?Le.memoizedState=Gt=s:Gt=Gt.next=s}return Gt}function Ih(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Eu(s){var r=bu;return bu+=1,Ho===null&&(Ho=[]),s=Ov(Ho,s,r),r=Le,(Gt===null?r.memoizedState:Gt.next)===null&&(r=r.alternate,J.H=r===null||r.memoizedState===null?S_:km),s}function Oh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Eu(s);if(s.$$typeof===F)return hn(s)}throw Error(i(438,String(s)))}function wm(s){var r=null,o=Le.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Le.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Ih(),Le.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),u=0;u<s;u++)o[u]=O;return r.index++,o}function Vi(s,r){return typeof r=="function"?r(s):r}function kh(s){var r=jt();return Sm(r,ct,s)}function Sm(s,r,o){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var d=s.baseQueue,p=u.pending;if(p!==null){if(d!==null){var b=d.next;d.next=p.next,p.next=b}r.baseQueue=d=p,u.pending=null}if(p=s.baseState,d===null)s.memoizedState=p;else{r=d.next;var x=b=null,P=null,W=r,ee=!1;do{var ie=W.lane&-536870913;if(ie!==W.lane?(Ye&ie)===ie:(ki&ie)===ie){var $=W.revertLane;if($===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ie===jo&&(ee=!0);else if((ki&$)===$){W=W.next,$===jo&&(ee=!0);continue}else ie={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},P===null?(x=P=ie,b=p):P=P.next=ie,Le.lanes|=$,Mr|=$;ie=W.action,La&&o(p,ie),p=W.hasEagerState?W.eagerState:o(p,ie)}else $={lane:ie,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},P===null?(x=P=$,b=p):P=P.next=$,Le.lanes|=ie,Mr|=ie;W=W.next}while(W!==null&&W!==r);if(P===null?b=p:P.next=x,!Gn(p,s.memoizedState)&&(Yt=!0,ee&&(o=Lo,o!==null)))throw o;s.memoizedState=p,s.baseState=b,s.baseQueue=P,u.lastRenderedState=p}return d===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function xm(s){var r=jt(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var u=o.dispatch,d=o.pending,p=r.memoizedState;if(d!==null){o.pending=null;var b=d=d.next;do p=s(p,b.action),b=b.next;while(b!==d);Gn(p,r.memoizedState)||(Yt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function qv(s,r,o){var u=Le,d=jt(),p=Xe;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=r();var b=!Gn((ct||d).memoizedState,o);if(b&&(d.memoizedState=o,Yt=!0),d=d.queue,Dm(Wv.bind(null,u,d,s),[s]),d.getSnapshot!==r||b||Gt!==null&&Gt.memoizedState.tag&1){if(u.flags|=2048,qo(9,{destroy:void 0},Yv.bind(null,u,d,o,r),null),pt===null)throw Error(i(349));p||(ki&127)!==0||Gv(u,r,o)}return o}function Gv(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=Le.updateQueue,r===null?(r=Ih(),Le.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function Yv(s,r,o,u){r.value=o,r.getSnapshot=u,Kv(r)&&$v(s)}function Wv(s,r,o){return o(function(){Kv(r)&&$v(s)})}function Kv(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!Gn(s,o)}catch{return!0}}function $v(s){var r=Na(s,2);r!==null&&Ln(r,s,2)}function Am(s){var r=Cn();if(typeof s=="function"){var o=s;if(s=o(),La){Mn(!0);try{o()}finally{Mn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:s},r}function Qv(s,r,o,u){return s.baseState=o,Sm(s,ct,typeof u=="function"?u:Vi)}function XD(s,r,o,u,d){if(jh(s))throw Error(i(485));if(s=r.action,s!==null){var p={payload:d,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};J.T!==null?o(!0):p.isTransition=!1,u(p),o=r.pending,o===null?(p.next=r.pending=p,Xv(r,p)):(p.next=o.next,r.pending=o.next=p)}}function Xv(s,r){var o=r.action,u=r.payload,d=s.state;if(r.isTransition){var p=J.T,b={};J.T=b;try{var x=o(d,u),P=J.S;P!==null&&P(b,x),Zv(s,r,x)}catch(W){Cm(s,r,W)}finally{p!==null&&b.types!==null&&(p.types=b.types),J.T=p}}else try{p=o(d,u),Zv(s,r,p)}catch(W){Cm(s,r,W)}}function Zv(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Jv(s,r,u)},function(u){return Cm(s,r,u)}):Jv(s,r,o)}function Jv(s,r,o){r.status="fulfilled",r.value=o,e_(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,Xv(s,o)))}function Cm(s,r,o){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,e_(r),r=r.next;while(r!==u)}s.action=null}function e_(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function t_(s,r){return r}function n_(s,r){if(Xe){var o=pt.formState;if(o!==null){e:{var u=Le;if(Xe){if(yt){t:{for(var d=yt,p=ds;d.nodeType!==8;){if(!p){d=null;break t}if(d=ps(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){yt=ps(d.nextSibling),u=d.data==="F!";break e}}br(u)}u=!1}u&&(r=o[0])}}return o=Cn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t_,lastRenderedState:r},o.queue=u,o=b_.bind(null,Le,u),u.dispatch=o,u=Am(!1),p=Om.bind(null,Le,!1,u.queue),u=Cn(),d={state:r,dispatch:null,action:s,pending:null},u.queue=d,o=XD.bind(null,Le,d,p,o),d.dispatch=o,u.memoizedState=s,[r,o,!1]}function s_(s){var r=jt();return i_(r,ct,s)}function i_(s,r,o){if(r=Sm(s,r,t_)[0],s=kh(Vi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Eu(r)}catch(b){throw b===Uo?Sh:b}else u=r;r=jt();var d=r.queue,p=d.dispatch;return o!==r.memoizedState&&(Le.flags|=2048,qo(9,{destroy:void 0},ZD.bind(null,d,o),null)),[u,p,s]}function ZD(s,r){s.action=r}function r_(s){var r=jt(),o=ct;if(o!==null)return i_(r,o,s);jt(),r=r.memoizedState,o=jt();var u=o.queue.dispatch;return o.memoizedState=s,[r,u,!1]}function qo(s,r,o,u){return s={tag:s,create:o,deps:u,inst:r,next:null},r=Le.updateQueue,r===null&&(r=Ih(),Le.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(u=o.next,o.next=s,s.next=u,r.lastEffect=s),s}function a_(){return jt().memoizedState}function Vh(s,r,o,u){var d=Cn();Le.flags|=s,d.memoizedState=qo(1|r,{destroy:void 0},o,u===void 0?null:u)}function Ph(s,r,o,u){var d=jt();u=u===void 0?null:u;var p=d.memoizedState.inst;ct!==null&&u!==null&&vm(u,ct.memoizedState.deps)?d.memoizedState=qo(r,p,o,u):(Le.flags|=s,d.memoizedState=qo(1|r,p,o,u))}function o_(s,r){Vh(8390656,8,s,r)}function Dm(s,r){Ph(2048,8,s,r)}function JD(s){Le.flags|=4;var r=Le.updateQueue;if(r===null)r=Ih(),Le.updateQueue=r,r.events=[s];else{var o=r.events;o===null?r.events=[s]:o.push(s)}}function l_(s){var r=jt().memoizedState;return JD({ref:r,nextImpl:s}),function(){if((nt&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function u_(s,r){return Ph(4,2,s,r)}function c_(s,r){return Ph(4,4,s,r)}function h_(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function f_(s,r,o){o=o!=null?o.concat([s]):null,Ph(4,4,h_.bind(null,r,s),o)}function Nm(){}function d_(s,r){var o=jt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&vm(r,u[1])?u[0]:(o.memoizedState=[s,r],s)}function m_(s,r){var o=jt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&vm(r,u[1]))return u[0];if(u=s(),La){Mn(!0);try{s()}finally{Mn(!1)}}return o.memoizedState=[u,r],u}function Mm(s,r,o){return o===void 0||(ki&1073741824)!==0&&(Ye&261930)===0?s.memoizedState=r:(s.memoizedState=o,s=pT(),Le.lanes|=s,Mr|=s,o)}function p_(s,r,o,u){return Gn(o,r)?o:zo.current!==null?(s=Mm(s,o,u),Gn(s,r)||(Yt=!0),s):(ki&42)===0||(ki&1073741824)!==0&&(Ye&261930)===0?(Yt=!0,s.memoizedState=o):(s=pT(),Le.lanes|=s,Mr|=s,r)}function g_(s,r,o,u,d){var p=ae.p;ae.p=p!==0&&8>p?p:8;var b=J.T,x={};J.T=x,Om(s,!1,r,o);try{var P=d(),W=J.S;if(W!==null&&W(x,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var ee=KD(P,u);wu(s,r,ee,Xn(s))}else wu(s,r,u,Xn(s))}catch(ie){wu(s,r,{then:function(){},status:"rejected",reason:ie},Xn())}finally{ae.p=p,b!==null&&x.types!==null&&(b.types=x.types),J.T=b}}function eN(){}function Rm(s,r,o,u){if(s.tag!==5)throw Error(i(476));var d=y_(s).queue;g_(s,d,r,de,o===null?eN:function(){return v_(s),o(u)})}function y_(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:de},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function v_(s){var r=y_(s);r.next===null&&(r=s.alternate.memoizedState),wu(s,r.next.queue,{},Xn())}function Im(){return hn(Bu)}function __(){return jt().memoizedState}function T_(){return jt().memoizedState}function tN(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=Xn();s=Sr(o);var u=xr(r,s,o);u!==null&&(Ln(u,r,o),vu(u,r,o)),r={cache:om()},s.payload=r;return}r=r.return}}function nN(s,r,o){var u=Xn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},jh(s)?E_(r,o):(o=Qd(s,r,o,u),o!==null&&(Ln(o,s,u),w_(o,r,u)))}function b_(s,r,o){var u=Xn();wu(s,r,o,u)}function wu(s,r,o,u){var d={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(jh(s))E_(r,d);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var b=r.lastRenderedState,x=p(b,o);if(d.hasEagerState=!0,d.eagerState=x,Gn(x,b))return yh(s,r,d,0),pt===null&&gh(),!1}catch{}finally{}if(o=Qd(s,r,d,u),o!==null)return Ln(o,s,u),w_(o,r,u),!0}return!1}function Om(s,r,o,u){if(u={lane:2,revertLane:hp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},jh(s)){if(r)throw Error(i(479))}else r=Qd(s,o,u,2),r!==null&&Ln(r,s,2)}function jh(s){var r=s.alternate;return s===Le||r!==null&&r===Le}function E_(s,r){Fo=Mh=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function w_(s,r,o){if((o&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Gl(s,o)}}var Su={readContext:hn,use:Oh,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt};Su.useEffectEvent=Nt;var S_={readContext:hn,use:Oh,useCallback:function(s,r){return Cn().memoizedState=[s,r===void 0?null:r],s},useContext:hn,useEffect:o_,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,Vh(4194308,4,h_.bind(null,r,s),o)},useLayoutEffect:function(s,r){return Vh(4194308,4,s,r)},useInsertionEffect:function(s,r){Vh(4,2,s,r)},useMemo:function(s,r){var o=Cn();r=r===void 0?null:r;var u=s();if(La){Mn(!0);try{s()}finally{Mn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(s,r,o){var u=Cn();if(o!==void 0){var d=o(r);if(La){Mn(!0);try{o(r)}finally{Mn(!1)}}}else d=r;return u.memoizedState=u.baseState=d,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:d},u.queue=s,s=s.dispatch=nN.bind(null,Le,s),[u.memoizedState,s]},useRef:function(s){var r=Cn();return s={current:s},r.memoizedState=s},useState:function(s){s=Am(s);var r=s.queue,o=b_.bind(null,Le,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:Nm,useDeferredValue:function(s,r){var o=Cn();return Mm(o,s,r)},useTransition:function(){var s=Am(!1);return s=g_.bind(null,Le,s.queue,!0,!1),Cn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var u=Le,d=Cn();if(Xe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),pt===null)throw Error(i(349));(Ye&127)!==0||Gv(u,r,o)}d.memoizedState=o;var p={value:o,getSnapshot:r};return d.queue=p,o_(Wv.bind(null,u,p,s),[s]),u.flags|=2048,qo(9,{destroy:void 0},Yv.bind(null,u,p,o,r),null),o},useId:function(){var s=Cn(),r=pt.identifierPrefix;if(Xe){var o=ai,u=ri;o=(u&~(1<<32-wt(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Rh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=$D++,r="_"+r+"r_"+o.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:Im,useFormState:n_,useActionState:n_,useOptimistic:function(s){var r=Cn();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Om.bind(null,Le,!0,o),o.dispatch=r,[s,r]},useMemoCache:wm,useCacheRefresh:function(){return Cn().memoizedState=tN.bind(null,Le)},useEffectEvent:function(s){var r=Cn(),o={impl:s};return r.memoizedState=o,function(){if((nt&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},km={readContext:hn,use:Oh,useCallback:d_,useContext:hn,useEffect:Dm,useImperativeHandle:f_,useInsertionEffect:u_,useLayoutEffect:c_,useMemo:m_,useReducer:kh,useRef:a_,useState:function(){return kh(Vi)},useDebugValue:Nm,useDeferredValue:function(s,r){var o=jt();return p_(o,ct.memoizedState,s,r)},useTransition:function(){var s=kh(Vi)[0],r=jt().memoizedState;return[typeof s=="boolean"?s:Eu(s),r]},useSyncExternalStore:qv,useId:__,useHostTransitionStatus:Im,useFormState:s_,useActionState:s_,useOptimistic:function(s,r){var o=jt();return Qv(o,ct,s,r)},useMemoCache:wm,useCacheRefresh:T_};km.useEffectEvent=l_;var x_={readContext:hn,use:Oh,useCallback:d_,useContext:hn,useEffect:Dm,useImperativeHandle:f_,useInsertionEffect:u_,useLayoutEffect:c_,useMemo:m_,useReducer:xm,useRef:a_,useState:function(){return xm(Vi)},useDebugValue:Nm,useDeferredValue:function(s,r){var o=jt();return ct===null?Mm(o,s,r):p_(o,ct.memoizedState,s,r)},useTransition:function(){var s=xm(Vi)[0],r=jt().memoizedState;return[typeof s=="boolean"?s:Eu(s),r]},useSyncExternalStore:qv,useId:__,useHostTransitionStatus:Im,useFormState:r_,useActionState:r_,useOptimistic:function(s,r){var o=jt();return ct!==null?Qv(o,ct,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:wm,useCacheRefresh:T_};x_.useEffectEvent=l_;function Vm(s,r,o,u){r=s.memoizedState,o=o(u,r),o=o==null?r:T({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var Pm={enqueueSetState:function(s,r,o){s=s._reactInternals;var u=Xn(),d=Sr(u);d.payload=r,o!=null&&(d.callback=o),r=xr(s,d,u),r!==null&&(Ln(r,s,u),vu(r,s,u))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var u=Xn(),d=Sr(u);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=xr(s,d,u),r!==null&&(Ln(r,s,u),vu(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=Xn(),u=Sr(o);u.tag=2,r!=null&&(u.callback=r),r=xr(s,u,o),r!==null&&(Ln(r,s,o),vu(r,s,o))}};function A_(s,r,o,u,d,p,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,p,b):r.prototype&&r.prototype.isPureReactComponent?!cu(o,u)||!cu(d,p):!0}function C_(s,r,o,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==s&&Pm.enqueueReplaceState(r,r.state,null)}function Ua(s,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(s=s.defaultProps){o===r&&(o=T({},o));for(var d in s)o[d]===void 0&&(o[d]=s[d])}return o}function D_(s){ph(s)}function N_(s){console.error(s)}function M_(s){ph(s)}function Lh(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function R_(s,r,o){try{var u=s.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function jm(s,r,o){return o=Sr(o),o.tag=3,o.payload={element:null},o.callback=function(){Lh(s,r)},o}function I_(s){return s=Sr(s),s.tag=3,s}function O_(s,r,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var p=u.value;s.payload=function(){return d(p)},s.callback=function(){R_(r,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(s.callback=function(){R_(r,o,u),typeof d!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var x=u.stack;this.componentDidCatch(u.value,{componentStack:x!==null?x:""})})}function sN(s,r,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Po(r,o,d,!0),o=Wn.current,o!==null){switch(o.tag){case 31:case 13:return ms===null?Qh():o.alternate===null&&Mt===0&&(Mt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===xh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),lp(s,u,d)),!1;case 22:return o.flags|=65536,u===xh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),lp(s,u,d)),!1}throw Error(i(435,o.tag))}return lp(s,u,d),Qh(),!1}if(Xe)return r=Wn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,u!==nm&&(s=Error(i(422),{cause:u}),du(cs(s,o)))):(u!==nm&&(r=Error(i(423),{cause:u}),du(cs(r,o))),s=s.current.alternate,s.flags|=65536,d&=-d,s.lanes|=d,u=cs(u,o),d=jm(s.stateNode,u,d),dm(s,d),Mt!==4&&(Mt=2)),!1;var p=Error(i(520),{cause:u});if(p=cs(p,o),Iu===null?Iu=[p]:Iu.push(p),Mt!==4&&(Mt=2),r===null)return!0;u=cs(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=d&-d,o.lanes|=s,s=jm(o.stateNode,u,s),dm(o,s),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Rr===null||!Rr.has(p))))return o.flags|=65536,d&=-d,o.lanes|=d,d=I_(d),O_(d,s,o,u),dm(o,d),!1}o=o.return}while(o!==null);return!1}var Lm=Error(i(461)),Yt=!1;function fn(s,r,o,u){r.child=s===null?jv(r,null,o,u):ja(r,s.child,o,u)}function k_(s,r,o,u,d){o=o.render;var p=r.ref;if("ref"in u){var b={};for(var x in u)x!=="ref"&&(b[x]=u[x])}else b=u;return Oa(r),u=_m(s,r,o,b,p,d),x=Tm(),s!==null&&!Yt?(bm(s,r,d),Pi(s,r,d)):(Xe&&x&&em(r),r.flags|=1,fn(s,r,u,d),r.child)}function V_(s,r,o,u,d){if(s===null){var p=o.type;return typeof p=="function"&&!Xd(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,P_(s,r,p,u,d)):(s=_h(o.type,null,u,r,r.mode,d),s.ref=r.ref,s.return=r,r.child=s)}if(p=s.child,!Ym(s,d)){var b=p.memoizedProps;if(o=o.compare,o=o!==null?o:cu,o(b,u)&&s.ref===r.ref)return Pi(s,r,d)}return r.flags|=1,s=Mi(p,u),s.ref=r.ref,s.return=r,r.child=s}function P_(s,r,o,u,d){if(s!==null){var p=s.memoizedProps;if(cu(p,u)&&s.ref===r.ref)if(Yt=!1,r.pendingProps=u=p,Ym(s,d))(s.flags&131072)!==0&&(Yt=!0);else return r.lanes=s.lanes,Pi(s,r,d)}return Um(s,r,o,u,d)}function j_(s,r,o,u){var d=u.children,p=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,s!==null){for(u=r.child=s.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~p}else u=0,r.child=null;return L_(s,r,p,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&wh(r,p!==null?p.cachePool:null),p!==null?Bv(r,p):pm(),zv(r);else return u=r.lanes=536870912,L_(s,r,p!==null?p.baseLanes|o:o,o,u)}else p!==null?(wh(r,p.cachePool),Bv(r,p),Cr(),r.memoizedState=null):(s!==null&&wh(r,null),pm(),Cr());return fn(s,r,d,o),r.child}function xu(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function L_(s,r,o,u,d){var p=um();return p=p===null?null:{parent:qt._currentValue,pool:p},r.memoizedState={baseLanes:o,cachePool:p},s!==null&&wh(r,null),pm(),zv(r),s!==null&&Po(s,r,u,!0),r.childLanes=d,null}function Uh(s,r){return r=zh({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function U_(s,r,o){return ja(r,s.child,null,o),s=Uh(r,r.pendingProps),s.flags|=2,Kn(r),r.memoizedState=null,s}function iN(s,r,o){var u=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(Xe){if(u.mode==="hidden")return s=Uh(r,u),r.lanes=536870912,xu(null,s);if(ym(r),(s=yt)?(s=XT(s,ds),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:_r!==null?{id:ri,overflow:ai}:null,retryLane:536870912,hydrationErrors:null},o=Ev(s),o.return=r,r.child=o,cn=r,yt=null)):s=null,s===null)throw br(r);return r.lanes=536870912,null}return Uh(r,u)}var p=s.memoizedState;if(p!==null){var b=p.dehydrated;if(ym(r),d)if(r.flags&256)r.flags&=-257,r=U_(s,r,o);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(Yt||Po(s,r,o,!1),d=(o&s.childLanes)!==0,Yt||d){if(u=pt,u!==null&&(b=Yl(u,o),b!==0&&b!==p.retryLane))throw p.retryLane=b,Na(s,b),Ln(u,s,b),Lm;Qh(),r=U_(s,r,o)}else s=p.treeContext,yt=ps(b.nextSibling),cn=r,Xe=!0,Tr=null,ds=!1,s!==null&&xv(r,s),r=Uh(r,u),r.flags|=4096;return r}return s=Mi(s.child,{mode:u.mode,children:u.children}),s.ref=r.ref,r.child=s,s.return=r,s}function Bh(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function Um(s,r,o,u,d){return Oa(r),o=_m(s,r,o,u,void 0,d),u=Tm(),s!==null&&!Yt?(bm(s,r,d),Pi(s,r,d)):(Xe&&u&&em(r),r.flags|=1,fn(s,r,o,d),r.child)}function B_(s,r,o,u,d,p){return Oa(r),r.updateQueue=null,o=Hv(r,u,o,d),Fv(s),u=Tm(),s!==null&&!Yt?(bm(s,r,p),Pi(s,r,p)):(Xe&&u&&em(r),r.flags|=1,fn(s,r,o,p),r.child)}function z_(s,r,o,u,d){if(Oa(r),r.stateNode===null){var p=Io,b=o.contextType;typeof b=="object"&&b!==null&&(p=hn(b)),p=new o(u,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Pm,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=u,p.state=r.memoizedState,p.refs={},hm(r),b=o.contextType,p.context=typeof b=="object"&&b!==null?hn(b):Io,p.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Vm(r,o,b,u),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&Pm.enqueueReplaceState(p,p.state,null),Tu(r,u,p,d),_u(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){p=r.stateNode;var x=r.memoizedProps,P=Ua(o,x);p.props=P;var W=p.context,ee=o.contextType;b=Io,typeof ee=="object"&&ee!==null&&(b=hn(ee));var ie=o.getDerivedStateFromProps;ee=typeof ie=="function"||typeof p.getSnapshotBeforeUpdate=="function",x=r.pendingProps!==x,ee||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x||W!==b)&&C_(r,p,u,b),wr=!1;var $=r.memoizedState;p.state=$,Tu(r,u,p,d),_u(),W=r.memoizedState,x||$!==W||wr?(typeof ie=="function"&&(Vm(r,o,ie,u),W=r.memoizedState),(P=wr||A_(r,o,P,u,$,W,b))?(ee||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=W),p.props=u,p.state=W,p.context=b,u=P):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{p=r.stateNode,fm(s,r),b=r.memoizedProps,ee=Ua(o,b),p.props=ee,ie=r.pendingProps,$=p.context,W=o.contextType,P=Io,typeof W=="object"&&W!==null&&(P=hn(W)),x=o.getDerivedStateFromProps,(W=typeof x=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==ie||$!==P)&&C_(r,p,u,P),wr=!1,$=r.memoizedState,p.state=$,Tu(r,u,p,d),_u();var Z=r.memoizedState;b!==ie||$!==Z||wr||s!==null&&s.dependencies!==null&&bh(s.dependencies)?(typeof x=="function"&&(Vm(r,o,x,u),Z=r.memoizedState),(ee=wr||A_(r,o,ee,u,$,Z,P)||s!==null&&s.dependencies!==null&&bh(s.dependencies))?(W||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,Z,P),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,Z,P)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===s.memoizedProps&&$===s.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&$===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Z),p.props=u,p.state=Z,p.context=P,u=ee):(typeof p.componentDidUpdate!="function"||b===s.memoizedProps&&$===s.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&$===s.memoizedState||(r.flags|=1024),u=!1)}return p=u,Bh(s,r),u=(r.flags&128)!==0,p||u?(p=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,s!==null&&u?(r.child=ja(r,s.child,null,d),r.child=ja(r,null,o,d)):fn(s,r,o,d),r.memoizedState=p.state,s=r.child):s=Pi(s,r,d),s}function F_(s,r,o,u){return Ra(),r.flags|=256,fn(s,r,o,u),r.child}var Bm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zm(s){return{baseLanes:s,cachePool:Rv()}}function Fm(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=Qn),s}function H_(s,r,o){var u=r.pendingProps,d=!1,p=(r.flags&128)!==0,b;if((b=p)||(b=s!==null&&s.memoizedState===null?!1:(Pt.current&2)!==0),b&&(d=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,s===null){if(Xe){if(d?Ar(r):Cr(),(s=yt)?(s=XT(s,ds),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:_r!==null?{id:ri,overflow:ai}:null,retryLane:536870912,hydrationErrors:null},o=Ev(s),o.return=r,r.child=o,cn=r,yt=null)):s=null,s===null)throw br(r);return Sp(s)?r.lanes=32:r.lanes=536870912,null}var x=u.children;return u=u.fallback,d?(Cr(),d=r.mode,x=zh({mode:"hidden",children:x},d),u=Ma(u,d,o,null),x.return=r,u.return=r,x.sibling=u,r.child=x,u=r.child,u.memoizedState=zm(o),u.childLanes=Fm(s,b,o),r.memoizedState=Bm,xu(null,u)):(Ar(r),Hm(r,x))}var P=s.memoizedState;if(P!==null&&(x=P.dehydrated,x!==null)){if(p)r.flags&256?(Ar(r),r.flags&=-257,r=qm(s,r,o)):r.memoizedState!==null?(Cr(),r.child=s.child,r.flags|=128,r=null):(Cr(),x=u.fallback,d=r.mode,u=zh({mode:"visible",children:u.children},d),x=Ma(x,d,o,null),x.flags|=2,u.return=r,x.return=r,u.sibling=x,r.child=u,ja(r,s.child,null,o),u=r.child,u.memoizedState=zm(o),u.childLanes=Fm(s,b,o),r.memoizedState=Bm,r=xu(null,u));else if(Ar(r),Sp(x)){if(b=x.nextSibling&&x.nextSibling.dataset,b)var W=b.dgst;b=W,u=Error(i(419)),u.stack="",u.digest=b,du({value:u,source:null,stack:null}),r=qm(s,r,o)}else if(Yt||Po(s,r,o,!1),b=(o&s.childLanes)!==0,Yt||b){if(b=pt,b!==null&&(u=Yl(b,o),u!==0&&u!==P.retryLane))throw P.retryLane=u,Na(s,u),Ln(b,s,u),Lm;wp(x)||Qh(),r=qm(s,r,o)}else wp(x)?(r.flags|=192,r.child=s.child,r=null):(s=P.treeContext,yt=ps(x.nextSibling),cn=r,Xe=!0,Tr=null,ds=!1,s!==null&&xv(r,s),r=Hm(r,u.children),r.flags|=4096);return r}return d?(Cr(),x=u.fallback,d=r.mode,P=s.child,W=P.sibling,u=Mi(P,{mode:"hidden",children:u.children}),u.subtreeFlags=P.subtreeFlags&65011712,W!==null?x=Mi(W,x):(x=Ma(x,d,o,null),x.flags|=2),x.return=r,u.return=r,u.sibling=x,r.child=u,xu(null,u),u=r.child,x=s.child.memoizedState,x===null?x=zm(o):(d=x.cachePool,d!==null?(P=qt._currentValue,d=d.parent!==P?{parent:P,pool:P}:d):d=Rv(),x={baseLanes:x.baseLanes|o,cachePool:d}),u.memoizedState=x,u.childLanes=Fm(s,b,o),r.memoizedState=Bm,xu(s.child,u)):(Ar(r),o=s.child,s=o.sibling,o=Mi(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,s!==null&&(b=r.deletions,b===null?(r.deletions=[s],r.flags|=16):b.push(s)),r.child=o,r.memoizedState=null,o)}function Hm(s,r){return r=zh({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function zh(s,r){return s=Yn(22,s,null,r),s.lanes=0,s}function qm(s,r,o){return ja(r,s.child,null,o),s=Hm(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function q_(s,r,o){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),rm(s.return,r,o)}function Gm(s,r,o,u,d,p){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d,treeForkCount:p}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=o,b.tailMode=d,b.treeForkCount=p)}function G_(s,r,o){var u=r.pendingProps,d=u.revealOrder,p=u.tail;u=u.children;var b=Pt.current,x=(b&2)!==0;if(x?(b=b&1|2,r.flags|=128):b&=1,he(Pt,b),fn(s,r,u,o),u=Xe?fu:0,!x&&s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&q_(s,o,r);else if(s.tag===19)q_(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(d){case"forwards":for(o=r.child,d=null;o!==null;)s=o.alternate,s!==null&&Nh(s)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),Gm(r,!1,d,o,p,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(s=d.alternate,s!==null&&Nh(s)===null){r.child=d;break}s=d.sibling,d.sibling=o,o=d,d=s}Gm(r,!0,o,null,p,u);break;case"together":Gm(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Pi(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),Mr|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(Po(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=Mi(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=Mi(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function Ym(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&bh(s)))}function rN(s,r,o){switch(r.tag){case 3:It(r,r.stateNode.containerInfo),Er(r,qt,s.memoizedState.cache),Ra();break;case 27:case 5:ss(r);break;case 4:It(r,r.stateNode.containerInfo);break;case 10:Er(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,ym(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Ar(r),r.flags|=128,null):(o&r.child.childLanes)!==0?H_(s,r,o):(Ar(r),s=Pi(s,r,o),s!==null?s.sibling:null);Ar(r);break;case 19:var d=(s.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Po(s,r,o,!1),u=(o&r.childLanes)!==0),d){if(u)return G_(s,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),he(Pt,Pt.current),u)break;return null;case 22:return r.lanes=0,j_(s,r,o,r.pendingProps);case 24:Er(r,qt,s.memoizedState.cache)}return Pi(s,r,o)}function Y_(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)Yt=!0;else{if(!Ym(s,o)&&(r.flags&128)===0)return Yt=!1,rN(s,r,o);Yt=(s.flags&131072)!==0}else Yt=!1,Xe&&(r.flags&1048576)!==0&&Sv(r,fu,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(s=Va(r.elementType),r.type=s,typeof s=="function")Xd(s)?(u=Ua(s,u),r.tag=1,r=z_(null,r,s,u,o)):(r.tag=0,r=Um(null,r,s,u,o));else{if(s!=null){var d=s.$$typeof;if(d===te){r.tag=11,r=k_(null,r,s,u,o);break e}else if(d===C){r.tag=14,r=V_(null,r,s,u,o);break e}}throw r=le(s)||s,Error(i(306,r,""))}}return r;case 0:return Um(s,r,r.type,r.pendingProps,o);case 1:return u=r.type,d=Ua(u,r.pendingProps),z_(s,r,u,d,o);case 3:e:{if(It(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var p=r.memoizedState;d=p.element,fm(s,r),Tu(r,u,null,o);var b=r.memoizedState;if(u=b.cache,Er(r,qt,u),u!==p.cache&&am(r,[qt],o,!0),_u(),u=b.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=F_(s,r,u,o);break e}else if(u!==d){d=cs(Error(i(424)),r),du(d),r=F_(s,r,u,o);break e}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(yt=ps(s.firstChild),cn=r,Xe=!0,Tr=null,ds=!0,o=jv(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ra(),u===d){r=Pi(s,r,o);break e}fn(s,r,u,o)}r=r.child}return r;case 26:return Bh(s,r),s===null?(o=sb(r.type,null,r.pendingProps,null))?r.memoizedState=o:Xe||(o=r.type,s=r.pendingProps,u=sf(ke.current).createElement(o),u[zt]=r,u[sn]=s,dn(u,o,s),Ft(u),r.stateNode=u):r.memoizedState=sb(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return ss(r),s===null&&Xe&&(u=r.stateNode=eb(r.type,r.pendingProps,ke.current),cn=r,ds=!0,d=yt,Vr(r.type)?(xp=d,yt=ps(u.firstChild)):yt=d),fn(s,r,r.pendingProps.children,o),Bh(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Xe&&((d=u=yt)&&(u=VN(u,r.type,r.pendingProps,ds),u!==null?(r.stateNode=u,cn=r,yt=ps(u.firstChild),ds=!1,d=!0):d=!1),d||br(r)),ss(r),d=r.type,p=r.pendingProps,b=s!==null?s.memoizedProps:null,u=p.children,Tp(d,p)?u=null:b!==null&&Tp(d,b)&&(r.flags|=32),r.memoizedState!==null&&(d=_m(s,r,QD,null,null,o),Bu._currentValue=d),Bh(s,r),fn(s,r,u,o),r.child;case 6:return s===null&&Xe&&((s=o=yt)&&(o=PN(o,r.pendingProps,ds),o!==null?(r.stateNode=o,cn=r,yt=null,s=!0):s=!1),s||br(r)),null;case 13:return H_(s,r,o);case 4:return It(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=ja(r,null,u,o):fn(s,r,u,o),r.child;case 11:return k_(s,r,r.type,r.pendingProps,o);case 7:return fn(s,r,r.pendingProps,o),r.child;case 8:return fn(s,r,r.pendingProps.children,o),r.child;case 12:return fn(s,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Er(r,r.type,u.value),fn(s,r,u.children,o),r.child;case 9:return d=r.type._context,u=r.pendingProps.children,Oa(r),d=hn(d),u=u(d),r.flags|=1,fn(s,r,u,o),r.child;case 14:return V_(s,r,r.type,r.pendingProps,o);case 15:return P_(s,r,r.type,r.pendingProps,o);case 19:return G_(s,r,o);case 31:return iN(s,r,o);case 22:return j_(s,r,o,r.pendingProps);case 24:return Oa(r),u=hn(qt),s===null?(d=um(),d===null&&(d=pt,p=om(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=o),d=p),r.memoizedState={parent:u,cache:d},hm(r),Er(r,qt,d)):((s.lanes&o)!==0&&(fm(s,r),Tu(r,null,null,o),_u()),d=s.memoizedState,p=r.memoizedState,d.parent!==u?(d={parent:u,cache:u},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Er(r,qt,u)):(u=p.cache,Er(r,qt,u),u!==d.cache&&am(r,[qt],o,!0))),fn(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function ji(s){s.flags|=4}function Wm(s,r,o,u,d){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(d&335544128)===d)if(s.stateNode.complete)s.flags|=8192;else if(_T())s.flags|=8192;else throw Pa=xh,cm}else s.flags&=-16777217}function W_(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!lb(r))if(_T())s.flags|=8192;else throw Pa=xh,cm}function Fh(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?go():536870912,s.lanes|=r,Ko|=r)}function Au(s,r){if(!Xe)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function vt(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,u=0;if(r)for(var d=s.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=s,d=d.sibling;else for(d=s.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=s,d=d.sibling;return s.subtreeFlags|=u,s.childLanes=o,r}function aN(s,r,o){var u=r.pendingProps;switch(tm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(r),null;case 1:return vt(r),null;case 3:return o=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Oi(qt),mt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(Vo(r)?ji(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,sm())),vt(r),null;case 26:var d=r.type,p=r.memoizedState;return s===null?(ji(r),p!==null?(vt(r),W_(r,p)):(vt(r),Wm(r,d,null,u,o))):p?p!==s.memoizedState?(ji(r),vt(r),W_(r,p)):(vt(r),r.flags&=-16777217):(s=s.memoizedProps,s!==u&&ji(r),vt(r),Wm(r,d,s,u,o)),null;case 27:if(rr(r),o=ke.current,d=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&ji(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return vt(r),null}s=fe.current,Vo(r)?Av(r):(s=eb(d,u,o),r.stateNode=s,ji(r))}return vt(r),null;case 5:if(rr(r),d=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&ji(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return vt(r),null}if(p=fe.current,Vo(r))Av(r);else{var b=sf(ke.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?b.createElement(d,{is:u.is}):b.createElement(d)}}p[zt]=r,p[sn]=u;e:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break e;for(;b.sibling===null;){if(b.return===null||b.return===r)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=p;e:switch(dn(p,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ji(r)}}return vt(r),Wm(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,o),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&ji(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=ke.current,Vo(r)){if(s=r.stateNode,o=r.memoizedProps,u=null,d=cn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}s[zt]=r,s=!!(s.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||HT(s.nodeValue,o)),s||br(r,!0)}else s=sf(s).createTextNode(u),s[zt]=r,r.stateNode=s}return vt(r),null;case 31:if(o=r.memoizedState,s===null||s.memoizedState!==null){if(u=Vo(r),o!==null){if(s===null){if(!u)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[zt]=r}else Ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;vt(r),s=!1}else o=sm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return r.flags&256?(Kn(r),r):(Kn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return vt(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(d=Vo(r),u!==null&&u.dehydrated!==null){if(s===null){if(!d)throw Error(i(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[zt]=r}else Ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;vt(r),d=!1}else d=sm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Kn(r),r):(Kn(r),null)}return Kn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,s=s!==null&&s.memoizedState!==null,o&&(u=r.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==d&&(u.flags|=2048)),o!==s&&o&&(r.child.flags|=8192),Fh(r,r.updateQueue),vt(r),null);case 4:return mt(),s===null&&pp(r.stateNode.containerInfo),vt(r),null;case 10:return Oi(r.type),vt(r),null;case 19:if(se(Pt),u=r.memoizedState,u===null)return vt(r),null;if(d=(r.flags&128)!==0,p=u.rendering,p===null)if(d)Au(u,!1);else{if(Mt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(p=Nh(s),p!==null){for(r.flags|=128,Au(u,!1),s=p.updateQueue,r.updateQueue=s,Fh(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)bv(o,s),o=o.sibling;return he(Pt,Pt.current&1|2),Xe&&Ri(r,u.treeForkCount),r.child}s=s.sibling}u.tail!==null&&Xt()>Wh&&(r.flags|=128,d=!0,Au(u,!1),r.lanes=4194304)}else{if(!d)if(s=Nh(p),s!==null){if(r.flags|=128,d=!0,s=s.updateQueue,r.updateQueue=s,Fh(r,s),Au(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Xe)return vt(r),null}else 2*Xt()-u.renderingStartTime>Wh&&o!==536870912&&(r.flags|=128,d=!0,Au(u,!1),r.lanes=4194304);u.isBackwards?(p.sibling=r.child,r.child=p):(s=u.last,s!==null?s.sibling=p:r.child=p,u.last=p)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=Xt(),s.sibling=null,o=Pt.current,he(Pt,d?o&1|2:o&1),Xe&&Ri(r,u.treeForkCount),s):(vt(r),null);case 22:case 23:return Kn(r),gm(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(vt(r),r.subtreeFlags&6&&(r.flags|=8192)):vt(r),o=r.updateQueue,o!==null&&Fh(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),s!==null&&se(ka),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Oi(qt),vt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function oN(s,r){switch(tm(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Oi(qt),mt(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return rr(r),null;case 31:if(r.memoizedState!==null){if(Kn(r),r.alternate===null)throw Error(i(340));Ra()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(Kn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Ra()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return se(Pt),null;case 4:return mt(),null;case 10:return Oi(r.type),null;case 22:case 23:return Kn(r),gm(),s!==null&&se(ka),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Oi(qt),null;case 25:return null;default:return null}}function K_(s,r){switch(tm(r),r.tag){case 3:Oi(qt),mt();break;case 26:case 27:case 5:rr(r);break;case 4:mt();break;case 31:r.memoizedState!==null&&Kn(r);break;case 13:Kn(r);break;case 19:se(Pt);break;case 10:Oi(r.type);break;case 22:case 23:Kn(r),gm(),s!==null&&se(ka);break;case 24:Oi(qt)}}function Cu(s,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&s)===s){u=void 0;var p=o.create,b=o.inst;u=p(),b.destroy=u}o=o.next}while(o!==d)}}catch(x){at(r,r.return,x)}}function Dr(s,r,o){try{var u=r.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var p=d.next;u=p;do{if((u.tag&s)===s){var b=u.inst,x=b.destroy;if(x!==void 0){b.destroy=void 0,d=r;var P=o,W=x;try{W()}catch(ee){at(d,P,ee)}}}u=u.next}while(u!==p)}}catch(ee){at(r,r.return,ee)}}function $_(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{Uv(r,o)}catch(u){at(s,s.return,u)}}}function Q_(s,r,o){o.props=Ua(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(u){at(s,r,u)}}function Du(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof o=="function"?s.refCleanup=o(u):o.current=u}}catch(d){at(s,r,d)}}function oi(s,r){var o=s.ref,u=s.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){at(s,r,d)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){at(s,r,d)}else o.current=null}function X_(s){var r=s.type,o=s.memoizedProps,u=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){at(s,s.return,d)}}function Km(s,r,o){try{var u=s.stateNode;NN(u,s.type,o,r),u[sn]=r}catch(d){at(s,s.return,d)}}function Z_(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Vr(s.type)||s.tag===4}function $m(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Z_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Vr(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Qm(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ds));else if(u!==4&&(u===27&&Vr(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(Qm(s,r,o),s=s.sibling;s!==null;)Qm(s,r,o),s=s.sibling}function Hh(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(u!==4&&(u===27&&Vr(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(Hh(s,r,o),s=s.sibling;s!==null;)Hh(s,r,o),s=s.sibling}function J_(s){var r=s.stateNode,o=s.memoizedProps;try{for(var u=s.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);dn(r,u,o),r[zt]=s,r[sn]=o}catch(p){at(s,s.return,p)}}var Li=!1,Wt=!1,Xm=!1,eT=typeof WeakSet=="function"?WeakSet:Set,an=null;function lN(s,r){if(s=s.containerInfo,vp=hf,s=fv(s),qd(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var b=0,x=-1,P=-1,W=0,ee=0,ie=s,$=null;t:for(;;){for(var Z;ie!==o||d!==0&&ie.nodeType!==3||(x=b+d),ie!==p||u!==0&&ie.nodeType!==3||(P=b+u),ie.nodeType===3&&(b+=ie.nodeValue.length),(Z=ie.firstChild)!==null;)$=ie,ie=Z;for(;;){if(ie===s)break t;if($===o&&++W===d&&(x=b),$===p&&++ee===u&&(P=b),(Z=ie.nextSibling)!==null)break;ie=$,$=ie.parentNode}ie=Z}o=x===-1||P===-1?null:{start:x,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(_p={focusedElem:s,selectionRange:o},hf=!1,an=r;an!==null;)if(r=an,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,an=s;else for(;an!==null;){switch(r=an,p=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)d=s[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,o=r,d=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var pe=Ua(o.type,d);s=u.getSnapshotBeforeUpdate(pe,p),u.__reactInternalSnapshotBeforeUpdate=s}catch(Se){at(o,o.return,Se)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)Ep(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Ep(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,an=s;break}an=r.return}}function tT(s,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Bi(s,o),u&4&&Cu(5,o);break;case 1:if(Bi(s,o),u&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(b){at(o,o.return,b)}else{var d=Ua(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(d,r,s.__reactInternalSnapshotBeforeUpdate)}catch(b){at(o,o.return,b)}}u&64&&$_(o),u&512&&Du(o,o.return);break;case 3:if(Bi(s,o),u&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Uv(s,r)}catch(b){at(o,o.return,b)}}break;case 27:r===null&&u&4&&J_(o);case 26:case 5:Bi(s,o),r===null&&u&4&&X_(o),u&512&&Du(o,o.return);break;case 12:Bi(s,o);break;case 31:Bi(s,o),u&4&&iT(s,o);break;case 13:Bi(s,o),u&4&&rT(s,o),u&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=yN.bind(null,o),jN(s,o))));break;case 22:if(u=o.memoizedState!==null||Li,!u){r=r!==null&&r.memoizedState!==null||Wt,d=Li;var p=Wt;Li=u,(Wt=r)&&!p?zi(s,o,(o.subtreeFlags&8772)!==0):Bi(s,o),Li=d,Wt=p}break;case 30:break;default:Bi(s,o)}}function nT(s){var r=s.alternate;r!==null&&(s.alternate=null,nT(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&vo(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var bt=null,kn=!1;function Ui(s,r,o){for(o=o.child;o!==null;)sT(s,r,o),o=o.sibling}function sT(s,r,o){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(zn,o)}catch{}switch(o.tag){case 26:Wt||oi(o,r),Ui(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Wt||oi(o,r);var u=bt,d=kn;Vr(o.type)&&(bt=o.stateNode,kn=!1),Ui(s,r,o),ju(o.stateNode),bt=u,kn=d;break;case 5:Wt||oi(o,r);case 6:if(u=bt,d=kn,bt=null,Ui(s,r,o),bt=u,kn=d,bt!==null)if(kn)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(o.stateNode)}catch(p){at(o,r,p)}else try{bt.removeChild(o.stateNode)}catch(p){at(o,r,p)}break;case 18:bt!==null&&(kn?(s=bt,$T(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),nl(s)):$T(bt,o.stateNode));break;case 4:u=bt,d=kn,bt=o.stateNode.containerInfo,kn=!0,Ui(s,r,o),bt=u,kn=d;break;case 0:case 11:case 14:case 15:Dr(2,o,r),Wt||Dr(4,o,r),Ui(s,r,o);break;case 1:Wt||(oi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Q_(o,r,u)),Ui(s,r,o);break;case 21:Ui(s,r,o);break;case 22:Wt=(u=Wt)||o.memoizedState!==null,Ui(s,r,o),Wt=u;break;default:Ui(s,r,o)}}function iT(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{nl(s)}catch(o){at(r,r.return,o)}}}function rT(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{nl(s)}catch(o){at(r,r.return,o)}}function uN(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new eT),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new eT),r;default:throw Error(i(435,s.tag))}}function qh(s,r){var o=uN(s);r.forEach(function(u){if(!o.has(u)){o.add(u);var d=vN.bind(null,s,u);u.then(d,d)}})}function Vn(s,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],p=s,b=r,x=b;e:for(;x!==null;){switch(x.tag){case 27:if(Vr(x.type)){bt=x.stateNode,kn=!1;break e}break;case 5:bt=x.stateNode,kn=!1;break e;case 3:case 4:bt=x.stateNode.containerInfo,kn=!0;break e}x=x.return}if(bt===null)throw Error(i(160));sT(p,b,d),bt=null,kn=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)aT(r,s),r=r.sibling}var ks=null;function aT(s,r){var o=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Vn(r,s),Pn(s),u&4&&(Dr(3,s,s.return),Cu(3,s),Dr(5,s,s.return));break;case 1:Vn(r,s),Pn(s),u&512&&(Wt||o===null||oi(o,o.return)),u&64&&Li&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=ks;if(Vn(r,s),Pn(s),u&512&&(Wt||o===null||oi(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=s.memoizedState,o===null)if(u===null)if(s.stateNode===null){e:{u=s.type,o=s.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":p=d.getElementsByTagName("title")[0],(!p||p[Ws]||p[zt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(u),d.head.insertBefore(p,d.querySelector("head > title"))),dn(p,u,o),p[zt]=s,Ft(p),u=p;break e;case"link":var b=ab("link","href",d).get(u+(o.href||""));if(b){for(var x=0;x<b.length;x++)if(p=b[x],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(x,1);break t}}p=d.createElement(u),dn(p,u,o),d.head.appendChild(p);break;case"meta":if(b=ab("meta","content",d).get(u+(o.content||""))){for(x=0;x<b.length;x++)if(p=b[x],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(x,1);break t}}p=d.createElement(u),dn(p,u,o),d.head.appendChild(p);break;default:throw Error(i(468,u))}p[zt]=s,Ft(p),u=p}s.stateNode=u}else ob(d,s.type,s.stateNode);else s.stateNode=rb(d,u,s.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?ob(d,s.type,s.stateNode):rb(d,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Km(s,s.memoizedProps,o.memoizedProps)}break;case 27:Vn(r,s),Pn(s),u&512&&(Wt||o===null||oi(o,o.return)),o!==null&&u&4&&Km(s,s.memoizedProps,o.memoizedProps);break;case 5:if(Vn(r,s),Pn(s),u&512&&(Wt||o===null||oi(o,o.return)),s.flags&32){d=s.stateNode;try{On(d,"")}catch(pe){at(s,s.return,pe)}}u&4&&s.stateNode!=null&&(d=s.memoizedProps,Km(s,d,o!==null?o.memoizedProps:d)),u&1024&&(Xm=!0);break;case 6:if(Vn(r,s),Pn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,o=s.stateNode;try{o.nodeValue=u}catch(pe){at(s,s.return,pe)}}break;case 3:if(of=null,d=ks,ks=rf(r.containerInfo),Vn(r,s),ks=d,Pn(s),u&4&&o!==null&&o.memoizedState.isDehydrated)try{nl(r.containerInfo)}catch(pe){at(s,s.return,pe)}Xm&&(Xm=!1,oT(s));break;case 4:u=ks,ks=rf(s.stateNode.containerInfo),Vn(r,s),Pn(s),ks=u;break;case 12:Vn(r,s),Pn(s);break;case 31:Vn(r,s),Pn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,qh(s,u)));break;case 13:Vn(r,s),Pn(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Yh=Xt()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,qh(s,u)));break;case 22:d=s.memoizedState!==null;var P=o!==null&&o.memoizedState!==null,W=Li,ee=Wt;if(Li=W||d,Wt=ee||P,Vn(r,s),Wt=ee,Li=W,Pn(s),u&8192)e:for(r=s.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||P||Li||Wt||Ba(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){P=o=r;try{if(p=P.stateNode,d)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{x=P.stateNode;var ie=P.memoizedProps.style,$=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;x.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(pe){at(P,P.return,pe)}}}else if(r.tag===6){if(o===null){P=r;try{P.stateNode.nodeValue=d?"":P.memoizedProps}catch(pe){at(P,P.return,pe)}}}else if(r.tag===18){if(o===null){P=r;try{var Z=P.stateNode;d?QT(Z,!0):QT(P.stateNode,!1)}catch(pe){at(P,P.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,qh(s,o))));break;case 19:Vn(r,s),Pn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,qh(s,u)));break;case 30:break;case 21:break;default:Vn(r,s),Pn(s)}}function Pn(s){var r=s.flags;if(r&2){try{for(var o,u=s.return;u!==null;){if(Z_(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var d=o.stateNode,p=$m(s);Hh(s,p,d);break;case 5:var b=o.stateNode;o.flags&32&&(On(b,""),o.flags&=-33);var x=$m(s);Hh(s,x,b);break;case 3:case 4:var P=o.stateNode.containerInfo,W=$m(s);Qm(s,W,P);break;default:throw Error(i(161))}}catch(ee){at(s,s.return,ee)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function oT(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;oT(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Bi(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)tT(s,r.alternate,r),r=r.sibling}function Ba(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Dr(4,r,r.return),Ba(r);break;case 1:oi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Q_(r,r.return,o),Ba(r);break;case 27:ju(r.stateNode);case 26:case 5:oi(r,r.return),Ba(r);break;case 22:r.memoizedState===null&&Ba(r);break;case 30:Ba(r);break;default:Ba(r)}s=s.sibling}}function zi(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,d=s,p=r,b=p.flags;switch(p.tag){case 0:case 11:case 15:zi(d,p,o),Cu(4,p);break;case 1:if(zi(d,p,o),u=p,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(W){at(u,u.return,W)}if(u=p,d=u.updateQueue,d!==null){var x=u.stateNode;try{var P=d.shared.hiddenCallbacks;if(P!==null)for(d.shared.hiddenCallbacks=null,d=0;d<P.length;d++)Lv(P[d],x)}catch(W){at(u,u.return,W)}}o&&b&64&&$_(p),Du(p,p.return);break;case 27:J_(p);case 26:case 5:zi(d,p,o),o&&u===null&&b&4&&X_(p),Du(p,p.return);break;case 12:zi(d,p,o);break;case 31:zi(d,p,o),o&&b&4&&iT(d,p);break;case 13:zi(d,p,o),o&&b&4&&rT(d,p);break;case 22:p.memoizedState===null&&zi(d,p,o),Du(p,p.return);break;case 30:break;default:zi(d,p,o)}r=r.sibling}}function Zm(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&mu(o))}function Jm(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&mu(s))}function Vs(s,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)lT(s,r,o,u),r=r.sibling}function lT(s,r,o,u){var d=r.flags;switch(r.tag){case 0:case 11:case 15:Vs(s,r,o,u),d&2048&&Cu(9,r);break;case 1:Vs(s,r,o,u);break;case 3:Vs(s,r,o,u),d&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&mu(s)));break;case 12:if(d&2048){Vs(s,r,o,u),s=r.stateNode;try{var p=r.memoizedProps,b=p.id,x=p.onPostCommit;typeof x=="function"&&x(b,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(P){at(r,r.return,P)}}else Vs(s,r,o,u);break;case 31:Vs(s,r,o,u);break;case 13:Vs(s,r,o,u);break;case 23:break;case 22:p=r.stateNode,b=r.alternate,r.memoizedState!==null?p._visibility&2?Vs(s,r,o,u):Nu(s,r):p._visibility&2?Vs(s,r,o,u):(p._visibility|=2,Go(s,r,o,u,(r.subtreeFlags&10256)!==0||!1)),d&2048&&Zm(b,r);break;case 24:Vs(s,r,o,u),d&2048&&Jm(r.alternate,r);break;default:Vs(s,r,o,u)}}function Go(s,r,o,u,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=s,b=r,x=o,P=u,W=b.flags;switch(b.tag){case 0:case 11:case 15:Go(p,b,x,P,d),Cu(8,b);break;case 23:break;case 22:var ee=b.stateNode;b.memoizedState!==null?ee._visibility&2?Go(p,b,x,P,d):Nu(p,b):(ee._visibility|=2,Go(p,b,x,P,d)),d&&W&2048&&Zm(b.alternate,b);break;case 24:Go(p,b,x,P,d),d&&W&2048&&Jm(b.alternate,b);break;default:Go(p,b,x,P,d)}r=r.sibling}}function Nu(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,u=r,d=u.flags;switch(u.tag){case 22:Nu(o,u),d&2048&&Zm(u.alternate,u);break;case 24:Nu(o,u),d&2048&&Jm(u.alternate,u);break;default:Nu(o,u)}r=r.sibling}}var Mu=8192;function Yo(s,r,o){if(s.subtreeFlags&Mu)for(s=s.child;s!==null;)uT(s,r,o),s=s.sibling}function uT(s,r,o){switch(s.tag){case 26:Yo(s,r,o),s.flags&Mu&&s.memoizedState!==null&&$N(o,ks,s.memoizedState,s.memoizedProps);break;case 5:Yo(s,r,o);break;case 3:case 4:var u=ks;ks=rf(s.stateNode.containerInfo),Yo(s,r,o),ks=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=Mu,Mu=16777216,Yo(s,r,o),Mu=u):Yo(s,r,o));break;default:Yo(s,r,o)}}function cT(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Ru(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];an=u,fT(u,s)}cT(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)hT(s),s=s.sibling}function hT(s){switch(s.tag){case 0:case 11:case 15:Ru(s),s.flags&2048&&Dr(9,s,s.return);break;case 3:Ru(s);break;case 12:Ru(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Gh(s)):Ru(s);break;default:Ru(s)}}function Gh(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];an=u,fT(u,s)}cT(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Dr(8,r,r.return),Gh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Gh(r));break;default:Gh(r)}s=s.sibling}}function fT(s,r){for(;an!==null;){var o=an;switch(o.tag){case 0:case 11:case 15:Dr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:mu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,an=u;else e:for(o=s;an!==null;){u=an;var d=u.sibling,p=u.return;if(nT(u),u===o){an=null;break e}if(d!==null){d.return=p,an=d;break e}an=p}}}var cN={getCacheForType:function(s){var r=hn(qt),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o},cacheSignal:function(){return hn(qt).controller.signal}},hN=typeof WeakMap=="function"?WeakMap:Map,nt=0,pt=null,He=null,Ye=0,rt=0,$n=null,Nr=!1,Wo=!1,ep=!1,Fi=0,Mt=0,Mr=0,za=0,tp=0,Qn=0,Ko=0,Iu=null,jn=null,np=!1,Yh=0,dT=0,Wh=1/0,Kh=null,Rr=null,Jt=0,Ir=null,$o=null,Hi=0,sp=0,ip=null,mT=null,Ou=0,rp=null;function Xn(){return(nt&2)!==0&&Ye!==0?Ye&-Ye:J.T!==null?hp():$c()}function pT(){if(Qn===0)if((Ye&536870912)===0||Xe){var s=xe;xe<<=1,(xe&3932160)===0&&(xe=262144),Qn=s}else Qn=536870912;return s=Wn.current,s!==null&&(s.flags|=32),Qn}function Ln(s,r,o){(s===pt&&(rt===2||rt===9)||s.cancelPendingCommit!==null)&&(Qo(s,0),Or(s,Ye,Qn,!1)),xs(s,o),((nt&2)===0||s!==pt)&&(s===pt&&((nt&2)===0&&(za|=o),Mt===4&&Or(s,Ye,Qn,!1)),li(s))}function gT(s,r,o){if((nt&6)!==0)throw Error(i(327));var u=!o&&(r&127)===0&&(r&s.expiredLanes)===0||Fn(s,r),d=u?mN(s,r):op(s,r,!0),p=u;do{if(d===0){Wo&&!u&&Or(s,r,0,!1);break}else{if(o=s.current.alternate,p&&!fN(o)){d=op(s,r,!1),p=!1;continue}if(d===2){if(p=r,s.errorRecoveryDisabledLanes&p)var b=0;else b=s.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var x=s;d=Iu;var P=x.current.memoizedState.isDehydrated;if(P&&(Qo(x,b).flags|=256),b=op(x,b,!1),b!==2){if(ep&&!P){x.errorRecoveryDisabledLanes|=p,za|=p,d=4;break e}p=jn,jn=d,p!==null&&(jn===null?jn=p:jn.push.apply(jn,p))}d=b}if(p=!1,d!==2)continue}}if(d===1){Qo(s,0),Or(s,r,0,!0);break}e:{switch(u=s,p=d,p){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Or(u,r,Qn,!Nr);break e;case 2:jn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(d=Yh+300-Xt(),10<d)){if(Or(u,r,Qn,!Nr),Ie(u,0,!0)!==0)break e;Hi=r,u.timeoutHandle=WT(yT.bind(null,u,o,jn,Kh,np,r,Qn,za,Ko,Nr,p,"Throttled",-0,0),d);break e}yT(u,o,jn,Kh,np,r,Qn,za,Ko,Nr,p,null,-0,0)}}break}while(!0);li(s)}function yT(s,r,o,u,d,p,b,x,P,W,ee,ie,$,Z){if(s.timeoutHandle=-1,ie=r.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ds},uT(r,p,ie);var pe=(p&62914560)===p?Yh-Xt():(p&4194048)===p?dT-Xt():0;if(pe=QN(ie,pe),pe!==null){Hi=p,s.cancelPendingCommit=pe(xT.bind(null,s,r,p,o,u,d,b,x,P,ee,ie,null,$,Z)),Or(s,p,b,!W);return}}xT(s,r,p,o,u,d,b,x,P)}function fN(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],p=d.getSnapshot;d=d.value;try{if(!Gn(p(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Or(s,r,o,u){r&=~tp,r&=~za,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var d=r;0<d;){var p=31-wt(d),b=1<<p;u[p]=-1,d&=~b}o!==0&&ga(s,o,r)}function $h(){return(nt&6)===0?(ku(0),!1):!0}function ap(){if(He!==null){if(rt===0)var s=He.return;else s=He,Ii=Ia=null,Em(s),Bo=null,gu=0,s=He;for(;s!==null;)K_(s.alternate,s),s=s.return;He=null}}function Qo(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,IN(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),Hi=0,ap(),pt=s,He=o=Mi(s.current,null),Ye=r,rt=0,$n=null,Nr=!1,Wo=Fn(s,r),ep=!1,Ko=Qn=tp=za=Mr=Mt=0,jn=Iu=null,np=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var d=31-wt(u),p=1<<d;r|=s[d],u&=~p}return Fi=r,gh(),o}function vT(s,r){Le=null,J.H=Su,r===Uo||r===Sh?(r=kv(),rt=3):r===cm?(r=kv(),rt=4):rt=r===Lm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,$n=r,He===null&&(Mt=1,Lh(s,cs(r,s.current)))}function _T(){var s=Wn.current;return s===null?!0:(Ye&4194048)===Ye?ms===null:(Ye&62914560)===Ye||(Ye&536870912)!==0?s===ms:!1}function TT(){var s=J.H;return J.H=Su,s===null?Su:s}function bT(){var s=J.A;return J.A=cN,s}function Qh(){Mt=4,Nr||(Ye&4194048)!==Ye&&Wn.current!==null||(Wo=!0),(Mr&134217727)===0&&(za&134217727)===0||pt===null||Or(pt,Ye,Qn,!1)}function op(s,r,o){var u=nt;nt|=2;var d=TT(),p=bT();(pt!==s||Ye!==r)&&(Kh=null,Qo(s,r)),r=!1;var b=Mt;e:do try{if(rt!==0&&He!==null){var x=He,P=$n;switch(rt){case 8:ap(),b=6;break e;case 3:case 2:case 9:case 6:Wn.current===null&&(r=!0);var W=rt;if(rt=0,$n=null,Xo(s,x,P,W),o&&Wo){b=0;break e}break;default:W=rt,rt=0,$n=null,Xo(s,x,P,W)}}dN(),b=Mt;break}catch(ee){vT(s,ee)}while(!0);return r&&s.shellSuspendCounter++,Ii=Ia=null,nt=u,J.H=d,J.A=p,He===null&&(pt=null,Ye=0,gh()),b}function dN(){for(;He!==null;)ET(He)}function mN(s,r){var o=nt;nt|=2;var u=TT(),d=bT();pt!==s||Ye!==r?(Kh=null,Wh=Xt()+500,Qo(s,r)):Wo=Fn(s,r);e:do try{if(rt!==0&&He!==null){r=He;var p=$n;t:switch(rt){case 1:rt=0,$n=null,Xo(s,r,p,1);break;case 2:case 9:if(Iv(p)){rt=0,$n=null,wT(r);break}r=function(){rt!==2&&rt!==9||pt!==s||(rt=7),li(s)},p.then(r,r);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Iv(p)?(rt=0,$n=null,wT(r)):(rt=0,$n=null,Xo(s,r,p,7));break;case 5:var b=null;switch(He.tag){case 26:b=He.memoizedState;case 5:case 27:var x=He;if(b?lb(b):x.stateNode.complete){rt=0,$n=null;var P=x.sibling;if(P!==null)He=P;else{var W=x.return;W!==null?(He=W,Xh(W)):He=null}break t}}rt=0,$n=null,Xo(s,r,p,5);break;case 6:rt=0,$n=null,Xo(s,r,p,6);break;case 8:ap(),Mt=6;break e;default:throw Error(i(462))}}pN();break}catch(ee){vT(s,ee)}while(!0);return Ii=Ia=null,J.H=u,J.A=d,nt=o,He!==null?0:(pt=null,Ye=0,gh(),Mt)}function pN(){for(;He!==null&&!Fl();)ET(He)}function ET(s){var r=Y_(s.alternate,s,Fi);s.memoizedProps=s.pendingProps,r===null?Xh(s):He=r}function wT(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=B_(o,r,r.pendingProps,r.type,void 0,Ye);break;case 11:r=B_(o,r,r.pendingProps,r.type.render,r.ref,Ye);break;case 5:Em(r);default:K_(o,r),r=He=bv(r,Fi),r=Y_(o,r,Fi)}s.memoizedProps=s.pendingProps,r===null?Xh(s):He=r}function Xo(s,r,o,u){Ii=Ia=null,Em(r),Bo=null,gu=0;var d=r.return;try{if(sN(s,d,r,o,Ye)){Mt=1,Lh(s,cs(o,s.current)),He=null;return}}catch(p){if(d!==null)throw He=d,p;Mt=1,Lh(s,cs(o,s.current)),He=null;return}r.flags&32768?(Xe||u===1?s=!0:Wo||(Ye&536870912)!==0?s=!1:(Nr=s=!0,(u===2||u===9||u===3||u===6)&&(u=Wn.current,u!==null&&u.tag===13&&(u.flags|=16384))),ST(r,s)):Xh(r)}function Xh(s){var r=s;do{if((r.flags&32768)!==0){ST(r,Nr);return}s=r.return;var o=aN(r.alternate,r,Fi);if(o!==null){He=o;return}if(r=r.sibling,r!==null){He=r;return}He=r=s}while(r!==null);Mt===0&&(Mt=5)}function ST(s,r){do{var o=oN(s.alternate,s);if(o!==null){o.flags&=32767,He=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){He=s;return}He=s=o}while(s!==null);Mt=6,He=null}function xT(s,r,o,u,d,p,b,x,P){s.cancelPendingCommit=null;do Zh();while(Jt!==0);if((nt&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(p=r.lanes|r.childLanes,p|=$d,Bd(s,o,p,b,x,P),s===pt&&(He=pt=null,Ye=0),$o=r,Ir=s,Hi=o,sp=p,ip=d,mT=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,_N(Gs,function(){return MT(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=J.T,J.T=null,d=ae.p,ae.p=2,b=nt,nt|=4;try{lN(s,r,o)}finally{nt=b,ae.p=d,J.T=u}}Jt=1,AT(),CT(),DT()}}function AT(){if(Jt===1){Jt=0;var s=Ir,r=$o,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=J.T,J.T=null;var u=ae.p;ae.p=2;var d=nt;nt|=4;try{aT(r,s);var p=_p,b=fv(s.containerInfo),x=p.focusedElem,P=p.selectionRange;if(b!==x&&x&&x.ownerDocument&&hv(x.ownerDocument.documentElement,x)){if(P!==null&&qd(x)){var W=P.start,ee=P.end;if(ee===void 0&&(ee=W),"selectionStart"in x)x.selectionStart=W,x.selectionEnd=Math.min(ee,x.value.length);else{var ie=x.ownerDocument||document,$=ie&&ie.defaultView||window;if($.getSelection){var Z=$.getSelection(),pe=x.textContent.length,Se=Math.min(P.start,pe),ft=P.end===void 0?Se:Math.min(P.end,pe);!Z.extend&&Se>ft&&(b=ft,ft=Se,Se=b);var q=cv(x,Se),U=cv(x,ft);if(q&&U&&(Z.rangeCount!==1||Z.anchorNode!==q.node||Z.anchorOffset!==q.offset||Z.focusNode!==U.node||Z.focusOffset!==U.offset)){var Y=ie.createRange();Y.setStart(q.node,q.offset),Z.removeAllRanges(),Se>ft?(Z.addRange(Y),Z.extend(U.node,U.offset)):(Y.setEnd(U.node,U.offset),Z.addRange(Y))}}}}for(ie=[],Z=x;Z=Z.parentNode;)Z.nodeType===1&&ie.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<ie.length;x++){var ne=ie[x];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}hf=!!vp,_p=vp=null}finally{nt=d,ae.p=u,J.T=o}}s.current=r,Jt=2}}function CT(){if(Jt===2){Jt=0;var s=Ir,r=$o,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=J.T,J.T=null;var u=ae.p;ae.p=2;var d=nt;nt|=4;try{tT(s,r.alternate,r)}finally{nt=d,ae.p=u,J.T=o}}Jt=3}}function DT(){if(Jt===4||Jt===3){Jt=0,fa();var s=Ir,r=$o,o=Hi,u=mT;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Jt=5:(Jt=0,$o=Ir=null,NT(s,s.pendingLanes));var d=s.pendingLanes;if(d===0&&(Rr=null),Ai(o),r=r.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(zn,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=J.T,d=ae.p,ae.p=2,J.T=null;try{for(var p=s.onRecoverableError,b=0;b<u.length;b++){var x=u[b];p(x.value,{componentStack:x.stack})}}finally{J.T=r,ae.p=d}}(Hi&3)!==0&&Zh(),li(s),d=s.pendingLanes,(o&261930)!==0&&(d&42)!==0?s===rp?Ou++:(Ou=0,rp=s):Ou=0,ku(0)}}function NT(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,mu(r)))}function Zh(){return AT(),CT(),DT(),MT()}function MT(){if(Jt!==5)return!1;var s=Ir,r=sp;sp=0;var o=Ai(Hi),u=J.T,d=ae.p;try{ae.p=32>o?32:o,J.T=null,o=ip,ip=null;var p=Ir,b=Hi;if(Jt=0,$o=Ir=null,Hi=0,(nt&6)!==0)throw Error(i(331));var x=nt;if(nt|=4,hT(p.current),lT(p,p.current,b,o),nt=x,ku(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(zn,p)}catch{}return!0}finally{ae.p=d,J.T=u,NT(s,r)}}function RT(s,r,o){r=cs(o,r),r=jm(s.stateNode,r,2),s=xr(s,r,2),s!==null&&(xs(s,2),li(s))}function at(s,r,o){if(s.tag===3)RT(s,s,o);else for(;r!==null;){if(r.tag===3){RT(r,s,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Rr===null||!Rr.has(u))){s=cs(o,s),o=I_(2),u=xr(r,o,2),u!==null&&(O_(o,u,r,s),xs(u,2),li(u));break}}r=r.return}}function lp(s,r,o){var u=s.pingCache;if(u===null){u=s.pingCache=new hN;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(o)||(ep=!0,d.add(o),s=gN.bind(null,s,r,o),r.then(s,s))}function gN(s,r,o){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,pt===s&&(Ye&o)===o&&(Mt===4||Mt===3&&(Ye&62914560)===Ye&&300>Xt()-Yh?(nt&2)===0&&Qo(s,0):tp|=o,Ko===Ye&&(Ko=0)),li(s)}function IT(s,r){r===0&&(r=go()),s=Na(s,r),s!==null&&(xs(s,r),li(s))}function yN(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),IT(s,o)}function vN(s,r){var o=0;switch(s.tag){case 31:case 13:var u=s.stateNode,d=s.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),IT(s,o)}function _N(s,r){return Ot(s,r)}var Jh=null,Zo=null,up=!1,ef=!1,cp=!1,kr=0;function li(s){s!==Zo&&s.next===null&&(Zo===null?Jh=Zo=s:Zo=Zo.next=s),ef=!0,up||(up=!0,bN())}function ku(s,r){if(!cp&&ef){cp=!0;do for(var o=!1,u=Jh;u!==null;){if(s!==0){var d=u.pendingLanes;if(d===0)var p=0;else{var b=u.suspendedLanes,x=u.pingedLanes;p=(1<<31-wt(42|s)+1)-1,p&=d&~(b&~x),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,PT(u,p))}else p=Ye,p=Ie(u,u===pt?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Fn(u,p)||(o=!0,PT(u,p));u=u.next}while(o);cp=!1}}function TN(){OT()}function OT(){ef=up=!1;var s=0;kr!==0&&RN()&&(s=kr);for(var r=Xt(),o=null,u=Jh;u!==null;){var d=u.next,p=kT(u,r);p===0?(u.next=null,o===null?Jh=d:o.next=d,d===null&&(Zo=o)):(o=u,(s!==0||(p&3)!==0)&&(ef=!0)),u=d}Jt!==0&&Jt!==5||ku(s),kr!==0&&(kr=0)}function kT(s,r){for(var o=s.suspendedLanes,u=s.pingedLanes,d=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var b=31-wt(p),x=1<<b,P=d[b];P===-1?((x&o)===0||(x&u)!==0)&&(d[b]=ql(x,r)):P<=r&&(s.expiredLanes|=x),p&=~x}if(r=pt,o=Ye,o=Ie(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,o===0||s===r&&(rt===2||rt===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&qs(u),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||Fn(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(u!==null&&qs(u),Ai(o)){case 2:case 8:o=ma;break;case 32:o=Gs;break;case 268435456:o=fo;break;default:o=Gs}return u=VT.bind(null,s),o=Ot(o,u),s.callbackPriority=r,s.callbackNode=o,r}return u!==null&&u!==null&&qs(u),s.callbackPriority=2,s.callbackNode=null,2}function VT(s,r){if(Jt!==0&&Jt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(Zh()&&s.callbackNode!==o)return null;var u=Ye;return u=Ie(s,s===pt?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(gT(s,u,r),kT(s,Xt()),s.callbackNode!=null&&s.callbackNode===o?VT.bind(null,s):null)}function PT(s,r){if(Zh())return null;gT(s,r,!0)}function bN(){ON(function(){(nt&6)!==0?Ot(da,TN):OT()})}function hp(){if(kr===0){var s=jo;s===0&&(s=Ue,Ue<<=1,(Ue&261888)===0&&(Ue=256)),kr=s}return kr}function jT(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Eo(""+s)}function LT(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function EN(s,r,o,u,d){if(r==="submit"&&o&&o.stateNode===d){var p=jT((d[sn]||null).action),b=u.submitter;b&&(r=(r=b[sn]||null)?jT(r.formAction):b.getAttribute("formAction"),r!==null&&(p=r,b=null));var x=new ti("action","action",null,u,d);s.push({event:x,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(kr!==0){var P=b?LT(d,b):new FormData(d);Rm(o,{pending:!0,data:P,method:d.method,action:p},null,P)}}else typeof p=="function"&&(x.preventDefault(),P=b?LT(d,b):new FormData(d),Rm(o,{pending:!0,data:P,method:d.method,action:p},p,P))},currentTarget:d}]})}}for(var fp=0;fp<Kd.length;fp++){var dp=Kd[fp],wN=dp.toLowerCase(),SN=dp[0].toUpperCase()+dp.slice(1);Os(wN,"on"+SN)}Os(pv,"onAnimationEnd"),Os(gv,"onAnimationIteration"),Os(yv,"onAnimationStart"),Os("dblclick","onDoubleClick"),Os("focusin","onFocus"),Os("focusout","onBlur"),Os(BD,"onTransitionRun"),Os(zD,"onTransitionStart"),Os(FD,"onTransitionCancel"),Os(vv,"onTransitionEnd"),Xs("onMouseEnter",["mouseout","mouseover"]),Xs("onMouseLeave",["mouseout","mouseover"]),Xs("onPointerEnter",["pointerout","pointerover"]),Xs("onPointerLeave",["pointerout","pointerover"]),Qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vu));function UT(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var u=s[o],d=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var b=u.length-1;0<=b;b--){var x=u[b],P=x.instance,W=x.currentTarget;if(x=x.listener,P!==p&&d.isPropagationStopped())break e;p=x,d.currentTarget=W;try{p(d)}catch(ee){ph(ee)}d.currentTarget=null,p=P}else for(b=0;b<u.length;b++){if(x=u[b],P=x.instance,W=x.currentTarget,x=x.listener,P!==p&&d.isPropagationStopped())break e;p=x,d.currentTarget=W;try{p(d)}catch(ee){ph(ee)}d.currentTarget=null,p=P}}}}function qe(s,r){var o=r[yo];o===void 0&&(o=r[yo]=new Set);var u=s+"__bubble";o.has(u)||(BT(r,s,2,!1),o.add(u))}function mp(s,r,o){var u=0;r&&(u|=4),BT(o,s,u,r)}var tf="_reactListening"+Math.random().toString(36).slice(2);function pp(s){if(!s[tf]){s[tf]=!0,Wl.forEach(function(o){o!=="selectionchange"&&(xN.has(o)||mp(o,!1,s),mp(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[tf]||(r[tf]=!0,mp("selectionchange",!1,r))}}function BT(s,r,o,u){switch(pb(r)){case 2:var d=JN;break;case 8:d=e2;break;default:d=Mp}o=d.bind(null,r,o,s),d=void 0,!ba||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?s.addEventListener(r,o,{capture:!0,passive:d}):s.addEventListener(r,o,!0):d!==void 0?s.addEventListener(r,o,{passive:d}):s.addEventListener(r,o,!1)}function gp(s,r,o,u,d){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var x=u.stateNode.containerInfo;if(x===d)break;if(b===4)for(b=u.return;b!==null;){var P=b.tag;if((P===3||P===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;x!==null;){if(b=Ks(x),b===null)return;if(P=b.tag,P===5||P===6||P===26||P===27){u=p=b;continue e}x=x.parentNode}}u=u.return}pr(function(){var W=p,ee=as(o),ie=[];e:{var $=_v.get(s);if($!==void 0){var Z=ti,pe=s;switch(s){case"keypress":if(wa(o)===0)break e;case"keydown":case"keyup":Z=fh;break;case"focusin":pe="focus",Z=xa;break;case"focusout":pe="blur",Z=xa;break;case"beforeblur":case"afterblur":Z=xa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=au;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=sh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=_;break;case pv:case gv:case yv:Z=rh;break;case vv:Z=D;break;case"scroll":case"scrollend":Z=ru;break;case"wheel":Z=X;break;case"copy":case"cut":case"paste":Z=ah;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Ni;break;case"toggle":case"beforetoggle":Z=je}var Se=(r&4)!==0,ft=!Se&&(s==="scroll"||s==="scrollend"),q=Se?$!==null?$+"Capture":null:$;Se=[];for(var U=W,Y;U!==null;){var ne=U;if(Y=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||Y===null||q===null||(ne=Ns(U,q),ne!=null&&Se.push(Pu(U,ne,Y))),ft)break;U=U.return}0<Se.length&&($=new Z($,pe,null,o,ee),ie.push({event:$,listeners:Se}))}}if((r&7)===0){e:{if($=s==="mouseover"||s==="pointerover",Z=s==="mouseout"||s==="pointerout",$&&o!==nu&&(pe=o.relatedTarget||o.fromElement)&&(Ks(pe)||pe[Ys]))break e;if((Z||$)&&($=ee.window===ee?ee:($=ee.ownerDocument)?$.defaultView||$.parentWindow:window,Z?(pe=o.relatedTarget||o.toElement,Z=W,pe=pe?Ks(pe):null,pe!==null&&(ft=l(pe),Se=pe.tag,pe!==ft||Se!==5&&Se!==27&&Se!==6)&&(pe=null)):(Z=null,pe=W),Z!==pe)){if(Se=au,ne="onMouseLeave",q="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(Se=Ni,ne="onPointerLeave",q="onPointerEnter",U="pointer"),ft=Z==null?$:Hn(Z),Y=pe==null?$:Hn(pe),$=new Se(ne,U+"leave",Z,o,ee),$.target=ft,$.relatedTarget=Y,ne=null,Ks(ee)===W&&(Se=new Se(q,U+"enter",pe,o,ee),Se.target=Y,Se.relatedTarget=ft,ne=Se),ft=ne,Z&&pe)t:{for(Se=AN,q=Z,U=pe,Y=0,ne=q;ne;ne=Se(ne))Y++;ne=0;for(var _e=U;_e;_e=Se(_e))ne++;for(;0<Y-ne;)q=Se(q),Y--;for(;0<ne-Y;)U=Se(U),ne--;for(;Y--;){if(q===U||U!==null&&q===U.alternate){Se=q;break t}q=Se(q),U=Se(U)}Se=null}else Se=null;Z!==null&&zT(ie,$,Z,Se,!1),pe!==null&&ft!==null&&zT(ie,ft,pe,Se,!0)}}e:{if($=W?Hn(W):window,Z=$.nodeName&&$.nodeName.toLowerCase(),Z==="select"||Z==="input"&&$.type==="file")var Je=iv;else if(nv($))if(rv)Je=jD;else{Je=VD;var ge=kD}else Z=$.nodeName,!Z||Z.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?W&&bo(W.elementType)&&(Je=iv):Je=PD;if(Je&&(Je=Je(s,W))){sv(ie,Je,o,ee);break e}ge&&ge(s,$,W),s==="focusout"&&W&&$.type==="number"&&W.memoizedProps.value!=null&&Jl($,"number",$.value)}switch(ge=W?Hn(W):window,s){case"focusin":(nv(ge)||ge.contentEditable==="true")&&(No=ge,Gd=W,hu=null);break;case"focusout":hu=Gd=No=null;break;case"mousedown":Yd=!0;break;case"contextmenu":case"mouseup":case"dragend":Yd=!1,dv(ie,o,ee);break;case"selectionchange":if(UD)break;case"keydown":case"keyup":dv(ie,o,ee)}var Be;if(tt)e:{switch(s){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else Do?Aa(s,o)&&(We="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(We="onCompositionStart");We&&(ii&&o.locale!=="ko"&&(Do||We!=="onCompositionStart"?We==="onCompositionEnd"&&Do&&(Be=iu()):(ei=ee,su="value"in ei?ei.value:ei.textContent,Do=!0)),ge=nf(W,We),0<ge.length&&(We=new si(We,s,null,o,ee),ie.push({event:We,listeners:ge}),Be?We.data=Be:(Be=Co(o),Be!==null&&(We.data=Be)))),(Be=ls?MD(s,o):RD(s,o))&&(We=nf(W,"onBeforeInput"),0<We.length&&(ge=new si("onBeforeInput","beforeinput",null,o,ee),ie.push({event:ge,listeners:We}),ge.data=Be)),EN(ie,s,W,o,ee)}UT(ie,r)})}function Pu(s,r,o){return{instance:s,listener:r,currentTarget:o}}function nf(s,r){for(var o=r+"Capture",u=[];s!==null;){var d=s,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=Ns(s,o),d!=null&&u.unshift(Pu(s,d,p)),d=Ns(s,r),d!=null&&u.push(Pu(s,d,p))),s.tag===3)return u;s=s.return}return[]}function AN(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function zT(s,r,o,u,d){for(var p=r._reactName,b=[];o!==null&&o!==u;){var x=o,P=x.alternate,W=x.stateNode;if(x=x.tag,P!==null&&P===u)break;x!==5&&x!==26&&x!==27||W===null||(P=W,d?(W=Ns(o,p),W!=null&&b.unshift(Pu(o,W,P))):d||(W=Ns(o,p),W!=null&&b.push(Pu(o,W,P)))),o=o.return}b.length!==0&&s.push({event:r,listeners:b})}var CN=/\r\n?/g,DN=/\u0000|\uFFFD/g;function FT(s){return(typeof s=="string"?s:""+s).replace(CN,`
`).replace(DN,"")}function HT(s,r){return r=FT(r),FT(s)===r}function ht(s,r,o,u,d,p){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||On(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&On(s,""+u);break;case"className":qn(s,"class",u);break;case"tabIndex":qn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":qn(s,o,u);break;case"style":tu(s,u,p);break;case"data":if(r!=="object"){qn(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=Eo(""+u),s.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&ht(s,r,"name",d.name,d,null),ht(s,r,"formEncType",d.formEncType,d,null),ht(s,r,"formMethod",d.formMethod,d,null),ht(s,r,"formTarget",d.formTarget,d,null)):(ht(s,r,"encType",d.encType,d,null),ht(s,r,"method",d.method,d,null),ht(s,r,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=Eo(""+u),s.setAttribute(o,u);break;case"onClick":u!=null&&(s.onclick=Ds);break;case"onScroll":u!=null&&qe("scroll",s);break;case"onScrollEnd":u!=null&&qe("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}o=Eo(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""+u):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":u===!0?s.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,u):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(o,u):s.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(o):s.setAttribute(o,u);break;case"popover":qe("beforetoggle",s),qe("toggle",s),_o(s,"popover",u);break;case"xlinkActuate":Ht(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ht(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ht(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ht(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ht(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ht(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ht(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ht(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ht(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":_o(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=nh.get(o)||o,_o(s,o,u))}}function yp(s,r,o,u,d,p){switch(o){case"style":tu(s,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof u=="string"?On(s,u):(typeof u=="number"||typeof u=="bigint")&&On(s,""+u);break;case"onScroll":u!=null&&qe("scroll",s);break;case"onScrollEnd":u!=null&&qe("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Ds);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),p=s[sn]||null,p=p!=null?p[o]:null,typeof p=="function"&&s.removeEventListener(r,p,d),typeof u=="function")){typeof p!="function"&&p!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,u,d);break e}o in s?s[o]=u:u===!0?s.setAttribute(o,""):_o(s,o,u)}}}function dn(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",s),qe("load",s);var u=!1,d=!1,p;for(p in o)if(o.hasOwnProperty(p)){var b=o[p];if(b!=null)switch(p){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ht(s,r,p,b,o,null)}}d&&ht(s,r,"srcSet",o.srcSet,o,null),u&&ht(s,r,"src",o.src,o,null);return;case"input":qe("invalid",s);var x=p=b=d=null,P=null,W=null;for(u in o)if(o.hasOwnProperty(u)){var ee=o[u];if(ee!=null)switch(u){case"name":d=ee;break;case"type":b=ee;break;case"checked":P=ee;break;case"defaultChecked":W=ee;break;case"value":p=ee;break;case"defaultValue":x=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,r));break;default:ht(s,r,u,ee,o,null)}}Jc(s,p,x,P,W,b,d,!1);return;case"select":qe("invalid",s),u=b=p=null;for(d in o)if(o.hasOwnProperty(d)&&(x=o[d],x!=null))switch(d){case"value":p=x;break;case"defaultValue":b=x;break;case"multiple":u=x;default:ht(s,r,d,x,o,null)}r=p,o=b,s.multiple=!!u,r!=null?hr(s,!!u,r,!1):o!=null&&hr(s,!!u,o,!0);return;case"textarea":qe("invalid",s),p=d=u=null;for(b in o)if(o.hasOwnProperty(b)&&(x=o[b],x!=null))switch(b){case"value":u=x;break;case"defaultValue":d=x;break;case"children":p=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:ht(s,r,b,x,o,null)}fr(s,u,d,p);return;case"option":for(P in o)if(o.hasOwnProperty(P)&&(u=o[P],u!=null))switch(P){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ht(s,r,P,u,o,null)}return;case"dialog":qe("beforetoggle",s),qe("toggle",s),qe("cancel",s),qe("close",s);break;case"iframe":case"object":qe("load",s);break;case"video":case"audio":for(u=0;u<Vu.length;u++)qe(Vu[u],s);break;case"image":qe("error",s),qe("load",s);break;case"details":qe("toggle",s);break;case"embed":case"source":case"link":qe("error",s),qe("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(u=o[W],u!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ht(s,r,W,u,o,null)}return;default:if(bo(r)){for(ee in o)o.hasOwnProperty(ee)&&(u=o[ee],u!==void 0&&yp(s,r,ee,u,o,void 0));return}}for(x in o)o.hasOwnProperty(x)&&(u=o[x],u!=null&&ht(s,r,x,u,o,null))}function NN(s,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,b=null,x=null,P=null,W=null,ee=null;for(Z in o){var ie=o[Z];if(o.hasOwnProperty(Z)&&ie!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":P=ie;default:u.hasOwnProperty(Z)||ht(s,r,Z,null,u,ie)}}for(var $ in u){var Z=u[$];if(ie=o[$],u.hasOwnProperty($)&&(Z!=null||ie!=null))switch($){case"type":p=Z;break;case"name":d=Z;break;case"checked":W=Z;break;case"defaultChecked":ee=Z;break;case"value":b=Z;break;case"defaultValue":x=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,r));break;default:Z!==ie&&ht(s,r,$,Z,u,ie)}}To(s,b,x,P,W,ee,p,d);return;case"select":Z=b=x=$=null;for(p in o)if(P=o[p],o.hasOwnProperty(p)&&P!=null)switch(p){case"value":break;case"multiple":Z=P;default:u.hasOwnProperty(p)||ht(s,r,p,null,u,P)}for(d in u)if(p=u[d],P=o[d],u.hasOwnProperty(d)&&(p!=null||P!=null))switch(d){case"value":$=p;break;case"defaultValue":x=p;break;case"multiple":b=p;default:p!==P&&ht(s,r,d,p,u,P)}r=x,o=b,u=Z,$!=null?hr(s,!!o,$,!1):!!u!=!!o&&(r!=null?hr(s,!!o,r,!0):hr(s,!!o,o?[]:"",!1));return;case"textarea":Z=$=null;for(x in o)if(d=o[x],o.hasOwnProperty(x)&&d!=null&&!u.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:ht(s,r,x,null,u,d)}for(b in u)if(d=u[b],p=o[b],u.hasOwnProperty(b)&&(d!=null||p!=null))switch(b){case"value":$=d;break;case"defaultValue":Z=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==p&&ht(s,r,b,d,u,p)}eh(s,$,Z);return;case"option":for(var pe in o)if($=o[pe],o.hasOwnProperty(pe)&&$!=null&&!u.hasOwnProperty(pe))switch(pe){case"selected":s.selected=!1;break;default:ht(s,r,pe,null,u,$)}for(P in u)if($=u[P],Z=o[P],u.hasOwnProperty(P)&&$!==Z&&($!=null||Z!=null))switch(P){case"selected":s.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:ht(s,r,P,$,u,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in o)$=o[Se],o.hasOwnProperty(Se)&&$!=null&&!u.hasOwnProperty(Se)&&ht(s,r,Se,null,u,$);for(W in u)if($=u[W],Z=o[W],u.hasOwnProperty(W)&&$!==Z&&($!=null||Z!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,r));break;default:ht(s,r,W,$,u,Z)}return;default:if(bo(r)){for(var ft in o)$=o[ft],o.hasOwnProperty(ft)&&$!==void 0&&!u.hasOwnProperty(ft)&&yp(s,r,ft,void 0,u,$);for(ee in u)$=u[ee],Z=o[ee],!u.hasOwnProperty(ee)||$===Z||$===void 0&&Z===void 0||yp(s,r,ee,$,u,Z);return}}for(var q in o)$=o[q],o.hasOwnProperty(q)&&$!=null&&!u.hasOwnProperty(q)&&ht(s,r,q,null,u,$);for(ie in u)$=u[ie],Z=o[ie],!u.hasOwnProperty(ie)||$===Z||$==null&&Z==null||ht(s,r,ie,$,u,Z)}function qT(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function MN(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var d=o[u],p=d.transferSize,b=d.initiatorType,x=d.duration;if(p&&x&&qT(b)){for(b=0,x=d.responseEnd,u+=1;u<o.length;u++){var P=o[u],W=P.startTime;if(W>x)break;var ee=P.transferSize,ie=P.initiatorType;ee&&qT(ie)&&(P=P.responseEnd,b+=ee*(P<x?1:(x-W)/(P-W)))}if(--u,r+=8*(p+b)/(d.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var vp=null,_p=null;function sf(s){return s.nodeType===9?s:s.ownerDocument}function GT(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function YT(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Tp(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var bp=null;function RN(){var s=window.event;return s&&s.type==="popstate"?s===bp?!1:(bp=s,!0):(bp=null,!1)}var WT=typeof setTimeout=="function"?setTimeout:void 0,IN=typeof clearTimeout=="function"?clearTimeout:void 0,KT=typeof Promise=="function"?Promise:void 0,ON=typeof queueMicrotask=="function"?queueMicrotask:typeof KT<"u"?function(s){return KT.resolve(null).then(s).catch(kN)}:WT;function kN(s){setTimeout(function(){throw s})}function Vr(s){return s==="head"}function $T(s,r){var o=r,u=0;do{var d=o.nextSibling;if(s.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(u===0){s.removeChild(d),nl(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")ju(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,ju(o);for(var p=o.firstChild;p;){var b=p.nextSibling,x=p.nodeName;p[Ws]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=b}}else o==="body"&&ju(s.ownerDocument.body);o=d}while(o);nl(r)}function QT(s,r){var o=s;s=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=u}while(o)}function Ep(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Ep(o),vo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function VN(s,r,o,u){for(;s.nodeType===1;){var d=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Ws])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==d.rel||s.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||s.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||s.getAttribute("title")!==(d.title==null?null:d.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(d.src==null?null:d.src)||s.getAttribute("type")!==(d.type==null?null:d.type)||s.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=ps(s.nextSibling),s===null)break}return null}function PN(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=ps(s.nextSibling),s===null))return null;return s}function XT(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=ps(s.nextSibling),s===null))return null;return s}function wp(s){return s.data==="$?"||s.data==="$~"}function Sp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function jN(s,r){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function ps(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var xp=null;function ZT(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(r===0)return ps(s.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}s=s.nextSibling}return null}function JT(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return s;r--}else o!=="/$"&&o!=="/&"||r++}s=s.previousSibling}return null}function eb(s,r,o){switch(r=sf(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function ju(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);vo(s)}var gs=new Map,tb=new Set;function rf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var qi=ae.d;ae.d={f:LN,r:UN,D:BN,C:zN,L:FN,m:HN,X:GN,S:qN,M:YN};function LN(){var s=qi.f(),r=$h();return s||r}function UN(s){var r=rs(s);r!==null&&r.tag===5&&r.type==="form"?v_(r):qi.r(s)}var Jo=typeof document>"u"?null:document;function nb(s,r,o){var u=Jo;if(u&&typeof r=="string"&&r){var d=In(r);d='link[rel="'+s+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),tb.has(d)||(tb.add(d),s={rel:s,crossOrigin:o,href:r},u.querySelector(d)===null&&(r=u.createElement("link"),dn(r,"link",s),Ft(r),u.head.appendChild(r)))}}function BN(s){qi.D(s),nb("dns-prefetch",s,null)}function zN(s,r){qi.C(s,r),nb("preconnect",s,r)}function FN(s,r,o){qi.L(s,r,o);var u=Jo;if(u&&s&&r){var d='link[rel="preload"][as="'+In(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+In(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+In(o.imageSizes)+'"]')):d+='[href="'+In(s)+'"]';var p=d;switch(r){case"style":p=el(s);break;case"script":p=tl(s)}gs.has(p)||(s=T({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),gs.set(p,s),u.querySelector(d)!==null||r==="style"&&u.querySelector(Lu(p))||r==="script"&&u.querySelector(Uu(p))||(r=u.createElement("link"),dn(r,"link",s),Ft(r),u.head.appendChild(r)))}}function HN(s,r){qi.m(s,r);var o=Jo;if(o&&s){var u=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+In(u)+'"][href="'+In(s)+'"]',p=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=tl(s)}if(!gs.has(p)&&(s=T({rel:"modulepreload",href:s},r),gs.set(p,s),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Uu(p)))return}u=o.createElement("link"),dn(u,"link",s),Ft(u),o.head.appendChild(u)}}}function qN(s,r,o){qi.S(s,r,o);var u=Jo;if(u&&s){var d=$s(u).hoistableStyles,p=el(s);r=r||"default";var b=d.get(p);if(!b){var x={loading:0,preload:null};if(b=u.querySelector(Lu(p)))x.loading=5;else{s=T({rel:"stylesheet",href:s,"data-precedence":r},o),(o=gs.get(p))&&Ap(s,o);var P=b=u.createElement("link");Ft(P),dn(P,"link",s),P._p=new Promise(function(W,ee){P.onload=W,P.onerror=ee}),P.addEventListener("load",function(){x.loading|=1}),P.addEventListener("error",function(){x.loading|=2}),x.loading|=4,af(b,r,u)}b={type:"stylesheet",instance:b,count:1,state:x},d.set(p,b)}}}function GN(s,r){qi.X(s,r);var o=Jo;if(o&&s){var u=$s(o).hoistableScripts,d=tl(s),p=u.get(d);p||(p=o.querySelector(Uu(d)),p||(s=T({src:s,async:!0},r),(r=gs.get(d))&&Cp(s,r),p=o.createElement("script"),Ft(p),dn(p,"link",s),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function YN(s,r){qi.M(s,r);var o=Jo;if(o&&s){var u=$s(o).hoistableScripts,d=tl(s),p=u.get(d);p||(p=o.querySelector(Uu(d)),p||(s=T({src:s,async:!0,type:"module"},r),(r=gs.get(d))&&Cp(s,r),p=o.createElement("script"),Ft(p),dn(p,"link",s),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function sb(s,r,o,u){var d=(d=ke.current)?rf(d):null;if(!d)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=el(o.href),o=$s(d).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=el(o.href);var p=$s(d).hoistableStyles,b=p.get(s);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,b),(p=d.querySelector(Lu(s)))&&!p._p&&(b.instance=p,b.state.loading=5),gs.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},gs.set(s,o),p||WN(d,s,o,b.state))),r&&u===null)throw Error(i(528,""));return b}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=tl(o),o=$s(d).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function el(s){return'href="'+In(s)+'"'}function Lu(s){return'link[rel="stylesheet"]['+s+"]"}function ib(s){return T({},s,{"data-precedence":s.precedence,precedence:null})}function WN(s,r,o,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),dn(r,"link",o),Ft(r),s.head.appendChild(r))}function tl(s){return'[src="'+In(s)+'"]'}function Uu(s){return"script[async]"+s}function rb(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+In(o.href)+'"]');if(u)return r.instance=u,Ft(u),u;var d=T({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Ft(u),dn(u,"style",d),af(u,o.precedence,s),r.instance=u;case"stylesheet":d=el(o.href);var p=s.querySelector(Lu(d));if(p)return r.state.loading|=4,r.instance=p,Ft(p),p;u=ib(o),(d=gs.get(d))&&Ap(u,d),p=(s.ownerDocument||s).createElement("link"),Ft(p);var b=p;return b._p=new Promise(function(x,P){b.onload=x,b.onerror=P}),dn(p,"link",u),r.state.loading|=4,af(p,o.precedence,s),r.instance=p;case"script":return p=tl(o.src),(d=s.querySelector(Uu(p)))?(r.instance=d,Ft(d),d):(u=o,(d=gs.get(p))&&(u=T({},o),Cp(u,d)),s=s.ownerDocument||s,d=s.createElement("script"),Ft(d),dn(d,"link",u),s.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,af(u,o.precedence,s));return r.instance}function af(s,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,p=d,b=0;b<u.length;b++){var x=u[b];if(x.dataset.precedence===r)p=x;else if(p!==d)break}p?p.parentNode.insertBefore(s,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function Ap(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Cp(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var of=null;function ab(s,r,o){if(of===null){var u=new Map,d=of=new Map;d.set(o,u)}else d=of,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(s))return u;for(u.set(s,null),o=o.getElementsByTagName(s),d=0;d<o.length;d++){var p=o[d];if(!(p[Ws]||p[zt]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(r)||"";b=s+b;var x=u.get(b);x?x.push(p):u.set(b,[p])}}return u}function ob(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function KN(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function lb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function $N(s,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=el(u.href),p=r.querySelector(Lu(d));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=lf.bind(s),r.then(s,s)),o.state.loading|=4,o.instance=p,Ft(p);return}p=r.ownerDocument||r,u=ib(u),(d=gs.get(d))&&Ap(u,d),p=p.createElement("link"),Ft(p);var b=p;b._p=new Promise(function(x,P){b.onload=x,b.onerror=P}),dn(p,"link",u),o.instance=p}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=lf.bind(s),r.addEventListener("load",o),r.addEventListener("error",o))}}var Dp=0;function QN(s,r){return s.stylesheets&&s.count===0&&cf(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var u=setTimeout(function(){if(s.stylesheets&&cf(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4+r);0<s.imgBytes&&Dp===0&&(Dp=62500*MN());var d=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&cf(s,s.stylesheets),s.unsuspend)){var p=s.unsuspend;s.unsuspend=null,p()}},(s.imgBytes>Dp?50:800)+r);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function lf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cf(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var uf=null;function cf(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,uf=new Map,r.forEach(XN,s),uf=null,lf.call(s))}function XN(s,r){if(!(r.state.loading&4)){var o=uf.get(s);if(o)var u=o.get(null);else{o=new Map,uf.set(s,o);for(var d=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var b=d[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}d=r.instance,b=d.getAttribute("data-precedence"),p=o.get(b)||u,p===u&&o.set(null,d),o.set(b,d),this.count++,u=lf.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),p?p.parentNode.insertBefore(d,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(d,s.firstChild)),r.state.loading|=4}}var Bu={$$typeof:F,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function ZN(s,r,o,u,d,p,b,x,P){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rn(0),this.hiddenUpdates=Rn(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function ub(s,r,o,u,d,p,b,x,P,W,ee,ie){return s=new ZN(s,r,o,b,P,W,ee,ie,x),r=1,p===!0&&(r|=24),p=Yn(3,null,null,r),s.current=p,p.stateNode=s,r=om(),r.refCount++,s.pooledCache=r,r.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:r},hm(p),s}function cb(s){return s?(s=Io,s):Io}function hb(s,r,o,u,d,p){d=cb(d),u.context===null?u.context=d:u.pendingContext=d,u=Sr(r),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=xr(s,u,r),o!==null&&(Ln(o,s,r),vu(o,s,r))}function fb(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function Np(s,r){fb(s,r),(s=s.alternate)&&fb(s,r)}function db(s){if(s.tag===13||s.tag===31){var r=Na(s,67108864);r!==null&&Ln(r,s,67108864),Np(s,67108864)}}function mb(s){if(s.tag===13||s.tag===31){var r=Xn();r=ya(r);var o=Na(s,r);o!==null&&Ln(o,s,r),Np(s,r)}}var hf=!0;function JN(s,r,o,u){var d=J.T;J.T=null;var p=ae.p;try{ae.p=2,Mp(s,r,o,u)}finally{ae.p=p,J.T=d}}function e2(s,r,o,u){var d=J.T;J.T=null;var p=ae.p;try{ae.p=8,Mp(s,r,o,u)}finally{ae.p=p,J.T=d}}function Mp(s,r,o,u){if(hf){var d=Rp(u);if(d===null)gp(s,r,u,ff,o),gb(s,u);else if(n2(d,s,r,o,u))u.stopPropagation();else if(gb(s,u),r&4&&-1<t2.indexOf(s)){for(;d!==null;){var p=rs(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=kt(p.pendingLanes);if(b!==0){var x=p;for(x.pendingLanes|=2,x.entangledLanes|=2;b;){var P=1<<31-wt(b);x.entanglements[1]|=P,b&=~P}li(p),(nt&6)===0&&(Wh=Xt()+500,ku(0))}}break;case 31:case 13:x=Na(p,2),x!==null&&Ln(x,p,2),$h(),Np(p,2)}if(p=Rp(u),p===null&&gp(s,r,u,ff,o),p===d)break;d=p}d!==null&&u.stopPropagation()}else gp(s,r,u,null,o)}}function Rp(s){return s=as(s),Ip(s)}var ff=null;function Ip(s){if(ff=null,s=Ks(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=c(r),s!==null)return s;s=null}else if(o===31){if(s=f(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return ff=s,null}function pb(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ss()){case da:return 2;case ma:return 8;case Gs:case Hl:return 32;case fo:return 268435456;default:return 32}default:return 32}}var Op=!1,Pr=null,jr=null,Lr=null,zu=new Map,Fu=new Map,Ur=[],t2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gb(s,r){switch(s){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":zu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fu.delete(r.pointerId)}}function Hu(s,r,o,u,d,p){return s===null||s.nativeEvent!==p?(s={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[d]},r!==null&&(r=rs(r),r!==null&&db(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),s)}function n2(s,r,o,u,d){switch(r){case"focusin":return Pr=Hu(Pr,s,r,o,u,d),!0;case"dragenter":return jr=Hu(jr,s,r,o,u,d),!0;case"mouseover":return Lr=Hu(Lr,s,r,o,u,d),!0;case"pointerover":var p=d.pointerId;return zu.set(p,Hu(zu.get(p)||null,s,r,o,u,d)),!0;case"gotpointercapture":return p=d.pointerId,Fu.set(p,Hu(Fu.get(p)||null,s,r,o,u,d)),!0}return!1}function yb(s){var r=Ks(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){s.blockedOn=r,As(s.priority,function(){mb(o)});return}}else if(r===31){if(r=f(o),r!==null){s.blockedOn=r,As(s.priority,function(){mb(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function df(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=Rp(s.nativeEvent);if(o===null){o=s.nativeEvent;var u=new o.constructor(o.type,o);nu=u,o.target.dispatchEvent(u),nu=null}else return r=rs(o),r!==null&&db(r),s.blockedOn=o,!1;r.shift()}return!0}function vb(s,r,o){df(s)&&o.delete(r)}function s2(){Op=!1,Pr!==null&&df(Pr)&&(Pr=null),jr!==null&&df(jr)&&(jr=null),Lr!==null&&df(Lr)&&(Lr=null),zu.forEach(vb),Fu.forEach(vb)}function mf(s,r){s.blockedOn===r&&(s.blockedOn=null,Op||(Op=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,s2)))}var pf=null;function _b(s){pf!==s&&(pf=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){pf===s&&(pf=null);for(var r=0;r<s.length;r+=3){var o=s[r],u=s[r+1],d=s[r+2];if(typeof u!="function"){if(Ip(u||o)===null)continue;break}var p=rs(o);p!==null&&(s.splice(r,3),r-=3,Rm(p,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function nl(s){function r(P){return mf(P,s)}Pr!==null&&mf(Pr,s),jr!==null&&mf(jr,s),Lr!==null&&mf(Lr,s),zu.forEach(r),Fu.forEach(r);for(var o=0;o<Ur.length;o++){var u=Ur[o];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Ur.length&&(o=Ur[0],o.blockedOn===null);)yb(o),o.blockedOn===null&&Ur.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],p=o[u+1],b=d[sn]||null;if(typeof p=="function")b||_b(o);else if(b){var x=null;if(p&&p.hasAttribute("formAction")){if(d=p,b=p[sn]||null)x=b.formAction;else if(Ip(d)!==null)continue}else x=b.action;typeof x=="function"?o[u+1]=x:(o.splice(u,3),u-=3),_b(o)}}}function Tb(){function s(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return d=b})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function kp(s){this._internalRoot=s}gf.prototype.render=kp.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,u=Xn();hb(o,u,s,r,null,null)},gf.prototype.unmount=kp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;hb(s.current,2,null,s,null,null),$h(),r[Ys]=null}};function gf(s){this._internalRoot=s}gf.prototype.unstable_scheduleHydration=function(s){if(s){var r=$c();s={blockedOn:null,target:s,priority:r};for(var o=0;o<Ur.length&&r!==0&&r<Ur[o].priority;o++);Ur.splice(o,0,s),o===0&&yb(s)}};var bb=e.version;if(bb!=="19.2.1")throw Error(i(527,bb,"19.2.1"));ae.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=g(r),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var i2={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yf.isDisabled&&yf.supportsFiber)try{zn=yf.inject(i2),Zt=yf}catch{}}return Gu.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,u="",d=D_,p=N_,b=M_;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=ub(s,1,!1,null,null,o,u,null,d,p,b,Tb),s[Ys]=r.current,pp(s),new kp(r)},Gu.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var u=!1,d="",p=D_,b=N_,x=M_,P=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.formState!==void 0&&(P=o.formState)),r=ub(s,1,!0,r,o??null,u,d,P,p,b,x,Tb),r.context=cb(null),o=r.current,u=Xn(),u=ya(u),d=Sr(u),d.callback=null,xr(o,d,u),o=u,r.current.lanes=o,xs(r,o),li(r),s[Ys]=r.current,pp(s),new gf(r)},Gu.version="19.2.1",Gu}var Rb;function m2(){if(Rb)return jp.exports;Rb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jp.exports=d2(),jp.exports}var p2=m2();const Vw=6048e5,g2=864e5,Pw=6e4,jw=36e5,Ib=Symbol.for("constructDateFrom");function gt(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Ib in t?t[Ib](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ge(t,e){return gt(e||t,t)}function es(t,e,n){const i=Ge(t,n?.in);return isNaN(e)?gt(t,NaN):(e&&i.setDate(i.getDate()+e),i)}function Sy(t,e,n){const i=Ge(t,n?.in);if(isNaN(e))return gt(t,NaN);if(!e)return i;const a=i.getDate(),l=gt(t,i.getTime());l.setMonth(i.getMonth()+e+1,0);const c=l.getDate();return a>=c?l:(i.setFullYear(l.getFullYear(),l.getMonth(),a),i)}function Ob(t,e,n){const{years:i=0,months:a=0,weeks:l=0,days:c=0,hours:f=0,minutes:m=0,seconds:g=0}=e,y=Ge(t,n?.in),T=a||i?Sy(y,a+i*12):y,E=c||l?es(T,c+l*7):T,N=m+f*60,L=(g+N*60)*1e3;return gt(t,+E+L)}function y2(t,e,n){return gt(t,+Ge(t)+e)}function v2(t,e,n){return y2(t,e*jw)}let _2={};function Rc(){return _2}function ws(t,e){const n=Rc(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=Ge(t,e?.in),l=a.getDay(),c=(l<i?7:0)+l-i;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function hc(t,e){return ws(t,{...e,weekStartsOn:1})}function Lw(t,e){const n=Ge(t,e?.in),i=n.getFullYear(),a=gt(n,0);a.setFullYear(i+1,0,4),a.setHours(0,0,0,0);const l=hc(a),c=gt(n,0);c.setFullYear(i,0,4),c.setHours(0,0,0,0);const f=hc(c);return n.getTime()>=l.getTime()?i+1:n.getTime()>=f.getTime()?i:i-1}function kb(t){const e=Ge(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function la(t,...e){const n=gt.bind(null,e.find(i=>typeof i=="object"));return e.map(n)}function fc(t,e){const n=Ge(t,e?.in);return n.setHours(0,0,0,0),n}function xy(t,e,n){const[i,a]=la(n?.in,t,e),l=fc(i),c=fc(a),f=+l-kb(l),m=+c-kb(c);return Math.round((f-m)/g2)}function T2(t,e){const n=Lw(t,e),i=gt(t,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),hc(i)}function Uw(t,e,n){const i=Ge(t,n?.in);return i.setTime(i.getTime()+e*Pw),i}function b2(t,e,n){return es(t,e*7,n)}function E2(t,e,n){return Sy(t,e*12,n)}function w2(t,e){let n,i=e?.in;return t.forEach(a=>{!i&&typeof a=="object"&&(i=gt.bind(null,a));const l=Ge(a,i);(!n||n<l||isNaN(+l))&&(n=l)}),gt(i,n||NaN)}function S2(t,e){let n,i=e?.in;return t.forEach(a=>{!i&&typeof a=="object"&&(i=gt.bind(null,a));const l=Ge(a,i);(!n||n>l||isNaN(+l))&&(n=l)}),gt(i,n||NaN)}function x2(t){return gt(t,Date.now())}function qr(t,e,n){const[i,a]=la(n?.in,t,e);return+fc(i)==+fc(a)}function Bw(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function A2(t){return!(!Bw(t)&&typeof t!="number"||isNaN(+Ge(t)))}function C2(t,e,n){const[i,a]=la(n?.in,t,e),l=i.getFullYear()-a.getFullYear(),c=i.getMonth()-a.getMonth();return l*12+c}function D2(t,e,n){const[i,a]=la(n?.in,t,e),l=Vb(i,a),c=Math.abs(xy(i,a));i.setDate(i.getDate()-l*c);const f=+(Vb(i,a)===-l),m=l*(c-f);return m===0?0:m}function Vb(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function zw(t){return e=>{const i=(t?Math[t]:Math.trunc)(e);return i===0?0:i}}function _g(t,e,n){const[i,a]=la(n?.in,t,e),l=(+i-+a)/jw;return zw(n?.roundingMethod)(l)}function N2(t,e){return+Ge(t)-+Ge(e)}function Tg(t,e,n){const i=N2(t,e)/Pw;return zw(n?.roundingMethod)(i)}function Fw(t,e){const n=Ge(t,e?.in),i=n.getMonth();return n.setFullYear(n.getFullYear(),i+1,0),n.setHours(23,59,59,999),n}function Ay(t,e){const[n,i]=la(t,e.start,e.end);return{start:n,end:i}}function Hw(t,e){const{start:n,end:i}=Ay(e?.in,t);let a=+n>+i;const l=a?+n:+i,c=a?i:n;c.setHours(0,0,0,0);let f=1;const m=[];for(;+c<=l;)m.push(gt(n,c)),c.setDate(c.getDate()+f),c.setHours(0,0,0,0);return a?m.reverse():m}function M2(t,e){const{start:n,end:i}=Ay(e?.in,t);let a=+n>+i;const l=a?+n:+i,c=a?i:n;c.setHours(0,0,0,0),c.setDate(1);let f=1;const m=[];for(;+c<=l;)m.push(gt(n,c)),c.setMonth(c.getMonth()+f);return a?m.reverse():m}function qw(t,e){const n=Ge(t,e?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function R2(t,e){const n=Ge(t,e?.in),i=n.getFullYear();return n.setFullYear(i+1,0,0),n.setHours(23,59,59,999),n}function Gw(t,e){const n=Ge(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function I2(t,e){const{start:n,end:i}=Ay(e?.in,t);let a=+n>+i;const l=a?+n:+i,c=a?i:n;c.setHours(0,0,0,0),c.setMonth(0,1);let f=1;const m=[];for(;+c<=l;)m.push(gt(n,c)),c.setFullYear(c.getFullYear()+f);return a?m.reverse():m}function Cy(t,e){const n=Rc(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=Ge(t,e?.in),l=a.getDay(),c=(l<i?-7:0)+6-(l-i);return a.setDate(a.getDate()+c),a.setHours(23,59,59,999),a}function O2(t,e){return Cy(t,{...e,weekStartsOn:1})}const k2={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},V2=(t,e,n)=>{let i;const a=k2[t];return typeof a=="string"?i=a:e===1?i=a.one:i=a.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function ml(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const P2={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},j2={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},L2={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},U2={date:ml({formats:P2,defaultWidth:"full"}),time:ml({formats:j2,defaultWidth:"full"}),dateTime:ml({formats:L2,defaultWidth:"full"})},B2={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},z2=(t,e,n,i)=>B2[t];function hi(t){return(e,n)=>{const i=n?.context?String(n.context):"standalone";let a;if(i==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,f=n?.width?String(n.width):c;a=t.formattingValues[f]||t.formattingValues[c]}else{const c=t.defaultWidth,f=n?.width?String(n.width):t.defaultWidth;a=t.values[f]||t.values[c]}const l=t.argumentCallback?t.argumentCallback(e):e;return a[l]}}const F2={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},H2={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},q2={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},G2={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Y2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},W2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},K2=(t,e)=>{const n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},$2={ordinalNumber:K2,era:hi({values:F2,defaultWidth:"wide"}),quarter:hi({values:H2,defaultWidth:"wide",argumentCallback:t=>t-1}),month:hi({values:q2,defaultWidth:"wide"}),day:hi({values:G2,defaultWidth:"wide"}),dayPeriod:hi({values:Y2,defaultWidth:"wide",formattingValues:W2,defaultFormattingWidth:"wide"})};function fi(t){return(e,n={})=>{const i=n.width,a=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],l=e.match(a);if(!l)return null;const c=l[0],f=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],m=Array.isArray(f)?X2(f,T=>T.test(c)):Q2(f,T=>T.test(c));let g;g=t.valueCallback?t.valueCallback(m):m,g=n.valueCallback?n.valueCallback(g):g;const y=e.slice(c.length);return{value:g,rest:y}}}function Q2(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function X2(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Yw(t){return(e,n={})=>{const i=e.match(t.matchPattern);if(!i)return null;const a=i[0],l=e.match(t.parsePattern);if(!l)return null;let c=t.valueCallback?t.valueCallback(l[0]):l[0];c=n.valueCallback?n.valueCallback(c):c;const f=e.slice(a.length);return{value:c,rest:f}}}const Z2=/^(\d+)(th|st|nd|rd)?/i,J2=/\d+/i,eM={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},tM={any:[/^b/i,/^(a|c)/i]},nM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},sM={any:[/1/i,/2/i,/3/i,/4/i]},iM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},rM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},aM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},oM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},lM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},uM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},cM={ordinalNumber:Yw({matchPattern:Z2,parsePattern:J2,valueCallback:t=>parseInt(t,10)}),era:fi({matchPatterns:eM,defaultMatchWidth:"wide",parsePatterns:tM,defaultParseWidth:"any"}),quarter:fi({matchPatterns:nM,defaultMatchWidth:"wide",parsePatterns:sM,defaultParseWidth:"any",valueCallback:t=>t+1}),month:fi({matchPatterns:iM,defaultMatchWidth:"wide",parsePatterns:rM,defaultParseWidth:"any"}),day:fi({matchPatterns:aM,defaultMatchWidth:"wide",parsePatterns:oM,defaultParseWidth:"any"}),dayPeriod:fi({matchPatterns:lM,defaultMatchWidth:"any",parsePatterns:uM,defaultParseWidth:"any"})},il={code:"en-US",formatDistance:V2,formatLong:U2,formatRelative:z2,localize:$2,match:cM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function hM(t,e){const n=Ge(t,e?.in);return xy(n,Gw(n))+1}function Ww(t,e){const n=Ge(t,e?.in),i=+hc(n)-+T2(n);return Math.round(i/Vw)+1}function Kw(t,e){const n=Ge(t,e?.in),i=n.getFullYear(),a=Rc(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=gt(e?.in||t,0);c.setFullYear(i+1,0,l),c.setHours(0,0,0,0);const f=ws(c,e),m=gt(e?.in||t,0);m.setFullYear(i,0,l),m.setHours(0,0,0,0);const g=ws(m,e);return+n>=+f?i+1:+n>=+g?i:i-1}function fM(t,e){const n=Rc(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=Kw(t,e),l=gt(e?.in||t,0);return l.setFullYear(a,0,i),l.setHours(0,0,0,0),ws(l,e)}function $w(t,e){const n=Ge(t,e?.in),i=+ws(n,e)-+fM(n,e);return Math.round(i/Vw)+1}function ot(t,e){const n=t<0?"-":"",i=Math.abs(t).toString().padStart(e,"0");return n+i}const zr={y(t,e){const n=t.getFullYear(),i=n>0?n:1-n;return ot(e==="yy"?i%100:i,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ot(n+1,2)},d(t,e){return ot(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ot(t.getHours()%12||12,e.length)},H(t,e){return ot(t.getHours(),e.length)},m(t,e){return ot(t.getMinutes(),e.length)},s(t,e){return ot(t.getSeconds(),e.length)},S(t,e){const n=e.length,i=t.getMilliseconds(),a=Math.trunc(i*Math.pow(10,n-3));return ot(a,e.length)}},sl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Pb={G:function(t,e,n){const i=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const i=t.getFullYear(),a=i>0?i:1-i;return n.ordinalNumber(a,{unit:"year"})}return zr.y(t,e)},Y:function(t,e,n,i){const a=Kw(t,i),l=a>0?a:1-a;if(e==="YY"){const c=l%100;return ot(c,2)}return e==="Yo"?n.ordinalNumber(l,{unit:"year"}):ot(l,e.length)},R:function(t,e){const n=Lw(t);return ot(n,e.length)},u:function(t,e){const n=t.getFullYear();return ot(n,e.length)},Q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return ot(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return ot(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,n){const i=t.getMonth();switch(e){case"M":case"MM":return zr.M(t,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,n){const i=t.getMonth();switch(e){case"L":return String(i+1);case"LL":return ot(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,n,i){const a=$w(t,i);return e==="wo"?n.ordinalNumber(a,{unit:"week"}):ot(a,e.length)},I:function(t,e,n){const i=Ww(t);return e==="Io"?n.ordinalNumber(i,{unit:"week"}):ot(i,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):zr.d(t,e)},D:function(t,e,n){const i=hM(t);return e==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):ot(i,e.length)},E:function(t,e,n){const i=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,n,i){const a=t.getDay(),l=(a-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return ot(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,n,i){const a=t.getDay(),l=(a-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return ot(l,e.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,n){const i=t.getDay(),a=i===0?7:i;switch(e){case"i":return String(a);case"ii":return ot(a,e.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,n){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,n){const i=t.getHours();let a;switch(i===12?a=sl.noon:i===0?a=sl.midnight:a=i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,n){const i=t.getHours();let a;switch(i>=17?a=sl.evening:i>=12?a=sl.afternoon:i>=4?a=sl.morning:a=sl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let i=t.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return zr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):zr.H(t,e)},K:function(t,e,n){const i=t.getHours()%12;return e==="Ko"?n.ordinalNumber(i,{unit:"hour"}):ot(i,e.length)},k:function(t,e,n){let i=t.getHours();return i===0&&(i=24),e==="ko"?n.ordinalNumber(i,{unit:"hour"}):ot(i,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):zr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):zr.s(t,e)},S:function(t,e){return zr.S(t,e)},X:function(t,e,n){const i=t.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return Lb(i);case"XXXX":case"XX":return Ha(i);case"XXXXX":case"XXX":default:return Ha(i,":")}},x:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"x":return Lb(i);case"xxxx":case"xx":return Ha(i);case"xxxxx":case"xxx":default:return Ha(i,":")}},O:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+jb(i,":");case"OOOO":default:return"GMT"+Ha(i,":")}},z:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+jb(i,":");case"zzzz":default:return"GMT"+Ha(i,":")}},t:function(t,e,n){const i=Math.trunc(+t/1e3);return ot(i,e.length)},T:function(t,e,n){return ot(+t,e.length)}};function jb(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),a=Math.trunc(i/60),l=i%60;return l===0?n+String(a):n+String(a)+e+ot(l,2)}function Lb(t,e){return t%60===0?(t>0?"-":"+")+ot(Math.abs(t)/60,2):Ha(t,e)}function Ha(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),a=ot(Math.trunc(i/60),2),l=ot(i%60,2);return n+a+e+l}const Ub=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Qw=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},dM=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],i=n[1],a=n[2];if(!a)return Ub(t,e);let l;switch(i){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",Ub(i,e)).replace("{{time}}",Qw(a,e))},mM={p:Qw,P:dM},pM=/^D+$/,gM=/^Y+$/,yM=["D","DD","YY","YYYY"];function vM(t){return pM.test(t)}function _M(t){return gM.test(t)}function TM(t,e,n){const i=bM(t,e,n);if(console.warn(i),yM.includes(t))throw new RangeError(i)}function bM(t,e,n){const i=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const EM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,wM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,SM=/^'([^]*?)'?$/,xM=/''/g,AM=/[a-zA-Z]/;function ze(t,e,n){const i=Rc(),a=n?.locale??i.locale??il,l=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,f=Ge(t,n?.in);if(!A2(f))throw new RangeError("Invalid time value");let m=e.match(wM).map(y=>{const T=y[0];if(T==="p"||T==="P"){const E=mM[T];return E(y,a.formatLong)}return y}).join("").match(EM).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const T=y[0];if(T==="'")return{isToken:!1,value:CM(y)};if(Pb[T])return{isToken:!0,value:y};if(T.match(AM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(m=a.localize.preprocessor(f,m));const g={firstWeekContainsDate:l,weekStartsOn:c,locale:a};return m.map(y=>{if(!y.isToken)return y.value;const T=y.value;(!n?.useAdditionalWeekYearTokens&&_M(T)||!n?.useAdditionalDayOfYearTokens&&vM(T))&&TM(T,e,String(t));const E=Pb[T[0]];return E(f,T,a.localize,g)}).join("")}function CM(t){const e=t.match(SM);return e?e[1].replace(xM,"'"):t}function DM(t,e){const n=Ge(t,e?.in),i=n.getFullYear(),a=n.getMonth(),l=gt(n,0);return l.setFullYear(i,a+1,0),l.setHours(0,0,0,0),l.getDate()}function NM(t,e){return Ge(t,e?.in).getMonth()}function MM(t,e){return Ge(t,e?.in).getFullYear()}function RM(t,e){return+Ge(t)>+Ge(e)}function IM(t,e){return+Ge(t)<+Ge(e)}function Xw(t){return+Ge(t)<Date.now()}function Zw(t,e,n){const[i,a]=la(n?.in,t,e);return i.getFullYear()===a.getFullYear()&&i.getMonth()===a.getMonth()}function OM(t,e,n){const[i,a]=la(n?.in,t,e);return i.getFullYear()===a.getFullYear()}function kM(t,e){return qr(gt(t,t),x2(t))}function Df(t,e,n){return es(t,-e,n)}function Jw(t,e,n){const i=Ge(t,n?.in),a=i.getFullYear(),l=i.getDate(),c=gt(t,0);c.setFullYear(a,e,15),c.setHours(0,0,0,0);const f=DM(c);return i.setMonth(e,Math.min(l,f)),i}function eS(t,e,n){let i=Ge(t,n?.in);return isNaN(+i)?gt(t,NaN):(e.year!=null&&i.setFullYear(e.year),e.month!=null&&(i=Jw(i,e.month)),e.date!=null&&i.setDate(e.date),e.hours!=null&&i.setHours(e.hours),e.minutes!=null&&i.setMinutes(e.minutes),e.seconds!=null&&i.setSeconds(e.seconds),e.milliseconds!=null&&i.setMilliseconds(e.milliseconds),i)}function tS(t,e,n){const i=Ge(t,n?.in);return i.setHours(e),i}function nS(t,e,n){const i=Ge(t,n?.in);return i.setMinutes(e),i}function VM(t,e,n){const i=Ge(t,n?.in);return isNaN(+i)?gt(t,NaN):(i.setFullYear(e),i)}var PM=kw();const jM={lessThanXSeconds:{one:" 1 ",other:" {{count}} "},xSeconds:{one:"1 ",other:"{{count}} "},halfAMinute:"",lessThanXMinutes:{one:" 1 ",other:" {{count}} "},xMinutes:{one:"1 ",other:"{{count}} "},aboutXHours:{one:" 1 ",other:" {{count}} "},xHours:{one:"1 ",other:"{{count}} "},xDays:{one:"1 ",other:"{{count}} "},aboutXWeeks:{one:" 1 ",other:" {{count}} "},xWeeks:{one:"1 ",other:"{{count}} "},aboutXMonths:{one:" 1 ",other:" {{count}} "},xMonths:{one:"1 ",other:"{{count}} "},aboutXYears:{one:" 1 ",other:" {{count}} "},xYears:{one:"1 ",other:"{{count}} "},overXYears:{one:" 1 ",other:" {{count}} "},almostXYears:{one:" 1 ",other:" {{count}} "}},LM=(t,e,n)=>{let i;const a=jM[t];return typeof a=="string"?i=a:e===1?i=a.one:i=a.other.replace("{{count}}",String(e)),n?.addSuffix?n.comparison&&n.comparison>0?t==="halfAMinute"?""+i:" "+i:i+"":i},UM={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},BM={full:"H:mm:ss . zzzz",long:"H:mm:ss . z",medium:"H:mm:ss .",short:"H:mm ."},zM={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},FM={date:ml({formats:UM,defaultWidth:"full"}),time:ml({formats:BM,defaultWidth:"medium"}),dateTime:ml({formats:zM,defaultWidth:"full"})},HM={lastWeek:"eeee'' p",yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:"eeee '' p",other:"P"},qM=(t,e,n,i)=>HM[t],GM={narrow:["B",""],abbreviated:["BC",".."],wide:["",""]},YM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["","","",""]},WM={narrow:[".",".",".",".",".",".","."],short:[".",".",".",".",".",".","."],abbreviated:[".",".",".",".",".",".","."],wide:["","","","","","",""]},KM={narrow:["..","..","..","..","..","..","..","..","..","..","..",".."],abbreviated:["..","..","..","..","..","..","..","..","..","..","..",".."],wide:["","","","","","","","","","","",""]},$M={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},QM={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},XM=(t,e)=>String(t),ZM={ordinalNumber:XM,era:hi({values:GM,defaultWidth:"wide"}),quarter:hi({values:YM,defaultWidth:"wide",argumentCallback:t=>t-1}),month:hi({values:KM,defaultWidth:"wide"}),day:hi({values:WM,defaultWidth:"wide"}),dayPeriod:hi({values:$M,defaultWidth:"wide",formattingValues:QM,defaultFormattingWidth:"wide"})},JM=/^\d+/i,eR=/\d+/i,tR={narrow:/^([bB]|[aA]|)/i,abbreviated:/^([bB]\.?\s?[cC]\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?|\.?\.?)/i,wide:/^(||)/i},nR={any:[/^[bB]/i,/^(^[aA]|\.?\.?|||)/i]},sR={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^()? ?[1234]/i},iR={any:[/(1||)/i,/(2|)/i,/(3|)/i,/(4|)/i]},rR={narrow:/^(\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?)/i,abbreviated:/^(\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?')/i,wide:/^(|||||||||||)/i},aR={wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i]},oR={narrow:/^(\.?|\.?|\.?|\.?|\.?|\.?|\.?)/i,short:/^(\.?|\.?|\.?|\.?|\.?|\.?|\.?)/i,abbreviated:/^(\.?|\.?|\.?|\.?|\.?|\.?|\.?)/i,wide:/^(||||||)/i},lR={wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^(?!)/i,/^/i,/^/i,/^/i]},uR={any:/^(||||(.*?)?.*(||||))/i},cR={any:{am:/^/i,pm:/^/i,midnight:/^/i,noon:/^/i,morning://i,afternoon://i,evening://i,night://i}},hR={ordinalNumber:Yw({matchPattern:JM,parsePattern:eR,valueCallback:t=>parseInt(t,10)}),era:fi({matchPatterns:tR,defaultMatchWidth:"wide",parsePatterns:nR,defaultParseWidth:"any"}),quarter:fi({matchPatterns:sR,defaultMatchWidth:"wide",parsePatterns:iR,defaultParseWidth:"any",valueCallback:t=>t+1}),month:fi({matchPatterns:rR,defaultMatchWidth:"wide",parsePatterns:aR,defaultParseWidth:"any"}),day:fi({matchPatterns:oR,defaultMatchWidth:"wide",parsePatterns:lR,defaultParseWidth:"any"}),dayPeriod:fi({matchPatterns:uR,defaultMatchWidth:"any",parsePatterns:cR,defaultParseWidth:"any"})},En={code:"th",formatDistance:LM,formatLong:FM,formatRelative:qM,localize:ZM,match:hR,options:{weekStartsOn:0,firstWeekContainsDate:1}},Dy=Q.createContext({});function Ny(t){const e=Q.useRef(null);return e.current===null&&(e.current=t()),e.current}const My=typeof window<"u",sS=My?Q.useLayoutEffect:Q.useEffect,gd=Q.createContext(null);function Ry(t,e){t.indexOf(e)===-1&&t.push(e)}function Iy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Zi=(t,e,n)=>n>e?e:n<t?t:n;let Oy=()=>{};const Ji={},iS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function rS(t){return typeof t=="object"&&t!==null}const aS=t=>/^0[^.\s]+$/u.test(t);function ky(t){let e;return()=>(e===void 0&&(e=t()),e)}const Es=t=>t,fR=(t,e)=>n=>e(t(n)),Ic=(...t)=>t.reduce(fR),dc=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Vy{constructor(){this.subscriptions=[]}add(e){return Ry(this.subscriptions,e),()=>Iy(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mi=t=>t*1e3,bs=t=>t/1e3;function oS(t,e){return e?t*(1e3/e):0}const lS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,dR=1e-7,mR=12;function pR(t,e,n,i,a){let l,c,f=0;do c=e+(n-e)/2,l=lS(c,i,a)-t,l>0?n=c:e=c;while(Math.abs(l)>dR&&++f<mR);return c}function Oc(t,e,n,i){if(t===e&&n===i)return Es;const a=l=>pR(l,0,1,t,n);return l=>l===0||l===1?l:lS(a(l),e,i)}const uS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,cS=t=>e=>1-t(1-e),hS=Oc(.33,1.53,.69,.99),Py=cS(hS),fS=uS(Py),dS=t=>(t*=2)<1?.5*Py(t):.5*(2-Math.pow(2,-10*(t-1))),jy=t=>1-Math.sin(Math.acos(t)),mS=cS(jy),pS=uS(jy),gR=Oc(.42,0,1,1),yR=Oc(0,0,.58,1),gS=Oc(.42,0,.58,1),vR=t=>Array.isArray(t)&&typeof t[0]!="number",yS=t=>Array.isArray(t)&&typeof t[0]=="number",_R={linear:Es,easeIn:gR,easeInOut:gS,easeOut:yR,circIn:jy,circInOut:pS,circOut:mS,backIn:Py,backInOut:fS,backOut:hS,anticipate:dS},TR=t=>typeof t=="string",Bb=t=>{if(yS(t)){Oy(t.length===4);const[e,n,i,a]=t;return Oc(e,n,i,a)}else if(TR(t))return _R[t];return t},vf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function bR(t,e){let n=new Set,i=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(g.schedule(y),t()),y(f)}const g={schedule:(y,T=!1,E=!1)=>{const V=E&&a?n:i;return T&&c.add(y),V.has(y)||V.add(y),y},cancel:y=>{i.delete(y),c.delete(y)},process:y=>{if(f=y,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,g.process(y))}};return g}const ER=40;function vS(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=vf.reduce((F,te)=>(F[te]=bR(l),F),{}),{setup:f,read:m,resolveKeyframes:g,preUpdate:y,update:T,preRender:E,render:N,postRender:V}=c,L=()=>{const F=Ji.useManualTiming?a.timestamp:performance.now();n=!1,Ji.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(F-a.timestamp,ER),1)),a.timestamp=F,a.isProcessing=!0,f.process(a),m.process(a),g.process(a),y.process(a),T.process(a),E.process(a),N.process(a),V.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(L))},R=()=>{n=!0,i=!0,a.isProcessing||t(L)};return{schedule:vf.reduce((F,te)=>{const H=c[te];return F[te]=(K,C=!1,S=!1)=>(n||R(),H.schedule(K,C,S)),F},{}),cancel:F=>{for(let te=0;te<vf.length;te++)c[vf[te]].cancel(F)},state:a,steps:c}}const{schedule:Et,cancel:ea,state:mn,steps:zp}=vS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Es,!0);let Nf;function wR(){Nf=void 0}const Bn={now:()=>(Nf===void 0&&Bn.set(mn.isProcessing||Ji.useManualTiming?mn.timestamp:performance.now()),Nf),set:t=>{Nf=t,queueMicrotask(wR)}},_S=t=>e=>typeof e=="string"&&e.startsWith(t),Ly=_S("--"),SR=_S("var(--"),Uy=t=>SR(t)?xR.test(t.split("/*")[0].trim()):!1,xR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Il={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},mc={...Il,transform:t=>Zi(0,1,t)},_f={...Il,default:1},ec=t=>Math.round(t*1e5)/1e5,By=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function AR(t){return t==null}const CR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,zy=(t,e)=>n=>!!(typeof n=="string"&&CR.test(n)&&n.startsWith(t)||e&&!AR(n)&&Object.prototype.hasOwnProperty.call(n,e)),TS=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,c,f]=i.match(By);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},DR=t=>Zi(0,255,t),Fp={...Il,transform:t=>Math.round(DR(t))},Ya={test:zy("rgb","red"),parse:TS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Fp.transform(t)+", "+Fp.transform(e)+", "+Fp.transform(n)+", "+ec(mc.transform(i))+")"};function NR(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const bg={test:zy("#"),parse:NR,transform:Ya.transform},kc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Hr=kc("deg"),pi=kc("%"),Ne=kc("px"),MR=kc("vh"),RR=kc("vw"),zb={...pi,parse:t=>pi.parse(t)/100,transform:t=>pi.transform(t*100)},ul={test:zy("hsl","hue"),parse:TS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+pi.transform(ec(e))+", "+pi.transform(ec(n))+", "+ec(mc.transform(i))+")"},$t={test:t=>Ya.test(t)||bg.test(t)||ul.test(t),parse:t=>Ya.test(t)?Ya.parse(t):ul.test(t)?ul.parse(t):bg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ya.transform(t):ul.transform(t),getAnimatableNone:t=>{const e=$t.parse(t);return e.alpha=0,$t.transform(e)}},IR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function OR(t){return isNaN(t)&&typeof t=="string"&&(t.match(By)?.length||0)+(t.match(IR)?.length||0)>0}const bS="number",ES="color",kR="var",VR="var(",Fb="${}",PR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pc(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(PR,m=>($t.test(m)?(i.color.push(l),a.push(ES),n.push($t.parse(m))):m.startsWith(VR)?(i.var.push(l),a.push(kR),n.push(m)):(i.number.push(l),a.push(bS),n.push(parseFloat(m))),++l,Fb)).split(Fb);return{values:n,split:f,indexes:i,types:a}}function wS(t){return pc(t).values}function SS(t){const{split:e,types:n}=pc(t),i=e.length;return a=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],a[c]!==void 0){const f=n[c];f===bS?l+=ec(a[c]):f===ES?l+=$t.transform(a[c]):l+=a[c]}return l}}const jR=t=>typeof t=="number"?0:$t.test(t)?$t.getAnimatableNone(t):t;function LR(t){const e=wS(t);return SS(t)(e.map(jR))}const ta={test:OR,parse:wS,createTransformer:SS,getAnimatableNone:LR};function Hp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function UR({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;a=Hp(m,f,t+1/3),l=Hp(m,f,t),c=Hp(m,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function Hf(t,e){return n=>n>0?e:t}const At=(t,e,n)=>t+(e-t)*n,qp=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},BR=[bg,Ya,ul],zR=t=>BR.find(e=>e.test(t));function Hb(t){const e=zR(t);if(!e)return!1;let n=e.parse(t);return e===ul&&(n=UR(n)),n}const qb=(t,e)=>{const n=Hb(t),i=Hb(e);if(!n||!i)return Hf(t,e);const a={...n};return l=>(a.red=qp(n.red,i.red,l),a.green=qp(n.green,i.green,l),a.blue=qp(n.blue,i.blue,l),a.alpha=At(n.alpha,i.alpha,l),Ya.transform(a))},Eg=new Set(["none","hidden"]);function FR(t,e){return Eg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function HR(t,e){return n=>At(t,e,n)}function Fy(t){return typeof t=="number"?HR:typeof t=="string"?Uy(t)?Hf:$t.test(t)?qb:YR:Array.isArray(t)?xS:typeof t=="object"?$t.test(t)?qb:qR:Hf}function xS(t,e){const n=[...t],i=n.length,a=t.map((l,c)=>Fy(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)n[c]=a[c](l);return n}}function qR(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=Fy(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function GR(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],f=t.values[c]??0;n[a]=f,i[l]++}return n}const YR=(t,e)=>{const n=ta.createTransformer(e),i=pc(t),a=pc(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?Eg.has(t)&&!a.values.length||Eg.has(e)&&!i.values.length?FR(t,e):Ic(xS(GR(i,a),a.values),n):Hf(t,e)};function AS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?At(t,e,n):Fy(t)(t,e)}const WR=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Et.update(e,n),stop:()=>ea(e),now:()=>mn.isProcessing?mn.timestamp:Bn.now()}},CS=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},qf=2e4;function Hy(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<qf;)e+=n,i=t.next(e);return e>=qf?1/0:e}function KR(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(Hy(i),qf);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:bs(a)}}const $R=5;function DS(t,e,n){const i=Math.max(e-$R,0);return oS(n-t(i),e-i)}const Rt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Gp=.001;function QR({duration:t=Rt.duration,bounce:e=Rt.bounce,velocity:n=Rt.velocity,mass:i=Rt.mass}){let a,l,c=1-e;c=Zi(Rt.minDamping,Rt.maxDamping,c),t=Zi(Rt.minDuration,Rt.maxDuration,bs(t)),c<1?(a=g=>{const y=g*c,T=y*t,E=y-n,N=wg(g,c),V=Math.exp(-T);return Gp-E/N*V},l=g=>{const T=g*c*t,E=T*n+n,N=Math.pow(c,2)*Math.pow(g,2)*t,V=Math.exp(-T),L=wg(Math.pow(g,2),c);return(-a(g)+Gp>0?-1:1)*((E-N)*V)/L}):(a=g=>{const y=Math.exp(-g*t),T=(g-n)*t+1;return-Gp+y*T},l=g=>{const y=Math.exp(-g*t),T=(n-g)*(t*t);return y*T});const f=5/t,m=ZR(a,l,f);if(t=mi(t),isNaN(m))return{stiffness:Rt.stiffness,damping:Rt.damping,duration:t};{const g=Math.pow(m,2)*i;return{stiffness:g,damping:c*2*Math.sqrt(i*g),duration:t}}}const XR=12;function ZR(t,e,n){let i=n;for(let a=1;a<XR;a++)i=i-t(i)/e(i);return i}function wg(t,e){return t*Math.sqrt(1-e*e)}const JR=["duration","bounce"],eI=["stiffness","damping","mass"];function Gb(t,e){return e.some(n=>t[n]!==void 0)}function tI(t){let e={velocity:Rt.velocity,stiffness:Rt.stiffness,damping:Rt.damping,mass:Rt.mass,isResolvedFromDuration:!1,...t};if(!Gb(t,eI)&&Gb(t,JR))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*Zi(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Rt.mass,stiffness:a,damping:l}}else{const n=QR(t);e={...e,...n,mass:Rt.mass},e.isResolvedFromDuration=!0}return e}function Gf(t=Rt.visualDuration,e=Rt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:g,mass:y,duration:T,velocity:E,isResolvedFromDuration:N}=tI({...n,velocity:-bs(n.velocity||0)}),V=E||0,L=g/(2*Math.sqrt(m*y)),R=c-l,B=bs(Math.sqrt(m/y)),z=Math.abs(R)<5;i||(i=z?Rt.restSpeed.granular:Rt.restSpeed.default),a||(a=z?Rt.restDelta.granular:Rt.restDelta.default);let F;if(L<1){const H=wg(B,L);F=K=>{const C=Math.exp(-L*B*K);return c-C*((V+L*B*R)/H*Math.sin(H*K)+R*Math.cos(H*K))}}else if(L===1)F=H=>c-Math.exp(-B*H)*(R+(V+B*R)*H);else{const H=B*Math.sqrt(L*L-1);F=K=>{const C=Math.exp(-L*B*K),S=Math.min(H*K,300);return c-C*((V+L*B*R)*Math.sinh(S)+H*R*Math.cosh(S))/H}}const te={calculatedDuration:N&&T||null,next:H=>{const K=F(H);if(N)f.done=H>=T;else{let C=H===0?V:0;L<1&&(C=H===0?mi(V):DS(F,H,K));const S=Math.abs(C)<=i,M=Math.abs(c-K)<=a;f.done=S&&M}return f.value=f.done?c:K,f},toString:()=>{const H=Math.min(Hy(te),qf),K=CS(C=>te.next(H*C).value,H,30);return H+"ms "+K},toTransition:()=>{}};return te}Gf.applyToOptions=t=>{const e=KR(t,100,Gf);return t.ease=e.ease,t.duration=mi(e.duration),t.type="keyframes",t};function Sg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:m,restDelta:g=.5,restSpeed:y}){const T=t[0],E={done:!1,value:T},N=S=>f!==void 0&&S<f||m!==void 0&&S>m,V=S=>f===void 0?m:m===void 0||Math.abs(f-S)<Math.abs(m-S)?f:m;let L=n*e;const R=T+L,B=c===void 0?R:c(R);B!==R&&(L=B-T);const z=S=>-L*Math.exp(-S/i),F=S=>B+z(S),te=S=>{const M=z(S),O=F(S);E.done=Math.abs(M)<=g,E.value=E.done?B:O};let H,K;const C=S=>{N(E.value)&&(H=S,K=Gf({keyframes:[E.value,V(E.value)],velocity:DS(F,S,E.value),damping:a,stiffness:l,restDelta:g,restSpeed:y}))};return C(0),{calculatedDuration:null,next:S=>{let M=!1;return!K&&H===void 0&&(M=!0,te(S),C(S)),H!==void 0&&S>=H?K.next(S-H):(!M&&te(S),E)}}}function nI(t,e,n){const i=[],a=n||Ji.mix||AS,l=t.length-1;for(let c=0;c<l;c++){let f=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||Es:e;f=Ic(m,f)}i.push(f)}return i}function sI(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(Oy(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=nI(e,i,a),m=f.length,g=y=>{if(c&&y<t[0])return e[0];let T=0;if(m>1)for(;T<t.length-2&&!(y<t[T+1]);T++);const E=dc(t[T],t[T+1],y);return f[T](E)};return n?y=>g(Zi(t[0],t[l-1],y)):g}function iI(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=dc(0,e,i);t.push(At(n,1,a))}}function rI(t){const e=[0];return iI(e,t.length-1),e}function aI(t,e){return t.map(n=>n*e)}function oI(t,e){return t.map(()=>e||gS).splice(0,t.length-1)}function tc({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=vR(i)?i.map(Bb):Bb(i),l={done:!1,value:e[0]},c=aI(n&&n.length===e.length?n:rI(e),t),f=sI(c,e,{ease:Array.isArray(a)?a:oI(e,a)});return{calculatedDuration:t,next:m=>(l.value=f(m),l.done=m>=t,l)}}const lI=t=>t!==null;function qy(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(lI),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||i===void 0?l[f]:i}const uI={decay:Sg,inertia:Sg,tween:tc,keyframes:tc,spring:Gf};function NS(t){typeof t.type=="string"&&(t.type=uI[t.type])}class Gy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const cI=t=>t/100;class Yy extends Gy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Bn.now()&&this.tick(Bn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;NS(e);const{type:n=tc,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:f}=e;const m=n||tc;m!==tc&&typeof f[0]!="number"&&(this.mixKeyframes=Ic(cI,AS(f[0],f[1])),f=[0,100]);const g=m({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Hy(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=g}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return i.next(0);const{delay:g=0,keyframes:y,repeat:T,repeatType:E,repeatDelay:N,type:V,onUpdate:L,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const B=this.currentTime-g*(this.playbackSpeed>=0?1:-1),z=this.playbackSpeed>=0?B<0:B>a;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let F=this.currentTime,te=i;if(T){const S=Math.min(this.currentTime,a)/f;let M=Math.floor(S),O=S%1;!O&&S>=1&&(O=1),O===1&&M--,M=Math.min(M,T+1),!!(M%2)&&(E==="reverse"?(O=1-O,N&&(O-=N/f)):E==="mirror"&&(te=c)),F=Zi(0,1,O)*f}const H=z?{done:!1,value:y[0]}:te.next(F);l&&(H.value=l(H.value));let{done:K}=H;!z&&m!==null&&(K=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&K);return C&&V!==Sg&&(H.value=qy(y,this.options,R,this.speed)),L&&L(H.value),C&&this.finish(),H}then(e,n){return this.finished.then(e,n)}get duration(){return bs(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+bs(e)}get time(){return bs(this.currentTime)}set time(e){e=mi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Bn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=bs(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=WR,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Bn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function hI(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Wa=t=>t*180/Math.PI,xg=t=>{const e=Wa(Math.atan2(t[1],t[0]));return Ag(e)},fI={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:xg,rotateZ:xg,skewX:t=>Wa(Math.atan(t[1])),skewY:t=>Wa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ag=t=>(t=t%360,t<0&&(t+=360),t),Yb=xg,Wb=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Kb=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),dI={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Wb,scaleY:Kb,scale:t=>(Wb(t)+Kb(t))/2,rotateX:t=>Ag(Wa(Math.atan2(t[6],t[5]))),rotateY:t=>Ag(Wa(Math.atan2(-t[2],t[0]))),rotateZ:Yb,rotate:Yb,skewX:t=>Wa(Math.atan(t[4])),skewY:t=>Wa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Cg(t){return t.includes("scale")?1:0}function Dg(t,e){if(!t||t==="none")return Cg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=dI,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=fI,a=f}if(!a)return Cg(e);const l=i[e],c=a[1].split(",").map(pI);return typeof l=="function"?l(c):c[l]}const mI=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Dg(n,e)};function pI(t){return parseFloat(t.trim())}const Ol=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],kl=new Set(Ol),$b=t=>t===Il||t===Ne,gI=new Set(["x","y","z"]),yI=Ol.filter(t=>!gI.has(t));function vI(t){const e=[];return yI.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Xa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Dg(e,"x"),y:(t,{transform:e})=>Dg(e,"y")};Xa.translateX=Xa.x;Xa.translateY=Xa.y;const Za=new Set;let Ng=!1,Mg=!1,Rg=!1;function MS(){if(Mg){const t=Array.from(Za).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=vI(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,c])=>{i.getValue(l)?.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Mg=!1,Ng=!1,Za.forEach(t=>t.complete(Rg)),Za.clear()}function RS(){Za.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Mg=!0)})}function _I(){Rg=!0,RS(),MS(),Rg=!1}class Wy{constructor(e,n,i,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Za.add(this),Ng||(Ng=!0,Et.read(RS),Et.resolveKeyframes(MS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const f=i.readValue(n,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}hI(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Za.delete(this)}cancel(){this.state==="scheduled"&&(Za.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const TI=t=>t.startsWith("--");function bI(t,e,n){TI(e)?t.style.setProperty(e,n):t.style[e]=n}const EI=ky(()=>window.ScrollTimeline!==void 0),wI={};function SI(t,e){const n=ky(t);return()=>wI[e]??n()}const IS=SI(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ku=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,Qb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ku([0,.65,.55,1]),circOut:Ku([.55,0,1,.45]),backIn:Ku([.31,.01,.66,-.59]),backOut:Ku([.33,1.53,.69,.99])};function OS(t,e){if(t)return typeof t=="function"?IS()?CS(t,e):"ease-out":yS(t)?Ku(t):Array.isArray(t)?t.map(n=>OS(n,e)||Qb.easeOut):Qb[t]}function xI(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:m}={},g=void 0){const y={[e]:n};m&&(y.offset=m);const T=OS(f,a);Array.isArray(T)&&(y.easing=T);const E={delay:i,duration:a,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return g&&(E.pseudoElement=g),t.animate(y,E)}function kS(t){return typeof t=="function"&&"applyToOptions"in t}function AI({type:t,...e}){return kS(t)&&IS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class CI extends Gy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,Oy(typeof e.type!="string");const g=AI(e);this.animation=xI(n,i,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=qy(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):bI(n,i,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return bs(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+bs(e)}get time(){return bs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=mi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&EI()?(this.animation.timeline=e,Es):n(this)}}const VS={anticipate:dS,backInOut:fS,circInOut:pS};function DI(t){return t in VS}function NI(t){typeof t.ease=="string"&&DI(t.ease)&&(t.ease=VS[t.ease])}const Xb=10;class MI extends CI{constructor(e){NI(e),NS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new Yy({...c,autoplay:!1}),m=mi(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-Xb).value,f.sample(m).value,Xb),f.stop()}}const Zb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ta.test(t)||t==="0")&&!t.startsWith("url("));function RI(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function II(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=Zb(a,e),f=Zb(l,e);return!c||!f?!1:RI(t)||(n==="spring"||kS(n))&&i}function Ig(t){t.duration=0,t.type="keyframes"}const OI=new Set(["opacity","clipPath","filter","transform"]),kI=ky(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function VI(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=e.owner.getProps();return kI()&&n&&OI.has(n)&&(n!=="transform"||!g)&&!m&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}const PI=40;class jI extends Gy{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:m,motionValue:g,element:y,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Bn.now();const E={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:g,element:y,...T},N=y?.KeyframeResolver||Wy;this.keyframeResolver=new N(f,(V,L,R)=>this.onKeyframesResolved(V,L,E,!R),m,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:m,isHandoff:g,onUpdate:y}=i;this.resolvedAt=Bn.now(),II(e,l,c,f)||((Ji.instantAnimations||!m)&&y?.(qy(e,i,n)),e[0]=e[e.length-1],Ig(i),i.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>PI?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},N=!g&&VI(E)?new MI({...E,element:E.motionValue.owner.current}):new Yy(E);N.finished.then(()=>this.notifyFinished()).catch(Es),this.pendingTimeline&&(this.stopTimeline=N.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=N}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),_I()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const LI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function UI(t){const e=LI.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function PS(t,e,n=1){const[i,a]=UI(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return iS(c)?parseFloat(c):c}return Uy(a)?PS(a,e,n+1):a}function Ky(t,e){return t?.[e]??t?.default??t}const jS=new Set(["width","height","top","left","right","bottom",...Ol]),BI={test:t=>t==="auto",parse:t=>t},LS=t=>e=>e.test(t),US=[Il,Ne,pi,Hr,RR,MR,BI],Jb=t=>US.find(LS(t));function zI(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||aS(t):!0}const FI=new Set(["brightness","contrast","saturate","opacity"]);function HI(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(By)||[];if(!i)return t;const a=n.replace(i,"");let l=FI.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const qI=/\b([a-z-]*)\(.*?\)/gu,Og={...ta,getAnimatableNone:t=>{const e=t.match(qI);return e?e.map(HI).join(" "):t}},e1={...Il,transform:Math.round},GI={rotate:Hr,rotateX:Hr,rotateY:Hr,rotateZ:Hr,scale:_f,scaleX:_f,scaleY:_f,scaleZ:_f,skew:Hr,skewX:Hr,skewY:Hr,distance:Ne,translateX:Ne,translateY:Ne,translateZ:Ne,x:Ne,y:Ne,z:Ne,perspective:Ne,transformPerspective:Ne,opacity:mc,originX:zb,originY:zb,originZ:Ne},$y={borderWidth:Ne,borderTopWidth:Ne,borderRightWidth:Ne,borderBottomWidth:Ne,borderLeftWidth:Ne,borderRadius:Ne,radius:Ne,borderTopLeftRadius:Ne,borderTopRightRadius:Ne,borderBottomRightRadius:Ne,borderBottomLeftRadius:Ne,width:Ne,maxWidth:Ne,height:Ne,maxHeight:Ne,top:Ne,right:Ne,bottom:Ne,left:Ne,padding:Ne,paddingTop:Ne,paddingRight:Ne,paddingBottom:Ne,paddingLeft:Ne,margin:Ne,marginTop:Ne,marginRight:Ne,marginBottom:Ne,marginLeft:Ne,backgroundPositionX:Ne,backgroundPositionY:Ne,...GI,zIndex:e1,fillOpacity:mc,strokeOpacity:mc,numOctaves:e1},YI={...$y,color:$t,backgroundColor:$t,outlineColor:$t,fill:$t,stroke:$t,borderColor:$t,borderTopColor:$t,borderRightColor:$t,borderBottomColor:$t,borderLeftColor:$t,filter:Og,WebkitFilter:Og},BS=t=>YI[t];function zS(t,e){let n=BS(t);return n!==Og&&(n=ta),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const WI=new Set(["auto","none","0"]);function KI(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!WI.has(l)&&pc(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=zS(n,a)}class $I extends Wy{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let g=e[m];if(typeof g=="string"&&(g=g.trim(),Uy(g))){const y=PS(g,n.current);y!==void 0&&(e[m]=y),m===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!jS.has(i)||e.length!==2)return;const[a,l]=e,c=Jb(a),f=Jb(l);if(c!==f)if($b(c)&&$b(f))for(let m=0;m<e.length;m++){const g=e[m];typeof g=="string"&&(e[m]=parseFloat(g))}else Xa[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||zI(e[a]))&&i.push(a);i.length&&KI(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xa[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=Xa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{e.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function QI(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const FS=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function HS(t){return rS(t)&&"offsetHeight"in t}const t1=30,XI=t=>!isNaN(parseFloat(t));class ZI{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=Bn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Bn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=XI(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Vy);const i=this.events[e].add(n);return e==="change"?()=>{i(),Et.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Bn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>t1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,t1);return oS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function El(t,e){return new ZI(t,e)}const{schedule:Qy}=vS(queueMicrotask,!1),Ls={x:!1,y:!1};function qS(){return Ls.x||Ls.y}function JI(t){return t==="x"||t==="y"?Ls[t]?null:(Ls[t]=!0,()=>{Ls[t]=!1}):Ls.x||Ls.y?null:(Ls.x=Ls.y=!0,()=>{Ls.x=Ls.y=!1})}function GS(t,e){const n=QI(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function n1(t){return!(t.pointerType==="touch"||qS())}function eO(t,e,n={}){const[i,a,l]=GS(t,n),c=f=>{if(!n1(f))return;const{target:m}=f,g=e(m,f);if(typeof g!="function"||!m)return;const y=T=>{n1(T)&&(g(T),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return i.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}const YS=(t,e)=>e?t===e?!0:YS(t,e.parentElement):!1,Xy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,tO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function nO(t){return tO.has(t.tagName)||t.tabIndex!==-1}const Mf=new WeakSet;function s1(t){return e=>{e.key==="Enter"&&t(e)}}function Yp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const sO=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=s1(()=>{if(Mf.has(n))return;Yp(n,"down");const a=s1(()=>{Yp(n,"up")}),l=()=>Yp(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function i1(t){return Xy(t)&&!qS()}function iO(t,e,n={}){const[i,a,l]=GS(t,n),c=f=>{const m=f.currentTarget;if(!i1(f))return;Mf.add(m);const g=e(m,f),y=(N,V)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",E),Mf.has(m)&&Mf.delete(m),i1(N)&&typeof g=="function"&&g(N,{success:V})},T=N=>{y(N,m===window||m===document||n.useGlobalTarget||YS(m,N.target))},E=N=>{y(N,!1)};window.addEventListener("pointerup",T,a),window.addEventListener("pointercancel",E,a)};return i.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),HS(f)&&(f.addEventListener("focus",g=>sO(g,a)),!nO(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function WS(t){return rS(t)&&"ownerSVGElement"in t}function rO(t){return WS(t)&&t.tagName==="svg"}const Sn=t=>!!(t&&t.getVelocity),aO=[...US,$t,ta],oO=t=>aO.find(LS(t)),Zy=Q.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function r1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function lO(...t){return e=>{let n=!1;const i=t.map(a=>{const l=r1(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():r1(t[a],null)}}}}function uO(...t){return Q.useCallback(lO(...t),t)}class cO extends Q.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=HS(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function hO({children:t,isPresent:e,anchorX:n,root:i}){const a=Q.useId(),l=Q.useRef(null),c=Q.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=Q.useContext(Zy),m=uO(l,t?.ref);return Q.useInsertionEffect(()=>{const{width:g,height:y,top:T,left:E,right:N}=c.current;if(e||!l.current||!g||!y)return;const V=n==="left"?`left: ${E}`:`right: ${N}`;l.current.dataset.motionPopId=a;const L=document.createElement("style");f&&(L.nonce=f);const R=i??document.head;return R.appendChild(L),L.sheet&&L.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${V}px !important;
            top: ${T}px !important;
          }
        `),()=>{R.contains(L)&&R.removeChild(L)}},[e]),v.jsx(cO,{isPresent:e,childRef:l,sizeRef:c,children:Q.cloneElement(t,{ref:m})})}const fO=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:c,anchorX:f,root:m})=>{const g=Ny(dO),y=Q.useId();let T=!0,E=Q.useMemo(()=>(T=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:N=>{g.set(N,!0);for(const V of g.values())if(!V)return;i&&i()},register:N=>(g.set(N,!1),()=>g.delete(N))}),[n,g,i]);return l&&T&&(E={...E}),Q.useMemo(()=>{g.forEach((N,V)=>g.set(V,!1))},[n]),Q.useEffect(()=>{!n&&!g.size&&i&&i()},[n]),c==="popLayout"&&(t=v.jsx(hO,{isPresent:n,anchorX:f,root:m,children:t})),v.jsx(gd.Provider,{value:E,children:t})};function dO(){return new Map}function KS(t=!0){const e=Q.useContext(gd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=Q.useId();Q.useEffect(()=>{if(t)return a(l)},[t]);const c=Q.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,c]:[!0]}const Tf=t=>t.key||"";function a1(t){const e=[];return Q.Children.forEach(t,n=>{Q.isValidElement(n)&&e.push(n)}),e}const Kr=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:f="left",root:m})=>{const[g,y]=KS(c),T=Q.useMemo(()=>a1(t),[t]),E=c&&!g?[]:T.map(Tf),N=Q.useRef(!0),V=Q.useRef(T),L=Ny(()=>new Map),[R,B]=Q.useState(T),[z,F]=Q.useState(T);sS(()=>{N.current=!1,V.current=T;for(let K=0;K<z.length;K++){const C=Tf(z[K]);E.includes(C)?L.delete(C):L.get(C)!==!0&&L.set(C,!1)}},[z,E.length,E.join("-")]);const te=[];if(T!==R){let K=[...T];for(let C=0;C<z.length;C++){const S=z[C],M=Tf(S);E.includes(M)||(K.splice(C,0,S),te.push(S))}return l==="wait"&&te.length&&(K=te),F(a1(K)),B(T),null}const{forceRender:H}=Q.useContext(Dy);return v.jsx(v.Fragment,{children:z.map(K=>{const C=Tf(K),S=c&&!g?!1:T===z||E.includes(C),M=()=>{if(L.has(C))L.set(C,!0);else return;let O=!0;L.forEach(k=>{k||(O=!1)}),O&&(H?.(),F(V.current),c&&y?.(),i&&i())};return v.jsx(fO,{isPresent:S,initial:!N.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:S?void 0:M,anchorX:f,children:K},C)})})},$S=Q.createContext({strict:!1}),o1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wl={};for(const t in o1)wl[t]={isEnabled:e=>o1[t].some(n=>!!e[n])};function mO(t){for(const e in t)wl[e]={...wl[e],...t[e]}}const pO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Yf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||pO.has(t)}let QS=t=>!Yf(t);function gO(t){typeof t=="function"&&(QS=e=>e.startsWith("on")?!Yf(e):t(e))}try{gO(require("@emotion/is-prop-valid").default)}catch{}function yO(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(QS(a)||n===!0&&Yf(a)||!e&&!Yf(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const yd=Q.createContext({});function vd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function gc(t){return typeof t=="string"||Array.isArray(t)}const Jy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],e0=["initial",...Jy];function _d(t){return vd(t.animate)||e0.some(e=>gc(t[e]))}function XS(t){return!!(_d(t)||t.variants)}function vO(t,e){if(_d(t)){const{initial:n,animate:i}=t;return{initial:n===!1||gc(n)?n:void 0,animate:gc(i)?i:void 0}}return t.inherit!==!1?e:{}}function _O(t){const{initial:e,animate:n}=vO(t,Q.useContext(yd));return Q.useMemo(()=>({initial:e,animate:n}),[l1(e),l1(n)])}function l1(t){return Array.isArray(t)?t.join(" "):t}const yc={};function TO(t){for(const e in t)yc[e]=t[e],Ly(e)&&(yc[e].isCSSVariable=!0)}function ZS(t,{layout:e,layoutId:n}){return kl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!yc[t]||t==="opacity")}const bO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},EO=Ol.length;function wO(t,e,n){let i="",a=!0;for(let l=0;l<EO;l++){const c=Ol[l],f=t[c];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(c.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const g=FS(f,$y[c]);if(!m){a=!1;const y=bO[c]||c;i+=`${y}(${g}) `}n&&(e[c]=g)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function t0(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let c=!1,f=!1;for(const m in e){const g=e[m];if(kl.has(m)){c=!0;continue}else if(Ly(m)){a[m]=g;continue}else{const y=FS(g,$y[m]);m.startsWith("origin")?(f=!0,l[m]=y):i[m]=y}}if(e.transform||(c||n?i.transform=wO(e,t.transform,n):i.transform&&(i.transform="none")),f){const{originX:m="50%",originY:g="50%",originZ:y=0}=l;i.transformOrigin=`${m} ${g} ${y}`}}const n0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function JS(t,e,n){for(const i in e)!Sn(e[i])&&!ZS(i,n)&&(t[i]=e[i])}function SO({transformTemplate:t},e){return Q.useMemo(()=>{const n=n0();return t0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function xO(t,e){const n=t.style||{},i={};return JS(i,n,t),Object.assign(i,SO(t,e)),i}function AO(t,e){const n={},i=xO(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const CO={offset:"stroke-dashoffset",array:"stroke-dasharray"},DO={offset:"strokeDashoffset",array:"strokeDasharray"};function NO(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?CO:DO;t[l.offset]=Ne.transform(-i);const c=Ne.transform(e),f=Ne.transform(n);t[l.array]=`${c} ${f}`}function ex(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...f},m,g,y){if(t0(t,f,g),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:T,style:E}=t;T.transform&&(E.transform=T.transform,delete T.transform),(E.transform||T.transformOrigin)&&(E.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),E.transform&&(E.transformBox=y?.transformBox??"fill-box",delete T.transformBox),e!==void 0&&(T.x=e),n!==void 0&&(T.y=n),i!==void 0&&(T.scale=i),a!==void 0&&NO(T,a,l,c,!1)}const tx=()=>({...n0(),attrs:{}}),nx=t=>typeof t=="string"&&t.toLowerCase()==="svg";function MO(t,e,n,i){const a=Q.useMemo(()=>{const l=tx();return ex(l,e,nx(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};JS(l,t.style,t),a.style={...l,...a.style}}return a}const RO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function s0(t){return typeof t!="string"||t.includes("-")?!1:!!(RO.indexOf(t)>-1||/[A-Z]/u.test(t))}function IO(t,e,n,{latestValues:i},a,l=!1){const f=(s0(t)?MO:AO)(e,i,a,t),m=yO(e,typeof t=="string",l),g=t!==Q.Fragment?{...m,...f,ref:n}:{},{children:y}=e,T=Q.useMemo(()=>Sn(y)?y.get():y,[y]);return Q.createElement(t,{...g,children:T})}function u1(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function i0(t,e,n,i){if(typeof e=="function"){const[a,l]=u1(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=u1(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function Rf(t){return Sn(t)?t.get():t}function OO({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:kO(n,i,a,t),renderState:e()}}function kO(t,e,n,i){const a={},l=i(t,{});for(const E in l)a[E]=Rf(l[E]);let{initial:c,animate:f}=t;const m=_d(t),g=XS(t);e&&g&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const T=y?f:c;if(T&&typeof T!="boolean"&&!vd(T)){const E=Array.isArray(T)?T:[T];for(let N=0;N<E.length;N++){const V=i0(t,E[N]);if(V){const{transitionEnd:L,transition:R,...B}=V;for(const z in B){let F=B[z];if(Array.isArray(F)){const te=y?F.length-1:0;F=F[te]}F!==null&&(a[z]=F)}for(const z in L)a[z]=L[z]}}}return a}const sx=t=>(e,n)=>{const i=Q.useContext(yd),a=Q.useContext(gd),l=()=>OO(t,e,i,a);return n?l():Ny(l)};function r0(t,e,n){const{style:i}=t,a={};for(const l in i)(Sn(i[l])||e.style&&Sn(e.style[l])||ZS(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=i[l]);return a}const VO=sx({scrapeMotionValuesFromProps:r0,createRenderState:n0});function ix(t,e,n){const i=r0(t,e,n);for(const a in t)if(Sn(t[a])||Sn(e[a])){const l=Ol.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}const PO=sx({scrapeMotionValuesFromProps:ix,createRenderState:tx}),jO=Symbol.for("motionComponentSymbol");function cl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function LO(t,e,n){return Q.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):cl(n)&&(n.current=i))},[e])}const a0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),UO="framerAppearId",rx="data-"+a0(UO),ax=Q.createContext({});function BO(t,e,n,i,a){const{visualElement:l}=Q.useContext(yd),c=Q.useContext($S),f=Q.useContext(gd),m=Q.useContext(Zy).reducedMotion,g=Q.useRef(null);i=i||c.renderer,!g.current&&i&&(g.current=i(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const y=g.current,T=Q.useContext(ax);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&zO(g.current,n,a,T);const E=Q.useRef(!1);Q.useInsertionEffect(()=>{y&&E.current&&y.update(n,f)});const N=n[rx],V=Q.useRef(!!N&&!window.MotionHandoffIsComplete?.(N)&&window.MotionHasOptimisedAnimation?.(N));return sS(()=>{y&&(E.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),V.current&&y.animationState&&y.animationState.animateChanges())}),Q.useEffect(()=>{y&&(!V.current&&y.animationState&&y.animationState.animateChanges(),V.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(N)}),V.current=!1),y.enteringChildren=void 0)}),y}function zO(t,e,n,i){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:g,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:ox(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&cl(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:m,layoutRoot:g})}function ox(t){if(t)return t.options.allowProjection!==!1?t.projection:ox(t.parent)}function Wp(t,{forwardMotionProps:e=!1}={},n,i){n&&mO(n);const a=s0(t)?PO:VO;function l(f,m){let g;const y={...Q.useContext(Zy),...f,layoutId:FO(f)},{isStatic:T}=y,E=_O(f),N=a(f,T);if(!T&&My){HO();const V=qO(y);g=V.MeasureLayout,E.visualElement=BO(t,N,y,i,V.ProjectionNode)}return v.jsxs(yd.Provider,{value:E,children:[g&&E.visualElement?v.jsx(g,{visualElement:E.visualElement,...y}):null,IO(t,f,LO(N,E.visualElement,m),N,T,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=Q.forwardRef(l);return c[jO]=t,c}function FO({layoutId:t}){const e=Q.useContext(Dy).id;return e&&t!==void 0?e+"-"+t:t}function HO(t,e){Q.useContext($S).strict}function qO(t){const{drag:e,layout:n}=wl;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function GO(t,e){if(typeof Proxy>"u")return Wp;const n=new Map,i=(l,c)=>Wp(l,c,t,e),a=(l,c)=>i(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?i:(n.has(c)||n.set(c,Wp(c,void 0,t,e)),n.get(c))})}function lx({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function YO({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function WO(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Kp(t){return t===void 0||t===1}function kg({scale:t,scaleX:e,scaleY:n}){return!Kp(t)||!Kp(e)||!Kp(n)}function qa(t){return kg(t)||ux(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ux(t){return c1(t.x)||c1(t.y)}function c1(t){return t&&t!=="0%"}function Wf(t,e,n){const i=t-n,a=e*i;return n+a}function h1(t,e,n,i,a){return a!==void 0&&(t=Wf(t,a,i)),Wf(t,n,i)+e}function Vg(t,e=0,n=1,i,a){t.min=h1(t.min,e,n,i,a),t.max=h1(t.max,e,n,i,a)}function cx(t,{x:e,y:n}){Vg(t.x,e.translate,e.scale,e.originPoint),Vg(t.y,n.translate,n.scale,n.originPoint)}const f1=.999999999999,d1=1.0000000000001;function KO(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&fl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,cx(t,c)),i&&qa(l.latestValues)&&fl(t,l.latestValues))}e.x<d1&&e.x>f1&&(e.x=1),e.y<d1&&e.y>f1&&(e.y=1)}function hl(t,e){t.min=t.min+e,t.max=t.max+e}function m1(t,e,n,i,a=.5){const l=At(t.min,t.max,a);Vg(t,e,n,l,i)}function fl(t,e){m1(t.x,e.x,e.scaleX,e.scale,e.originX),m1(t.y,e.y,e.scaleY,e.scale,e.originY)}function hx(t,e){return lx(WO(t.getBoundingClientRect(),e))}function $O(t,e,n){const i=hx(t,n),{scroll:a}=e;return a&&(hl(i.x,a.offset.x),hl(i.y,a.offset.y)),i}const p1=()=>({translate:0,scale:1,origin:0,originPoint:0}),dl=()=>({x:p1(),y:p1()}),g1=()=>({min:0,max:0}),en=()=>({x:g1(),y:g1()}),Pg={current:null},fx={current:!1};function QO(){if(fx.current=!0,!!My)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Pg.current=t.matches;t.addEventListener("change",e),e()}else Pg.current=!1}const XO=new WeakMap;function ZO(t,e,n){for(const i in e){const a=e[i],l=n[i];if(Sn(a))t.addValue(i,a);else if(Sn(l))t.addValue(i,El(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(i);t.addValue(i,El(c!==void 0?c:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const y1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class JO{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Wy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Bn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,Et.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=g,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=_d(n),this.isVariantNode=XS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in T){const N=T[E];m[E]!==void 0&&Sn(N)&&N.set(m[E])}}mount(e){this.current=e,XO.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),fx.current||QO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Pg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ea(this.notifyUpdate),ea(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=kl.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Et.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in wl){const n=wl[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):en()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<y1.length;i++){const a=y1[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=ZO(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=El(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(iS(i)||aS(i))?i=parseFloat(i):!oO(i)&&ta.test(n)&&(i=zS(e,n)),this.setBaseTarget(e,Sn(i)?i.get():i)),Sn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=i0(this.props,n,this.presenceContext?.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Sn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Vy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Qy.render(this.render)}}class dx extends JO{constructor(){super(...arguments),this.KeyframeResolver=$I}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Sn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function mx(t,{style:e,vars:n},i,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,i);for(c in n)l.setProperty(c,n[c])}function ek(t){return window.getComputedStyle(t)}class tk extends dx{constructor(){super(...arguments),this.type="html",this.renderInstance=mx}readValueFromInstance(e,n){if(kl.has(n))return this.projection?.isProjecting?Cg(n):mI(e,n);{const i=ek(e),a=(Ly(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return hx(e,n)}build(e,n,i){t0(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return r0(e,n,i)}}const px=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function nk(t,e,n,i){mx(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(px.has(a)?a:a0(a),e.attrs[a])}class sk extends dx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=en}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(kl.has(n)){const i=BS(n);return i&&i.default||0}return n=px.has(n)?n:a0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return ix(e,n,i)}build(e,n,i){ex(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){nk(e,n,i,a)}mount(e){this.isSVGTag=nx(e.tagName),super.mount(e)}}const ik=(t,e)=>s0(t)?new sk(e):new tk(e,{allowProjection:t!==Q.Fragment});function pl(t,e,n){const i=t.getProps();return i0(i,e,n!==void 0?n:i.custom,t)}const jg=t=>Array.isArray(t);function rk(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,El(n))}function ak(t){return jg(t)?t[t.length-1]||0:t}function ok(t,e){const n=pl(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const c in l){const f=ak(l[c]);rk(t,c,f)}}function lk(t){return!!(Sn(t)&&t.add)}function Lg(t,e){const n=t.getValue("willChange");if(lk(n))return n.add(e);if(!n&&Ji.WillChange){const i=new Ji.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function gx(t){return t.props[rx]}const uk=t=>t!==null;function ck(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(uk),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const hk={type:"spring",stiffness:500,damping:25,restSpeed:10},fk=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),dk={type:"keyframes",duration:.8},mk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pk=(t,{keyframes:e})=>e.length>2?dk:kl.has(t)?t.startsWith("scale")?fk(e[1]):hk:mk;function gk({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:m,elapsed:g,...y}){return!!Object.keys(y).length}const o0=(t,e,n,i={},a,l)=>c=>{const f=Ky(i,t)||{},m=f.delay||i.delay||0;let{elapsed:g=0}=i;g=g-mi(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-g,onUpdate:E=>{e.set(E),f.onUpdate&&f.onUpdate(E)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};gk(f)||Object.assign(y,pk(t,y)),y.duration&&(y.duration=mi(y.duration)),y.repeatDelay&&(y.repeatDelay=mi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let T=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Ig(y),y.delay===0&&(T=!0)),(Ji.instantAnimations||Ji.skipAnimations)&&(T=!0,Ig(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,T&&!l&&e.get()!==void 0){const E=ck(y.keyframes,f);if(E!==void 0){Et.update(()=>{y.onUpdate(E),y.onComplete()});return}}return f.isSync?new Yy(y):new jI(y)};function yk({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function yx(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...f}=e;i&&(l=i);const m=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const y in f){const T=t.getValue(y,t.latestValues[y]??null),E=f[y];if(E===void 0||g&&yk(g,y))continue;const N={delay:n,...Ky(l||{},y)},V=T.get();if(V!==void 0&&!T.isAnimating&&!Array.isArray(E)&&E===V&&!N.velocity)continue;let L=!1;if(window.MotionHandoffAnimation){const B=gx(t);if(B){const z=window.MotionHandoffAnimation(B,y,Et);z!==null&&(N.startTime=z,L=!0)}}Lg(t,y),T.start(o0(y,T,E,t.shouldReduceMotion&&jS.has(y)?{type:!1}:N,t,L));const R=T.animation;R&&m.push(R)}return c&&Promise.all(m).then(()=>{Et.update(()=>{c&&ok(t,c)})}),m}function vx(t,e,n,i=0,a=1){const l=Array.from(t).sort((g,y)=>g.sortNodePosition(y)).indexOf(e),c=t.size,f=(c-1)*i;return typeof n=="function"?n(l,c):a===1?l*i:f-l*i}function Ug(t,e,n={}){const i=pl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(yx(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:T}=a;return vk(t,e,m,g,y,T,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,g]=f==="beforeChildren"?[l,c]:[c,l];return m().then(()=>g())}else return Promise.all([l(),c(n.delay)])}function vk(t,e,n=0,i=0,a=0,l=1,c){const f=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),f.push(Ug(m,e,{...c,delay:n+(typeof i=="function"?0:i)+vx(t.variantChildren,m,i,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(f)}function _k(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>Ug(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=Ug(t,e,n);else{const a=typeof e=="function"?pl(t,e,n.custom):e;i=Promise.all(yx(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function _x(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const Tk=e0.length;function Tx(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Tx(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Tk;n++){const i=e0[n],a=t.props[i];(gc(a)||a===!1)&&(e[i]=a)}return e}const bk=[...Jy].reverse(),Ek=Jy.length;function wk(t){return e=>Promise.all(e.map(({animation:n,options:i})=>_k(t,n,i)))}function Sk(t){let e=wk(t),n=v1(),i=!0;const a=m=>(g,y)=>{const T=pl(t,y,m==="exit"?t.presenceContext?.custom:void 0);if(T){const{transition:E,transitionEnd:N,...V}=T;g={...g,...V,...N}}return g};function l(m){e=m(t)}function c(m){const{props:g}=t,y=Tx(t.parent)||{},T=[],E=new Set;let N={},V=1/0;for(let R=0;R<Ek;R++){const B=bk[R],z=n[B],F=g[B]!==void 0?g[B]:y[B],te=gc(F),H=B===m?z.isActive:null;H===!1&&(V=R);let K=F===y[B]&&F!==g[B]&&te;if(K&&i&&t.manuallyAnimateOnMount&&(K=!1),z.protectedKeys={...N},!z.isActive&&H===null||!F&&!z.prevProp||vd(F)||typeof F=="boolean")continue;const C=xk(z.prevProp,F);let S=C||B===m&&z.isActive&&!K&&te||R>V&&te,M=!1;const O=Array.isArray(F)?F:[F];let k=O.reduce(a(B),{});H===!1&&(k={});const{prevResolvedValues:I={}}=z,A={...I,...k},le=ae=>{S=!0,E.has(ae)&&(M=!0,E.delete(ae)),z.needsAnimating[ae]=!0;const de=t.getValue(ae);de&&(de.liveStyle=!1)};for(const ae in A){const de=k[ae],Te=I[ae];if(N.hasOwnProperty(ae))continue;let De=!1;jg(de)&&jg(Te)?De=!_x(de,Te):De=de!==Te,De?de!=null?le(ae):E.add(ae):de!==void 0&&E.has(ae)?le(ae):z.protectedKeys[ae]=!0}z.prevProp=F,z.prevResolvedValues=k,z.isActive&&(N={...N,...k}),i&&t.blockInitialAnimation&&(S=!1);const be=K&&C;S&&(!be||M)&&T.push(...O.map(ae=>{const de={type:B};if(typeof ae=="string"&&i&&!be&&t.manuallyAnimateOnMount&&t.parent){const{parent:Te}=t,De=pl(Te,ae);if(Te.enteringChildren&&De){const{delayChildren:j}=De.transition||{};de.delay=vx(Te.enteringChildren,t,j)}}return{animation:ae,options:de}}))}if(E.size){const R={};if(typeof g.initial!="boolean"){const B=pl(t,Array.isArray(g.initial)?g.initial[0]:g.initial);B&&B.transition&&(R.transition=B.transition)}E.forEach(B=>{const z=t.getBaseTarget(B),F=t.getValue(B);F&&(F.liveStyle=!0),R[B]=z??null}),T.push({animation:R})}let L=!!T.length;return i&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(L=!1),i=!1,L?e(T):Promise.resolve()}function f(m,g){if(n[m].isActive===g)return Promise.resolve();t.variantChildren?.forEach(T=>T.animationState?.setActive(m,g)),n[m].isActive=g;const y=c(m);for(const T in n)n[T].protectedKeys={};return y}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=v1()}}}function xk(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!_x(e,t):!1}function Fa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function v1(){return{animate:Fa(!0),whileInView:Fa(),whileHover:Fa(),whileTap:Fa(),whileDrag:Fa(),whileFocus:Fa(),exit:Fa()}}class ua{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Ak extends ua{constructor(e){super(e),e.animationState||(e.animationState=Sk(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();vd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Ck=0;class Dk extends ua{constructor(){super(...arguments),this.id=Ck++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Nk={animation:{Feature:Ak},exit:{Feature:Dk}};function vc(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Vc(t){return{point:{x:t.pageX,y:t.pageY}}}const Mk=t=>e=>Xy(e)&&t(e,Vc(e));function nc(t,e,n,i){return vc(t,e,Mk(n),i)}const bx=1e-4,Rk=1-bx,Ik=1+bx,Ex=.01,Ok=0-Ex,kk=0+Ex;function Nn(t){return t.max-t.min}function Vk(t,e,n){return Math.abs(t-e)<=n}function _1(t,e,n,i=.5){t.origin=i,t.originPoint=At(e.min,e.max,t.origin),t.scale=Nn(n)/Nn(e),t.translate=At(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Rk&&t.scale<=Ik||isNaN(t.scale))&&(t.scale=1),(t.translate>=Ok&&t.translate<=kk||isNaN(t.translate))&&(t.translate=0)}function sc(t,e,n,i){_1(t.x,e.x,n.x,i?i.originX:void 0),_1(t.y,e.y,n.y,i?i.originY:void 0)}function T1(t,e,n){t.min=n.min+e.min,t.max=t.min+Nn(e)}function Pk(t,e,n){T1(t.x,e.x,n.x),T1(t.y,e.y,n.y)}function b1(t,e,n){t.min=e.min-n.min,t.max=t.min+Nn(e)}function Kf(t,e,n){b1(t.x,e.x,n.x),b1(t.y,e.y,n.y)}function ys(t){return[t("x"),t("y")]}const wx=({current:t})=>t?t.ownerDocument.defaultView:null,E1=(t,e)=>Math.abs(t-e);function jk(t,e){const n=E1(t.x,e.x),i=E1(t.y,e.y);return Math.sqrt(n**2+i**2)}class Sx{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Qp(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,V=jk(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!N&&!V)return;const{point:L}=E,{timestamp:R}=mn;this.history.push({...L,timestamp:R});const{onStart:B,onMove:z}=this.handlers;N||(B&&B(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),z&&z(this.lastMoveEvent,E)},this.handlePointerMove=(E,N)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=$p(N,this.transformPagePoint),Et.update(this.updatePoint,!0)},this.handlePointerUp=(E,N)=>{this.end();const{onEnd:V,onSessionEnd:L,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const B=Qp(E.type==="pointercancel"?this.lastMoveEventInfo:$p(N,this.transformPagePoint),this.history);this.startEvent&&V&&V(E,B),L&&L(E,B)},!Xy(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const f=Vc(e),m=$p(f,this.transformPagePoint),{point:g}=m,{timestamp:y}=mn;this.history=[{...g,timestamp:y}];const{onSessionStart:T}=n;T&&T(e,Qp(m,this.history)),this.removeListeners=Ic(nc(this.contextWindow,"pointermove",this.handlePointerMove),nc(this.contextWindow,"pointerup",this.handlePointerUp),nc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ea(this.updatePoint)}}function $p(t,e){return e?{point:e(t.point)}:t}function w1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Qp({point:t},e){return{point:t,delta:w1(t,xx(e)),offset:w1(t,Lk(e)),velocity:Uk(e,.1)}}function Lk(t){return t[0]}function xx(t){return t[t.length-1]}function Uk(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=xx(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>mi(e)));)n--;if(!i)return{x:0,y:0};const l=bs(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Bk(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?At(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?At(n,t,i.max):Math.min(t,n)),t}function S1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function zk(t,{top:e,left:n,bottom:i,right:a}){return{x:S1(t.x,n,a),y:S1(t.y,e,i)}}function x1(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function Fk(t,e){return{x:x1(t.x,e.x),y:x1(t.y,e.y)}}function Hk(t,e){let n=.5;const i=Nn(t),a=Nn(e);return a>i?n=dc(e.min,e.max-i,t.min):i>a&&(n=dc(t.min,t.max-a,e.min)),Zi(0,1,n)}function qk(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Bg=.35;function Gk(t=Bg){return t===!1?t=0:t===!0&&(t=Bg),{x:A1(t,"left","right"),y:A1(t,"top","bottom")}}function A1(t,e,n){return{min:C1(t,e),max:C1(t,n)}}function C1(t,e){return typeof t=="number"?t:t[e]||0}const Yk=new WeakMap;class Wk{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=en(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=T=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Vc(T).point)},c=(T,E)=>{const{drag:N,dragPropagation:V,onDragStart:L}=this.getProps();if(N&&!V&&(this.openDragLock&&this.openDragLock(),this.openDragLock=JI(N),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ys(B=>{let z=this.getAxisMotionValue(B).get()||0;if(pi.test(z)){const{projection:F}=this.visualElement;if(F&&F.layout){const te=F.layout.layoutBox[B];te&&(z=Nn(te)*(parseFloat(z)/100))}}this.originPoint[B]=z}),L&&Et.postRender(()=>L(T,E)),Lg(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},f=(T,E)=>{this.latestPointerEvent=T,this.latestPanInfo=E;const{dragPropagation:N,dragDirectionLock:V,onDirectionLock:L,onDrag:R}=this.getProps();if(!N&&!this.openDragLock)return;const{offset:B}=E;if(V&&this.currentDirection===null){this.currentDirection=Kk(B),this.currentDirection!==null&&L&&L(this.currentDirection);return}this.updateAxis("x",E.point,B),this.updateAxis("y",E.point,B),this.visualElement.render(),R&&R(T,E)},m=(T,E)=>{this.latestPointerEvent=T,this.latestPanInfo=E,this.stop(T,E),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>ys(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new Sx(e,{onSessionStart:l,onStart:c,onMove:f,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:wx(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&Et.postRender(()=>f(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!bf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=Bk(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&cl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=zk(i.layoutBox,e):this.constraints=!1,this.elastic=Gk(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ys(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=qk(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!cl(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=$O(i,a.root,this.visualElement.getTransformPagePoint());let c=Fk(a.layout.layoutBox,l);if(n){const f=n(YO(c));this.hasMutatedConstraints=!!f,f&&(c=lx(f))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},g=ys(y=>{if(!bf(y,n,this.currentDirection))return;let T=m&&m[y]||{};c&&(T={min:0,max:0});const E=a?200:1e6,N=a?40:1e7,V={type:"inertia",velocity:i?e[y]:0,bounceStiffness:E,bounceDamping:N,timeConstant:750,restDelta:1,restSpeed:10,...l,...T};return this.startAxisValueAnimation(y,V)});return Promise.all(g).then(f)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Lg(this.visualElement,e),i.start(o0(e,i,0,n,this.visualElement,!1))}stopAnimation(){ys(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ys(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){ys(n=>{const{drag:i}=this.getProps();if(!bf(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n];l.set(e[n]-At(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!cl(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ys(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();a[c]=Hk({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ys(c=>{if(!bf(c,e,null))return;const f=this.getAxisMotionValue(c),{min:m,max:g}=this.constraints[c];f.set(At(m,g,a[c]))})}addListeners(){if(!this.visualElement.current)return;Yk.set(this.visualElement,this);const e=this.visualElement.current,n=nc(e,"pointerdown",m=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(m)}),i=()=>{const{dragConstraints:m}=this.getProps();cl(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Et.read(i);const c=vc(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(ys(y=>{const T=this.getAxisMotionValue(y);T&&(this.originPoint[y]+=m[y].translate,T.set(T.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Bg,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function bf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Kk(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class $k extends ua{constructor(e){super(e),this.removeGroupControls=Es,this.removeListeners=Es,this.controls=new Wk(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Es}unmount(){this.removeGroupControls(),this.removeListeners()}}const D1=t=>(e,n)=>{t&&Et.postRender(()=>t(e,n))};class Qk extends ua{constructor(){super(...arguments),this.removePointerDownListener=Es}onPointerDown(e){this.session=new Sx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wx(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:D1(e),onStart:D1(n),onMove:i,onEnd:(l,c)=>{delete this.session,a&&Et.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=nc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const If={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function N1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Yu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ne.test(t))t=parseFloat(t);else return t;const n=N1(t,e.target.x),i=N1(t,e.target.y);return`${n}% ${i}%`}},Xk={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=ta.parse(t);if(a.length>5)return i;const l=ta.createTransformer(t),c=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=f,a[1+c]/=m;const g=At(f,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g),l(a)}};let Xp=!1;class Zk extends Q.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;TO(Jk),l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),Xp&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),If.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,Xp=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Et.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Qy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;Xp=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ax(t){const[e,n]=KS(),i=Q.useContext(Dy);return v.jsx(Zk,{...t,layoutGroup:i,switchLayoutGroup:Q.useContext(ax),isPresent:e,safeToRemove:n})}const Jk={borderRadius:{...Yu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Yu,borderTopRightRadius:Yu,borderBottomLeftRadius:Yu,borderBottomRightRadius:Yu,boxShadow:Xk};function eV(t,e,n){const i=Sn(t)?t:El(t);return i.start(o0("",i,e,n)),i.animation}const tV=(t,e)=>t.depth-e.depth;class nV{constructor(){this.children=[],this.isDirty=!1}add(e){Ry(this.children,e),this.isDirty=!0}remove(e){Iy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(tV),this.isDirty=!1,this.children.forEach(e)}}function sV(t,e){const n=Bn.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(ea(i),t(l-e))};return Et.setup(i,!0),()=>ea(i)}const Cx=["TopLeft","TopRight","BottomLeft","BottomRight"],iV=Cx.length,M1=t=>typeof t=="string"?parseFloat(t):t,R1=t=>typeof t=="number"||Ne.test(t);function rV(t,e,n,i,a,l){a?(t.opacity=At(0,n.opacity??1,aV(i)),t.opacityExit=At(e.opacity??1,0,oV(i))):l&&(t.opacity=At(e.opacity??1,n.opacity??1,i));for(let c=0;c<iV;c++){const f=`border${Cx[c]}Radius`;let m=I1(e,f),g=I1(n,f);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||R1(m)===R1(g)?(t[f]=Math.max(At(M1(m),M1(g),i),0),(pi.test(g)||pi.test(m))&&(t[f]+="%")):t[f]=g}(e.rotate||n.rotate)&&(t.rotate=At(e.rotate||0,n.rotate||0,i))}function I1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const aV=Dx(0,.5,mS),oV=Dx(.5,.95,Es);function Dx(t,e,n){return i=>i<t?0:i>e?1:n(dc(t,e,i))}function O1(t,e){t.min=e.min,t.max=e.max}function Ps(t,e){O1(t.x,e.x),O1(t.y,e.y)}function k1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function V1(t,e,n,i,a){return t-=e,t=Wf(t,1/n,i),a!==void 0&&(t=Wf(t,1/a,i)),t}function lV(t,e=0,n=1,i=.5,a,l=t,c=t){if(pi.test(e)&&(e=parseFloat(e),e=At(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=At(l.min,l.max,i);t===l&&(f-=e),t.min=V1(t.min,e,n,f,a),t.max=V1(t.max,e,n,f,a)}function P1(t,e,[n,i,a],l,c){lV(t,e[n],e[i],e[a],e.scale,l,c)}const uV=["x","scaleX","originX"],cV=["y","scaleY","originY"];function j1(t,e,n,i){P1(t.x,e,uV,n?n.x:void 0,i?i.x:void 0),P1(t.y,e,cV,n?n.y:void 0,i?i.y:void 0)}function L1(t){return t.translate===0&&t.scale===1}function Nx(t){return L1(t.x)&&L1(t.y)}function U1(t,e){return t.min===e.min&&t.max===e.max}function hV(t,e){return U1(t.x,e.x)&&U1(t.y,e.y)}function B1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Mx(t,e){return B1(t.x,e.x)&&B1(t.y,e.y)}function z1(t){return Nn(t.x)/Nn(t.y)}function F1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class fV{constructor(){this.members=[]}add(e){Ry(this.members,e),e.scheduleRender()}remove(e){if(Iy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dV(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(i=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:g,rotate:y,rotateX:T,rotateY:E,skewX:N,skewY:V}=n;g&&(i=`perspective(${g}px) ${i}`),y&&(i+=`rotate(${y}deg) `),T&&(i+=`rotateX(${T}deg) `),E&&(i+=`rotateY(${E}deg) `),N&&(i+=`skewX(${N}deg) `),V&&(i+=`skewY(${V}deg) `)}const f=t.x.scale*e.x,m=t.y.scale*e.y;return(f!==1||m!==1)&&(i+=`scale(${f}, ${m})`),i||"none"}const Zp=["","X","Y","Z"],mV=1e3;let pV=0;function Jp(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function Rx(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=gx(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Et,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&Rx(i)}function Ix({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},f=e?.()){this.id=pV++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(vV),this.nodes.forEach(EV),this.nodes.forEach(wV),this.nodes.forEach(_V)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new nV)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Vy),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=WS(c)&&!rO(c),this.instance=c;const{layoutId:f,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),t){let y,T=0;const E=()=>this.root.updateBlockedByResize=!1;Et.read(()=>{T=window.innerWidth}),t(c,()=>{const N=window.innerWidth;N!==T&&(T=N,this.root.updateBlockedByResize=!0,y&&y(),y=sV(E,250),If.hasAnimatedSinceResize&&(If.hasAnimatedSinceResize=!1,this.nodes.forEach(G1)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:T,hasRelativeLayoutChanged:E,layout:N})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const V=this.options.transition||g.getDefaultTransition()||DV,{onLayoutAnimationStart:L,onLayoutAnimationComplete:R}=g.getProps(),B=!this.targetLayout||!Mx(this.targetLayout,N),z=!T&&E;if(this.options.layoutRoot||this.resumeFrom||z||T&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...Ky(V,"layout"),onPlay:L,onComplete:R};(g.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(y,z)}else T||G1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=N})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ea(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(SV),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Rx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const T=this.path[y];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(H1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(q1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(bV),this.nodes.forEach(gV),this.nodes.forEach(yV)):this.nodes.forEach(q1),this.clearAllSnapshots();const f=Bn.now();mn.delta=Zi(0,1e3/60,f-mn.timestamp),mn.timestamp=f,mn.isProcessing=!0,zp.update.process(mn),zp.preRender.process(mn),zp.render.process(mn),mn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Qy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(TV),this.sharedNodes.forEach(xV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Nn(this.snapshot.measuredBox.x)&&!Nn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=en(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const m=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!Nx(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&this.instance&&(f||qa(this.latestValues)||y)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),NV(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return en();const f=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(MV))){const{scroll:g}=this.root;g&&(hl(f.x,g.offset.x),hl(f.y,g.offset.y))}return f}removeElementScroll(c){const f=en();if(Ps(f,c),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:T}=g;g!==this.root&&y&&T.layoutScroll&&(y.wasRoot&&Ps(f,c),hl(f.x,y.offset.x),hl(f.y,y.offset.y))}return f}applyTransform(c,f=!1){const m=en();Ps(m,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&fl(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),qa(y.latestValues)&&fl(m,y.latestValues)}return qa(this.latestValues)&&fl(m,this.latestValues),m}removeTransform(c){const f=en();Ps(f,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!qa(g.latestValues))continue;kg(g.latestValues)&&g.updateSnapshot();const y=en(),T=g.measurePageBox();Ps(y,T),j1(f,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return qa(this.latestValues)&&j1(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:T}=this.options;if(!this.layout||!(y||T))return;this.resolvedRelativeTargetAt=mn.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=en(),this.targetWithTransforms=en()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Pk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ps(this.target,this.layout.layoutBox),cx(this.target,this.targetDelta)):Ps(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||kg(this.parent.latestValues)||ux(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,f,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=en(),this.relativeTargetOrigin=en(),Kf(this.relativeTargetOrigin,f,m),Ps(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===mn.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;Ps(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,E=this.treeScale.y;KO(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=en());const{target:N}=c;if(!N){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(k1(this.prevProjectionDelta.x,this.projectionDelta.x),k1(this.prevProjectionDelta.y,this.projectionDelta.y)),sc(this.projectionDelta,this.layoutCorrected,N,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==E||!F1(this.projectionDelta.x,this.prevProjectionDelta.x)||!F1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",N))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=dl(),this.projectionDelta=dl(),this.projectionDeltaWithTransform=dl()}setAnimationOrigin(c,f=!1){const m=this.snapshot,g=m?m.latestValues:{},y={...this.latestValues},T=dl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const E=en(),N=m?m.source:void 0,V=this.layout?this.layout.source:void 0,L=N!==V,R=this.getStack(),B=!R||R.members.length<=1,z=!!(L&&!B&&this.options.crossfade===!0&&!this.path.some(CV));this.animationProgress=0;let F;this.mixTargetDelta=te=>{const H=te/1e3;Y1(T.x,c.x,H),Y1(T.y,c.y,H),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Kf(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),AV(this.relativeTarget,this.relativeTargetOrigin,E,H),F&&hV(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=en()),Ps(F,this.relativeTarget)),L&&(this.animationValues=y,rV(y,g,this.latestValues,H,z,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=H},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ea(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Et.update(()=>{If.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=El(0)),this.currentAnimation=eV(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:g,latestValues:y}=c;if(!(!f||!m||!g)){if(this!==c&&this.layout&&g&&Ox(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||en();const T=Nn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+T;const E=Nn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+E}Ps(f,m),fl(f,y),sc(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new fV),this.sharedNodes.get(c).add(f);const g=f.options.initialPromotionConfig;f.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const g={};m.z&&Jp("z",c,g,this.animationValues);for(let y=0;y<Zp.length;y++)Jp(`rotate${Zp[y]}`,c,g,this.animationValues),Jp(`skew${Zp[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Rf(f?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Rf(f?.pointerEvents)||""),this.hasProjected&&!qa(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let T=dV(this.projectionDeltaWithTransform,this.treeScale,y);m&&(T=m(y,T)),c.transform=T;const{x:E,y:N}=this.projectionDelta;c.transformOrigin=`${E.origin*100}% ${N.origin*100}% 0`,g.animationValues?c.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const V in yc){if(y[V]===void 0)continue;const{correct:L,applyTo:R,isCSSVariable:B}=yc[V],z=T==="none"?y[V]:L(y[V],g);if(R){const F=R.length;for(let te=0;te<F;te++)c[R[te]]=z}else B?this.options.visualElement.renderState.vars[V]=z:c[V]=z}this.options.layoutId&&(c.pointerEvents=g===this?Rf(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(H1),this.root.sharedNodes.clear()}}}function gV(t){t.updateLayout()}function yV(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?ys(y=>{const T=l?e.measuredBox[y]:e.layoutBox[y],E=Nn(T);T.min=n[y].min,T.max=T.min+E}):Ox(a,e.layoutBox,n)&&ys(y=>{const T=l?e.measuredBox[y]:e.layoutBox[y],E=Nn(n[y]);T.max=T.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+E)});const c=dl();sc(c,n,e.layoutBox);const f=dl();l?sc(f,t.applyTransform(i,!0),e.measuredBox):sc(f,n,e.layoutBox);const m=!Nx(c);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:T,layout:E}=y;if(T&&E){const N=en();Kf(N,e.layoutBox,T.layoutBox);const V=en();Kf(V,n,E.layoutBox),Mx(N,V)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=V,t.relativeTargetOrigin=N,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function vV(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function _V(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function TV(t){t.clearSnapshot()}function H1(t){t.clearMeasurements()}function q1(t){t.isLayoutDirty=!1}function bV(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function G1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function EV(t){t.resolveTargetDelta()}function wV(t){t.calcProjection()}function SV(t){t.resetSkewAndRotation()}function xV(t){t.removeLeadSnapshot()}function Y1(t,e,n){t.translate=At(e.translate,0,n),t.scale=At(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function W1(t,e,n,i){t.min=At(e.min,n.min,i),t.max=At(e.max,n.max,i)}function AV(t,e,n,i){W1(t.x,e.x,n.x,i),W1(t.y,e.y,n.y,i)}function CV(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const DV={duration:.45,ease:[.4,0,.1,1]},K1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),$1=K1("applewebkit/")&&!K1("chrome/")?Math.round:Es;function Q1(t){t.min=$1(t.min),t.max=$1(t.max)}function NV(t){Q1(t.x),Q1(t.y)}function Ox(t,e,n){return t==="position"||t==="preserve-aspect"&&!Vk(z1(e),z1(n),.2)}function MV(t){return t!==t.root&&t.scroll?.wasRoot}const RV=Ix({attachResizeListener:(t,e)=>vc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),eg={current:void 0},kx=Ix({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!eg.current){const t=new RV({});t.mount(window),t.setOptions({layoutScroll:!0}),eg.current=t}return eg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),IV={pan:{Feature:Qk},drag:{Feature:$k,ProjectionNode:kx,MeasureLayout:Ax}};function X1(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&Et.postRender(()=>l(e,Vc(e)))}class OV extends ua{mount(){const{current:e}=this.node;e&&(this.unmount=eO(e,(n,i)=>(X1(this.node,i,"Start"),a=>X1(this.node,a,"End"))))}unmount(){}}class kV extends ua{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ic(vc(this.node.current,"focus",()=>this.onFocus()),vc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Z1(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&Et.postRender(()=>l(e,Vc(e)))}class VV extends ua{mount(){const{current:e}=this.node;e&&(this.unmount=iO(e,(n,i)=>(Z1(this.node,i,"Start"),(a,{success:l})=>Z1(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const zg=new WeakMap,tg=new WeakMap,PV=t=>{const e=zg.get(t.target);e&&e(t)},jV=t=>{t.forEach(PV)};function LV({root:t,...e}){const n=t||document;tg.has(n)||tg.set(n,{});const i=tg.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(jV,{root:t,...e})),i[a]}function UV(t,e,n){const i=LV(e);return zg.set(t,n),i.observe(t),()=>{zg.delete(t),i.unobserve(t)}}const BV={some:0,all:1};class zV extends ua{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:BV[a]},f=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:T}=this.node.getProps(),E=g?y:T;E&&E(m)};return UV(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(FV(e,n))&&this.startObserver()}unmount(){}}function FV({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const HV={inView:{Feature:zV},tap:{Feature:VV},focus:{Feature:kV},hover:{Feature:OV}},qV={layout:{ProjectionNode:kx,MeasureLayout:Ax}},GV={...Nk,...HV,...IV,...qV},_c=GO(GV,ik);const YV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WV=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),J1=t=>{const e=WV(t);return e.charAt(0).toUpperCase()+e.slice(1)},Vx=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),KV=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var $V={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const QV=Q.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...f},m)=>Q.createElement("svg",{ref:m,...$V,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:Vx("lucide",a),...!l&&!KV(f)&&{"aria-hidden":"true"},...f},[...c.map(([g,y])=>Q.createElement(g,y)),...Array.isArray(l)?l:[l]]));const dt=(t,e)=>{const n=Q.forwardRef(({className:i,...a},l)=>Q.createElement(QV,{ref:l,iconNode:e,className:Vx(`lucide-${YV(J1(t))}`,`lucide-${t}`,i),...a}));return n.displayName=J1(t),n};const XV=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Px=dt("archive",XV);const ZV=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],jx=dt("bell",ZV);const JV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Pc=dt("calendar",JV);const e4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Tc=dt("check",e4);const t4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Fg=dt("chevron-left",t4);const n4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Hg=dt("chevron-right",n4);const s4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],qg=dt("circle-check-big",s4);const i4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],r4=dt("circle",i4);const a4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],l0=dt("clock",a4);const o4=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],l4=dt("download",o4);const u4=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],c4=dt("flag",u4);const h4=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],f4=dt("flame",h4);const d4=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],m4=dt("layers",d4);const p4=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],g4=dt("layout-grid",p4);const y4=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Lx=dt("link",y4);const v4=[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],_4=dt("list-todo",v4);const T4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],b4=dt("log-out",T4);const E4=[["path",{d:"M5 12h14",key:"1ays0h"}]],w4=dt("minus",E4);const S4=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Gg=dt("pencil",S4);const x4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yg=dt("plus",x4);const A4=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ng=dt("refresh-cw",A4);const C4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],D4=dt("search",C4);const N4=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],M4=dt("sparkles",N4);const R4=[["path",{d:"M10 2h4",key:"n1abiw"}],["path",{d:"M12 14v-4",key:"1evpnu"}],["path",{d:"M4 13a8 8 0 0 1 8-7 8 8 0 1 1-5.3 14L4 17.6",key:"1ts96g"}],["path",{d:"M9 17H4v5",key:"8t5av"}]],I4=dt("timer-reset",R4);const O4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],bc=dt("trash-2",O4);const k4=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],V4=dt("upload",k4);const P4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ux=dt("user",P4);const j4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],L4=dt("x",j4),U4=()=>{};var eE={};const Bx=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},B4=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},zx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,f=c?t[a+1]:0,m=a+2<t.length,g=m?t[a+2]:0,y=l>>2,T=(l&3)<<4|f>>4;let E=(f&15)<<2|g>>6,N=g&63;m||(N=64,c||(E=64)),i.push(n[y],n[T],n[E],n[N])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Bx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):B4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const T=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||g==null||T==null)throw new z4;const E=l<<2|f>>4;if(i.push(E),g!==64){const N=f<<4&240|g>>2;if(i.push(N),T!==64){const V=g<<6&192|T;i.push(V)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class z4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const F4=function(t){const e=Bx(t);return zx.encodeByteArray(e,!0)},$f=function(t){return F4(t).replace(/\./g,"")},Fx=function(t){try{return zx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function H4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const q4=()=>H4().__FIREBASE_DEFAULTS__,G4=()=>{if(typeof process>"u"||typeof eE>"u")return;const t=eE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Y4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Fx(t[1]);return e&&JSON.parse(e)},Td=()=>{try{return U4()||q4()||G4()||Y4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Hx=t=>Td()?.emulatorHosts?.[t],W4=t=>{const e=Hx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},qx=()=>Td()?.config,Gx=t=>Td()?.[`_${t}`];class K4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function Vl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Yx(t){return(await fetch(t,{credentials:"include"})).ok}function $4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[$f(JSON.stringify(n)),$f(JSON.stringify(c)),""].join(".")}const ic={};function Q4(){const t={prod:[],emulator:[]};for(const e of Object.keys(ic))ic[e]?t.emulator.push(e):t.prod.push(e);return t}function X4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let tE=!1;function Wx(t,e){if(typeof window>"u"||typeof document>"u"||!Vl(window.location.host)||ic[t]===e||ic[t]||tE)return;ic[t]=e;function n(E){return`__firebase__banner__${E}`}const i="__firebase__banner",l=Q4().prod.length>0;function c(){const E=document.getElementById(i);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,N){E.setAttribute("width","24"),E.setAttribute("id",N),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{tE=!0,c()},E}function y(E,N){E.setAttribute("id",N),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function T(){const E=X4(i),N=n("text"),V=document.getElementById(N)||document.createElement("span"),L=n("learnmore"),R=document.getElementById(L)||document.createElement("a"),B=n("preprendIcon"),z=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const F=E.element;f(F),y(R,L);const te=g();m(z,B),F.append(z,V,R,te),document.body.appendChild(F)}l?(V.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Z4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xn())}function J4(){const t=Td()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sP(){const t=xn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function iP(){return!J4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rP(){try{return typeof indexedDB=="object"}catch{return!1}}function aP(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const oP="FirebaseError";class ir extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=oP,Object.setPrototypeOf(this,ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jc.prototype.create)}}class jc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?lP(l,i):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new ir(a,f,i)}}function lP(t,e){return t.replace(uP,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const uP=/\{\$([^}]+)}/g;function cP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function no(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(nE(l)&&nE(c)){if(!no(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function nE(t){return t!==null&&typeof t=="object"}function Lc(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function hP(t,e){const n=new fP(t,e);return n.subscribe.bind(n)}class fP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");dP(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=sg),a.error===void 0&&(a.error=sg),a.complete===void 0&&(a.complete=sg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function sg(){}function ts(t){return t&&t._delegate?t._delegate:t}class so{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ga="[DEFAULT]";class mP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new K4;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gP(e))try{this.getOrInitializeService({instanceIdentifier:Ga})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ga){return this.instances.has(e)}getOptions(e=Ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:pP(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ga){return this.component?this.component.multipleInstances?e:Ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pP(t){return t===Ga?void 0:t}function gP(t){return t.instantiationMode==="EAGER"}class yP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const vP={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},_P=Ke.INFO,TP={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},bP=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=TP[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class u0{constructor(e){this.name=e,this._logLevel=_P,this._logHandler=bP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const EP=(t,e)=>e.some(n=>t instanceof n);let sE,iE;function wP(){return sE||(sE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SP(){return iE||(iE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kx=new WeakMap,Wg=new WeakMap,$x=new WeakMap,ig=new WeakMap,c0=new WeakMap;function xP(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Qr(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&Kx.set(n,t)}).catch(()=>{}),c0.set(e,t),e}function AP(t){if(Wg.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Wg.set(t,e)}let Kg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$x.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CP(t){Kg=t(Kg)}function DP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(rg(this),e,...n);return $x.set(i,e.sort?e.sort():[e]),Qr(i)}:SP().includes(t)?function(...e){return t.apply(rg(this),e),Qr(Kx.get(this))}:function(...e){return Qr(t.apply(rg(this),e))}}function NP(t){return typeof t=="function"?DP(t):(t instanceof IDBTransaction&&AP(t),EP(t,wP())?new Proxy(t,Kg):t)}function Qr(t){if(t instanceof IDBRequest)return xP(t);if(ig.has(t))return ig.get(t);const e=NP(t);return e!==t&&(ig.set(t,e),c0.set(e,t)),e}const rg=t=>c0.get(t);function MP(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),f=Qr(c);return i&&c.addEventListener("upgradeneeded",m=>{i(Qr(c.result),m.oldVersion,m.newVersion,Qr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const RP=["get","getKey","getAll","getAllKeys","count"],IP=["put","add","delete","clear"],ag=new Map;function rE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ag.get(e))return ag.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=IP.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||RP.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return i&&(g=g.index(f.shift())),(await Promise.all([g[n](...f),a&&m.done]))[0]};return ag.set(e,l),l}CP(t=>({...t,get:(e,n,i)=>rE(e,n)||t.get(e,n,i),has:(e,n)=>!!rE(e,n)||t.has(e,n)}));class OP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kP(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function kP(t){return t.getComponent()?.type==="VERSION"}const $g="@firebase/app",aE="0.14.6";const er=new u0("@firebase/app"),VP="@firebase/app-compat",PP="@firebase/analytics-compat",jP="@firebase/analytics",LP="@firebase/app-check-compat",UP="@firebase/app-check",BP="@firebase/auth",zP="@firebase/auth-compat",FP="@firebase/database",HP="@firebase/data-connect",qP="@firebase/database-compat",GP="@firebase/functions",YP="@firebase/functions-compat",WP="@firebase/installations",KP="@firebase/installations-compat",$P="@firebase/messaging",QP="@firebase/messaging-compat",XP="@firebase/performance",ZP="@firebase/performance-compat",JP="@firebase/remote-config",ej="@firebase/remote-config-compat",tj="@firebase/storage",nj="@firebase/storage-compat",sj="@firebase/firestore",ij="@firebase/ai",rj="@firebase/firestore-compat",aj="firebase",oj="12.6.0";const Qg="[DEFAULT]",lj={[$g]:"fire-core",[VP]:"fire-core-compat",[jP]:"fire-analytics",[PP]:"fire-analytics-compat",[UP]:"fire-app-check",[LP]:"fire-app-check-compat",[BP]:"fire-auth",[zP]:"fire-auth-compat",[FP]:"fire-rtdb",[HP]:"fire-data-connect",[qP]:"fire-rtdb-compat",[GP]:"fire-fn",[YP]:"fire-fn-compat",[WP]:"fire-iid",[KP]:"fire-iid-compat",[$P]:"fire-fcm",[QP]:"fire-fcm-compat",[XP]:"fire-perf",[ZP]:"fire-perf-compat",[JP]:"fire-rc",[ej]:"fire-rc-compat",[tj]:"fire-gcs",[nj]:"fire-gcs-compat",[sj]:"fire-fst",[rj]:"fire-fst-compat",[ij]:"fire-vertex","fire-js":"fire-js",[aj]:"fire-js-all"};const Qf=new Map,uj=new Map,Xg=new Map;function oE(t,e){try{t.container.addComponent(e)}catch(n){er.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sl(t){const e=t.name;if(Xg.has(e))return er.debug(`There were multiple attempts to register component ${e}.`),!1;Xg.set(e,t);for(const n of Qf.values())oE(n,t);for(const n of uj.values())oE(n,t);return!0}function h0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Us(t){return t==null?!1:t.settings!==void 0}const cj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new jc("app","Firebase",cj);class hj{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new so("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}}const Pl=oj;function Qx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Qg,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Xr.create("bad-app-name",{appName:String(a)});if(n||(n=qx()),!n)throw Xr.create("no-options");const l=Qf.get(a);if(l){if(no(n,l.options)&&no(i,l.config))return l;throw Xr.create("duplicate-app",{appName:a})}const c=new yP(a);for(const m of Xg.values())c.addComponent(m);const f=new hj(n,i,c);return Qf.set(a,f),f}function Xx(t=Qg){const e=Qf.get(t);if(!e&&t===Qg&&qx())return Qx();if(!e)throw Xr.create("no-app",{appName:t});return e}function Zr(t,e,n){let i=lj[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),er.warn(c.join(" "));return}Sl(new so(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const fj="firebase-heartbeat-database",dj=1,Ec="firebase-heartbeat-store";let og=null;function Zx(){return og||(og=MP(fj,dj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ec)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xr.create("idb-open",{originalErrorMessage:t.message})})),og}async function mj(t){try{const n=(await Zx()).transaction(Ec),i=await n.objectStore(Ec).get(Jx(t));return await n.done,i}catch(e){if(e instanceof ir)er.warn(e.message);else{const n=Xr.create("idb-get",{originalErrorMessage:e?.message});er.warn(n.message)}}}async function lE(t,e){try{const i=(await Zx()).transaction(Ec,"readwrite");await i.objectStore(Ec).put(e,Jx(t)),await i.done}catch(n){if(n instanceof ir)er.warn(n.message);else{const i=Xr.create("idb-set",{originalErrorMessage:n?.message});er.warn(i.message)}}}function Jx(t){return`${t.name}!${t.options.appId}`}const pj=1024,gj=30;class yj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _j(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=uE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>gj){const a=Tj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){er.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=uE(),{heartbeatsToSend:n,unsentEntries:i}=vj(this._heartbeatsCache.heartbeats),a=$f(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return er.warn(e),""}}}function uE(){return new Date().toISOString().substring(0,10)}function vj(t,e=pj){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),cE(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),cE(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class _j{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rP()?aP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return lE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return lE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function cE(t){return $f(JSON.stringify({version:2,heartbeats:t})).length}function Tj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}function bj(t){Sl(new so("platform-logger",e=>new OP(e),"PRIVATE")),Sl(new so("heartbeat",e=>new yj(e),"PRIVATE")),Zr($g,aE,t),Zr($g,aE,"esm2020"),Zr("fire-js","")}bj("");var hE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Jr,eA;(function(){var t;function e(C,S){function M(){}M.prototype=S.prototype,C.F=S.prototype,C.prototype=new M,C.prototype.constructor=C,C.D=function(O,k,I){for(var A=Array(arguments.length-2),le=2;le<arguments.length;le++)A[le-2]=arguments[le];return S.prototype[k].apply(O,A)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,S,M){M||(M=0);const O=Array(16);if(typeof S=="string")for(var k=0;k<16;++k)O[k]=S.charCodeAt(M++)|S.charCodeAt(M++)<<8|S.charCodeAt(M++)<<16|S.charCodeAt(M++)<<24;else for(k=0;k<16;++k)O[k]=S[M++]|S[M++]<<8|S[M++]<<16|S[M++]<<24;S=C.g[0],M=C.g[1],k=C.g[2];let I=C.g[3],A;A=S+(I^M&(k^I))+O[0]+3614090360&4294967295,S=M+(A<<7&4294967295|A>>>25),A=I+(k^S&(M^k))+O[1]+3905402710&4294967295,I=S+(A<<12&4294967295|A>>>20),A=k+(M^I&(S^M))+O[2]+606105819&4294967295,k=I+(A<<17&4294967295|A>>>15),A=M+(S^k&(I^S))+O[3]+3250441966&4294967295,M=k+(A<<22&4294967295|A>>>10),A=S+(I^M&(k^I))+O[4]+4118548399&4294967295,S=M+(A<<7&4294967295|A>>>25),A=I+(k^S&(M^k))+O[5]+1200080426&4294967295,I=S+(A<<12&4294967295|A>>>20),A=k+(M^I&(S^M))+O[6]+2821735955&4294967295,k=I+(A<<17&4294967295|A>>>15),A=M+(S^k&(I^S))+O[7]+4249261313&4294967295,M=k+(A<<22&4294967295|A>>>10),A=S+(I^M&(k^I))+O[8]+1770035416&4294967295,S=M+(A<<7&4294967295|A>>>25),A=I+(k^S&(M^k))+O[9]+2336552879&4294967295,I=S+(A<<12&4294967295|A>>>20),A=k+(M^I&(S^M))+O[10]+4294925233&4294967295,k=I+(A<<17&4294967295|A>>>15),A=M+(S^k&(I^S))+O[11]+2304563134&4294967295,M=k+(A<<22&4294967295|A>>>10),A=S+(I^M&(k^I))+O[12]+1804603682&4294967295,S=M+(A<<7&4294967295|A>>>25),A=I+(k^S&(M^k))+O[13]+4254626195&4294967295,I=S+(A<<12&4294967295|A>>>20),A=k+(M^I&(S^M))+O[14]+2792965006&4294967295,k=I+(A<<17&4294967295|A>>>15),A=M+(S^k&(I^S))+O[15]+1236535329&4294967295,M=k+(A<<22&4294967295|A>>>10),A=S+(k^I&(M^k))+O[1]+4129170786&4294967295,S=M+(A<<5&4294967295|A>>>27),A=I+(M^k&(S^M))+O[6]+3225465664&4294967295,I=S+(A<<9&4294967295|A>>>23),A=k+(S^M&(I^S))+O[11]+643717713&4294967295,k=I+(A<<14&4294967295|A>>>18),A=M+(I^S&(k^I))+O[0]+3921069994&4294967295,M=k+(A<<20&4294967295|A>>>12),A=S+(k^I&(M^k))+O[5]+3593408605&4294967295,S=M+(A<<5&4294967295|A>>>27),A=I+(M^k&(S^M))+O[10]+38016083&4294967295,I=S+(A<<9&4294967295|A>>>23),A=k+(S^M&(I^S))+O[15]+3634488961&4294967295,k=I+(A<<14&4294967295|A>>>18),A=M+(I^S&(k^I))+O[4]+3889429448&4294967295,M=k+(A<<20&4294967295|A>>>12),A=S+(k^I&(M^k))+O[9]+568446438&4294967295,S=M+(A<<5&4294967295|A>>>27),A=I+(M^k&(S^M))+O[14]+3275163606&4294967295,I=S+(A<<9&4294967295|A>>>23),A=k+(S^M&(I^S))+O[3]+4107603335&4294967295,k=I+(A<<14&4294967295|A>>>18),A=M+(I^S&(k^I))+O[8]+1163531501&4294967295,M=k+(A<<20&4294967295|A>>>12),A=S+(k^I&(M^k))+O[13]+2850285829&4294967295,S=M+(A<<5&4294967295|A>>>27),A=I+(M^k&(S^M))+O[2]+4243563512&4294967295,I=S+(A<<9&4294967295|A>>>23),A=k+(S^M&(I^S))+O[7]+1735328473&4294967295,k=I+(A<<14&4294967295|A>>>18),A=M+(I^S&(k^I))+O[12]+2368359562&4294967295,M=k+(A<<20&4294967295|A>>>12),A=S+(M^k^I)+O[5]+4294588738&4294967295,S=M+(A<<4&4294967295|A>>>28),A=I+(S^M^k)+O[8]+2272392833&4294967295,I=S+(A<<11&4294967295|A>>>21),A=k+(I^S^M)+O[11]+1839030562&4294967295,k=I+(A<<16&4294967295|A>>>16),A=M+(k^I^S)+O[14]+4259657740&4294967295,M=k+(A<<23&4294967295|A>>>9),A=S+(M^k^I)+O[1]+2763975236&4294967295,S=M+(A<<4&4294967295|A>>>28),A=I+(S^M^k)+O[4]+1272893353&4294967295,I=S+(A<<11&4294967295|A>>>21),A=k+(I^S^M)+O[7]+4139469664&4294967295,k=I+(A<<16&4294967295|A>>>16),A=M+(k^I^S)+O[10]+3200236656&4294967295,M=k+(A<<23&4294967295|A>>>9),A=S+(M^k^I)+O[13]+681279174&4294967295,S=M+(A<<4&4294967295|A>>>28),A=I+(S^M^k)+O[0]+3936430074&4294967295,I=S+(A<<11&4294967295|A>>>21),A=k+(I^S^M)+O[3]+3572445317&4294967295,k=I+(A<<16&4294967295|A>>>16),A=M+(k^I^S)+O[6]+76029189&4294967295,M=k+(A<<23&4294967295|A>>>9),A=S+(M^k^I)+O[9]+3654602809&4294967295,S=M+(A<<4&4294967295|A>>>28),A=I+(S^M^k)+O[12]+3873151461&4294967295,I=S+(A<<11&4294967295|A>>>21),A=k+(I^S^M)+O[15]+530742520&4294967295,k=I+(A<<16&4294967295|A>>>16),A=M+(k^I^S)+O[2]+3299628645&4294967295,M=k+(A<<23&4294967295|A>>>9),A=S+(k^(M|~I))+O[0]+4096336452&4294967295,S=M+(A<<6&4294967295|A>>>26),A=I+(M^(S|~k))+O[7]+1126891415&4294967295,I=S+(A<<10&4294967295|A>>>22),A=k+(S^(I|~M))+O[14]+2878612391&4294967295,k=I+(A<<15&4294967295|A>>>17),A=M+(I^(k|~S))+O[5]+4237533241&4294967295,M=k+(A<<21&4294967295|A>>>11),A=S+(k^(M|~I))+O[12]+1700485571&4294967295,S=M+(A<<6&4294967295|A>>>26),A=I+(M^(S|~k))+O[3]+2399980690&4294967295,I=S+(A<<10&4294967295|A>>>22),A=k+(S^(I|~M))+O[10]+4293915773&4294967295,k=I+(A<<15&4294967295|A>>>17),A=M+(I^(k|~S))+O[1]+2240044497&4294967295,M=k+(A<<21&4294967295|A>>>11),A=S+(k^(M|~I))+O[8]+1873313359&4294967295,S=M+(A<<6&4294967295|A>>>26),A=I+(M^(S|~k))+O[15]+4264355552&4294967295,I=S+(A<<10&4294967295|A>>>22),A=k+(S^(I|~M))+O[6]+2734768916&4294967295,k=I+(A<<15&4294967295|A>>>17),A=M+(I^(k|~S))+O[13]+1309151649&4294967295,M=k+(A<<21&4294967295|A>>>11),A=S+(k^(M|~I))+O[4]+4149444226&4294967295,S=M+(A<<6&4294967295|A>>>26),A=I+(M^(S|~k))+O[11]+3174756917&4294967295,I=S+(A<<10&4294967295|A>>>22),A=k+(S^(I|~M))+O[2]+718787259&4294967295,k=I+(A<<15&4294967295|A>>>17),A=M+(I^(k|~S))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(k+(A<<21&4294967295|A>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+I&4294967295}i.prototype.v=function(C,S){S===void 0&&(S=C.length);const M=S-this.blockSize,O=this.C;let k=this.h,I=0;for(;I<S;){if(k==0)for(;I<=M;)a(this,C,I),I+=this.blockSize;if(typeof C=="string"){for(;I<S;)if(O[k++]=C.charCodeAt(I++),k==this.blockSize){a(this,O),k=0;break}}else for(;I<S;)if(O[k++]=C[I++],k==this.blockSize){a(this,O),k=0;break}}this.h=k,this.o+=S},i.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var M=C.length-8;M<C.length;++M)C[M]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,M=0;M<4;++M)for(let O=0;O<32;O+=8)C[S++]=this.g[M]>>>O&255;return C};function l(C,S){var M=f;return Object.prototype.hasOwnProperty.call(M,C)?M[C]:M[C]=S(C)}function c(C,S){this.h=S;const M=[];let O=!0;for(let k=C.length-1;k>=0;k--){const I=C[k]|0;O&&I==S||(M[k]=I,O=!1)}this.g=M}var f={};function m(C){return-128<=C&&C<128?l(C,function(S){return new c([S|0],S<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return R(g(-C));const S=[];let M=1;for(let O=0;C>=M;O++)S[O]=C/M|0,M*=4294967296;return new c(S,0)}function y(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return R(y(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=g(Math.pow(S,8));let O=T;for(let I=0;I<C.length;I+=8){var k=Math.min(8,C.length-I);const A=parseInt(C.substring(I,I+k),S);k<8?(k=g(Math.pow(S,k)),O=O.j(k).add(g(A))):(O=O.j(M),O=O.add(g(A)))}return O}var T=m(0),E=m(1),N=m(16777216);t=c.prototype,t.m=function(){if(L(this))return-R(this).m();let C=0,S=1;for(let M=0;M<this.g.length;M++){const O=this.i(M);C+=(O>=0?O:4294967296+O)*S,S*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(V(this))return"0";if(L(this))return"-"+R(this).toString(C);const S=g(Math.pow(C,6));var M=this;let O="";for(;;){const k=te(M,S).g;M=B(M,k.j(S));let I=((M.g.length>0?M.g[0]:M.h)>>>0).toString(C);if(M=k,V(M))return I+O;for(;I.length<6;)I="0"+I;O=I+O}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function V(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function L(C){return C.h==-1}t.l=function(C){return C=B(this,C),L(C)?-1:V(C)?0:1};function R(C){const S=C.g.length,M=[];for(let O=0;O<S;O++)M[O]=~C.g[O];return new c(M,~C.h).add(E)}t.abs=function(){return L(this)?R(this):this},t.add=function(C){const S=Math.max(this.g.length,C.g.length),M=[];let O=0;for(let k=0;k<=S;k++){let I=O+(this.i(k)&65535)+(C.i(k)&65535),A=(I>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);O=A>>>16,I&=65535,A&=65535,M[k]=A<<16|I}return new c(M,M[M.length-1]&-2147483648?-1:0)};function B(C,S){return C.add(R(S))}t.j=function(C){if(V(this)||V(C))return T;if(L(this))return L(C)?R(this).j(R(C)):R(R(this).j(C));if(L(C))return R(this.j(R(C)));if(this.l(N)<0&&C.l(N)<0)return g(this.m()*C.m());const S=this.g.length+C.g.length,M=[];for(var O=0;O<2*S;O++)M[O]=0;for(O=0;O<this.g.length;O++)for(let k=0;k<C.g.length;k++){const I=this.i(O)>>>16,A=this.i(O)&65535,le=C.i(k)>>>16,be=C.i(k)&65535;M[2*O+2*k]+=A*be,z(M,2*O+2*k),M[2*O+2*k+1]+=I*be,z(M,2*O+2*k+1),M[2*O+2*k+1]+=A*le,z(M,2*O+2*k+1),M[2*O+2*k+2]+=I*le,z(M,2*O+2*k+2)}for(C=0;C<S;C++)M[C]=M[2*C+1]<<16|M[2*C];for(C=S;C<2*S;C++)M[C]=0;return new c(M,0)};function z(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function F(C,S){this.g=C,this.h=S}function te(C,S){if(V(S))throw Error("division by zero");if(V(C))return new F(T,T);if(L(C))return S=te(R(C),S),new F(R(S.g),R(S.h));if(L(S))return S=te(C,R(S)),new F(R(S.g),S.h);if(C.g.length>30){if(L(C)||L(S))throw Error("slowDivide_ only works with positive integers.");for(var M=E,O=S;O.l(C)<=0;)M=H(M),O=H(O);var k=K(M,1),I=K(O,1);for(O=K(O,2),M=K(M,2);!V(O);){var A=I.add(O);A.l(C)<=0&&(k=k.add(M),I=A),O=K(O,1),M=K(M,1)}return S=B(C,k.j(S)),new F(k,S)}for(k=T;C.l(S)>=0;){for(M=Math.max(1,Math.floor(C.m()/S.m())),O=Math.ceil(Math.log(M)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),I=g(M),A=I.j(S);L(A)||A.l(C)>0;)M-=O,I=g(M),A=I.j(S);V(I)&&(I=E),k=k.add(I),C=B(C,A)}return new F(k,C)}t.B=function(C){return te(this,C).h},t.and=function(C){const S=Math.max(this.g.length,C.g.length),M=[];for(let O=0;O<S;O++)M[O]=this.i(O)&C.i(O);return new c(M,this.h&C.h)},t.or=function(C){const S=Math.max(this.g.length,C.g.length),M=[];for(let O=0;O<S;O++)M[O]=this.i(O)|C.i(O);return new c(M,this.h|C.h)},t.xor=function(C){const S=Math.max(this.g.length,C.g.length),M=[];for(let O=0;O<S;O++)M[O]=this.i(O)^C.i(O);return new c(M,this.h^C.h)};function H(C){const S=C.g.length+1,M=[];for(let O=0;O<S;O++)M[O]=C.i(O)<<1|C.i(O-1)>>>31;return new c(M,C.h)}function K(C,S){const M=S>>5;S%=32;const O=C.g.length-M,k=[];for(let I=0;I<O;I++)k[I]=S>0?C.i(I+M)>>>S|C.i(I+M+1)<<32-S:C.i(I+M);return new c(k,C.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,eA=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,Jr=c}).apply(typeof hE<"u"?hE:typeof self<"u"?self:typeof window<"u"?window:{});var Ef=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var tA,$u,nA,Of,Zg,sA,iA,rA;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ef=="object"&&Ef];for(var _=0;_<h.length;++_){var w=h[_];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=n(this);function a(h,_){if(_)e:{var w=i;h=h.split(".");for(var D=0;D<h.length-1;D++){var G=h[D];if(!(G in w))break e;w=w[G]}h=h[h.length-1],D=w[h],_=_(D),_!=D&&_!=null&&e(w,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var w=[],D;for(D in _)Object.prototype.hasOwnProperty.call(_,D)&&w.push([D,_[D]]);return w}});var l=l||{},c=this||self;function f(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function m(h,_,w){return h.call.apply(h.bind,arguments)}function g(h,_,w){return g=m,g.apply(null,arguments)}function y(h,_){var w=Array.prototype.slice.call(arguments,1);return function(){var D=w.slice();return D.push.apply(D,arguments),h.apply(this,D)}}function T(h,_){function w(){}w.prototype=_.prototype,h.Z=_.prototype,h.prototype=new w,h.prototype.constructor=h,h.Ob=function(D,G,X){for(var ue=Array(arguments.length-2),je=2;je<arguments.length;je++)ue[je-2]=arguments[je];return _.prototype[G].apply(D,ue)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function N(h){const _=h.length;if(_>0){const w=Array(_);for(let D=0;D<_;D++)w[D]=h[D];return w}return[]}function V(h,_){for(let D=1;D<arguments.length;D++){const G=arguments[D];var w=typeof G;if(w=w!="object"?w:G?Array.isArray(G)?"array":w:"null",w=="array"||w=="object"&&typeof G.length=="number"){w=h.length||0;const X=G.length||0;h.length=w+X;for(let ue=0;ue<X;ue++)h[w+ue]=G[ue]}else h.push(G)}}class L{constructor(_,w){this.i=_,this.j=w,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function R(h){c.setTimeout(()=>{throw h},0)}function B(){var h=C;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class z{constructor(){this.h=this.g=null}add(_,w){const D=F.get();D.set(_,w),this.h?this.h.next=D:this.g=D,this.h=D}}var F=new L(()=>new te,h=>h.reset());class te{constructor(){this.next=this.g=this.h=null}set(_,w){this.h=_,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let H,K=!1,C=new z,S=()=>{const h=Promise.resolve(void 0);H=()=>{h.then(M)}};function M(){for(var h;h=B();){try{h.h.call(h.g)}catch(w){R(w)}var _=F;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}K=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var I=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};c.addEventListener("test",w,_),c.removeEventListener("test",w,_)}catch{}return h})();function A(h){return/^[\s\xa0]*$/.test(h)}function le(h,_){k.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}T(le,k),le.prototype.init=function(h,_){const w=this.type=h.type,D=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(w=="mouseover"?_=h.fromElement:w=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var be="closure_listenable_"+(Math.random()*1e6|0),J=0;function ae(h,_,w,D,G){this.listener=h,this.proxy=null,this.src=_,this.type=w,this.capture=!!D,this.ha=G,this.key=++J,this.da=this.fa=!1}function de(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Te(h,_,w){for(const D in h)_.call(w,h[D],D,h)}function De(h,_){for(const w in h)_.call(void 0,h[w],w,h)}function j(h){const _={};for(const w in h)_[w]=h[w];return _}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(h,_){let w,D;for(let G=1;G<arguments.length;G++){D=arguments[G];for(w in D)h[w]=D[w];for(let X=0;X<se.length;X++)w=se[X],Object.prototype.hasOwnProperty.call(D,w)&&(h[w]=D[w])}}function fe(h){this.src=h,this.g={},this.h=0}fe.prototype.add=function(h,_,w,D,G){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const ue=ke(h,_,D,G);return ue>-1?(_=h[ue],w||(_.fa=!1)):(_=new ae(_,this.src,X,!!D,G),_.fa=w,h.push(_)),_};function we(h,_){const w=_.type;if(w in h.g){var D=h.g[w],G=Array.prototype.indexOf.call(D,_,void 0),X;(X=G>=0)&&Array.prototype.splice.call(D,G,1),X&&(de(_),h.g[w].length==0&&(delete h.g[w],h.h--))}}function ke(h,_,w,D){for(let G=0;G<h.length;++G){const X=h[G];if(!X.da&&X.listener==_&&X.capture==!!w&&X.ha==D)return G}return-1}var Fe="closure_lm_"+(Math.random()*1e6|0),It={};function mt(h,_,w,D,G){if(Array.isArray(_)){for(let X=0;X<_.length;X++)mt(h,_[X],w,D,G);return null}return w=ha(w),h&&h[be]?h.J(_,w,f(D)?!!D.capture:!1,G):ss(h,_,w,!1,D,G)}function ss(h,_,w,D,G,X){if(!_)throw Error("Invalid event type");const ue=f(G)?!!G.capture:!!G;let je=xi(h);if(je||(h[Fe]=je=new fe(h)),w=je.add(_,w,D,ue,X),w.proxy)return w;if(D=rr(),w.proxy=D,D.src=h,D.listener=w,h.addEventListener)I||(G=ue),G===void 0&&(G=!1),h.addEventListener(_.toString(),D,G);else if(h.attachEvent)h.attachEvent(is(_.toString()),D);else if(h.addListener&&h.removeListener)h.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return w}function rr(){function h(w){return _.call(h.src,h.listener,w)}const _=lr;return h}function ar(h,_,w,D,G){if(Array.isArray(_))for(var X=0;X<_.length;X++)ar(h,_[X],w,D,G);else D=f(D)?!!D.capture:!!D,w=ha(w),h&&h[be]?(h=h.i,X=String(_).toString(),X in h.g&&(_=h.g[X],w=ke(_,w,D,G),w>-1&&(de(_[w]),Array.prototype.splice.call(_,w,1),_.length==0&&(delete h.g[X],h.h--)))):h&&(h=xi(h))&&(_=h.g[_.toString()],h=-1,_&&(h=ke(_,w,D,G)),(w=h>-1?_[h]:null)&&or(w))}function or(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[be])we(_.i,h);else{var w=h.type,D=h.proxy;_.removeEventListener?_.removeEventListener(w,D,h.capture):_.detachEvent?_.detachEvent(is(w),D):_.addListener&&_.removeListener&&_.removeListener(D),(w=xi(_))?(we(w,h),w.h==0&&(w.src=null,_[Fe]=null)):de(h)}}}function is(h){return h in It?It[h]:It[h]="on"+h}function lr(h,_){if(h.da)h=!0;else{_=new le(_,this);const w=h.listener,D=h.ha||h.src;h.fa&&or(h),h=w.call(D,_)}return h}function xi(h){return h=h[Fe],h instanceof fe?h:null}var ca="__closure_events_fn_"+(Math.random()*1e9>>>0);function ha(h){return typeof h=="function"?h:(h[ca]||(h[ca]=function(_){return h.handleEvent(_)}),h[ca])}function Dt(){O.call(this),this.i=new fe(this),this.M=this,this.G=null}T(Dt,O),Dt.prototype[be]=!0,Dt.prototype.removeEventListener=function(h,_,w,D){ar(this,h,_,w,D)};function Ot(h,_){var w,D=h.G;if(D)for(w=[];D;D=D.G)w.push(D);if(h=h.M,D=_.type||_,typeof _=="string")_=new k(_,h);else if(_ instanceof k)_.target=_.target||h;else{var G=_;_=new k(D,h),he(_,G)}G=!0;let X,ue;if(w)for(ue=w.length-1;ue>=0;ue--)X=_.g=w[ue],G=qs(X,D,!0,_)&&G;if(X=_.g=h,G=qs(X,D,!0,_)&&G,G=qs(X,D,!1,_)&&G,w)for(ue=0;ue<w.length;ue++)X=_.g=w[ue],G=qs(X,D,!1,_)&&G}Dt.prototype.N=function(){if(Dt.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const w=h.g[_];for(let D=0;D<w.length;D++)de(w[D]);delete h.g[_],h.h--}}this.G=null},Dt.prototype.J=function(h,_,w,D){return this.i.add(String(h),_,!1,w,D)},Dt.prototype.K=function(h,_,w,D){return this.i.add(String(h),_,!0,w,D)};function qs(h,_,w,D){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let G=!0;for(let X=0;X<_.length;++X){const ue=_[X];if(ue&&!ue.da&&ue.capture==w){const je=ue.listener,Vt=ue.ha||ue.src;ue.fa&&we(h.i,ue),G=je.call(Vt,D)!==!1&&G}}return G&&!D.defaultPrevented}function Fl(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(h,_||0)}function fa(h){h.g=Fl(()=>{h.g=null,h.i&&(h.i=!1,fa(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Xt extends O{constructor(_,w){super(),this.m=_,this.l=w,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:fa(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ss(h){O.call(this),this.h=h,this.g={}}T(Ss,O);var da=[];function ma(h){Te(h.g,function(_,w){this.g.hasOwnProperty(w)&&or(_)},h),h.g={}}Ss.prototype.N=function(){Ss.Z.N.call(this),ma(this)},Ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gs=c.JSON.stringify,Hl=c.JSON.parse,fo=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function mo(){}function po(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Zt(){k.call(this,"d")}T(Zt,k);function Mn(){k.call(this,"c")}T(Mn,k);var wt={},pa=null;function ur(){return pa=pa||new Dt}wt.Ia="serverreachability";function Re(h){k.call(this,wt.Ia,h)}T(Re,k);function Ue(h){const _=ur();Ot(_,new Re(_))}wt.STAT_EVENT="statevent";function xe(h,_){k.call(this,wt.STAT_EVENT,h),this.stat=_}T(xe,k);function Ae(h){const _=ur();Ot(_,new xe(_,h))}wt.Ja="timingevent";function kt(h,_){k.call(this,wt.Ja,h),this.size=_}T(kt,k);function Ie(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},_)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function ql(h,_,w,D,G,X){h.info(function(){if(h.g)if(X){var ue="",je=X.split("&");for(let tt=0;tt<je.length;tt++){var Vt=je[tt].split("=");if(Vt.length>1){const Tt=Vt[0];Vt=Vt[1];const ls=Tt.split("_");ue=ls.length>=2&&ls[1]=="type"?ue+(Tt+"="+Vt+"&"):ue+(Tt+"=redacted&")}}}else ue=null;else ue=X;return"XMLHTTP REQ ("+D+") [attempt "+G+"]: "+_+`
`+w+`
`+ue})}function go(h,_,w,D,G,X,ue){h.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+G+"]: "+_+`
`+w+`
`+X+" "+ue})}function Rn(h,_,w,D){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Bd(h,w)+(D?" "+D:"")})}function xs(h,_){h.info(function(){return"TIMEOUT: "+_})}Fn.prototype.info=function(){};function Bd(h,_){if(!h.g)return _;if(!_)return null;try{const X=JSON.parse(_);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var w=X[h];if(!(w.length<2)){var D=w[1];if(Array.isArray(D)&&!(D.length<1)){var G=D[0];if(G!="noop"&&G!="stop"&&G!="close")for(let ue=1;ue<D.length;ue++)D[ue]=""}}}}return Gs(X)}catch{return _}}var ga={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Gl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Yl;function ya(){}T(ya,mo),ya.prototype.g=function(){return new XMLHttpRequest},Yl=new ya;function Ai(h){return encodeURIComponent(String(h))}function $c(h){var _=1;h=h.split(":");const w=[];for(;_>0&&h.length;)w.push(h.shift()),_--;return h.length&&w.push(h.join(":")),w}function As(h,_,w,D){this.j=h,this.i=_,this.l=w,this.S=D||1,this.V=new Ss(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Cs}function Cs(){this.i=null,this.g="",this.h=!1}var zt={},sn={};function Ys(h,_,w){h.M=1,h.A=va(Ht(_)),h.u=w,h.R=!0,yo(h,null)}function yo(h,_){h.F=Date.now(),Ws(h),h.B=Ht(h.A);var w=h.B,D=h.S;Array.isArray(D)||(D=[String(D)]),bo(w.i,"t",D),h.C=0,w=h.j.L,h.h=new Cs,h.g=ch(h.j,w?_:null,!h.u),h.P>0&&(h.O=new Xt(g(h.Y,h,h.g),h.P)),_=h.V,w=h.g,D=h.ba;var G="readystatechange";Array.isArray(G)||(G&&(da[0]=G.toString()),G=da);for(let X=0;X<G.length;X++){const ue=mt(w,G[X],D||_.handleEvent,!1,_.h||_);if(!ue)break;_.g[ue.key]=ue}_=h.J?j(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Ue(),ql(h.i,h.v,h.B,h.l,h.S,h.u)}As.prototype.ba=function(h){h=h.target;const _=this.O;_&&Ms(h)==3?_.j():this.Y(h)},As.prototype.Y=function(h){try{if(h==this.g)e:{const je=Ms(this.g),Vt=this.g.ya(),tt=this.g.ca();if(!(je<3)&&(je!=3||this.g&&(this.h.h||this.g.la()||un(this.g)))){this.K||je!=4||Vt==7||(Vt==8||tt<=0?Ue(3):Ue(2)),Ks(this);var _=this.g.ca();this.X=_;var w=zd(this);if(this.o=_==200,go(this.i,this.v,this.B,this.l,this.S,je,_),this.o){if(this.U&&!this.L){t:{if(this.g){var D,G=this.g;if((D=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(D)){var X=D;break t}}X=null}if(h=X)Rn(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,$s(this,h);else{this.o=!1,this.m=3,Ae(12),Hn(this),rs(this);break e}}if(this.R){h=!0;let Tt;for(;!this.K&&this.C<w.length;)if(Tt=Xc(this,w),Tt==sn){je==4&&(this.m=4,Ae(14),h=!1),Rn(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==zt){this.m=4,Ae(15),Rn(this.i,this.l,w,"[Invalid Chunk]"),h=!1;break}else Rn(this.i,this.l,Tt,null),$s(this,Tt);if(Qc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||w.length!=0||this.h.h||(this.m=1,Ae(16),h=!1),this.o=this.o&&h,!h)Rn(this.i,this.l,w,"[Invalid Chunked Response]"),Hn(this),rs(this);else if(w.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),ou(ue),ue.P=!0,Ae(11))}}else Rn(this.i,this.l,w,null),$s(this,w);je==4&&Hn(this),this.o&&!this.K&&(je==4?ah(this.j,this):(this.o=!1,Ws(this)))}else Di(this.g),_==400&&w.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),Hn(this),rs(this)}}}catch{}finally{}};function zd(h){if(!Qc(h))return h.g.la();const _=un(h.g);if(_==="")return"";let w="";const D=_.length,G=Ms(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Hn(h),rs(h),"";h.h.i=new c.TextDecoder}for(let X=0;X<D;X++)h.h.h=!0,w+=h.h.i.decode(_[X],{stream:!(G&&X==D-1)});return _.length=0,h.h.g+=w,h.C=0,h.h.g}function Qc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Xc(h,_){var w=h.C,D=_.indexOf(`
`,w);return D==-1?sn:(w=Number(_.substring(w,D)),isNaN(w)?zt:(D+=1,D+w>_.length?sn:(_=_.slice(D,D+w),h.C=D+w,_)))}As.prototype.cancel=function(){this.K=!0,Hn(this)};function Ws(h){h.T=Date.now()+h.H,vo(h,h.H)}function vo(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ie(g(h.aa,h),_)}function Ks(h){h.D&&(c.clearTimeout(h.D),h.D=null)}As.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(xs(this.i,this.B),this.M!=2&&(Ue(),Ae(17)),Hn(this),this.m=2,rs(this)):vo(this,this.T-h)};function rs(h){h.j.I==0||h.K||ah(h.j,h)}function Hn(h){Ks(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,ma(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function $s(h,_){try{var w=h.j;if(w.I!=0&&(w.g==h||Xs(w.h,h))){if(!h.L&&Xs(w.h,h)&&w.I==3){try{var D=w.Ba.g.parse(_)}catch{D=null}if(Array.isArray(D)&&D.length==3){var G=D;if(G[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<h.F)Ao(w),yr(w);else break e;xa(w),Ae(18)}}else w.xa=G[1],0<w.xa-w.K&&G[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Ie(g(w.Va,w),6e3));Qs(w.h)<=1&&w.ta&&(w.ta=void 0)}else si(w,11)}else if((h.L||w.g==h)&&Ao(w),!A(_))for(G=w.Ba.g.parse(_),_=0;_<G.length;_++){let tt=G[_];const Tt=tt[0];if(!(Tt<=w.K))if(w.K=Tt,tt=tt[1],w.I==2)if(tt[0]=="c"){w.M=tt[1],w.ba=tt[2];const ls=tt[3];ls!=null&&(w.ka=ls,w.j.info("VER="+w.ka));const ii=tt[4];ii!=null&&(w.za=ii,w.j.info("SVER="+w.za));const Rs=tt[5];Rs!=null&&typeof Rs=="number"&&Rs>0&&(D=1.5*Rs,w.O=D,w.j.info("backChannelRequestTimeoutMs_="+D)),D=w;const Is=h.g;if(Is){const Aa=Is.g?Is.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Aa){var X=D.h;X.g||Aa.indexOf("spdy")==-1&&Aa.indexOf("quic")==-1&&Aa.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&($l(X,X.h),X.h=null))}if(D.G){const Co=Is.g?Is.g.getResponseHeader("X-HTTP-Session-Id"):null;Co&&(D.wa=Co,it(D.J,D.G,Co))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-h.F,w.j.info("Handshake RTT: "+w.T+"ms")),D=w;var ue=h;if(D.na=uh(D,D.L?D.ba:null,D.W),ue.L){Ql(D.h,ue);var je=ue,Vt=D.O;Vt&&(je.H=Vt),je.D&&(Ks(je),Ws(je)),D.g=ue}else ih(D);w.i.length>0&&ni(w)}else tt[0]!="stop"&&tt[0]!="close"||si(w,7);else w.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?si(w,7):ru(w):tt[0]!="noop"&&w.l&&w.l.qa(tt),w.A=0)}}Ue(4)}catch{}}var Ft=class{constructor(h,_){this.g=h,this.map=_}};function Wl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Kl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Qs(h){return h.h?1:h.g?h.g.size:0}function Xs(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function $l(h,_){h.g?h.g.add(_):h.h=_}function Ql(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Wl.prototype.cancel=function(){if(this.i=Xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Xl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const w of h.g.values())_=_.concat(w.G);return _}return N(h.i)}var Zc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _o(h,_){if(h){h=h.split("&");for(let w=0;w<h.length;w++){const D=h[w].indexOf("=");let G,X=null;D>=0?(G=h[w].substring(0,D),X=h[w].substring(D+1)):G=h[w],_(G,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function qn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof qn?(this.l=h.l,rn(this,h.j),this.o=h.o,this.g=h.g,cr(this,h.u),this.h=h.h,Zl(this,nh(h.i)),this.m=h.m):h&&(_=String(h).match(Zc))?(this.l=!1,rn(this,_[1]||"",!0),this.o=Zs(_[2]||""),this.g=Zs(_[3]||"",!0),cr(this,_[4]),this.h=Zs(_[5]||"",!0),Zl(this,_[6]||"",!0),this.m=Zs(_[7]||"")):(this.l=!1,this.i=new fr(null,this.l))}qn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(_a(_,To,!0),":");var w=this.g;return(w||_=="file")&&(h.push("//"),(_=this.o)&&h.push(_a(_,To,!0),"@"),h.push(Ai(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&h.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(_a(w,w.charAt(0)=="/"?Jl:Jc,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",_a(w,eh)),h.join("")},qn.prototype.resolve=function(h){const _=Ht(this);let w=!!h.j;w?rn(_,h.j):w=!!h.o,w?_.o=h.o:w=!!h.g,w?_.g=h.g:w=h.u!=null;var D=h.h;if(w)cr(_,h.u);else if(w=!!h.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var G=_.h.lastIndexOf("/");G!=-1&&(D=_.h.slice(0,G+1)+D)}if(G=D,G==".."||G==".")D="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){D=G.lastIndexOf("/",0)==0,G=G.split("/");const X=[];for(let ue=0;ue<G.length;){const je=G[ue++];je=="."?D&&ue==G.length&&X.push(""):je==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),D&&ue==G.length&&X.push("")):(X.push(je),D=!0)}D=X.join("/")}else D=G}return w?_.h=D:w=h.i.toString()!=="",w?Zl(_,nh(h.i)):w=!!h.m,w&&(_.m=h.m),_};function Ht(h){return new qn(h)}function rn(h,_,w){h.j=w?Zs(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function cr(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function Zl(h,_,w){_ instanceof fr?(h.i=_,Eo(h.i,h.l)):(w||(_=_a(_,hr)),h.i=new fr(_,h.l))}function it(h,_,w){h.i.set(_,w)}function va(h){return it(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Zs(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function _a(h,_,w){return typeof h=="string"?(h=encodeURI(h).replace(_,In),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function In(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var To=/[#\/\?@]/g,Jc=/[#\?:]/g,Jl=/[#\?]/g,hr=/[#\?@]/g,eh=/#/g;function fr(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function On(h){h.g||(h.g=new Map,h.h=0,h.i&&_o(h.i,function(_,w){h.add(decodeURIComponent(_.replace(/\+/g," ")),w)}))}t=fr.prototype,t.add=function(h,_){On(this),this.i=null,h=dr(this,h);let w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(_),this.h+=1,this};function th(h,_){On(h),_=dr(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function eu(h,_){return On(h),_=dr(h,_),h.g.has(_)}t.forEach=function(h,_){On(this),this.g.forEach(function(w,D){w.forEach(function(G){h.call(_,G,D,this)},this)},this)};function tu(h,_){On(h);let w=[];if(typeof _=="string")eu(h,_)&&(w=w.concat(h.g.get(dr(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)w=w.concat(h[_]);return w}t.set=function(h,_){return On(this),this.i=null,h=dr(this,h),eu(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=tu(this,h),h.length>0?String(h[0]):_):_};function bo(h,_,w){th(h,_),w.length>0&&(h.i=null,h.g.set(dr(h,_),N(w)),h.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let D=0;D<_.length;D++){var w=_[D];const G=Ai(w);w=tu(this,w);for(let X=0;X<w.length;X++){let ue=G;w[X]!==""&&(ue+="="+Ai(w[X])),h.push(ue)}}return this.i=h.join("&")};function nh(h){const _=new fr;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function dr(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Eo(h,_){_&&!h.j&&(On(h),h.i=null,h.g.forEach(function(w,D){const G=D.toLowerCase();D!=G&&(th(this,D),bo(this,G,w))},h)),h.j=_}function Ds(h,_){const w=new Fn;if(c.Image){const D=new Image;D.onload=y(as,w,"TestLoadImage: loaded",!0,_,D),D.onerror=y(as,w,"TestLoadImage: error",!1,_,D),D.onabort=y(as,w,"TestLoadImage: abort",!1,_,D),D.ontimeout=y(as,w,"TestLoadImage: timeout",!1,_,D),c.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=h}else _(!1)}function nu(h,_){const w=new Fn,D=new AbortController,G=setTimeout(()=>{D.abort(),as(w,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:D.signal}).then(X=>{clearTimeout(G),X.ok?as(w,"TestPingServer: ok",!0,_):as(w,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),as(w,"TestPingServer: error",!1,_)})}function as(h,_,w,D,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),D(w)}catch{}}function mr(){this.g=new fo}function Js(h){this.i=h.Sb||null,this.h=h.ab||!1}T(Js,mo),Js.prototype.g=function(){return new Ta(this.i,this.h)};function Ta(h,_){Dt.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ta,Dt),t=Ta.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,Ns(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ns(this)),this.g&&(this.readyState=3,Ns(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function wo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?pr(this):Ns(this),this.readyState==3&&wo(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,pr(this))},t.Na=function(h){this.g&&(this.response=h,pr(this))},t.ga=function(){this.g&&pr(this)};function pr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Ns(h)}t.setRequestHeader=function(h,_){this.A.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var w=_.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=_.next();return h.join(`\r
`)};function Ns(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function os(h){let _="";return Te(h,function(w,D){_+=D,_+=":",_+=w,_+=`\r
`}),_}function ba(h,_,w){e:{for(D in w){var D=!1;break e}D=!0}D||(w=os(w),typeof h=="string"?w!=null&&Ai(w):it(h,_,w))}function ut(h){Dt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(ut,Dt);var ei=/^https?$/i,su=["POST","PUT"];t=ut.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,_,w,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Yl.g(),this.g.onreadystatechange=E(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(X){Ea(this,X);return}if(h=w||"",w=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var G in D)w.set(G,D[G]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const X of D.keys())w.set(X,D.get(X));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(w.keys()).find(X=>X.toLowerCase()=="content-type"),G=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(su,_,void 0)>=0)||D||G||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ue]of w)this.g.setRequestHeader(X,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){Ea(this,X)}};function Ea(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,iu(h),Ci(h)}function iu(h){h.A||(h.A=!0,Ot(h,"complete"),Ot(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ot(this,"complete"),Ot(this,"abort"),Ci(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ci(this,!0)),ut.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?wa(this):this.Xa())},t.Xa=function(){wa(this)};function wa(h){if(h.h&&typeof l<"u"){if(h.v&&Ms(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ot(h,"readystatechange"),Ms(h)==4){h.h=!1;try{const X=h.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var w;if(!(w=_)){var D;if(D=X===0){let ue=String(h.D).match(Zc)[1]||null;!ue&&c.self&&c.self.location&&(ue=c.self.location.protocol.slice(0,-1)),D=!ei.test(ue?ue.toLowerCase():"")}w=D}if(w)Ot(h,"complete"),Ot(h,"success");else{h.o=6;try{var G=Ms(h)>2?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.ca()+"]",iu(h)}}finally{Ci(h)}}}}function Ci(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const w=h.g;h.g=null,_||Ot(h,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ms(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Ms(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Hl(_)}};function un(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Di(h){const _={};h=(h.g&&Ms(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<h.length;D++){if(A(h[D]))continue;var w=$c(h[D]);const G=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const X=_[G]||[];_[G]=X,X.push(w)}De(_,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ti(h,_,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||_}function gr(h){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ti("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ti("baseRetryDelayMs",5e3,h),this.Za=ti("retryDelaySeedMs",1e4,h),this.Ta=ti("forwardChannelMaxRetries",2,h),this.va=ti("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Wl(h&&h.concurrentRequestLimit),this.Ba=new mr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=gr.prototype,t.ka=8,t.I=1,t.connect=function(h,_,w,D){Ae(0),this.W=h,this.H=_||{},w&&D!==void 0&&(this.H.OSID=w,this.H.OAID=D),this.F=this.X,this.J=uh(this,null,this.W),ni(this)};function ru(h){if(So(h),h.I==3){var _=h.V++,w=Ht(h.J);if(it(w,"SID",h.M),it(w,"RID",_),it(w,"TYPE","terminate"),Sa(h,w),_=new As(h,h.j,_),_.M=2,_.A=va(Ht(w)),w=!1,c.navigator&&c.navigator.sendBeacon)try{w=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!w&&c.Image&&(new Image().src=_.A,w=!0),w||(_.g=ch(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Ws(_)}lh(h)}function yr(h){h.g&&(ou(h),h.g.cancel(),h.g=null)}function So(h){yr(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ao(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function ni(h){if(!Kl(h.h)&&!h.m){h.m=!0;var _=h.Ea;H||S(),K||(H(),K=!0),C.add(_,h),h.D=0}}function xo(h,_){return Qs(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ie(g(h.Ea,h,_),oh(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const G=new As(this,this.j,h);let X=this.o;if(this.U&&(X?(X=j(X),he(X,this.U)):X=this.U),this.u!==null||this.R||(G.J=X,X=null),this.S)e:{for(var _=0,w=0;w<this.i.length;w++){t:{var D=this.i[w];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(_+=D,_>4096){_=w;break e}if(_===4096||w===this.i.length-1){_=w+1;break e}}_=1e3}else _=1e3;_=sh(this,G,_),w=Ht(this.J),it(w,"RID",h),it(w,"CVER",22),this.G&&it(w,"X-HTTP-Session-Id",this.G),Sa(this,w),X&&(this.R?_="headers="+Ai(os(X))+"&"+_:this.u&&ba(w,this.u,X)),$l(this.h,G),this.Ra&&it(w,"TYPE","init"),this.S?(it(w,"$req",_),it(w,"SID","null"),G.U=!0,Ys(G,w,null)):Ys(G,w,_),this.I=2}}else this.I==3&&(h?au(this,h):this.i.length==0||Kl(this.h)||au(this))};function au(h,_){var w;_?w=_.l:w=h.V++;const D=Ht(h.J);it(D,"SID",h.M),it(D,"RID",w),it(D,"AID",h.K),Sa(h,D),h.u&&h.o&&ba(D,h.u,h.o),w=new As(h,h.j,w,h.D+1),h.u===null&&(w.J=h.o),_&&(h.i=_.G.concat(h.i)),_=sh(h,w,1e3),w.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),$l(h.h,w),Ys(w,D,_)}function Sa(h,_){h.H&&Te(h.H,function(w,D){it(_,D,w)}),h.l&&Te({},function(w,D){it(_,D,w)})}function sh(h,_,w){w=Math.min(h.i.length,w);const D=h.l?g(h.l.Ka,h.l,h):null;e:{var G=h.i;let je=-1;for(;;){const Vt=["count="+w];je==-1?w>0?(je=G[0].g,Vt.push("ofs="+je)):je=0:Vt.push("ofs="+je);let tt=!0;for(let Tt=0;Tt<w;Tt++){var X=G[Tt].g;const ls=G[Tt].map;if(X-=je,X<0)je=Math.max(0,G[Tt].g-100),tt=!1;else try{X="req"+X+"_"||"";try{var ue=ls instanceof Map?ls:Object.entries(ls);for(const[ii,Rs]of ue){let Is=Rs;f(Rs)&&(Is=Gs(Rs)),Vt.push(X+ii+"="+encodeURIComponent(Is))}}catch(ii){throw Vt.push(X+"type="+encodeURIComponent("_badmap")),ii}}catch{D&&D(ls)}}if(tt){ue=Vt.join("&");break e}}ue=void 0}return h=h.i.splice(0,w),_.G=h,ue}function ih(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;H||S(),K||(H(),K=!0),C.add(_,h),h.A=0}}function xa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ie(g(h.Da,h),oh(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,rh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ie(g(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),yr(this),rh(this))};function ou(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function rh(h){h.g=new As(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Ht(h.na);it(_,"RID","rpc"),it(_,"SID",h.M),it(_,"AID",h.K),it(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&it(_,"TO",h.ia),it(_,"TYPE","xmlhttp"),Sa(h,_),h.u&&h.o&&ba(_,h.u,h.o),h.O&&(h.g.H=h.O);var w=h.g;h=h.ba,w.M=1,w.A=va(Ht(_)),w.u=null,w.R=!0,yo(w,h)}t.Va=function(){this.C!=null&&(this.C=null,yr(this),xa(this),Ae(19))};function Ao(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function ah(h,_){var w=null;if(h.g==_){Ao(h),ou(h),h.g=null;var D=2}else if(Xs(h.h,_))w=_.G,Ql(h.h,_),D=1;else return;if(h.I!=0){if(_.o)if(D==1){w=_.u?_.u.length:0,_=Date.now()-_.F;var G=h.D;D=ur(),Ot(D,new kt(D,w)),ni(h)}else ih(h);else if(G=_.m,G==3||G==0&&_.X>0||!(D==1&&xo(h,_)||D==2&&xa(h)))switch(w&&w.length>0&&(_=h.h,_.i=_.i.concat(w)),G){case 1:si(h,5);break;case 4:si(h,10);break;case 3:si(h,6);break;default:si(h,2)}}}function oh(h,_){let w=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(w*=2),w*_}function si(h,_){if(h.j.info("Error code "+_),_==2){var w=g(h.bb,h),D=h.Ua;const G=!D;D=new qn(D||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||rn(D,"https"),va(D),G?Ds(D.toString(),w):nu(D.toString(),w)}else Ae(2);h.I=0,h.l&&h.l.pa(_),lh(h),So(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function lh(h){if(h.I=0,h.ja=[],h.l){const _=Xl(h.h);(_.length!=0||h.i.length!=0)&&(V(h.ja,_),V(h.ja,h.i),h.h.i.length=0,N(h.i),h.i.length=0),h.l.oa()}}function uh(h,_,w){var D=w instanceof qn?Ht(w):new qn(w);if(D.g!="")_&&(D.g=_+"."+D.g),cr(D,D.u);else{var G=c.location;D=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;const X=new qn(null);D&&rn(X,D),_&&(X.g=_),G&&cr(X,G),w&&(X.h=w),D=X}return w=h.G,_=h.wa,w&&_&&it(D,w,_),it(D,"VER",h.ka),Sa(h,D),D}function ch(h,_,w){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new ut(new Js({ab:w})):new ut(h.ma),_.Fa(h.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hh(){}t=hh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function vr(){}vr.prototype.g=function(h,_){return new An(h,_)};function An(h,_){Dt.call(this),this.g=new gr(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!A(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!A(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Ni(this)}T(An,Dt),An.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){ru(this.g)},An.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.v&&(w={},w.__data__=Gs(h),h=w);_.i.push(new Ft(_.Ya++,h)),_.I==3&&ni(_)},An.prototype.N=function(){this.g.l=null,delete this.j,ru(this.g),delete this.g,An.Z.N.call(this)};function fh(h){Zt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const w in _){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}T(fh,Zt);function dh(){Mn.call(this),this.status=1}T(dh,Mn);function Ni(h){this.g=h}T(Ni,hh),Ni.prototype.ra=function(){Ot(this.g,"a")},Ni.prototype.qa=function(h){Ot(this.g,new fh(h))},Ni.prototype.pa=function(h){Ot(this.g,new dh)},Ni.prototype.oa=function(){Ot(this.g,"b")},vr.prototype.createWebChannel=vr.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,rA=function(){return new vr},iA=function(){return ur()},sA=wt,Zg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ga.NO_ERROR=0,ga.TIMEOUT=8,ga.HTTP_ERROR=6,Of=ga,Gl.COMPLETE="complete",nA=Gl,po.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",Dt.prototype.listen=Dt.prototype.J,$u=po,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,tA=ut}).apply(typeof Ef<"u"?Ef:typeof self<"u"?self:typeof window<"u"?window:{});const fE="@firebase/firestore",dE="4.9.2";class bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");let jl="12.3.0";const io=new u0("@firebase/firestore");function rl(){return io.logLevel}function me(t,...e){if(io.logLevel<=Ke.DEBUG){const n=e.map(f0);io.debug(`Firestore (${jl}): ${t}`,...n)}}function tr(t,...e){if(io.logLevel<=Ke.ERROR){const n=e.map(f0);io.error(`Firestore (${jl}): ${t}`,...n)}}function xl(t,...e){if(io.logLevel<=Ke.WARN){const n=e.map(f0);io.warn(`Firestore (${jl}): ${t}`,...n)}}function f0(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ce(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,aA(t,i,n)}function aA(t,e,n){let i=`FIRESTORE (${jl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw tr(i),new Error(i)}function st(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||aA(e,a,i)}function Pe(t,e){return t}const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends ir{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ja{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class oA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ej{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(bn.UNAUTHENTICATED)))}shutdown(){}}class wj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Sj{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){st(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,n(m)):Promise.resolve();let l=new Ja;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ja,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ja)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(st(typeof i.accessToken=="string",31837,{l:i}),new oA(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new bn(e)}}class xj{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Aj{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new xj(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(bn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class mE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cj{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Us(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){st(this.o===void 0,3512);const i=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,me("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new mE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(st(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new mE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Dj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class d0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=Dj(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function $e(t,e){return t<e?-1:t>e?1:0}function Jg(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return lg(a)===lg(l)?$e(a,l):lg(a)?1:-1}return $e(t.length,e.length)}const Nj=55296,Mj=57343;function lg(t){const e=t.charCodeAt(0);return e>=Nj&&e<=Mj}function Al(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}const pE="__name__";class ci{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ce(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return ci.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ci?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=ci.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return $e(e.length,n.length)}static compareSegments(e,n){const i=ci.isNumericId(e),a=ci.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?ci.extractNumericId(e).compare(ci.extractNumericId(n)):Jg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Jr.fromString(e.substring(4,e.length-2))}}class xt extends ci{construct(e,n,i){return new xt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ve(oe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new xt(n)}static emptyPath(){return new xt([])}}const Rj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends ci{construct(e,n,i){return new yn(e,n,i)}static isValidIdentifier(e){return Rj.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pE}static keyField(){return new yn([pE])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ve(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new ve(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ve(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(i+=f,a++):(l(),a++)}if(l(),c)throw new ve(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yn(n)}static emptyPath(){return new yn([])}}class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(xt.fromString(e))}static fromName(e){return new Ee(xt.fromString(e).popFirst(5))}static empty(){return new Ee(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new xt(e.slice()))}}function Ij(t,e,n){if(!n)throw new ve(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Oj(t,e,n,i){if(e===!0&&i===!0)throw new ve(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gE(t){if(!Ee.isDocumentKey(t))throw new ve(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function lA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function m0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce(12329,{type:typeof t})}function gl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=m0(t);throw new ve(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Qt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Uc(t,e){if(!lA(t))throw new ve(oe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const c=t[i];if(a&&typeof c!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new ve(oe.INVALID_ARGUMENT,n);return!0}const yE=-62135596800,vE=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*vE);return new _t(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<yE)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vE}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Uc(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-yE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:Qt("string",_t._jsonSchemaVersion),seconds:Qt("number"),nanoseconds:Qt("number")};class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new _t(0,0))}static max(){return new Oe(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const wc=-1;function kj(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Oe.fromTimestamp(i===1e9?new _t(n+1,0):new _t(n,i));return new na(a,Ee.empty(),e)}function Vj(t){return new na(t.readTime,t.key,wc)}class na{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new na(Oe.min(),Ee.empty(),wc)}static max(){return new na(Oe.max(),Ee.empty(),wc)}}function Pj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:$e(t.largestBatchId,e.largestBatchId))}const jj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Lj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ll(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==jj)throw t;me("LocalStore","Unexpectedly lost primary lease")}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,i)=>{n(e)}))}static reject(e){return new re(((n,i)=>{i(e)}))}static waitFor(e){return new re(((n,i)=>{let a=0,l=0,c=!1;e.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&n()}),(m=>i(m)))})),c=!0,l===a&&n()}))}static or(e){let n=re.resolve(!1);for(const i of e)n=n.next((a=>a?re.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new re(((i,a)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const g=m;n(e[g]).next((y=>{c[g]=y,++f,f===l&&i(c)}),(y=>a(y)))}}))}static doWhile(e,n){return new re(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function Uj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ul(t){return t.name==="IndexedDbTransactionError"}class bd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bd.ce=-1;const p0=-1;function Ed(t){return t==null}function Xf(t){return t===0&&1/t==-1/0}function Bj(t){return typeof t=="number"&&Number.isInteger(t)&&!Xf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const uA="";function zj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=_E(e)),e=Fj(t.get(n),e);return _E(e)}function Fj(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case uA:n+="";break;default:n+=l}}return n}function _E(t){return t+uA+""}function TE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function lo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ct{constructor(e,n){this.comparator=e,this.root=n||gn.EMPTY}insert(e,n){return new Ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wf(this.root,e,this.comparator,!1)}getReverseIterator(){return new wf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wf(this.root,e,this.comparator,!0)}}class wf{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??gn.RED,this.left=a??gn.EMPTY,this.right=l??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new gn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return gn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new gn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nn{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bE(this.data.getIterator())}getIteratorFrom(e){return new bE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new nn(this.comparator);return n.data=e,n}}class bE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Bs{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new Bs([])}unionWith(e){let n=new nn(yn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Bs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Al(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class hA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new hA("Invalid base64 string: "+l):l}})(e);return new vn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new vn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const Hj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sa(t){if(st(!!t,39018),typeof t=="string"){let e=0;const n=Hj.exec(t);if(st(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Lt(t.seconds),nanos:Lt(t.nanos)}}function Lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ia(t){return typeof t=="string"?vn.fromBase64String(t):vn.fromUint8Array(t)}const fA="server_timestamp",dA="__type__",mA="__previous_value__",pA="__local_write_time__";function g0(t){return(t?.mapValue?.fields||{})[dA]?.stringValue===fA}function wd(t){const e=t.mapValue.fields[mA];return g0(e)?wd(e):e}function Sc(t){const e=sa(t.mapValue.fields[pA].timestampValue);return new _t(e.seconds,e.nanos)}class qj{constructor(e,n,i,a,l,c,f,m,g,y){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=y}}const Zf="(default)";class xc{constructor(e,n){this.projectId=e,this.database=n||Zf}static empty(){return new xc("","")}get isDefaultDatabase(){return this.database===Zf}isEqual(e){return e instanceof xc&&e.projectId===this.projectId&&e.database===this.database}}const gA="__type__",Gj="__max__",Sf={mapValue:{}},yA="__vector__",Jf="value";function ra(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?g0(t)?4:Wj(t)?9007199254740991:Yj(t)?10:11:Ce(28295,{value:t})}function bi(t,e){if(t===e)return!0;const n=ra(t);if(n!==ra(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sc(t).isEqual(Sc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=sa(a.timestampValue),f=sa(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return ia(a.bytesValue).isEqual(ia(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Lt(a.geoPointValue.latitude)===Lt(l.geoPointValue.latitude)&&Lt(a.geoPointValue.longitude)===Lt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Lt(a.integerValue)===Lt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Lt(a.doubleValue),f=Lt(l.doubleValue);return c===f?Xf(c)===Xf(f):isNaN(c)&&isNaN(f)}return!1})(t,e);case 9:return Al(t.arrayValue.values||[],e.arrayValue.values||[],bi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(TE(c)!==TE(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!bi(c[m],f[m])))return!1;return!0})(t,e);default:return Ce(52216,{left:t})}}function Ac(t,e){return(t.values||[]).find((n=>bi(n,e)))!==void 0}function Cl(t,e){if(t===e)return 0;const n=ra(t),i=ra(e);if(n!==i)return $e(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=Lt(l.integerValue||l.doubleValue),m=Lt(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(t,e);case 3:return EE(t.timestampValue,e.timestampValue);case 4:return EE(Sc(t),Sc(e));case 5:return Jg(t.stringValue,e.stringValue);case 6:return(function(l,c){const f=ia(l),m=ia(c);return f.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),m=c.split("/");for(let g=0;g<f.length&&g<m.length;g++){const y=$e(f[g],m[g]);if(y!==0)return y}return $e(f.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=$e(Lt(l.latitude),Lt(c.latitude));return f!==0?f:$e(Lt(l.longitude),Lt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return wE(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const f=l.fields||{},m=c.fields||{},g=f[Jf]?.arrayValue,y=m[Jf]?.arrayValue,T=$e(g?.values?.length||0,y?.values?.length||0);return T!==0?T:wE(g,y)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Sf.mapValue&&c===Sf.mapValue)return 0;if(l===Sf.mapValue)return 1;if(c===Sf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),g=c.fields||{},y=Object.keys(g);m.sort(),y.sort();for(let T=0;T<m.length&&T<y.length;++T){const E=Jg(m[T],y[T]);if(E!==0)return E;const N=Cl(f[m[T]],g[y[T]]);if(N!==0)return N}return $e(m.length,y.length)})(t.mapValue,e.mapValue);default:throw Ce(23264,{he:n})}}function EE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return $e(t,e);const n=sa(t),i=sa(e),a=$e(n.seconds,i.seconds);return a!==0?a:$e(n.nanos,i.nanos)}function wE(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=Cl(n[a],i[a]);if(l)return l}return $e(n.length,i.length)}function Dl(t){return ey(t)}function ey(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=sa(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ia(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ee.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=ey(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${ey(n.fields[c])}`;return a+"}"})(t.mapValue):Ce(61005,{value:t})}function kf(t){switch(ra(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wd(t);return e?16+kf(e):16;case 5:return 2*t.stringValue.length;case 6:return ia(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+kf(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return lo(i.fields,((l,c)=>{a+=l.length+kf(c)})),a})(t.mapValue);default:throw Ce(13486,{value:t})}}function ty(t){return!!t&&"integerValue"in t}function y0(t){return!!t&&"arrayValue"in t}function SE(t){return!!t&&"nullValue"in t}function xE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vf(t){return!!t&&"mapValue"in t}function Yj(t){return(t?.mapValue?.fields||{})[gA]?.stringValue===yA}function rc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return lo(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=rc(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rc(t.arrayValue.values[n]);return e}return{...t}}function Wj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Gj}class _s{constructor(e){this.value=e}static empty(){return new _s({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Vf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rc(n)}setAll(e){let n=yn.emptyPath(),i={},a=[];e.forEach(((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,i,a),i={},a=[],n=f.popLast()}c?i[f.lastSegment()]=rc(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());Vf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Vf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){lo(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new _s(rc(this.value))}}function vA(t){const e=[];return lo(t.fields,((n,i)=>{const a=new yn([n]);if(Vf(i)){const l=vA(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Bs(e)}class wn{constructor(e,n,i,a,l,c,f){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new wn(e,0,Oe.min(),Oe.min(),Oe.min(),_s.empty(),0)}static newFoundDocument(e,n,i,a){return new wn(e,1,n,Oe.min(),i,a,0)}static newNoDocument(e,n){return new wn(e,2,n,Oe.min(),Oe.min(),_s.empty(),0)}static newUnknownDocument(e,n){return new wn(e,3,n,Oe.min(),Oe.min(),_s.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_s.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_s.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ed{constructor(e,n){this.position=e,this.inclusive=n}}function AE(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?i=Ee.comparator(Ee.fromName(c.referenceValue),n.key):i=Cl(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function CE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!bi(t.position[n],e.position[n]))return!1;return!0}class td{constructor(e,n="asc"){this.field=e,this.dir=n}}function Kj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class _A{}class tn extends _A{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new Qj(e,n,i):n==="array-contains"?new Jj(e,i):n==="in"?new e3(e,i):n==="not-in"?new t3(e,i):n==="array-contains-any"?new n3(e,i):new tn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new Xj(e,i):new Zj(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Cl(n,this.value)):n!==null&&ra(this.value)===ra(n)&&this.matchesComparison(Cl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ei extends _A{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ei(e,n)}matches(e){return TA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function TA(t){return t.op==="and"}function bA(t){return $j(t)&&TA(t)}function $j(t){for(const e of t.filters)if(e instanceof Ei)return!1;return!0}function ny(t){if(t instanceof tn)return t.field.canonicalString()+t.op.toString()+Dl(t.value);if(bA(t))return t.filters.map((e=>ny(e))).join(",");{const e=t.filters.map((n=>ny(n))).join(",");return`${t.op}(${e})`}}function EA(t,e){return t instanceof tn?(function(i,a){return a instanceof tn&&i.op===a.op&&i.field.isEqual(a.field)&&bi(i.value,a.value)})(t,e):t instanceof Ei?(function(i,a){return a instanceof Ei&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,f)=>l&&EA(c,a.filters[f])),!0):!1})(t,e):void Ce(19439)}function wA(t){return t instanceof tn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Dl(n.value)}`})(t):t instanceof Ei?(function(n){return n.op.toString()+" {"+n.getFilters().map(wA).join(" ,")+"}"})(t):"Filter"}class Qj extends tn{constructor(e,n,i){super(e,n,i),this.key=Ee.fromName(i.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class Xj extends tn{constructor(e,n){super(e,"in",n),this.keys=SA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Zj extends tn{constructor(e,n){super(e,"not-in",n),this.keys=SA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function SA(t,e){return(e.arrayValue?.values||[]).map((n=>Ee.fromName(n.referenceValue)))}class Jj extends tn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return y0(n)&&Ac(n.arrayValue,this.value)}}class e3 extends tn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ac(this.value.arrayValue,n)}}class t3 extends tn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ac(this.value.arrayValue,n)}}class n3 extends tn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!y0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Ac(this.value.arrayValue,i)))}}class s3{constructor(e,n=null,i=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function DE(t,e=null,n=[],i=[],a=null,l=null,c=null){return new s3(t,e,n,i,a,l,c)}function v0(t){const e=Pe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>ny(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Ed(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Dl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Dl(i))).join(",")),e.Te=n}return e.Te}function _0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Kj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!EA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!CE(t.startAt,e.startAt)&&CE(t.endAt,e.endAt)}function sy(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Sd{constructor(e,n=null,i=[],a=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function i3(t,e,n,i,a,l,c,f){return new Sd(t,e,n,i,a,l,c,f)}function T0(t){return new Sd(t)}function NE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function r3(t){return t.collectionGroup!==null}function ac(t){const e=Pe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new nn(yn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(f=f.add(g.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new td(l,i))})),n.has(yn.keyField().canonicalString())||e.Ie.push(new td(yn.keyField(),i))}return e.Ie}function gi(t){const e=Pe(t);return e.Ee||(e.Ee=a3(e,ac(t))),e.Ee}function a3(t,e){if(t.limitType==="F")return DE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new td(a.field,l)}));const n=t.endAt?new ed(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new ed(t.startAt.position,t.startAt.inclusive):null;return DE(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function iy(t,e,n){return new Sd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xd(t,e){return _0(gi(t),gi(e))&&t.limitType===e.limitType}function xA(t){return`${v0(gi(t))}|lt:${t.limitType}`}function al(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>wA(a))).join(", ")}]`),Ed(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>Dl(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>Dl(a))).join(",")),`Target(${i})`})(gi(t))}; limitType=${t.limitType})`}function Ad(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ee.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of ac(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(c,f,m){const g=AE(c,f,m);return c.inclusive?g<=0:g<0})(i.startAt,ac(i),a)||i.endAt&&!(function(c,f,m){const g=AE(c,f,m);return c.inclusive?g>=0:g>0})(i.endAt,ac(i),a))})(t,e)}function o3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function AA(t){return(e,n)=>{let i=!1;for(const a of ac(t)){const l=l3(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function l3(t,e,n){const i=t.field.isKeyField()?Ee.comparator(e.key,n.key):(function(l,c,f){const m=c.data.field(l),g=f.data.field(l);return m!==null&&g!==null?Cl(m,g):Ce(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ce(19790,{direction:t.dir})}}class uo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){lo(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return cA(this.inner)}size(){return this.innerSize}}const u3=new Ct(Ee.comparator);function nr(){return u3}const CA=new Ct(Ee.comparator);function Qu(...t){let e=CA;for(const n of t)e=e.insert(n.key,n);return e}function DA(t){let e=CA;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Ka(){return oc()}function NA(){return oc()}function oc(){return new uo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const c3=new Ct(Ee.comparator),h3=new nn(Ee.comparator);function Qe(...t){let e=h3;for(const n of t)e=e.add(n);return e}const f3=new nn($e);function d3(){return f3}function b0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xf(e)?"-0":e}}function MA(t){return{integerValue:""+t}}function m3(t,e){return Bj(e)?MA(e):b0(t,e)}class Cd{constructor(){this._=void 0}}function p3(t,e,n){return t instanceof nd?(function(a,l){const c={fields:{[dA]:{stringValue:fA},[pA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&g0(l)&&(l=wd(l)),l&&(c.fields[mA]=l),{mapValue:c}})(n,e):t instanceof Cc?IA(t,e):t instanceof Dc?OA(t,e):(function(a,l){const c=RA(a,l),f=ME(c)+ME(a.Ae);return ty(c)&&ty(a.Ae)?MA(f):b0(a.serializer,f)})(t,e)}function g3(t,e,n){return t instanceof Cc?IA(t,e):t instanceof Dc?OA(t,e):n}function RA(t,e){return t instanceof sd?(function(i){return ty(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class nd extends Cd{}class Cc extends Cd{constructor(e){super(),this.elements=e}}function IA(t,e){const n=kA(e);for(const i of t.elements)n.some((a=>bi(a,i)))||n.push(i);return{arrayValue:{values:n}}}class Dc extends Cd{constructor(e){super(),this.elements=e}}function OA(t,e){let n=kA(e);for(const i of t.elements)n=n.filter((a=>!bi(a,i)));return{arrayValue:{values:n}}}class sd extends Cd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function ME(t){return Lt(t.integerValue||t.doubleValue)}function kA(t){return y0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function y3(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof Cc&&a instanceof Cc||i instanceof Dc&&a instanceof Dc?Al(i.elements,a.elements,bi):i instanceof sd&&a instanceof sd?bi(i.Ae,a.Ae):i instanceof nd&&a instanceof nd})(t.transform,e.transform)}class v3{constructor(e,n){this.version=e,this.transformResults=n}}class Xi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xi}static exists(e){return new Xi(void 0,e)}static updateTime(e){return new Xi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Dd{}function VA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jA(t.key,Xi.none()):new Bc(t.key,t.data,Xi.none());{const n=t.data,i=_s.empty();let a=new nn(yn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new co(t.key,i,new Bs(a.toArray()),Xi.none())}}function _3(t,e,n){t instanceof Bc?(function(a,l,c){const f=a.value.clone(),m=IE(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):t instanceof co?(function(a,l,c){if(!Pf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=IE(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(PA(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function lc(t,e,n,i){return t instanceof Bc?(function(l,c,f,m){if(!Pf(l.precondition,c))return f;const g=l.value.clone(),y=OE(l.fieldTransforms,m,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(t,e,n,i):t instanceof co?(function(l,c,f,m){if(!Pf(l.precondition,c))return f;const g=OE(l.fieldTransforms,m,c),y=c.data;return y.setAll(PA(l)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(t,e,n,i):(function(l,c,f){return Pf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(t,e,n)}function T3(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=RA(i.transform,a||null);l!=null&&(n===null&&(n=_s.empty()),n.set(i.field,l))}return n||null}function RE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Al(i,a,((l,c)=>y3(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bc extends Dd{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class co extends Dd{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function PA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function IE(t,e,n){const i=new Map;st(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,f=e.data.field(l.field);i.set(l.field,g3(c,f,n[a]))}return i}function OE(t,e,n){const i=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);i.set(a.field,p3(l,c,e))}return i}class jA extends Dd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class b3 extends Dd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class E3{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&_3(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=lc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=lc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=NA();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const m=VA(c,f);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Oe.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Qe())}isEqual(e){return this.batchId===e.batchId&&Al(this.mutations,e.mutations,((n,i)=>RE(n,i)))&&Al(this.baseMutations,e.baseMutations,((n,i)=>RE(n,i)))}}class E0{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){st(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return c3})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new E0(e,n,i,a)}}class w3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class S3{constructor(e,n){this.count=e,this.unchangedNames=n}}var Kt,Ze;function x3(t){switch(t){case oe.OK:return Ce(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Ce(15467,{code:t})}}function LA(t){if(t===void 0)return tr("GRPC error has no .code"),oe.UNKNOWN;switch(t){case Kt.OK:return oe.OK;case Kt.CANCELLED:return oe.CANCELLED;case Kt.UNKNOWN:return oe.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return oe.INTERNAL;case Kt.UNAVAILABLE:return oe.UNAVAILABLE;case Kt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Kt.NOT_FOUND:return oe.NOT_FOUND;case Kt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Kt.ABORTED:return oe.ABORTED;case Kt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Kt.DATA_LOSS:return oe.DATA_LOSS;default:return Ce(39323,{code:t})}}(Ze=Kt||(Kt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";function A3(){return new TextEncoder}const C3=new Jr([4294967295,4294967295],0);function kE(t){const e=A3().encode(t),n=new eA;return n.update(e),new Uint8Array(n.digest())}function VE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Jr([n,i],0),new Jr([a,l],0)]}class w0{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Xu(`Invalid padding: ${n}`);if(i<0)throw new Xu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Xu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Xu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Jr.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(Jr.fromNumber(i)));return a.compare(C3)===1&&(a=new Jr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=kE(e),[i,a]=VE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new w0(l,a,n);return i.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const n=kE(e),[i,a]=VE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Xu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nd{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,zc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Nd(Oe.min(),a,new Ct($e),nr(),Qe())}}class zc{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new zc(i,n,Qe(),Qe(),Qe())}}class jf{constructor(e,n,i,a){this.be=e,this.removedTargetIds=n,this.key=i,this.De=a}}class UA{constructor(e,n){this.targetId=e,this.Ce=n}}class BA{constructor(e,n,i=vn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class PE{constructor(){this.ve=0,this.Fe=jE(),this.Me=vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qe(),n=Qe(),i=Qe();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Ce(38017,{changeType:l})}})),new zc(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=jE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class D3{constructor(e){this.Ge=e,this.ze=new Map,this.je=nr(),this.Je=xf(),this.He=xf(),this.Ye=new Ct($e)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(sy(l))if(i===0){const c=new Ee(l.path);this.et(n,c,wn.newNoDocument(c,Oe.min()))}else st(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const f=this.ut(e),m=f?this.ct(f,e,c):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=ia(i).toUint8Array()}catch(m){if(m instanceof hA)return xl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new w0(c,a,l)}catch(m){return xl(m instanceof Xu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&sy(f.target)){const m=new Ee(f.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,wn.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let i=Qe();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Nd(e,n,this.Ye,this.je,i);return this.je=nr(),this.Je=xf(),this.He=xf(),this.Ye=new Ct($e),a}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new PE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new nn($e),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new nn($e),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new PE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function xf(){return new Ct(Ee.comparator)}function jE(){return new Ct(Ee.comparator)}const N3={asc:"ASCENDING",desc:"DESCENDING"},M3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},R3={and:"AND",or:"OR"};class I3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ry(t,e){return t.useProto3Json||Ed(e)?e:{value:e}}function id(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function O3(t,e){return id(t,e.toTimestamp())}function yi(t){return st(!!t,49232),Oe.fromTimestamp((function(n){const i=sa(n);return new _t(i.seconds,i.nanos)})(t))}function S0(t,e){return ay(t,e).canonicalString()}function ay(t,e){const n=(function(a){return new xt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function FA(t){const e=xt.fromString(t);return st(WA(e),10190,{key:e.toString()}),e}function oy(t,e){return S0(t.databaseId,e.path)}function ug(t,e){const n=FA(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee(qA(n))}function HA(t,e){return S0(t.databaseId,e)}function k3(t){const e=FA(t);return e.length===4?xt.emptyPath():qA(e)}function ly(t){return new xt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qA(t){return st(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function LE(t,e,n){return{name:oy(t,e),fields:n.value.mapValue.fields}}function V3(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ce(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,y){return g.useProto3Json?(st(y===void 0||typeof y=="string",58123),vn.fromBase64String(y||"")):(st(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),vn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(g){const y=g.code===void 0?oe.UNKNOWN:LA(g.code);return new ve(y,g.message||"")})(c);n=new BA(i,a,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=ug(t,i.document.name),l=yi(i.document.updateTime),c=i.document.createTime?yi(i.document.createTime):Oe.min(),f=new _s({mapValue:{fields:i.document.fields}}),m=wn.newFoundDocument(a,l,c,f),g=i.targetIds||[],y=i.removedTargetIds||[];n=new jf(g,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=ug(t,i.document),l=i.readTime?yi(i.readTime):Oe.min(),c=wn.newNoDocument(a,l),f=i.removedTargetIds||[];n=new jf([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=ug(t,i.document),l=i.removedTargetIds||[];n=new jf([],l,a,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new S3(a,l),f=i.targetId;n=new UA(f,c)}}return n}function P3(t,e){let n;if(e instanceof Bc)n={update:LE(t,e.key,e.value)};else if(e instanceof jA)n={delete:oy(t,e.key)};else if(e instanceof co)n={update:LE(t,e.key,e.data),updateMask:G3(e.fieldMask)};else{if(!(e instanceof b3))return Ce(16599,{Vt:e.type});n={verify:oy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const f=c.transform;if(f instanceof nd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Cc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Dc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof sd)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw Ce(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:O3(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ce(27497)})(t,e.precondition)),n}function j3(t,e){return t&&t.length>0?(st(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?yi(a.updateTime):yi(l);return c.isEqual(Oe.min())&&(c=yi(l)),new v3(c,a.transformResults||[])})(n,e)))):[]}function L3(t,e){return{documents:[HA(t,e.path)]}}function U3(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=HA(t,a);const l=(function(g){if(g.length!==0)return YA(Ei.create(g,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((y=>(function(E){return{field:ol(E.field),direction:F3(E.dir)}})(y)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=ry(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:a}}function B3(t){let e=k3(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){st(i===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(T){const E=GA(T);return E instanceof Ei&&bA(E)?E.getFilters():[E]})(n.where));let c=[];n.orderBy&&(c=(function(T){return T.map((E=>(function(V){return new td(ll(V.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(E)))})(n.orderBy));let f=null;n.limit&&(f=(function(T){let E;return E=typeof T=="object"?T.value:T,Ed(E)?null:E})(n.limit));let m=null;n.startAt&&(m=(function(T){const E=!!T.before,N=T.values||[];return new ed(N,E)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const E=!T.before,N=T.values||[];return new ed(N,E)})(n.endAt)),i3(e,a,c,l,f,"F",m,g)}function z3(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ll(n.unaryFilter.field);return tn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=ll(n.unaryFilter.field);return tn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ll(n.unaryFilter.field);return tn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ll(n.unaryFilter.field);return tn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(t):t.fieldFilter!==void 0?(function(n){return tn.create(ll(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ei.create(n.compositeFilter.filters.map((i=>GA(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(n.compositeFilter.op))})(t):Ce(30097,{filter:t})}function F3(t){return N3[t]}function H3(t){return M3[t]}function q3(t){return R3[t]}function ol(t){return{fieldPath:t.canonicalString()}}function ll(t){return yn.fromServerFormat(t.fieldPath)}function YA(t){return t instanceof tn?(function(n){if(n.op==="=="){if(xE(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NAN"}};if(SE(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xE(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NOT_NAN"}};if(SE(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ol(n.field),op:H3(n.op),value:n.value}}})(t):t instanceof Ei?(function(n){const i=n.getFilters().map((a=>YA(a)));return i.length===1?i[0]:{compositeFilter:{op:q3(n.op),filters:i}}})(t):Ce(54877,{filter:t})}function G3(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function WA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class $r{constructor(e,n,i,a,l=Oe.min(),c=Oe.min(),f=vn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new $r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Y3{constructor(e){this.yt=e}}function W3(t){const e=B3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?iy(e,e.limit,"L"):e}class K3{constructor(){this.Cn=new $3}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(na.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(na.min())}updateCollectionGroup(e,n,i){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class $3{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new nn(xt.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new nn(xt.comparator)).toArray()}}const UE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},KA=41943040;class Un{static withCacheSize(e){return new Un(e,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(KA,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);class Nl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Nl(0)}static cr(){return new Nl(-1)}}const BE="LruGarbageCollector",Q3=1048576;function zE([t,e],[n,i]){const a=$e(t,n);return a===0?$e(e,i):a}class X3{constructor(e){this.Ir=e,this.buffer=new nn(zE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();zE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Z3{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(BE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ul(n)?me(BE,"Ignoring IndexedDB error during garbage collection: ",n):await Ll(n)}await this.Vr(3e5)}))}}class J3{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(bd.ce);const i=new X3(n);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(UE)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),UE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,a,l,c,f,m,g;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(e,a)))).next((T=>(i=T,f=Date.now(),this.removeTargets(e,i,n)))).next((T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((T=>(g=Date.now(),rl()<=Ke.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-y}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T}))))}}function e6(t,e){return new J3(t,e)}class t6{constructor(){this.changes=new uo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?re.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class n6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class s6{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&lc(i.mutation,a,Bs.empty(),_t.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Qe()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Qe()){const a=Ka();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let c=Qu();return l.forEach(((f,m)=>{c=c.insert(f,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const i=Ka();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Qe())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,f)=>{n.set(c,f)}))}))}computeViews(e,n,i,a){let l=nr();const c=oc(),f=(function(){return oc()})();return n.forEach(((m,g)=>{const y=i.get(g.key);a.has(g.key)&&(y===void 0||y.mutation instanceof co)?l=l.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),lc(y.mutation,g,y.mutation.getFieldMask(),_t.now())):c.set(g.key,Bs.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,y)=>c.set(g,y))),n.forEach(((g,y)=>f.set(g,new n6(y,c.get(g)??null)))),f)))}recalculateAndSaveOverlays(e,n){const i=oc();let a=new Ct(((c,f)=>c-f)),l=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const f of c)f.keys().forEach((m=>{const g=n.get(m);if(g===null)return;let y=i.get(m)||Bs.empty();y=f.applyToLocalView(g,y),i.set(m,y);const T=(a.get(f.batchId)||Qe()).add(m);a=a.insert(f.batchId,T)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),g=m.key,y=m.value,T=NA();y.forEach((E=>{if(!l.has(E)){const N=VA(n.get(E),i.get(E));N!==null&&T.set(E,N),l=l.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return re.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return(function(c){return Ee.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):r3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):re.resolve(Ka());let f=wc,m=l;return c.next((g=>re.forEach(g,((y,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),l.get(y)?re.resolve():this.remoteDocumentCache.getEntry(e,y).next((E=>{m=m.insert(y,E)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,Qe()))).next((y=>({batchId:f,changes:DA(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next((i=>{let a=Qu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let c=Qu();return this.indexManager.getCollectionParents(e,l).next((f=>re.forEach(f,(m=>{const g=(function(T,E){return new Sd(E,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next((y=>{y.forEach(((T,E)=>{c=c.insert(T,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((c=>{l.forEach(((m,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,wn.newInvalidDocument(y)))}));let f=Qu();return c.forEach(((m,g)=>{const y=l.get(m);y!==void 0&&lc(y.mutation,g,Bs.empty(),_t.now()),Ad(n,g)&&(f=f.insert(m,g))})),f}))}}class i6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:yi(a.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:W3(a.bundledQuery),readTime:yi(a.readTime)}})(n)),re.resolve()}}class r6{constructor(){this.overlays=new Ct(Ee.comparator),this.qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ka();return re.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.St(e,n,l)})),re.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),re.resolve()}getOverlaysForCollection(e,n,i){const a=Ka(),l=n.length+1,c=new Ee(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return re.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new Ct(((g,y)=>g-y));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>i){let y=l.get(g.largestBatchId);y===null&&(y=Ka(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const f=Ka(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,y)=>f.set(g,y))),!(f.size()>=a)););return re.resolve(f)}St(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new w3(n,i));let l=this.qr.get(n);l===void 0&&(l=Qe(),this.qr.set(n,l)),this.qr.set(n,l.add(i.key))}}class a6{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}class x0{constructor(){this.Qr=new nn(on.$r),this.Ur=new nn(on.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new on(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new on(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new Ee(new xt([])),i=new on(n,e),a=new on(n,e+1),l=[];return this.Ur.forEachInRange([i,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ee(new xt([])),i=new on(n,e),a=new on(n,e+1);let l=Qe();return this.Ur.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new on(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class on{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ee.comparator(e.key,n.key)||$e(e.Yr,n.Yr)}static Kr(e,n){return $e(e.Yr,n.Yr)||Ee.comparator(e.key,n.key)}}class o6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new nn(on.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new E3(l,n,i,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new on(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return re.resolve(c)}lookupMutationBatch(e,n){return re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.ei(i),l=a<0?0:a;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?p0:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new on(n,0),a=new on(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(c=>{const f=this.Xr(c.Yr);l.push(f)})),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new nn($e);return n.forEach((a=>{const l=new on(a,0),c=new on(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{i=i.add(f.Yr)}))})),re.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;Ee.isDocumentKey(l)||(l=l.child(""));const c=new on(new Ee(l),0);let f=new nn($e);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(f=f.add(m.Yr)),!0)}),c),re.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){st(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return re.forEach(n.mutations,(a=>{const l=new on(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new on(n,0),a=this.Zr.firstAfterOrEqual(i);return re.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class l6{constructor(e){this.ri=e,this.docs=(function(){return new Ct(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return re.resolve(i?i.document.mutableCopy():wn.newInvalidDocument(n))}getEntries(e,n){let i=nr();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():wn.newInvalidDocument(a))})),re.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=nr();const c=n.path,f=new Ee(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:g,value:{document:y}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||Pj(Vj(y),i)<=0||(a.has(y.key)||Ad(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Ce(9500)}ii(e,n){return re.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new u6(this)}getSize(e){return re.resolve(this.size)}}class u6 extends t6{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class c6{constructor(e){this.persistence=e,this.si=new uo((n=>v0(n)),_0),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.oi=0,this._i=new x0,this.targetCount=0,this.ai=Nl.ur()}forEachTarget(e,n){return this.si.forEach(((i,a)=>n(a))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),re.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Nl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Pr(n),re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=n&&i.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),re.waitFor(l).next((()=>a))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return re.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),re.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),re.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return re.resolve(i)}containsKey(e,n){return re.resolve(this._i.containsKey(n))}}class $A{constructor(e,n){this.ui={},this.overlays={},this.ci=new bd(0),this.li=!1,this.li=!0,this.hi=new a6,this.referenceDelegate=e(this),this.Pi=new c6(this),this.indexManager=new K3,this.remoteDocumentCache=(function(a){return new l6(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new Y3(n),this.Ii=new i6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new r6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new o6(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){me("MemoryPersistence","Starting transaction:",e);const a=new h6(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return re.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class h6 extends Lj{constructor(e){super(),this.currentSequenceNumber=e}}class A0{constructor(e){this.persistence=e,this.Ri=new x0,this.Vi=null}static mi(e){return new A0(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),re.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(i=>{const a=Ee.fromPath(i);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Oe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class rd{constructor(e,n){this.persistence=e,this.pi=new uo((i=>zj(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=e6(this,n)}static mi(e,n){return new rd(e,n)}Ei(){}di(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return re.forEach(this.pi,((i,a)=>this.br(e,i,a).next((l=>l?re.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((f=>{f||(i++,l.removeEntry(c,Oe.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),re.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=kf(e.data.value)),n}br(e,n,i){return re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return re.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class C0{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=a}static As(e,n){let i=Qe(),a=Qe();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new C0(e,n.fromCache,i,a)}}class f6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class d6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return iP()?8:Uj(xn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new f6;return this.Ss(e,n,c).next((f=>{if(l.result=f,this.Vs)return this.bs(e,n,c,f.size)}))})).next((()=>l.result))}bs(e,n,i,a){return i.documentReadCount<this.fs?(rl()<=Ke.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",al(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(rl()<=Ke.DEBUG&&me("QueryEngine","Query:",al(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(rl()<=Ke.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",al(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gi(n))):re.resolve())}ys(e,n){if(NE(n))return re.resolve(null);let i=gi(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=iy(n,null,"F"),i=gi(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Qe(...l);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,i).next((m=>{const g=this.Ds(n,f);return this.Cs(n,g,c,m.readTime)?this.ys(e,iy(n,null,"F")):this.vs(e,g,n,m)}))))})))))}ws(e,n,i,a){return NE(n)||a.isEqual(Oe.min())?re.resolve(null):this.ps.getDocuments(e,i).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,i,a)?re.resolve(null):(rl()<=Ke.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),al(n)),this.vs(e,c,n,kj(a,wc)).next((f=>f)))}))}Ds(e,n){let i=new nn(AA(e));return n.forEach(((a,l)=>{Ad(e,l)&&(i=i.add(l))})),i}Cs(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,i){return rl()<=Ke.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",al(n)),this.ps.getDocumentsMatchingQuery(e,n,na.min(),i)}vs(e,n,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const D0="LocalStore",m6=3e8;class p6{constructor(e,n,i,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Ct($e),this.xs=new uo((l=>v0(l)),_0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new s6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function g6(t,e,n,i){return new p6(t,e,n,i)}async function QA(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],f=[];let m=Qe();for(const g of a){c.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}for(const g of l){f.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(i,m).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:f})))}))}))}function y6(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,g,y){const T=g.batch,E=T.keys();let N=re.resolve();return E.forEach((V=>{N=N.next((()=>y.getEntry(m,V))).next((L=>{const R=g.docVersions.get(V);st(R!==null,48541),L.version.compareTo(R)<0&&(T.applyToRemoteDocument(L,g),L.isValidDocument()&&(L.setReadTime(g.commitVersion),y.addEntry(L)))}))})),N.next((()=>f.mutationQueue.removeMutationBatch(m,T)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let m=Qe();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(m=m.add(f.batch.mutations[g].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function XA(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function v6(t,e){const n=Pe(t),i=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const f=[];e.targetChanges.forEach(((y,T)=>{const E=a.get(T);if(!E)return;f.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,T))));let N=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?N=N.withResumeToken(vn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):y.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(y.resumeToken,i)),a=a.insert(T,N),(function(L,R,B){return L.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=m6?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(E,N,y)&&f.push(n.Pi.updateTargetData(l,N))}));let m=nr(),g=Qe();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(_6(l,c,e.documentUpdates).next((y=>{m=y.ks,g=y.qs}))),!i.isEqual(Oe.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((T=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(y)}return re.waitFor(f).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function _6(t,e,n){let i=Qe(),a=Qe();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let c=nr();return n.forEach(((f,m)=>{const g=l.get(f);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Oe.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):me(D0,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function T6(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=p0),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function b6(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.Pi.getTargetData(i,e).next((l=>l?(a=l,re.resolve(a)):n.Pi.allocateTargetId(i).next((c=>(a=new $r(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function uy(t,e,n){const i=Pe(t),a=i.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Ul(c))throw c;me(D0,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function FE(t,e,n){const i=Pe(t);let a=Oe.min(),l=Qe();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,y){const T=Pe(m),E=T.xs.get(y);return E!==void 0?re.resolve(T.Ms.get(E)):T.Pi.getTargetData(g,y)})(i,c,gi(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,f.targetId).next((m=>{l=m}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,n?a:Oe.min(),n?l:Qe()))).next((f=>(E6(i,o3(e),f),{documents:f,Qs:l})))))}function E6(t,e,n){let i=t.Os.get(e)||Oe.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Os.set(e,i)}class HE{constructor(){this.activeTargetIds=d3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class w6{constructor(){this.Mo=new HE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new HE,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class S6{Oo(e){}shutdown(){}}const qE="ConnectivityMonitor";class GE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(qE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(qE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Af=null;function cy(){return Af===null?Af=(function(){return 268435456+Math.round(2147483648*Math.random())})():Af++,"0x"+Af.toString(16)}const cg="RestConnection",x6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class A6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===Zf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,n,i,a,l){const c=cy(),f=this.zo(e,n.toUriEncodedString());me(cg,`Sending RPC '${e}' ${c}:`,f,i);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:g}=new URL(f),y=Vl(g);return this.Jo(e,f,m,i,y).then((T=>(me(cg,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw xl(cg,`RPC '${e}' ${c} failed with error: `,T,"url: ",f,"request:",i),T}))}Ho(e,n,i,a,l,c){return this.Go(e,n,i,a,l)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const i=x6[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}class C6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Tn="WebChannelConnection";class D6 extends A6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,a,l){const c=cy();return new Promise(((f,m)=>{const g=new tA;g.setWithCredentials(!0),g.listenOnce(nA.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Of.NO_ERROR:const T=g.getResponseJson();me(Tn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),f(T);break;case Of.TIMEOUT:me(Tn,`RPC '${e}' ${c} timed out`),m(new ve(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Of.HTTP_ERROR:const E=g.getStatus();if(me(Tn,`RPC '${e}' ${c} failed with status:`,E,"response text:",g.getResponseText()),E>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const V=N?.error;if(V&&V.status&&V.message){const L=(function(B){const z=B.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(z)>=0?z:oe.UNKNOWN})(V.status);m(new ve(L,V.message))}else m(new ve(oe.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ve(oe.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{me(Tn,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(a);me(Tn,`RPC '${e}' ${c} sending request:`,a),g.send(n,"POST",y,i,15)}))}T_(e,n,i){const a=cy(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=rA(),f=iA(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,i),m.encodeInitMessageHeaders=!0;const y=l.join("");me(Tn,`Creating RPC '${e}' stream ${a}: ${y}`,m);const T=c.createWebChannel(y,m);this.I_(T);let E=!1,N=!1;const V=new C6({Yo:R=>{N?me(Tn,`Not sending because RPC '${e}' stream ${a} is closed:`,R):(E||(me(Tn,`Opening RPC '${e}' stream ${a} transport.`),T.open(),E=!0),me(Tn,`RPC '${e}' stream ${a} sending:`,R),T.send(R))},Zo:()=>T.close()}),L=(R,B,z)=>{R.listen(B,(F=>{try{z(F)}catch(te){setTimeout((()=>{throw te}),0)}}))};return L(T,$u.EventType.OPEN,(()=>{N||(me(Tn,`RPC '${e}' stream ${a} transport opened.`),V.o_())})),L(T,$u.EventType.CLOSE,(()=>{N||(N=!0,me(Tn,`RPC '${e}' stream ${a} transport closed`),V.a_(),this.E_(T))})),L(T,$u.EventType.ERROR,(R=>{N||(N=!0,xl(Tn,`RPC '${e}' stream ${a} transport errored. Name:`,R.name,"Message:",R.message),V.a_(new ve(oe.UNAVAILABLE,"The operation could not be completed")))})),L(T,$u.EventType.MESSAGE,(R=>{if(!N){const B=R.data[0];st(!!B,16349);const z=B,F=z?.error||z[0]?.error;if(F){me(Tn,`RPC '${e}' stream ${a} received error:`,F);const te=F.status;let H=(function(S){const M=Kt[S];if(M!==void 0)return LA(M)})(te),K=F.message;H===void 0&&(H=oe.INTERNAL,K="Unknown error status: "+te+" with message "+F.message),N=!0,V.a_(new ve(H,K)),T.close()}else me(Tn,`RPC '${e}' stream ${a} received:`,B),V.u_(B)}})),L(f,sA.STAT_EVENT,(R=>{R.stat===Zg.PROXY?me(Tn,`RPC '${e}' stream ${a} detected buffering proxy`):R.stat===Zg.NOPROXY&&me(Tn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function hg(){return typeof document<"u"?document:null}function Md(t){return new I3(t,!0)}class ZA{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const YE="PersistentStream";class JA{constructor(e,n,i,a,l,c,f,m){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ZA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(tr(n.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new ve(oe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(YE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(me(YE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class N6 extends JA{constructor(e,n,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=V3(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Oe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Oe.min():c.readTime?yi(c.readTime):Oe.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=ly(this.serializer),n.addTarget=(function(l,c){let f;const m=c.target;if(f=sy(m)?{documents:L3(l,m)}:{query:U3(l,m).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=zA(l,c.resumeToken);const g=ry(l,c.expectedCount);g!==null&&(f.expectedCount=g)}else if(c.snapshotVersion.compareTo(Oe.min())>0){f.readTime=id(l,c.snapshotVersion.toTimestamp());const g=ry(l,c.expectedCount);g!==null&&(f.expectedCount=g)}return f})(this.serializer,e);const i=z3(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=ly(this.serializer),n.removeTarget=e,this.q_(n)}}class M6 extends JA{constructor(e,n,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=j3(e.writeResults,e.commitTime),i=yi(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=ly(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>P3(this.serializer,i)))};this.q_(n)}}class R6{}class I6 extends R6{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,ay(n,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(oe.UNKNOWN,l.toString())}))}Ho(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,ay(n,i),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(oe.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class O6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(tr(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ro="RemoteStore";class k6{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{ho(this)&&(me(ro,"Restarting streams for network reachability change."),await(async function(m){const g=Pe(m);g.Ea.add(4),await Fc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Rd(g)})(this))}))})),this.Ra=new O6(i,a)}}async function Rd(t){if(ho(t))for(const e of t.da)await e(!0)}async function Fc(t){for(const e of t.da)await e(!1)}function eC(t,e){const n=Pe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),I0(n)?R0(n):Bl(n).O_()&&M0(n,e))}function N0(t,e){const n=Pe(t),i=Bl(n);n.Ia.delete(e),i.O_()&&tC(n,e),n.Ia.size===0&&(i.O_()?i.L_():ho(n)&&n.Ra.set("Unknown"))}function M0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bl(t).Y_(e)}function tC(t,e){t.Va.Ue(e),Bl(t).Z_(e)}function R0(t){t.Va=new D3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Bl(t).start(),t.Ra.ua()}function I0(t){return ho(t)&&!Bl(t).x_()&&t.Ia.size>0}function ho(t){return Pe(t).Ea.size===0}function nC(t){t.Va=void 0}async function V6(t){t.Ra.set("Online")}async function P6(t){t.Ia.forEach(((e,n)=>{M0(t,e)}))}async function j6(t,e){nC(t),I0(t)?(t.Ra.ha(e),R0(t)):t.Ra.set("Unknown")}async function L6(t,e,n){if(t.Ra.set("Online"),e instanceof BA&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))})(t,e)}catch(i){me(ro,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ad(t,i)}else if(e instanceof jf?t.Va.Ze(e):e instanceof UA?t.Va.st(e):t.Va.tt(e),!n.isEqual(Oe.min()))try{const i=await XA(t.localStore);n.compareTo(i)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(g);y&&l.Ia.set(g,y.withResumeToken(m.resumeToken,c))}})),f.targetMismatches.forEach(((m,g)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(vn.EMPTY_BYTE_STRING,y.snapshotVersion)),tC(l,m);const T=new $r(y.target,m,g,y.sequenceNumber);M0(l,T)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(i){me(ro,"Failed to raise snapshot:",i),await ad(t,i)}}async function ad(t,e,n){if(!Ul(e))throw e;t.Ea.add(1),await Fc(t),t.Ra.set("Offline"),n||(n=()=>XA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{me(ro,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Rd(t)}))}function sC(t,e){return e().catch((n=>ad(t,n,e)))}async function Id(t){const e=Pe(t),n=aa(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:p0;for(;U6(e);)try{const a=await T6(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,B6(e,a)}catch(a){await ad(e,a)}iC(e)&&rC(e)}function U6(t){return ho(t)&&t.Ta.length<10}function B6(t,e){t.Ta.push(e);const n=aa(t);n.O_()&&n.X_&&n.ea(e.mutations)}function iC(t){return ho(t)&&!aa(t).x_()&&t.Ta.length>0}function rC(t){aa(t).start()}async function z6(t){aa(t).ra()}async function F6(t){const e=aa(t);for(const n of t.Ta)e.ea(n.mutations)}async function H6(t,e,n){const i=t.Ta.shift(),a=E0.from(i,e,n);await sC(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Id(t)}async function q6(t,e){e&&aa(t).X_&&await(async function(i,a){if((function(c){return x3(c)&&c!==oe.ABORTED})(a.code)){const l=i.Ta.shift();aa(i).B_(),await sC(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Id(i)}})(t,e),iC(t)&&rC(t)}async function WE(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),me(ro,"RemoteStore received new credentials");const i=ho(n);n.Ea.add(3),await Fc(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Rd(n)}async function G6(t,e){const n=Pe(t);e?(n.Ea.delete(2),await Rd(n)):e||(n.Ea.add(2),await Fc(n),n.Ra.set("Unknown"))}function Bl(t){return t.ma||(t.ma=(function(n,i,a){const l=Pe(n);return l.sa(),new N6(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:V6.bind(null,t),t_:P6.bind(null,t),r_:j6.bind(null,t),H_:L6.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),I0(t)?R0(t):t.Ra.set("Unknown")):(await t.ma.stop(),nC(t))}))),t.ma}function aa(t){return t.fa||(t.fa=(function(n,i,a){const l=Pe(n);return l.sa(),new M6(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:z6.bind(null,t),r_:q6.bind(null,t),ta:F6.bind(null,t),na:H6.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Id(t)):(await t.fa.stop(),t.Ta.length>0&&(me(ro,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class O0{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Ja,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const c=Date.now()+i,f=new O0(e,n,c,a,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function k0(t,e){if(tr("AsyncQueue",`${e}: ${t}`),Ul(t))return new ve(oe.UNAVAILABLE,`${e}: ${t}`);throw t}class yl{static emptySet(e){return new yl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ee.comparator(n.key,i.key):(n,i)=>Ee.comparator(n.key,i.key),this.keyedMap=Qu(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new yl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class KE{constructor(){this.ga=new Ct(Ee.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Ml{constructor(e,n,i,a,l,c,f,m,g){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,i,a,l){const c=[];return n.forEach((f=>{c.push({type:0,doc:f})})),new Ml(e,n,yl.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}class Y6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class W6{constructor(){this.queries=$E(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Pe(n),l=a.queries;a.queries=$E(),l.forEach(((c,f)=>{for(const m of f.Sa)m.onError(i)}))})(this,new ve(oe.ABORTED,"Firestore shutting down"))}}function $E(){return new uo((t=>xA(t)),xd)}async function K6(t,e){const n=Pe(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new Y6,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=k0(c,`Initialization of query '${al(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&V0(n)}async function $6(t,e){const n=Pe(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function Q6(t,e){const n=Pe(t);let i=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.Sa)f.Fa(a)&&(i=!0);c.wa=a}}i&&V0(n)}function X6(t,e,n){const i=Pe(t),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);i.queries.delete(e)}function V0(t){t.Ca.forEach((e=>{e.next()}))}var hy,QE;(QE=hy||(hy={})).Ma="default",QE.Cache="cache";class Z6{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Ml(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hy.Cache}}class aC{constructor(e){this.key=e}}class oC{constructor(e){this.key=e}}class J6{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qe(),this.mutatedKeys=Qe(),this.eu=AA(e),this.tu=new yl(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new KE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,T)=>{const E=a.get(y),N=Ad(this.query,T)?T:null,V=!!E&&this.mutatedKeys.has(E.key),L=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let R=!1;E&&N?E.data.isEqual(N.data)?V!==L&&(i.track({type:3,doc:N}),R=!0):this.su(E,N)||(i.track({type:2,doc:N}),R=!0,(m&&this.eu(N,m)>0||g&&this.eu(N,g)<0)&&(f=!0)):!E&&N?(i.track({type:0,doc:N}),R=!0):E&&!N&&(i.track({type:1,doc:E}),R=!0,(m||g)&&(f=!0)),R&&(N?(c=c.add(N),l=L?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{tu:c,iu:i,Cs:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((y,T)=>(function(N,V){const L=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:R})}};return L(N)-L(V)})(y.type,T.type)||this.eu(y.doc,T.doc))),this.ou(i),a=a??!1;const f=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,g=m!==this.Za;return this.Za=m,c.length!==0||g?{snapshot:new Ml(this.query,e.tu,l,c,e.mutatedKeys,m===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new KE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Qe(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new oC(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new aC(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ml.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const P0="SyncEngine";class e5{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class t5{constructor(e){this.key=e,this.hu=!1}}class n5{constructor(e,n,i,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new uo((f=>xA(f)),xd),this.Iu=new Map,this.Eu=new Set,this.du=new Ct(Ee.comparator),this.Au=new Map,this.Ru=new x0,this.Vu={},this.mu=new Map,this.fu=Nl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function s5(t,e,n=!0){const i=dC(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await lC(i,e,n,!0),a}async function i5(t,e){const n=dC(t);await lC(n,e,!0,!1)}async function lC(t,e,n,i){const a=await b6(t.localStore,gi(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let f;return i&&(f=await r5(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&eC(t.remoteStore,a),f}async function r5(t,e,n,i,a){t.pu=(T,E,N)=>(async function(L,R,B,z){let F=R.view.ru(B);F.Cs&&(F=await FE(L.localStore,R.query,!1).then((({documents:C})=>R.view.ru(C,F))));const te=z&&z.targetChanges.get(R.targetId),H=z&&z.targetMismatches.get(R.targetId)!=null,K=R.view.applyChanges(F,L.isPrimaryClient,te,H);return ZE(L,R.targetId,K.au),K.snapshot})(t,T,E,N);const l=await FE(t.localStore,e,!0),c=new J6(e,l.Qs),f=c.ru(l.documents),m=zc.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),g=c.applyChanges(f,t.isPrimaryClient,m);ZE(t,n,g.au);const y=new e5(e,n,c);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function a5(t,e,n){const i=Pe(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!xd(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await uy(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&N0(i.remoteStore,a.targetId),fy(i,a.targetId)})).catch(Ll)):(fy(i,a.targetId),await uy(i.localStore,a.targetId,!0))}async function o5(t,e){const n=Pe(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),N0(n.remoteStore,i.targetId))}async function l5(t,e,n){const i=p5(t);try{const a=await(function(c,f){const m=Pe(c),g=_t.now(),y=f.reduce(((N,V)=>N.add(V.key)),Qe());let T,E;return m.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let V=nr(),L=Qe();return m.Ns.getEntries(N,y).next((R=>{V=R,V.forEach(((B,z)=>{z.isValidDocument()||(L=L.add(B))}))})).next((()=>m.localDocuments.getOverlayedDocuments(N,V))).next((R=>{T=R;const B=[];for(const z of f){const F=T3(z,T.get(z.key).overlayedDocument);F!=null&&B.push(new co(z.key,F,vA(F.value.mapValue),Xi.exists(!0)))}return m.mutationQueue.addMutationBatch(N,g,B,f)})).next((R=>{E=R;const B=R.applyToLocalDocumentSet(T,L);return m.documentOverlayCache.saveOverlays(N,R.batchId,B)}))})).then((()=>({batchId:E.batchId,changes:DA(T)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,f,m){let g=c.Vu[c.currentUser.toKey()];g||(g=new Ct($e)),g=g.insert(f,m),c.Vu[c.currentUser.toKey()]=g})(i,a.batchId,n),await Hc(i,a.changes),await Id(i.remoteStore)}catch(a){const l=k0(a,"Failed to persist write");n.reject(l)}}async function uC(t,e){const n=Pe(t);try{const i=await v6(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(st(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?st(c.hu,14607):a.removedDocuments.size>0&&(st(c.hu,42227),c.hu=!1))})),await Hc(n,i,e)}catch(i){await Ll(i)}}function XE(t,e,n){const i=Pe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const m=Pe(c);m.onlineState=f;let g=!1;m.queries.forEach(((y,T)=>{for(const E of T.Sa)E.va(f)&&(g=!0)})),g&&V0(m)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function u5(t,e,n){const i=Pe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new Ct(Ee.comparator);c=c.insert(l,wn.newNoDocument(l,Oe.min()));const f=Qe().add(l),m=new Nd(Oe.min(),new Map,new Ct($e),c,f);await uC(i,m),i.du=i.du.remove(l),i.Au.delete(e),j0(i)}else await uy(i.localStore,e,!1).then((()=>fy(i,e,n))).catch(Ll)}async function c5(t,e){const n=Pe(t),i=e.batch.batchId;try{const a=await y6(n.localStore,e);hC(n,i,null),cC(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Hc(n,a)}catch(a){await Ll(a)}}async function h5(t,e,n){const i=Pe(t);try{const a=await(function(c,f){const m=Pe(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return m.mutationQueue.lookupMutationBatch(g,f).next((T=>(st(T!==null,37113),y=T.keys(),m.mutationQueue.removeMutationBatch(g,T)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,y,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>m.localDocuments.getDocuments(g,y)))}))})(i.localStore,e);hC(i,e,n),cC(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Hc(i,a)}catch(a){await Ll(a)}}function cC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function hC(t,e,n){const i=Pe(t);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function fy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||fC(t,i)}))}function fC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(N0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),j0(t))}function ZE(t,e,n){for(const i of n)i instanceof aC?(t.Ru.addReference(i.key,e),f5(t,i)):i instanceof oC?(me(P0,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||fC(t,i.key)):Ce(19791,{wu:i})}function f5(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(me(P0,"New document in limbo: "+n),t.Eu.add(i),j0(t))}function j0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ee(xt.fromString(e)),i=t.fu.next();t.Au.set(i,new t5(n)),t.du=t.du.insert(n,i),eC(t.remoteStore,new $r(gi(T0(n.path)),i,"TargetPurposeLimboResolution",bd.ce))}}async function Hc(t,e,n){const i=Pe(t),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,m)=>{c.push(i.pu(m,e,n).then((g=>{if((g||n)&&i.isPrimaryClient){const y=g?!g.fromCache:n?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(g){a.push(g);const y=C0.As(m.targetId,g);l.push(y)}})))})),await Promise.all(c),i.Pu.H_(a),await(async function(m,g){const y=Pe(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>re.forEach(g,(E=>re.forEach(E.Es,(N=>y.persistence.referenceDelegate.addReference(T,E.targetId,N))).next((()=>re.forEach(E.ds,(N=>y.persistence.referenceDelegate.removeReference(T,E.targetId,N)))))))))}catch(T){if(!Ul(T))throw T;me(D0,"Failed to update sequence numbers: "+T)}for(const T of g){const E=T.targetId;if(!T.fromCache){const N=y.Ms.get(E),V=N.snapshotVersion,L=N.withLastLimboFreeSnapshotVersion(V);y.Ms=y.Ms.insert(E,L)}}})(i.localStore,l))}async function d5(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){me(P0,"User change. New user:",e.toKey());const i=await QA(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new ve(oe.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Hc(n,i.Ls)}}function m5(t,e){const n=Pe(t),i=n.Au.get(e);if(i&&i.hu)return Qe().add(i.key);{let a=Qe();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const f=n.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function dC(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=m5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=u5.bind(null,e),e.Pu.H_=Q6.bind(null,e.eventManager),e.Pu.yu=X6.bind(null,e.eventManager),e}function p5(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=c5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=h5.bind(null,e),e}class od{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Md(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return g6(this.persistence,new d6,e.initialUser,this.serializer)}Cu(e){return new $A(A0.mi,this.serializer)}Du(e){return new w6}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}od.provider={build:()=>new od};class g5 extends od{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){st(this.persistence.referenceDelegate instanceof rd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Z3(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new $A((i=>rd.mi(i,n)),this.serializer)}}class dy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>XE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=d5.bind(null,this.syncEngine),await G6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new W6})()}createDatastore(e){const n=Md(e.databaseInfo.databaseId),i=(function(l){return new D6(l)})(e.databaseInfo);return(function(l,c,f,m){return new I6(l,c,f,m)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,c,f){return new k6(i,a,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>XE(this.syncEngine,n,0)),(function(){return GE.v()?new GE:new S6})())}createSyncEngine(e,n){return(function(a,l,c,f,m,g,y){const T=new n5(a,l,c,f,m,g);return y&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Pe(n);me(ro,"RemoteStore shutting down."),i.Ea.add(5),await Fc(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dy.provider={build:()=>new dy};class y5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):tr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const oa="FirestoreClient";class v5{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=bn.UNAUTHENTICATED,this.clientId=d0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{me(oa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(me(oa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ja;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=k0(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function fg(t,e){t.asyncQueue.verifyOperationInProgress(),me(oa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await QA(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function JE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _5(t);me(oa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>WE(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>WE(e.remoteStore,a))),t._onlineComponents=e}async function _5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(oa,"Using user provided OfflineComponentProvider");try{await fg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===oe.FAILED_PRECONDITION||a.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;xl("Error using user provided cache. Falling back to memory cache: "+n),await fg(t,new od)}}else me(oa,"Using default OfflineComponentProvider"),await fg(t,new g5(void 0));return t._offlineComponents}async function mC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(oa,"Using user provided OnlineComponentProvider"),await JE(t,t._uninitializedComponentsProvider._online)):(me(oa,"Using default OnlineComponentProvider"),await JE(t,new dy))),t._onlineComponents}function T5(t){return mC(t).then((e=>e.syncEngine))}async function ew(t){const e=await mC(t),n=e.eventManager;return n.onListen=s5.bind(null,e.syncEngine),n.onUnlisten=a5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=i5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=o5.bind(null,e.syncEngine),n}function pC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const tw=new Map;const gC="firestore.googleapis.com",nw=!0;class sw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gC,this.ssl=nw}else this.host=e.host,this.ssl=e.ssl??nw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=KA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Q3)throw new ve(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Oj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pC(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class L0{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new Ej;switch(i.type){case"firstParty":return new Aj(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=tw.get(n);i&&(me("ComponentProvider","Removing Datastore"),tw.delete(n),i.terminate())})(this),Promise.resolve()}}function b5(t,e,n,i={}){t=gl(t,L0);const a=Vl(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(Yx(`https://${f}`),Wx("Firestore",!0)),l.host!==gC&&l.host!==f&&xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:i};if(!no(m,c)&&(t._setSettings(m),i.mockUserToken)){let g,y;if(typeof i.mockUserToken=="string")g=i.mockUserToken,y=bn.MOCK_USER;else{g=$4(i.mockUserToken,t._app?.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new ve(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new bn(T)}t._authCredentials=new wj(new oA(g,y))}}class Od{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Od(this.firestore,e,this._query)}}class ln{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}toJSON(){return{type:ln._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Uc(n,ln._jsonSchema))return new ln(e,i||null,new Ee(xt.fromString(n.referencePath)))}}ln._jsonSchemaVersion="firestore/documentReference/1.0",ln._jsonSchema={type:Qt("string",ln._jsonSchemaVersion),referencePath:Qt("string")};class Nc extends Od{constructor(e,n,i){super(e,n,T0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new Ee(e))}withConverter(e){return new Nc(this.firestore,e,this._path)}}function my(t,e,...n){if(t=ts(t),arguments.length===1&&(e=d0.newId()),Ij("doc","path",e),t instanceof L0){const i=xt.fromString(e,...n);return gE(i),new ln(t,null,new Ee(i))}{if(!(t instanceof ln||t instanceof Nc))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(xt.fromString(e,...n));return gE(i),new ln(t.firestore,t instanceof Nc?t.converter:null,new Ee(i))}}const iw="AsyncQueue";class rw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ZA(this,"async_queue_retry"),this._c=()=>{const i=hg();i&&me(iw,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=hg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=hg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ja;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ul(e))throw e;me(iw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,tr("INTERNAL UNHANDLED ERROR: ",aw(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=O0.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ce(47125,{Pc:aw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function aw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function ow(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class ld extends L0{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new rw,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rw(e),this._firestoreClient=void 0,await e}}}function E5(t,e){const n=typeof t=="object"?t:Xx(),i=typeof t=="string"?t:Zf,a=h0(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=W4("firestore");l&&b5(a,...l)}return a}function yC(t){if(t._terminated)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||w5(t),t._firestoreClient}function w5(t){const e=t._freezeSettings(),n=(function(a,l,c,f){return new qj(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,pC(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new v5(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class Ts{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ts(vn.fromBase64String(e))}catch(n){throw new ve(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ts(vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ts._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Uc(e,Ts._jsonSchema))return Ts.fromBase64String(e.bytes)}}Ts._jsonSchemaVersion="firestore/bytes/1.0",Ts._jsonSchema={type:Qt("string",Ts._jsonSchemaVersion),bytes:Qt("string")};class U0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vC{constructor(e){this._methodName=e}}class vi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vi._jsonSchemaVersion}}static fromJSON(e){if(Uc(e,vi._jsonSchema))return new vi(e.latitude,e.longitude)}}vi._jsonSchemaVersion="firestore/geoPoint/1.0",vi._jsonSchema={type:Qt("string",vi._jsonSchemaVersion),latitude:Qt("number"),longitude:Qt("number")};class _i{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:_i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Uc(e,_i._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new _i(e.vectorValues);throw new ve(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_i._jsonSchemaVersion="firestore/vectorValue/1.0",_i._jsonSchema={type:Qt("string",_i._jsonSchemaVersion),vectorValues:Qt("object")};const S5=/^__.*__$/;class x5{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new co(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bc(e,this.data,n,this.fieldTransforms)}}function _C(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:t})}}class B0{constructor(e,n,i,a,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new B0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ud(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(_C(this.Ac)&&S5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class A5{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Md(e)}Cc(e,n,i,a=!1){return new B0({Ac:e,methodName:n,Dc:i,path:yn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function C5(t){const e=t._freezeSettings(),n=Md(t._databaseId);return new A5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function D5(t,e,n,i,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);wC("Data must be an object, but it was:",c,i);const f=bC(i,c);let m,g;if(l.merge)m=new Bs(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const T of l.mergeFields){const E=N5(e,T,n);if(!c.contains(E))throw new ve(oe.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);R5(y,E)||y.push(E)}m=new Bs(y),g=c.fieldTransforms.filter((T=>m.covers(T.field)))}else m=null,g=c.fieldTransforms;return new x5(new _s(f),m,g)}function TC(t,e){if(EC(t=ts(t)))return wC("Unsupported field value:",e,t),bC(t,e);if(t instanceof vC)return(function(i,a){if(!_C(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const f of i){let m=TC(f,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=ts(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return m3(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=_t.fromDate(i);return{timestampValue:id(a.serializer,l)}}if(i instanceof _t){const l=new _t(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:id(a.serializer,l)}}if(i instanceof vi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ts)return{bytesValue:zA(a.serializer,i._byteString)};if(i instanceof ln){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:S0(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof _i)return(function(c,f){return{mapValue:{fields:{[gA]:{stringValue:yA},[Jf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw f.Sc("VectorValues must only contain numeric values.");return b0(f.serializer,g)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${m0(i)}`)})(t,e)}function bC(t,e){const n={};return cA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lo(t,((i,a)=>{const l=TC(a,e.mc(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function EC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof vi||t instanceof Ts||t instanceof ln||t instanceof vC||t instanceof _i)}function wC(t,e,n){if(!EC(n)||!lA(n)){const i=m0(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function N5(t,e,n){if((e=ts(e))instanceof U0)return e._internalPath;if(typeof e=="string")return SC(t,e);throw ud("Field path arguments must be of type string or ",t,!1,void 0,n)}const M5=new RegExp("[~\\*/\\[\\]]");function SC(t,e,n){if(e.search(M5)>=0)throw ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new U0(...e.split("."))._internalPath}catch{throw ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ud(t,e,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new ve(oe.INVALID_ARGUMENT,f+t+m)}function R5(t,e){return t.some((n=>n.isEqual(e)))}class xC{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new I5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(AC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class I5 extends xC{data(){return super.data()}}function AC(t,e){return typeof e=="string"?SC(t,e):e instanceof U0?e._internalPath:e._delegate._internalPath}function O5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class k5{convertValue(e,n="none"){switch(ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return lo(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){const n=e.fields?.[Jf].arrayValue?.values?.map((i=>Lt(i.doubleValue)));return new _i(n)}convertGeoPoint(e){return new vi(Lt(e.latitude),Lt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=wd(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Sc(e));default:return null}}convertTimestamp(e){const n=sa(e);return new _t(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=xt.fromString(e);st(WA(i),9688,{name:e});const a=new xc(i.get(1),i.get(3)),l=new Ee(i.popFirst(5));return a.isEqual(n)||tr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function V5(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class Zu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eo extends xC{constructor(e,n,i,a,l,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(AC("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=eo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}eo._jsonSchemaVersion="firestore/documentSnapshot/1.0",eo._jsonSchema={type:Qt("string",eo._jsonSchemaVersion),bundleSource:Qt("string","DocumentSnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class Lf extends eo{data(e={}){return super.data(e)}}class vl{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Zu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Lf(this._firestore,this._userDataWriter,i.key,i,new Zu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const m=new Lf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Zu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new Lf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Zu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,y=-1;return f.type!==0&&(g=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:P5(f.type),doc:m,oldIndex:g,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=d0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function P5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:t})}}vl._jsonSchemaVersion="firestore/querySnapshot/1.0",vl._jsonSchema={type:Qt("string",vl._jsonSchemaVersion),bundleSource:Qt("string","QuerySnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class CC extends k5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ts(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,n)}}function DC(t,e,n){t=gl(t,ln);const i=gl(t.firestore,ld),a=V5(t.converter,e);return L5(i,[D5(C5(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Xi.none())])}function j5(t,...e){t=ts(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||ow(e[i])||(n=e[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(ow(e[i])){const m=e[i];e[i]=m.next?.bind(m),e[i+1]=m.error?.bind(m),e[i+2]=m.complete?.bind(m)}let l,c,f;if(t instanceof ln)c=gl(t.firestore,ld),f=T0(t._key.path),l={next:m=>{e[i]&&e[i](U5(c,t,m))},error:e[i+1],complete:e[i+2]};else{const m=gl(t,Od);c=gl(m.firestore,ld),f=m._query;const g=new CC(c);l={next:y=>{e[i]&&e[i](new vl(c,g,m,y))},error:e[i+1],complete:e[i+2]},O5(t._query)}return(function(g,y,T,E){const N=new y5(E),V=new Z6(y,N,T);return g.asyncQueue.enqueueAndForget((async()=>K6(await ew(g),V))),()=>{N.Nu(),g.asyncQueue.enqueueAndForget((async()=>$6(await ew(g),V)))}})(yC(c),f,a,l)}function L5(t,e){return(function(i,a){const l=new Ja;return i.asyncQueue.enqueueAndForget((async()=>l5(await T5(i),a,l))),l.promise})(yC(t),e)}function U5(t,e,n){const i=n.docs.get(e._key),a=new CC(t);return new eo(t,a,e._key,i,new Zu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){jl=a})(Pl),Sl(new so("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new ld(new Sj(i.getProvider("auth-internal")),new Cj(c,i.getProvider("app-check-internal")),(function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ve(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xc(g.options.projectId,y)})(c,a),c);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Zr(fE,dE,e),Zr(fE,dE,"esm2020")})();function NC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const B5=NC,MC=new jc("auth","Firebase",NC());const cd=new u0("@firebase/auth");function z5(t,...e){cd.logLevel<=Ke.WARN&&cd.warn(`Auth (${Pl}): ${t}`,...e)}function Uf(t,...e){cd.logLevel<=Ke.ERROR&&cd.error(`Auth (${Pl}): ${t}`,...e)}function wi(t,...e){throw F0(t,...e)}function Hs(t,...e){return F0(t,...e)}function z0(t,e,n){const i={...B5(),[e]:n};return new jc("auth","Firebase",i).create(e,{appName:t.name})}function to(t){return z0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function F5(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&wi(t,"argument-error"),z0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function F0(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return MC.create(t,...e)}function Me(t,e,...n){if(!t)throw F0(e,...n)}function Yi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Uf(e),new Error(e)}function sr(t,e){t||Yi(e)}function py(){return typeof self<"u"&&self.location?.href||""}function H5(){return lw()==="http:"||lw()==="https:"}function lw(){return typeof self<"u"&&self.location?.protocol||null}function q5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(H5()||tP()||"connection"in navigator)?navigator.onLine:!0}function G5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class qc{constructor(e,n){this.shortDelay=e,this.longDelay=n,sr(n>e,"Short delay should be less than long delay!"),this.isMobile=Z4()||nP()}get(){return q5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function H0(t,e){sr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class RC{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Y5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const W5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],K5=new qc(3e4,6e4);function q0(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function zl(t,e,n,i,a={}){return IC(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const f=Lc({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:m,...l};return eP()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&Vl(t.emulatorConfig.host)&&(g.credentials="include"),RC.fetch()(await OC(t,t.config.apiHost,n,f),g)})}async function IC(t,e,n){t._canInitEmulator=!1;const i={...Y5,...e};try{const a=new Q5(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Cf(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,g]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cf(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Cf(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw Cf(t,"user-disabled",c);const y=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw z0(t,y,g);wi(t,y)}}catch(a){if(a instanceof ir)throw a;wi(t,"network-request-failed",{message:String(a)})}}async function $5(t,e,n,i,a={}){const l=await zl(t,e,n,i,a);return"mfaPendingCredential"in l&&wi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function OC(t,e,n,i){const a=`${e}${n}?${i}`,l=t,c=l.config.emulator?H0(t.config,a):`${t.config.apiScheme}://${a}`;return W5.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class Q5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Hs(this.auth,"network-request-failed")),K5.get())})}}function Cf(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Hs(t,e,i);return a.customData._tokenResponse=n,a}async function X5(t,e){return zl(t,"POST","/v1/accounts:delete",e)}async function hd(t,e){return zl(t,"POST","/v1/accounts:lookup",e)}function uc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Z5(t,e=!1){const n=ts(t),i=await n.getIdToken(e),a=G0(i);Me(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:uc(dg(a.auth_time)),issuedAtTime:uc(dg(a.iat)),expirationTime:uc(dg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function dg(t){return Number(t)*1e3}function G0(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Uf("JWT malformed, contained fewer than 3 sections"),null;try{const a=Fx(n);return a?JSON.parse(a):(Uf("Failed to decode base64 JWT payload"),null)}catch(a){return Uf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function uw(t){const e=G0(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Mc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof ir&&J5(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function J5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class eL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class gy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=uc(this.lastLoginAt),this.creationTime=uc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function fd(t){const e=t.auth,n=await t.getIdToken(),i=await Mc(t,hd(e,{idToken:n}));Me(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?kC(a.providerUserInfo):[],c=nL(t.providerData,l),f=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!c?.length,g=f?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new gy(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function tL(t){const e=ts(t);await fd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nL(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function kC(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function sL(t,e){const n=await IC(t,{},async()=>{const i=Lc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await OC(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:i};return t.emulatorConfig&&Vl(t.emulatorConfig.host)&&(m.credentials="include"),RC.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iL(t,e){return zl(t,"POST","/v2/accounts:revokeToken",q0(t,e))}class _l{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=uw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await sL(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new _l;return i&&(Me(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Me(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Me(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _l,this.toJSON())}_performRefresh(){return Yi("not implemented")}}function Fr(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zs{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new eL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new gy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Mc(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Z5(this,e)}reload(){return tL(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await fd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Us(this.auth.app))return Promise.reject(to(this.auth));const e=await this.getIdToken();return await Mc(this,X5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:T,emailVerified:E,isAnonymous:N,providerData:V,stsTokenManager:L}=n;Me(T&&L,e,"internal-error");const R=_l.fromJSON(this.name,L);Me(typeof T=="string",e,"internal-error"),Fr(i,e.name),Fr(a,e.name),Me(typeof E=="boolean",e,"internal-error"),Me(typeof N=="boolean",e,"internal-error"),Fr(l,e.name),Fr(c,e.name),Fr(f,e.name),Fr(m,e.name),Fr(g,e.name),Fr(y,e.name);const B=new zs({uid:T,auth:e,email:a,emailVerified:E,displayName:i,isAnonymous:N,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:R,createdAt:g,lastLoginAt:y});return V&&Array.isArray(V)&&(B.providerData=V.map(z=>({...z}))),m&&(B._redirectEventId=m),B}static async _fromIdTokenResponse(e,n,i=!1){const a=new _l;a.updateFromServerResponse(n);const l=new zs({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await fd(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Me(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?kC(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,f=new _l;f.updateFromIdToken(i);const m=new zs({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new gy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}const cw=new Map;function Wi(t){sr(t instanceof Function,"Expected a class definition");let e=cw.get(t);return e?(sr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cw.set(t,e),e)}class VC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}VC.type="NONE";const hw=VC;function Bf(t,e,n){return`firebase:${t}:${e}:${n}`}class Tl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Bf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Bf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await hd(this.auth,{idToken:e}).catch(()=>{});return n?zs._fromGetAccountInfoResponse(this.auth,n,e):null}return zs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Tl(Wi(hw),e,i);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Wi(hw);const c=Bf(i,e.config.apiKey,e.name);let f=null;for(const g of n)try{const y=await g._get(c);if(y){let T;if(typeof y=="string"){const E=await hd(e,{idToken:y}).catch(()=>{});if(!E)break;T=await zs._fromGetAccountInfoResponse(e,E,y)}else T=zs._fromJSON(e,y);g!==l&&(f=T),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Tl(l,e,i):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Tl(l,e,i))}}function fw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zC(e))return"Blackberry";if(FC(e))return"Webos";if(jC(e))return"Safari";if((e.includes("chrome/")||LC(e))&&!e.includes("edge/"))return"Chrome";if(BC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function PC(t=xn()){return/firefox\//i.test(t)}function jC(t=xn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LC(t=xn()){return/crios\//i.test(t)}function UC(t=xn()){return/iemobile/i.test(t)}function BC(t=xn()){return/android/i.test(t)}function zC(t=xn()){return/blackberry/i.test(t)}function FC(t=xn()){return/webos/i.test(t)}function Y0(t=xn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rL(t=xn()){return Y0(t)&&!!window.navigator?.standalone}function aL(){return sP()&&document.documentMode===10}function HC(t=xn()){return Y0(t)||BC(t)||FC(t)||zC(t)||/windows phone/i.test(t)||UC(t)}function qC(t,e=[]){let n;switch(t){case"Browser":n=fw(xn());break;case"Worker":n=`${fw(xn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Pl}/${i}`}class oL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function lL(t,e={}){return zl(t,"GET","/v2/passwordPolicy",q0(t,e))}const uL=6;class cL{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??uL,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class hL{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dw(this),this.idTokenSubscription=new dw(this),this.beforeStateQueue=new oL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Tl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hd(this,{idToken:e}),i=await zs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Us(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&f?.user&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=G5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Us(this.app))return Promise.reject(to(this));const n=e?ts(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Us(this.app)?Promise.reject(to(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Us(this.app)?Promise.reject(to(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lL(this),n=new cL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new jc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await iL(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wi(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await Tl.create(this,[Wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,i,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Us(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&z5(`Error while retrieving App Check token: ${e.error}`),e?.token}}function kd(t){return ts(t)}class dw{constructor(e){this.auth=e,this.observer=null,this.addObserver=hP(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let W0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fL(t){W0=t}function dL(t){return W0.loadJS(t)}function mL(){return W0.gapiScript}function pL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function gL(t,e){const n=h0(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(no(l,e??{}))return a;wi(a,"already-initialized")}return n.initialize({options:e})}function yL(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Wi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function vL(t,e,n){const i=kd(t);Me(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=GC(e),{host:c,port:f}=_L(e),m=f===null?"":`:${f}`,g={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Me(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Me(no(g,i.config.emulator)&&no(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,Vl(c)?(Yx(`${l}//${c}${m}`),Wx("Auth",!0)):TL()}function GC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _L(t){const e=GC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:mw(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:mw(c)}}}function mw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function TL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class YC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yi("not implemented")}_getIdTokenResponse(e){return Yi("not implemented")}_linkToIdToken(e,n){return Yi("not implemented")}_getReauthenticationResolver(e){return Yi("not implemented")}}async function bl(t,e){return $5(t,"POST","/v1/accounts:signInWithIdp",q0(t,e))}const bL="http://localhost";class ao extends YC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ao(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const c=new ao(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return bl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,bl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bl(e,n)}buildRequest(){const e={requestUri:bL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Lc(n)}return e}}class K0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Gc extends K0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Gr extends Gc{constructor(){super("facebook.com")}static credential(e){return ao._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gr.credential(e.oauthAccessToken)}catch{return null}}}Gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gr.PROVIDER_ID="facebook.com";class Gi extends Gc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ao._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Gi.credential(n,i)}catch{return null}}}Gi.GOOGLE_SIGN_IN_METHOD="google.com";Gi.PROVIDER_ID="google.com";class Yr extends Gc{constructor(){super("github.com")}static credential(e){return ao._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.GITHUB_SIGN_IN_METHOD="github.com";Yr.PROVIDER_ID="github.com";class Wr extends Gc{constructor(){super("twitter.com")}static credential(e,n){return ao._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Wr.credential(n,i)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";class Rl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await zs._fromIdTokenResponse(e,i,a),c=pw(i);return new Rl({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=pw(i);return new Rl({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function pw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class dd extends ir{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,dd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new dd(e,n,i,a)}}function WC(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?dd._fromErrorAndOperation(t,l,e,i):l})}async function EL(t,e,n=!1){const i=await Mc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Rl._forOperation(t,"link",i)}async function wL(t,e,n=!1){const{auth:i}=t;if(Us(i.app))return Promise.reject(to(i));const a="reauthenticate";try{const l=await Mc(t,WC(i,a,e,t),n);Me(l.idToken,i,"internal-error");const c=G0(l.idToken);Me(c,i,"internal-error");const{sub:f}=c;return Me(t.uid===f,i,"user-mismatch"),Rl._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&wi(i,"user-mismatch"),l}}async function SL(t,e,n=!1){if(Us(t.app))return Promise.reject(to(t));const i="signIn",a=await WC(t,i,e),l=await Rl._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}function xL(t,e,n,i){return ts(t).onIdTokenChanged(e,n,i)}function AL(t,e,n){return ts(t).beforeAuthStateChanged(e,n)}function CL(t,e,n,i){return ts(t).onAuthStateChanged(e,n,i)}function DL(t){return ts(t).signOut()}const md="__sak";class KC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(md,"1"),this.storage.removeItem(md),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const NL=1e3,ML=10;class $C extends KC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=HC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);aL()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,ML):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},NL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$C.type="LOCAL";const RL=$C;class QC extends KC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}QC.type="SESSION";const XC=QC;function IL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Vd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Vd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(c).map(async g=>g(n.origin,l)),m=await IL(f);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vd.receivers=[];function $0(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}class OL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const g=$0("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(T){const E=T;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(E.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Ti(){return window}function kL(t){Ti().location.href=t}function ZC(){return typeof Ti().WorkerGlobalScope<"u"&&typeof Ti().importScripts=="function"}async function VL(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PL(){return navigator?.serviceWorker?.controller||null}function jL(){return ZC()?self:null}const JC="firebaseLocalStorageDb",LL=1,pd="firebaseLocalStorage",eD="fbase_key";class Yc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Pd(t,e){return t.transaction([pd],e?"readwrite":"readonly").objectStore(pd)}function UL(){const t=indexedDB.deleteDatabase(JC);return new Yc(t).toPromise()}function yy(){const t=indexedDB.open(JC,LL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(pd,{keyPath:eD})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(pd)?e(i):(i.close(),await UL(),e(await yy()))})})}async function gw(t,e,n){const i=Pd(t,!0).put({[eD]:e,value:n});return new Yc(i).toPromise()}async function BL(t,e){const n=Pd(t,!1).get(e),i=await new Yc(n).toPromise();return i===void 0?null:i.value}function yw(t,e){const n=Pd(t,!0).delete(e);return new Yc(n).toPromise()}const zL=800,FL=3;class tD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>FL)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vd._getInstance(jL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await VL(),!this.activeServiceWorker)return;this.sender=new OL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yy();return await gw(e,md,"1"),await yw(e,md),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>gw(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>BL(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>yw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Pd(a,!1).getAll();return new Yc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tD.type="LOCAL";const HL=tD;new qc(3e4,6e4);function nD(t,e){return e?Wi(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Q0 extends YC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qL(t){return SL(t.auth,new Q0(t),t.bypassAuthState)}function GL(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),wL(n,new Q0(t),t.bypassAuthState)}async function YL(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),EL(n,new Q0(t),t.bypassAuthState)}class sD{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qL;case"linkViaPopup":case"linkViaRedirect":return YL;case"reauthViaPopup":case"reauthViaRedirect":return GL;default:wi(this.auth,"internal-error")}}resolve(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const WL=new qc(2e3,1e4);async function KL(t,e,n){if(Us(t.app))return Promise.reject(Hs(t,"operation-not-supported-in-this-environment"));const i=kd(t);F5(t,e,K0);const a=nD(i,n);return new $a(i,"signInViaPopup",e,a).executeNotNull()}class $a extends sD{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,$a.currentPopupAction&&$a.currentPopupAction.cancel(),$a.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){sr(this.filter.length===1,"Popup operations only handle one event");const e=$0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Hs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$a.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WL.get())};e()}}$a.currentPopupAction=null;const $L="pendingRedirect",zf=new Map;class QL extends sD{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=zf.get(this.auth._key());if(!e){try{const i=await XL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}zf.set(this.auth._key(),e)}return this.bypassAuthState||zf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XL(t,e){const n=e9(e),i=JL(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function ZL(t,e){zf.set(t._key(),e)}function JL(t){return Wi(t._redirectPersistence)}function e9(t){return Bf($L,t.config.apiKey,t.name)}async function t9(t,e,n=!1){if(Us(t.app))return Promise.reject(to(t));const i=kd(t),a=nD(i,e),c=await new QL(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const n9=600*1e3;class s9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!iD(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Hs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=n9&&this.cachedEventUids.clear(),this.cachedEventUids.has(vw(e))}saveEventToCache(e){this.cachedEventUids.add(vw(e)),this.lastProcessedEventTime=Date.now()}}function vw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function iD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function i9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iD(t);default:return!1}}async function r9(t,e={}){return zl(t,"GET","/v1/projects",e)}const a9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o9=/^https?/;async function l9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await r9(t);for(const n of e)try{if(u9(n))return}catch{}wi(t,"unauthorized-domain")}function u9(t){const e=py(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!o9.test(n))return!1;if(a9.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const c9=new qc(3e4,6e4);function _w(){const t=Ti().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function h9(t){return new Promise((e,n)=>{function i(){_w(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_w(),n(Hs(t,"network-request-failed"))},timeout:c9.get()})}if(Ti().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ti().gapi?.load)i();else{const a=pL("iframefcb");return Ti()[a]=()=>{gapi.load?i():n(Hs(t,"network-request-failed"))},dL(`${mL()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ff=null,e})}let Ff=null;function f9(t){return Ff=Ff||h9(t),Ff}const d9=new qc(5e3,15e3),m9="__/auth/iframe",p9="emulator/auth/iframe",g9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function v9(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?H0(e,p9):`https://${t.config.authDomain}/${m9}`,i={apiKey:e.apiKey,appName:t.name,v:Pl},a=y9.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Lc(i).slice(1)}`}async function _9(t){const e=await f9(t),n=Ti().gapi;return Me(n,t,"internal-error"),e.open({where:document.body,url:v9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:g9,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Hs(t,"network-request-failed"),f=Ti().setTimeout(()=>{l(c)},d9.get());function m(){Ti().clearTimeout(f),a(i)}i.ping(m).then(m,()=>{l(c)})}))}const T9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},b9=500,E9=600,w9="_blank",S9="http://localhost";class Tw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function x9(t,e,n,i=b9,a=E9){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const m={...T9,width:i.toString(),height:a.toString(),top:l,left:c},g=xn().toLowerCase();n&&(f=LC(g)?w9:n),PC(g)&&(e=e||S9,m.scrollbars="yes");const y=Object.entries(m).reduce((E,[N,V])=>`${E}${N}=${V},`,"");if(rL(g)&&f!=="_self")return A9(e||"",f),new Tw(null);const T=window.open(e||"",f,y);Me(T,t,"popup-blocked");try{T.focus()}catch{}return new Tw(T)}function A9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const C9="__/auth/handler",D9="emulator/auth/handler",N9=encodeURIComponent("fac");async function bw(t,e,n,i,a,l){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Pl,eventId:a};if(e instanceof K0){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",cP(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,T]of Object.entries({}))c[y]=T}if(e instanceof Gc){const y=e.getScopes().filter(T=>T!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await t._getAppCheckToken(),g=m?`#${N9}=${encodeURIComponent(m)}`:"";return`${M9(t)}?${Lc(f).slice(1)}${g}`}function M9({config:t}){return t.emulator?H0(t,D9):`https://${t.authDomain}/${C9}`}const mg="webStorageSupport";class R9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XC,this._completeRedirectFn=t9,this._overrideRedirectResult=ZL}async _openPopup(e,n,i,a){sr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await bw(e,n,i,py(),a);return x9(e,l,$0())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await bw(e,n,i,py(),a);return kL(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(sr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await _9(e),i=new s9(e);return n.register("authEvent",a=>(Me(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mg,{type:mg},a=>{const l=a?.[0]?.[mg];l!==void 0&&n(!!l),wi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=l9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return HC()||jC()||Y0()}}const I9=R9;var Ew="@firebase/auth",ww="1.11.1";class O9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function k9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function V9(t){Sl(new so("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;Me(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qC(t)},g=new hL(i,a,l,m);return yL(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Sl(new so("auth-internal",e=>{const n=kd(e.getProvider("auth").getImmediate());return(i=>new O9(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zr(Ew,ww,k9(t)),Zr(Ew,ww,"esm2020")}const P9=300,j9=Gx("authIdTokenMaxAge")||P9;let Sw=null;const L9=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>j9)return;const a=n?.token;Sw!==a&&(Sw=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function U9(t=Xx()){const e=h0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=gL(t,{popupRedirectResolver:I9,persistence:[HL,RL,XC]}),i=Gx("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=L9(l.toString());AL(n,c,()=>c(n.currentUser)),xL(n,f=>c(f))}}const a=Hx("auth");return a&&vL(n,`http://${a}`),n}function B9(){return document.getElementsByTagName("head")?.[0]??document}fL({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Hs("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",B9().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});V9("Browser");var z9="firebase",F9="12.6.0";Zr(z9,F9,"app");const H9={apiKey:"AIzaSyC0wgzVQ1XVJkQlLisLTGeyLHP_RV3ectk",authDomain:"me-u-5ab65.firebaseapp.com",projectId:"me-u-5ab65",storageBucket:"me-u-5ab65.appspot.com",messagingSenderId:"359943167809",appId:"1:359943167809:web:95c5ce6d43740448524bc0"},rD=Qx(H9),vy=E5(rD),_y=U9(rD);function q9(t,e,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:t,timeZoneName:n}).format(e).split(/\s/g).slice(2).join(" ")}const G9={},Ju={};function Qa(t,e){try{const i=(G9[t]||=new Intl.DateTimeFormat("en-US",{timeZone:t,timeZoneName:"longOffset"}).format)(e).split("GMT")[1];return i in Ju?Ju[i]:xw(i,i.split(":"))}catch{if(t in Ju)return Ju[t];const n=t?.match(Y9);return n?xw(t,n.slice(1)):NaN}}const Y9=/([+-]\d\d):?(\d\d)?/;function xw(t,e){const n=+(e[0]||0),i=+(e[1]||0),a=+(e[2]||0)/60;return Ju[t]=n*60+i>0?n*60+i+a:n*60-i-a}class di extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(Qa(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),aD(this),Ty(this)):this.setTime(Date.now())}static tz(e,...n){return n.length?new di(...n,e):new di(Date.now(),e)}withTimeZone(e){return new di(+this,e)}getTimezoneOffset(){const e=-Qa(this.timeZone,this);return e>0?Math.floor(e):Math.ceil(e)}setTime(e){return Date.prototype.setTime.apply(this,arguments),Ty(this),+this}[Symbol.for("constructDateFrom")](e){return new di(+new Date(e),this.timeZone)}}const Aw=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!Aw.test(t))return;const e=t.replace(Aw,"$1UTC");di.prototype[e]&&(t.startsWith("get")?di.prototype[t]=function(){return this.internal[e]()}:(di.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),W9(this),+this},di.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),Ty(this),+this}))});function Ty(t){t.internal.setTime(+t),t.internal.setUTCSeconds(t.internal.getUTCSeconds()-Math.round(-Qa(t.timeZone,t)*60))}function W9(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),aD(t)}function aD(t){const e=Qa(t.timeZone,t),n=e>0?Math.floor(e):Math.ceil(e),i=new Date(+t);i.setUTCHours(i.getUTCHours()-1);const a=-new Date(+t).getTimezoneOffset(),l=-new Date(+i).getTimezoneOffset(),c=a-l,f=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();c&&f&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+c);const m=a-n;m&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+m);const g=new Date(+t);g.setUTCSeconds(0);const y=a>0?g.getSeconds():(g.getSeconds()-60)%60,T=Math.round(-(Qa(t.timeZone,t)*60))%60;(T||y)&&(t.internal.setUTCSeconds(t.internal.getUTCSeconds()+T),Date.prototype.setUTCSeconds.call(t,Date.prototype.getUTCSeconds.call(t)+T+y));const E=Qa(t.timeZone,t),N=E>0?Math.floor(E):Math.ceil(E),L=-new Date(+t).getTimezoneOffset()-N,R=N!==n,B=L-m;if(R&&B){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+B);const z=Qa(t.timeZone,t),F=z>0?Math.floor(z):Math.ceil(z),te=N-F;te&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+te),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+te))}}class Ki extends di{static tz(e,...n){return n.length?new Ki(...n,e):new Ki(Date.now(),e)}toISOString(){const[e,n,i]=this.tzComponents(),a=`${e}${n}:${i}`;return this.internal.toISOString().slice(0,-1)+a}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,n,i,a]=this.internal.toUTCString().split(" ");return`${e?.slice(0,-1)} ${i} ${n} ${a}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[n,i,a]=this.tzComponents();return`${e} GMT${n}${i}${a} (${q9(this.timeZone,this)})`}toLocaleString(e,n){return Date.prototype.toLocaleString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleDateString(e,n){return Date.prototype.toLocaleDateString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleTimeString(e,n){return Date.prototype.toLocaleTimeString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),n=e>0?"-":"+",i=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),a=String(Math.abs(e)%60).padStart(2,"0");return[n,i,a]}withTimeZone(e){return new Ki(+this,e)}[Symbol.for("constructDateFrom")](e){return new Ki(+new Date(e),this.timeZone)}}const Cw=5,K9=4;function $9(t,e){const n=e.startOfMonth(t),i=n.getDay()>0?n.getDay():7,a=e.addDays(t,-i+1),l=e.addDays(a,Cw*7-1);return e.getMonth(t)===e.getMonth(l)?Cw:K9}function oD(t,e){const n=e.startOfMonth(t),i=n.getDay();return i===1?n:i===0?e.addDays(n,-6):e.addDays(n,-1*(i-1))}function Q9(t,e){const n=oD(t,e),i=$9(t,e);return e.addDays(n,i*7-1)}const lD={...il,labels:{labelDayButton:(t,e,n,i)=>{let a;i&&typeof i.format=="function"?a=i.format.bind(i):a=(c,f)=>ze(c,f,{locale:il,...n});let l=a(t,"PPPP");return e.today&&(l=`Today, ${l}`),e.selected&&(l=`${l}, selected`),l},labelMonthDropdown:"Choose the Month",labelNext:"Go to the Next Month",labelPrevious:"Go to the Previous Month",labelWeekNumber:t=>`Week ${t}`,labelYearDropdown:"Choose the Year",labelGrid:(t,e,n)=>{let i;return n&&typeof n.format=="function"?i=n.format.bind(n):i=(a,l)=>ze(a,l,{locale:il,...e}),i(t,"LLLL yyyy")},labelGridcell:(t,e,n,i)=>{let a;i&&typeof i.format=="function"?a=i.format.bind(i):a=(c,f)=>ze(c,f,{locale:il,...n});let l=a(t,"PPPP");return e?.today&&(l=`Today, ${l}`),l},labelNav:"Navigation bar",labelWeekNumberHeader:"Week Number",labelWeekday:(t,e,n)=>{let i;return n&&typeof n.format=="function"?i=n.format.bind(n):i=(a,l)=>ze(a,l,{locale:il,...e}),i(t,"cccc")}}};class ns{constructor(e,n){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?Ki.tz(this.options.timeZone):new this.Date,this.newDate=(i,a,l)=>this.overrides?.newDate?this.overrides.newDate(i,a,l):this.options.timeZone?new Ki(i,a,l,this.options.timeZone):new Date(i,a,l),this.addDays=(i,a)=>this.overrides?.addDays?this.overrides.addDays(i,a):es(i,a),this.addMonths=(i,a)=>this.overrides?.addMonths?this.overrides.addMonths(i,a):Sy(i,a),this.addWeeks=(i,a)=>this.overrides?.addWeeks?this.overrides.addWeeks(i,a):b2(i,a),this.addYears=(i,a)=>this.overrides?.addYears?this.overrides.addYears(i,a):E2(i,a),this.differenceInCalendarDays=(i,a)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(i,a):xy(i,a),this.differenceInCalendarMonths=(i,a)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(i,a):C2(i,a),this.eachMonthOfInterval=i=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(i):M2(i),this.eachYearOfInterval=i=>{const a=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(i):I2(i),l=new Set(a.map(f=>this.getYear(f)));if(l.size===a.length)return a;const c=[];return l.forEach(f=>{c.push(new Date(f,0,1))}),c},this.endOfBroadcastWeek=i=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(i):Q9(i,this),this.endOfISOWeek=i=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(i):O2(i),this.endOfMonth=i=>this.overrides?.endOfMonth?this.overrides.endOfMonth(i):Fw(i),this.endOfWeek=(i,a)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(i,a):Cy(i,this.options),this.endOfYear=i=>this.overrides?.endOfYear?this.overrides.endOfYear(i):R2(i),this.format=(i,a,l)=>{const c=this.overrides?.format?this.overrides.format(i,a,this.options):ze(i,a,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(c):c},this.getISOWeek=i=>this.overrides?.getISOWeek?this.overrides.getISOWeek(i):Ww(i),this.getMonth=(i,a)=>this.overrides?.getMonth?this.overrides.getMonth(i,this.options):NM(i,this.options),this.getYear=(i,a)=>this.overrides?.getYear?this.overrides.getYear(i,this.options):MM(i,this.options),this.getWeek=(i,a)=>this.overrides?.getWeek?this.overrides.getWeek(i,this.options):$w(i,this.options),this.isAfter=(i,a)=>this.overrides?.isAfter?this.overrides.isAfter(i,a):RM(i,a),this.isBefore=(i,a)=>this.overrides?.isBefore?this.overrides.isBefore(i,a):IM(i,a),this.isDate=i=>this.overrides?.isDate?this.overrides.isDate(i):Bw(i),this.isSameDay=(i,a)=>this.overrides?.isSameDay?this.overrides.isSameDay(i,a):qr(i,a),this.isSameMonth=(i,a)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(i,a):Zw(i,a),this.isSameYear=(i,a)=>this.overrides?.isSameYear?this.overrides.isSameYear(i,a):OM(i,a),this.max=i=>this.overrides?.max?this.overrides.max(i):w2(i),this.min=i=>this.overrides?.min?this.overrides.min(i):S2(i),this.setMonth=(i,a)=>this.overrides?.setMonth?this.overrides.setMonth(i,a):Jw(i,a),this.setYear=(i,a)=>this.overrides?.setYear?this.overrides.setYear(i,a):VM(i,a),this.startOfBroadcastWeek=(i,a)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(i,this):oD(i,this),this.startOfDay=i=>this.overrides?.startOfDay?this.overrides.startOfDay(i):fc(i),this.startOfISOWeek=i=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(i):hc(i),this.startOfMonth=i=>this.overrides?.startOfMonth?this.overrides.startOfMonth(i):qw(i),this.startOfWeek=(i,a)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(i,this.options):ws(i,this.options),this.startOfYear=i=>this.overrides?.startOfYear?this.overrides.startOfYear(i):Gw(i),this.options={locale:lD,...e},this.overrides=n}getDigitMap(){const{numerals:e="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:e}),i={};for(let a=0;a<10;a++)i[a.toString()]=n.format(a);return i}replaceDigits(e){const n=this.getDigitMap();return e.replace(/\d/g,i=>n[i]||i)}formatNumber(e){return this.replaceDigits(e.toString())}getMonthYearOrder(){const e=this.options.locale?.code;return e&&ns.yearFirstLocales.has(e)?"year-first":"month-first"}formatMonthYear(e){const{locale:n,timeZone:i,numerals:a}=this.options,l=n?.code;if(l&&ns.yearFirstLocales.has(l))try{return new Intl.DateTimeFormat(l,{month:"long",year:"numeric",timeZone:i,numberingSystem:a}).format(e)}catch{}const c=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(e,c)}}ns.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const Si=new ns;class uD{constructor(e,n,i=Si){this.date=e,this.displayMonth=n,this.outside=!!(n&&!i.isSameMonth(e,n)),this.dateLib=i,this.isoDate=i.format(e,"yyyy-MM-dd"),this.displayMonthId=i.format(n,"yyyy-MM"),this.dateMonthId=i.format(e,"yyyy-MM")}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class X9{constructor(e,n){this.date=e,this.weeks=n}}class Z9{constructor(e,n){this.days=n,this.weekNumber=e}}function J9(t){return ce.createElement("button",{...t})}function eU(t){return ce.createElement("span",{...t})}function tU(t){const{size:e=24,orientation:n="left",className:i}=t;return ce.createElement("svg",{className:i,width:e,height:e,viewBox:"0 0 24 24"},n==="up"&&ce.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&ce.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&ce.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&ce.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function nU(t){const{day:e,modifiers:n,...i}=t;return ce.createElement("td",{...i})}function sU(t){const{day:e,modifiers:n,...i}=t,a=ce.useRef(null);return ce.useEffect(()=>{n.focused&&a.current?.focus()},[n.focused]),ce.createElement("button",{ref:a,...i})}var ye;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(ye||(ye={}));var St;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(St||(St={}));var Fs;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(Fs||(Fs={}));var Zn;(function(t){t.weeks_before_enter="weeks_before_enter",t.weeks_before_exit="weeks_before_exit",t.weeks_after_enter="weeks_after_enter",t.weeks_after_exit="weeks_after_exit",t.caption_after_enter="caption_after_enter",t.caption_after_exit="caption_after_exit",t.caption_before_enter="caption_before_enter",t.caption_before_exit="caption_before_exit"})(Zn||(Zn={}));function iU(t){const{options:e,className:n,components:i,classNames:a,...l}=t,c=[a[ye.Dropdown],n].join(" "),f=e?.find(({value:m})=>m===l.value);return ce.createElement("span",{"data-disabled":l.disabled,className:a[ye.DropdownRoot]},ce.createElement(i.Select,{className:c,...l},e?.map(({value:m,label:g,disabled:y})=>ce.createElement(i.Option,{key:m,value:m,disabled:y},g))),ce.createElement("span",{className:a[ye.CaptionLabel],"aria-hidden":!0},f?.label,ce.createElement(i.Chevron,{orientation:"down",size:18,className:a[ye.Chevron]})))}function rU(t){return ce.createElement("div",{...t})}function aU(t){return ce.createElement("div",{...t})}function oU(t){const{calendarMonth:e,displayIndex:n,...i}=t;return ce.createElement("div",{...i},t.children)}function lU(t){const{calendarMonth:e,displayIndex:n,...i}=t;return ce.createElement("div",{...i})}function uU(t){return ce.createElement("table",{...t})}function cU(t){return ce.createElement("div",{...t})}const cD=Q.createContext(void 0);function Wc(){const t=Q.useContext(cD);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function hU(t){const{components:e}=Wc();return ce.createElement(e.Dropdown,{...t})}function fU(t){const{onPreviousClick:e,onNextClick:n,previousMonth:i,nextMonth:a,...l}=t,{components:c,classNames:f,labels:{labelPrevious:m,labelNext:g}}=Wc(),y=Q.useCallback(E=>{a&&n?.(E)},[a,n]),T=Q.useCallback(E=>{i&&e?.(E)},[i,e]);return ce.createElement("nav",{...l},ce.createElement(c.PreviousMonthButton,{type:"button",className:f[ye.PreviousMonthButton],tabIndex:i?void 0:-1,"aria-disabled":i?void 0:!0,"aria-label":m(i),onClick:T},ce.createElement(c.Chevron,{disabled:i?void 0:!0,className:f[ye.Chevron],orientation:"left"})),ce.createElement(c.NextMonthButton,{type:"button",className:f[ye.NextMonthButton],tabIndex:a?void 0:-1,"aria-disabled":a?void 0:!0,"aria-label":g(a),onClick:y},ce.createElement(c.Chevron,{disabled:a?void 0:!0,orientation:"right",className:f[ye.Chevron]})))}function dU(t){const{components:e}=Wc();return ce.createElement(e.Button,{...t})}function mU(t){return ce.createElement("option",{...t})}function pU(t){const{components:e}=Wc();return ce.createElement(e.Button,{...t})}function gU(t){const{rootRef:e,...n}=t;return ce.createElement("div",{...n,ref:e})}function yU(t){return ce.createElement("select",{...t})}function vU(t){const{week:e,...n}=t;return ce.createElement("tr",{...n})}function _U(t){return ce.createElement("th",{...t})}function TU(t){return ce.createElement("thead",{"aria-hidden":!0},ce.createElement("tr",{...t}))}function bU(t){const{week:e,...n}=t;return ce.createElement("th",{...n})}function EU(t){return ce.createElement("th",{...t})}function wU(t){return ce.createElement("tbody",{...t})}function SU(t){const{components:e}=Wc();return ce.createElement(e.Dropdown,{...t})}const xU=Object.freeze(Object.defineProperty({__proto__:null,Button:J9,CaptionLabel:eU,Chevron:tU,Day:nU,DayButton:sU,Dropdown:iU,DropdownNav:rU,Footer:aU,Month:oU,MonthCaption:lU,MonthGrid:uU,Months:cU,MonthsDropdown:hU,Nav:fU,NextMonthButton:dU,Option:mU,PreviousMonthButton:pU,Root:gU,Select:yU,Week:vU,WeekNumber:bU,WeekNumberHeader:EU,Weekday:_U,Weekdays:TU,Weeks:wU,YearsDropdown:SU},Symbol.toStringTag,{value:"Module"}));function $i(t,e,n=!1,i=Si){let{from:a,to:l}=t;const{differenceInCalendarDays:c,isSameDay:f}=i;return a&&l?(c(l,a)<0&&([a,l]=[l,a]),c(e,a)>=(n?1:0)&&c(l,e)>=(n?1:0)):!n&&l?f(l,e):!n&&a?f(a,e):!1}function X0(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function jd(t){return!!(t&&typeof t=="object"&&"from"in t)}function Z0(t){return!!(t&&typeof t=="object"&&"after"in t)}function J0(t){return!!(t&&typeof t=="object"&&"before"in t)}function hD(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function fD(t,e){return Array.isArray(t)&&t.every(e.isDate)}function Qi(t,e,n=Si){const i=Array.isArray(e)?e:[e],{isSameDay:a,differenceInCalendarDays:l,isAfter:c}=n;return i.some(f=>{if(typeof f=="boolean")return f;if(n.isDate(f))return a(t,f);if(fD(f,n))return f.some(m=>a(t,m));if(jd(f))return $i(f,t,!1,n);if(hD(f))return Array.isArray(f.dayOfWeek)?f.dayOfWeek.includes(t.getDay()):f.dayOfWeek===t.getDay();if(X0(f)){const m=l(f.before,t),g=l(f.after,t),y=m>0,T=g<0;return c(f.before,f.after)?T&&y:y||T}return Z0(f)?l(t,f.after)>0:J0(f)?l(f.before,t)>0:typeof f=="function"?f(t):!1})}function AU(t,e,n,i,a){const{disabled:l,hidden:c,modifiers:f,showOutsideDays:m,broadcastCalendar:g,today:y=a.today()}=e,{isSameDay:T,isSameMonth:E,startOfMonth:N,isBefore:V,endOfMonth:L,isAfter:R}=a,B=n&&N(n),z=i&&L(i),F={[St.focused]:[],[St.outside]:[],[St.disabled]:[],[St.hidden]:[],[St.today]:[]},te={};for(const H of t){const{date:K,displayMonth:C}=H,S=!!(C&&!E(K,C)),M=!!(B&&V(K,B)),O=!!(z&&R(K,z)),k=!!(l&&Qi(K,l,a)),I=!!(c&&Qi(K,c,a))||M||O||!g&&!m&&S||g&&m===!1&&S,A=T(K,y);S&&F.outside.push(H),k&&F.disabled.push(H),I&&F.hidden.push(H),A&&F.today.push(H),f&&Object.keys(f).forEach(le=>{const be=f?.[le];be&&Qi(K,be,a)&&(te[le]?te[le].push(H):te[le]=[H])})}return H=>{const K={[St.focused]:!1,[St.disabled]:!1,[St.hidden]:!1,[St.outside]:!1,[St.today]:!1},C={};for(const S in F){const M=F[S];K[S]=M.some(O=>O===H)}for(const S in te)C[S]=te[S].some(M=>M===H);return{...K,...C}}}function CU(t,e,n={}){return Object.entries(t).filter(([,a])=>a===!0).reduce((a,[l])=>(n[l]?a.push(n[l]):e[St[l]]?a.push(e[St[l]]):e[Fs[l]]&&a.push(e[Fs[l]]),a),[e[ye.Day]])}function DU(t){return{...xU,...t}}function NU(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0,"data-nav-layout":t.navLayout||void 0};return Object.entries(t).forEach(([n,i])=>{n.startsWith("data-")&&(e[n]=i)}),e}function MU(){const t={};for(const e in ye)t[ye[e]]=`rdp-${ye[e]}`;for(const e in St)t[St[e]]=`rdp-${St[e]}`;for(const e in Fs)t[Fs[e]]=`rdp-${Fs[e]}`;for(const e in Zn)t[Zn[e]]=`rdp-${Zn[e]}`;return t}function dD(t,e,n){return(n??new ns(e)).formatMonthYear(t)}const RU=dD;function IU(t,e,n){return(n??new ns(e)).format(t,"d")}function OU(t,e=Si){return e.format(t,"LLLL")}function kU(t,e,n){return(n??new ns(e)).format(t,"cccccc")}function VU(t,e=Si){return t<10?e.formatNumber(`0${t.toLocaleString()}`):e.formatNumber(`${t.toLocaleString()}`)}function PU(){return""}function mD(t,e=Si){return e.format(t,"yyyy")}const jU=mD,LU=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:dD,formatDay:IU,formatMonthCaption:RU,formatMonthDropdown:OU,formatWeekNumber:VU,formatWeekNumberHeader:PU,formatWeekdayName:kU,formatYearCaption:jU,formatYearDropdown:mD},Symbol.toStringTag,{value:"Module"}));function UU(t){return t?.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t?.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...LU,...t}}function ev(t,e,n,i){let a=(i??new ns(n)).format(t,"PPPP");return e.today&&(a=`Today, ${a}`),e.selected&&(a=`${a}, selected`),a}const BU=ev;function tv(t,e,n){return(n??new ns(e)).formatMonthYear(t)}const zU=tv;function pD(t,e,n,i){let a=(i??new ns(n)).format(t,"PPPP");return e?.today&&(a=`Today, ${a}`),a}function gD(t){return"Choose the Month"}function yD(){return""}const FU="Go to the Next Month";function vD(t,e){return FU}function _D(t){return"Go to the Previous Month"}function TD(t,e,n){return(n??new ns(e)).format(t,"cccc")}function bD(t,e){return`Week ${t}`}function ED(t){return"Week Number"}function wD(t){return"Choose the Year"}const HU=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:zU,labelDay:BU,labelDayButton:ev,labelGrid:tv,labelGridcell:pD,labelMonthDropdown:gD,labelNav:yD,labelNext:vD,labelPrevious:_D,labelWeekNumber:bD,labelWeekNumberHeader:ED,labelWeekday:TD,labelYearDropdown:wD},Symbol.toStringTag,{value:"Module"})),js=(t,e,n)=>e||(n?typeof n=="function"?n:(...i)=>n:t);function qU(t,e){const n=e.locale?.labels??{};return{...HU,...t??{},labelDayButton:js(ev,t?.labelDayButton,n.labelDayButton),labelMonthDropdown:js(gD,t?.labelMonthDropdown,n.labelMonthDropdown),labelNext:js(vD,t?.labelNext,n.labelNext),labelPrevious:js(_D,t?.labelPrevious,n.labelPrevious),labelWeekNumber:js(bD,t?.labelWeekNumber,n.labelWeekNumber),labelYearDropdown:js(wD,t?.labelYearDropdown,n.labelYearDropdown),labelGrid:js(tv,t?.labelGrid,n.labelGrid),labelGridcell:js(pD,t?.labelGridcell,n.labelGridcell),labelNav:js(yD,t?.labelNav,n.labelNav),labelWeekNumberHeader:js(ED,t?.labelWeekNumberHeader,n.labelWeekNumberHeader),labelWeekday:js(TD,t?.labelWeekday,n.labelWeekday)}}function GU(t,e,n,i,a){const{startOfMonth:l,startOfYear:c,endOfYear:f,eachMonthOfInterval:m,getMonth:g}=a;return m({start:c(t),end:f(t)}).map(E=>{const N=i.formatMonthDropdown(E,a),V=g(E),L=e&&E<l(e)||n&&E>l(n)||!1;return{value:V,label:N,disabled:L}})}function YU(t,e={},n={}){let i={...e?.[ye.Day]};return Object.entries(t).filter(([,a])=>a===!0).forEach(([a])=>{i={...i,...n?.[a]}}),i}function WU(t,e,n,i){const a=i??t.today(),l=n?t.startOfBroadcastWeek(a,t):e?t.startOfISOWeek(a):t.startOfWeek(a),c=[];for(let f=0;f<7;f++){const m=t.addDays(l,f);c.push(m)}return c}function KU(t,e,n,i,a=!1){if(!t||!e)return;const{startOfYear:l,endOfYear:c,eachYearOfInterval:f,getYear:m}=i,g=l(t),y=c(e),T=f({start:g,end:y});return a&&T.reverse(),T.map(E=>{const N=n.formatYearDropdown(E,i);return{value:m(E),label:N,disabled:!1}})}const Kc=t=>t instanceof HTMLElement?t:null,pg=t=>[...t.querySelectorAll("[data-animated-month]")??[]],$U=t=>Kc(t.querySelector("[data-animated-month]")),gg=t=>Kc(t.querySelector("[data-animated-caption]")),yg=t=>Kc(t.querySelector("[data-animated-weeks]")),QU=t=>Kc(t.querySelector("[data-animated-nav]")),XU=t=>Kc(t.querySelector("[data-animated-weekdays]"));function ZU(t,e,{classNames:n,months:i,focused:a,dateLib:l}){const c=Q.useRef(null),f=Q.useRef(i),m=Q.useRef(!1);Q.useLayoutEffect(()=>{const g=f.current;if(f.current=i,!e||!t.current||!(t.current instanceof HTMLElement)||i.length===0||g.length===0||i.length!==g.length)return;const y=l.isSameMonth(i[0].date,g[0].date),T=l.isAfter(i[0].date,g[0].date),E=T?n[Zn.caption_after_enter]:n[Zn.caption_before_enter],N=T?n[Zn.weeks_after_enter]:n[Zn.weeks_before_enter],V=c.current,L=t.current.cloneNode(!0);if(L instanceof HTMLElement?(pg(L).forEach(F=>{if(!(F instanceof HTMLElement))return;const te=$U(F);te&&F.contains(te)&&F.removeChild(te);const H=gg(F);H&&H.classList.remove(E);const K=yg(F);K&&K.classList.remove(N)}),c.current=L):c.current=null,m.current||y||a)return;const R=V instanceof HTMLElement?pg(V):[],B=pg(t.current);if(B?.every(z=>z instanceof HTMLElement)&&R&&R.every(z=>z instanceof HTMLElement)){m.current=!0,t.current.style.isolation="isolate";const z=QU(t.current);z&&(z.style.zIndex="1"),B.forEach((F,te)=>{const H=R[te];if(!H)return;F.style.position="relative",F.style.overflow="hidden";const K=gg(F);K&&K.classList.add(E);const C=yg(F);C&&C.classList.add(N);const S=()=>{m.current=!1,t.current&&(t.current.style.isolation=""),z&&(z.style.zIndex=""),K&&K.classList.remove(E),C&&C.classList.remove(N),F.style.position="",F.style.overflow="",F.contains(H)&&F.removeChild(H)};H.style.pointerEvents="none",H.style.position="absolute",H.style.overflow="hidden",H.setAttribute("aria-hidden","true");const M=XU(H);M&&(M.style.opacity="0");const O=gg(H);O&&(O.classList.add(T?n[Zn.caption_before_exit]:n[Zn.caption_after_exit]),O.addEventListener("animationend",S));const k=yg(H);k&&k.classList.add(T?n[Zn.weeks_before_exit]:n[Zn.weeks_after_exit]),F.insertBefore(H,F.firstChild)})}})}function JU(t,e,n,i){const a=t[0],l=t[t.length-1],{ISOWeek:c,fixedWeeks:f,broadcastCalendar:m}=n??{},{addDays:g,differenceInCalendarDays:y,differenceInCalendarMonths:T,endOfBroadcastWeek:E,endOfISOWeek:N,endOfMonth:V,endOfWeek:L,isAfter:R,startOfBroadcastWeek:B,startOfISOWeek:z,startOfWeek:F}=i,te=m?B(a,i):c?z(a):F(a),H=m?E(l):c?N(V(l)):L(V(l)),K=e&&(m?E(e):c?N(e):L(e)),C=K&&R(H,K)?K:H,S=y(C,te),M=T(l,a)+1,O=[];for(let A=0;A<=S;A++){const le=g(te,A);O.push(le)}const I=(m?35:42)*M;if(f&&O.length<I){const A=I-O.length;for(let le=0;le<A;le++){const be=g(O[O.length-1],1);O.push(be)}}return O}function eB(t){const e=[];return t.reduce((n,i)=>{const a=i.weeks.reduce((l,c)=>l.concat(c.days.slice()),e.slice());return n.concat(a.slice())},e.slice())}function tB(t,e,n,i){const{numberOfMonths:a=1}=n,l=[];for(let c=0;c<a;c++){const f=i.addMonths(t,c);if(e&&f>e)break;l.push(f)}return l}function Dw(t,e,n,i){const{month:a,defaultMonth:l,today:c=i.today(),numberOfMonths:f=1}=t;let m=a||l||c;const{differenceInCalendarMonths:g,addMonths:y,startOfMonth:T}=i;if(n&&g(n,m)<f-1){const E=-1*(f-1);m=y(n,E)}return e&&g(m,e)<0&&(m=e),T(m)}function nB(t,e,n,i){const{addDays:a,endOfBroadcastWeek:l,endOfISOWeek:c,endOfMonth:f,endOfWeek:m,getISOWeek:g,getWeek:y,startOfBroadcastWeek:T,startOfISOWeek:E,startOfWeek:N}=i,V=t.reduce((L,R)=>{const B=n.broadcastCalendar?T(R,i):n.ISOWeek?E(R):N(R),z=n.broadcastCalendar?l(R):n.ISOWeek?c(f(R)):m(f(R)),F=e.filter(C=>C>=B&&C<=z),te=n.broadcastCalendar?35:42;if(n.fixedWeeks&&F.length<te){const C=e.filter(S=>{const M=te-F.length;return S>z&&S<=a(z,M)});F.push(...C)}const H=F.reduce((C,S)=>{const M=n.ISOWeek?g(S):y(S),O=C.find(I=>I.weekNumber===M),k=new uD(S,R,i);return O?O.days.push(k):C.push(new Z9(M,[k])),C},[]),K=new X9(R,H);return L.push(K),L},[]);return n.reverseMonths?V.reverse():V}function sB(t,e){let{startMonth:n,endMonth:i}=t;const{startOfYear:a,startOfDay:l,startOfMonth:c,endOfMonth:f,addYears:m,endOfYear:g,newDate:y,today:T}=e,{fromYear:E,toYear:N,fromMonth:V,toMonth:L}=t;!n&&V&&(n=V),!n&&E&&(n=e.newDate(E,0,1)),!i&&L&&(i=L),!i&&N&&(i=y(N,11,31));const R=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return n?n=c(n):E?n=y(E,0,1):!n&&R&&(n=a(m(t.today??T(),-100))),i?i=f(i):N?i=y(N,11,31):!i&&R&&(i=g(t.today??T())),[n&&l(n),i&&l(i)]}function iB(t,e,n,i){if(n.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:l=1}=n,{startOfMonth:c,addMonths:f,differenceInCalendarMonths:m}=i,g=a?l:1,y=c(t);if(!e)return f(y,g);if(!(m(e,t)<l))return f(y,g)}function rB(t,e,n,i){if(n.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:l}=n,{startOfMonth:c,addMonths:f,differenceInCalendarMonths:m}=i,g=a?l??1:1,y=c(t);if(!e)return f(y,-g);if(!(m(y,e)<=0))return f(y,-g)}function aB(t){const e=[];return t.reduce((n,i)=>n.concat(i.weeks.slice()),e.slice())}function Ld(t,e){const[n,i]=Q.useState(t);return[e===void 0?n:e,i]}function oB(t,e){const[n,i]=sB(t,e),{startOfMonth:a,endOfMonth:l}=e,c=Dw(t,n,i,e),[f,m]=Ld(c,t.month?c:void 0);Q.useEffect(()=>{const te=Dw(t,n,i,e);m(te)},[t.timeZone]);const{months:g,weeks:y,days:T,previousMonth:E,nextMonth:N}=Q.useMemo(()=>{const te=tB(f,i,{numberOfMonths:t.numberOfMonths},e),H=JU(te,t.endMonth?l(t.endMonth):void 0,{ISOWeek:t.ISOWeek,fixedWeeks:t.fixedWeeks,broadcastCalendar:t.broadcastCalendar},e),K=nB(te,H,{broadcastCalendar:t.broadcastCalendar,fixedWeeks:t.fixedWeeks,ISOWeek:t.ISOWeek,reverseMonths:t.reverseMonths},e),C=aB(K),S=eB(K),M=rB(f,n,t,e),O=iB(f,i,t,e);return{months:K,weeks:C,days:S,previousMonth:M,nextMonth:O}},[e,f.getTime(),i?.getTime(),n?.getTime(),t.disableNavigation,t.broadcastCalendar,t.endMonth?.getTime(),t.fixedWeeks,t.ISOWeek,t.numberOfMonths,t.pagedNavigation,t.reverseMonths]),{disableNavigation:V,onMonthChange:L}=t,R=te=>y.some(H=>H.days.some(K=>K.isEqualTo(te))),B=te=>{if(V)return;let H=a(te);n&&H<a(n)&&(H=a(n)),i&&H>a(i)&&(H=a(i)),m(H),L?.(H)};return{months:g,weeks:y,days:T,navStart:n,navEnd:i,previousMonth:E,nextMonth:N,goToMonth:B,goToDay:te=>{R(te)||B(te.date)}}}var ui;(function(t){t[t.Today=0]="Today",t[t.Selected=1]="Selected",t[t.LastFocused=2]="LastFocused",t[t.FocusedModifier=3]="FocusedModifier"})(ui||(ui={}));function Nw(t){return!t[St.disabled]&&!t[St.hidden]&&!t[St.outside]}function lB(t,e,n,i){let a,l=-1;for(const c of t){const f=e(c);Nw(f)&&(f[St.focused]&&l<ui.FocusedModifier?(a=c,l=ui.FocusedModifier):i?.isEqualTo(c)&&l<ui.LastFocused?(a=c,l=ui.LastFocused):n(c.date)&&l<ui.Selected?(a=c,l=ui.Selected):f[St.today]&&l<ui.Today&&(a=c,l=ui.Today))}return a||(a=t.find(c=>Nw(e(c)))),a}function uB(t,e,n,i,a,l,c){const{ISOWeek:f,broadcastCalendar:m}=l,{addDays:g,addMonths:y,addWeeks:T,addYears:E,endOfBroadcastWeek:N,endOfISOWeek:V,endOfWeek:L,max:R,min:B,startOfBroadcastWeek:z,startOfISOWeek:F,startOfWeek:te}=c;let K={day:g,week:T,month:y,year:E,startOfWeek:C=>m?z(C,c):f?F(C):te(C),endOfWeek:C=>m?N(C):f?V(C):L(C)}[t](n,e==="after"?1:-1);return e==="before"&&i?K=R([i,K]):e==="after"&&a&&(K=B([a,K])),K}function SD(t,e,n,i,a,l,c,f=0){if(f>365)return;const m=uB(t,e,n.date,i,a,l,c),g=!!(l.disabled&&Qi(m,l.disabled,c)),y=!!(l.hidden&&Qi(m,l.hidden,c)),T=m,E=new uD(m,T,c);return!g&&!y?E:SD(t,e,E,i,a,l,c,f+1)}function cB(t,e,n,i,a){const{autoFocus:l}=t,[c,f]=Q.useState(),m=lB(e.days,n,i||(()=>!1),c),[g,y]=Q.useState(l?m:void 0);return{isFocusTarget:L=>!!m?.isEqualTo(L),setFocused:y,focused:g,blur:()=>{f(g),y(void 0)},moveFocus:(L,R)=>{if(!g)return;const B=SD(L,R,g,e.navStart,e.navEnd,t,a);B&&(t.disableNavigation&&!e.days.some(F=>F.isEqualTo(B))||(e.goToDay(B),y(B)))}}}function hB(t,e){const{selected:n,required:i,onSelect:a}=t,[l,c]=Ld(n,a?n:void 0),f=a?n:l,{isSameDay:m}=e,g=N=>f?.some(V=>m(V,N))??!1,{min:y,max:T}=t;return{selected:f,select:(N,V,L)=>{let R=[...f??[]];if(g(N)){if(f?.length===y||i&&f?.length===1)return;R=f?.filter(B=>!m(B,N))}else f?.length===T?R=[N]:R=[...R,N];return a||c(R),a?.(R,N,V,L),R},isSelected:g}}function fB(t,e,n=0,i=0,a=!1,l=Si){const{from:c,to:f}=e||{},{isSameDay:m,isAfter:g,isBefore:y}=l;let T;if(!c&&!f)T={from:t,to:n>0?void 0:t};else if(c&&!f)m(c,t)?n===0?T={from:c,to:t}:a?T={from:c,to:void 0}:T=void 0:y(t,c)?T={from:t,to:c}:T={from:c,to:t};else if(c&&f)if(m(c,t)&&m(f,t))a?T={from:c,to:f}:T=void 0;else if(m(c,t))T={from:c,to:n>0?void 0:t};else if(m(f,t))T={from:t,to:n>0?void 0:t};else if(y(t,c))T={from:t,to:f};else if(g(t,c))T={from:c,to:t};else if(g(t,f))T={from:c,to:t};else throw new Error("Invalid range");if(T?.from&&T?.to){const E=l.differenceInCalendarDays(T.to,T.from);i>0&&E>i?T={from:t,to:void 0}:n>1&&E<n&&(T={from:t,to:void 0})}return T}function dB(t,e,n=Si){const i=Array.isArray(e)?e:[e];let a=t.from;const l=n.differenceInCalendarDays(t.to,t.from),c=Math.min(l,6);for(let f=0;f<=c;f++){if(i.includes(a.getDay()))return!0;a=n.addDays(a,1)}return!1}function Mw(t,e,n=Si){return $i(t,e.from,!1,n)||$i(t,e.to,!1,n)||$i(e,t.from,!1,n)||$i(e,t.to,!1,n)}function mB(t,e,n=Si){const i=Array.isArray(e)?e:[e];if(i.filter(f=>typeof f!="function").some(f=>typeof f=="boolean"?f:n.isDate(f)?$i(t,f,!1,n):fD(f,n)?f.some(m=>$i(t,m,!1,n)):jd(f)?f.from&&f.to?Mw(t,{from:f.from,to:f.to},n):!1:hD(f)?dB(t,f.dayOfWeek,n):X0(f)?n.isAfter(f.before,f.after)?Mw(t,{from:n.addDays(f.after,1),to:n.addDays(f.before,-1)},n):Qi(t.from,f,n)||Qi(t.to,f,n):Z0(f)||J0(f)?Qi(t.from,f,n)||Qi(t.to,f,n):!1))return!0;const c=i.filter(f=>typeof f=="function");if(c.length){let f=t.from;const m=n.differenceInCalendarDays(t.to,t.from);for(let g=0;g<=m;g++){if(c.some(y=>y(f)))return!0;f=n.addDays(f,1)}}return!1}function pB(t,e){const{disabled:n,excludeDisabled:i,selected:a,required:l,onSelect:c}=t,[f,m]=Ld(a,c?a:void 0),g=c?a:f;return{selected:g,select:(E,N,V)=>{const{min:L,max:R}=t,B=E?fB(E,g,L,R,l,e):void 0;return i&&n&&B?.from&&B.to&&mB({from:B.from,to:B.to},n,e)&&(B.from=E,B.to=void 0),c||m(B),c?.(B,E,N,V),B},isSelected:E=>g&&$i(g,E,!1,e)}}function gB(t,e){const{selected:n,required:i,onSelect:a}=t,[l,c]=Ld(n,a?n:void 0),f=a?n:l,{isSameDay:m}=e;return{selected:f,select:(T,E,N)=>{let V=T;return!i&&f&&f&&m(T,f)&&(V=void 0),a||c(V),a?.(V,T,E,N),V},isSelected:T=>f?m(f,T):!1}}function yB(t,e){const n=gB(t,e),i=hB(t,e),a=pB(t,e);switch(t.mode){case"single":return n;case"multiple":return i;case"range":return a;default:return}}function pn(t,e){return t instanceof Ki&&t.timeZone===e?t:new Ki(t,e)}function Rw(t,e){return typeof t=="boolean"||typeof t=="function"?t:t instanceof Date?pn(t,e):Array.isArray(t)?t.map(n=>n instanceof Date?pn(n,e):n):jd(t)?{...t,from:t.from?pn(t.from,e):t.from,to:t.to?pn(t.to,e):t.to}:X0(t)?{before:pn(t.before,e),after:pn(t.after,e)}:Z0(t)?{after:pn(t.after,e)}:J0(t)?{before:pn(t.before,e)}:t}function vg(t,e){return t&&(Array.isArray(t)?t.map(n=>Rw(n,e)):Rw(t,e))}function xD(t){let e=t;const n=e.timeZone;if(n&&(e={...t,timeZone:n},e.today&&(e.today=pn(e.today,n)),e.month&&(e.month=pn(e.month,n)),e.defaultMonth&&(e.defaultMonth=pn(e.defaultMonth,n)),e.startMonth&&(e.startMonth=pn(e.startMonth,n)),e.endMonth&&(e.endMonth=pn(e.endMonth,n)),e.mode==="single"&&e.selected?e.selected=pn(e.selected,n):e.mode==="multiple"&&e.selected?e.selected=e.selected?.map(Re=>pn(Re,n)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?pn(e.selected.from,n):e.selected.from,to:e.selected.to?pn(e.selected.to,n):e.selected.to}),e.disabled!==void 0&&(e.disabled=vg(e.disabled,n)),e.hidden!==void 0&&(e.hidden=vg(e.hidden,n)),e.modifiers)){const Re={};Object.keys(e.modifiers).forEach(Ue=>{Re[Ue]=vg(e.modifiers?.[Ue],n)}),e.modifiers=Re}const{components:i,formatters:a,labels:l,dateLib:c,locale:f,classNames:m}=Q.useMemo(()=>{const Re={...lD,...e.locale},Ue=new ns({locale:Re,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},e.dateLib);return{dateLib:Ue,components:DU(e.components),formatters:UU(e.formatters),labels:qU(e.labels,Ue.options),locale:Re,classNames:{...MU(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.components,e.formatters,e.labels,e.classNames]);e.today||(e={...e,today:c.today()});const{captionLayout:g,mode:y,navLayout:T,numberOfMonths:E=1,onDayBlur:N,onDayClick:V,onDayFocus:L,onDayKeyDown:R,onDayMouseEnter:B,onDayMouseLeave:z,onNextClick:F,onPrevClick:te,showWeekNumber:H,styles:K}=e,{formatCaption:C,formatDay:S,formatMonthDropdown:M,formatWeekNumber:O,formatWeekNumberHeader:k,formatWeekdayName:I,formatYearDropdown:A}=a,le=oB(e,c),{days:be,months:J,navStart:ae,navEnd:de,previousMonth:Te,nextMonth:De,goToMonth:j}=le,se=AU(be,e,ae,de,c),{isSelected:he,select:fe,selected:we}=yB(e,c)??{},{blur:ke,focused:Fe,isFocusTarget:It,moveFocus:mt,setFocused:ss}=cB(e,le,se,he??(()=>!1),c),{labelDayButton:rr,labelGridcell:ar,labelGrid:or,labelMonthDropdown:is,labelNav:lr,labelPrevious:xi,labelNext:ca,labelWeekday:ha,labelWeekNumber:Dt,labelWeekNumberHeader:Ot,labelYearDropdown:qs}=l,Fl=Q.useMemo(()=>WU(c,e.ISOWeek,e.broadcastCalendar,e.today),[c,e.ISOWeek,e.broadcastCalendar,e.today]),fa=y!==void 0||V!==void 0,Xt=Q.useCallback(()=>{Te&&(j(Te),te?.(Te))},[Te,j,te]),Ss=Q.useCallback(()=>{De&&(j(De),F?.(De))},[j,De,F]),da=Q.useCallback((Re,Ue)=>xe=>{xe.preventDefault(),xe.stopPropagation(),ss(Re),!Ue.disabled&&(fe?.(Re.date,Ue,xe),V?.(Re.date,Ue,xe))},[fe,V,ss]),ma=Q.useCallback((Re,Ue)=>xe=>{ss(Re),L?.(Re.date,Ue,xe)},[L,ss]),Gs=Q.useCallback((Re,Ue)=>xe=>{ke(),N?.(Re.date,Ue,xe)},[ke,N]),Hl=Q.useCallback((Re,Ue)=>xe=>{const Ae={ArrowLeft:[xe.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[xe.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[xe.shiftKey?"year":"week","after"],ArrowUp:[xe.shiftKey?"year":"week","before"],PageUp:[xe.shiftKey?"year":"month","before"],PageDown:[xe.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Ae[xe.key]){xe.preventDefault(),xe.stopPropagation();const[kt,Ie]=Ae[xe.key];mt(kt,Ie)}R?.(Re.date,Ue,xe)},[mt,R,e.dir]),fo=Q.useCallback((Re,Ue)=>xe=>{B?.(Re.date,Ue,xe)},[B]),mo=Q.useCallback((Re,Ue)=>xe=>{z?.(Re.date,Ue,xe)},[z]),po=Q.useCallback(Re=>Ue=>{const xe=Number(Ue.target.value),Ae=c.setMonth(c.startOfMonth(Re),xe);j(Ae)},[c,j]),zn=Q.useCallback(Re=>Ue=>{const xe=Number(Ue.target.value),Ae=c.setYear(c.startOfMonth(Re),xe);j(Ae)},[c,j]),{className:Zt,style:Mn}=Q.useMemo(()=>({className:[m[ye.Root],e.className].filter(Boolean).join(" "),style:{...K?.[ye.Root],...e.style}}),[m,e.className,e.style,K]),wt=NU(e),pa=Q.useRef(null);ZU(pa,!!e.animate,{classNames:m,months:J,focused:Fe,dateLib:c});const ur={dayPickerProps:e,selected:we,select:fe,isSelected:he,months:J,nextMonth:De,previousMonth:Te,goToMonth:j,getModifiers:se,components:i,classNames:m,styles:K,labels:l,formatters:a};return ce.createElement(cD.Provider,{value:ur},ce.createElement(i.Root,{rootRef:e.animate?pa:void 0,className:Zt,style:Mn,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],"aria-labelledby":e["aria-labelledby"],...wt},ce.createElement(i.Months,{className:m[ye.Months],style:K?.[ye.Months]},!e.hideNavigation&&!T&&ce.createElement(i.Nav,{"data-animated-nav":e.animate?"true":void 0,className:m[ye.Nav],style:K?.[ye.Nav],"aria-label":lr(),onPreviousClick:Xt,onNextClick:Ss,previousMonth:Te,nextMonth:De}),J.map((Re,Ue)=>ce.createElement(i.Month,{"data-animated-month":e.animate?"true":void 0,className:m[ye.Month],style:K?.[ye.Month],key:Ue,displayIndex:Ue,calendarMonth:Re},T==="around"&&!e.hideNavigation&&Ue===0&&ce.createElement(i.PreviousMonthButton,{type:"button",className:m[ye.PreviousMonthButton],tabIndex:Te?void 0:-1,"aria-disabled":Te?void 0:!0,"aria-label":xi(Te),onClick:Xt,"data-animated-button":e.animate?"true":void 0},ce.createElement(i.Chevron,{disabled:Te?void 0:!0,className:m[ye.Chevron],orientation:e.dir==="rtl"?"right":"left"})),ce.createElement(i.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:m[ye.MonthCaption],style:K?.[ye.MonthCaption],calendarMonth:Re,displayIndex:Ue},g?.startsWith("dropdown")?ce.createElement(i.DropdownNav,{className:m[ye.Dropdowns],style:K?.[ye.Dropdowns]},(()=>{const xe=g==="dropdown"||g==="dropdown-months"?ce.createElement(i.MonthsDropdown,{key:"month",className:m[ye.MonthsDropdown],"aria-label":is(),classNames:m,components:i,disabled:!!e.disableNavigation,onChange:po(Re.date),options:GU(Re.date,ae,de,a,c),style:K?.[ye.Dropdown],value:c.getMonth(Re.date)}):ce.createElement("span",{key:"month"},M(Re.date,c)),Ae=g==="dropdown"||g==="dropdown-years"?ce.createElement(i.YearsDropdown,{key:"year",className:m[ye.YearsDropdown],"aria-label":qs(c.options),classNames:m,components:i,disabled:!!e.disableNavigation,onChange:zn(Re.date),options:KU(ae,de,a,c,!!e.reverseYears),style:K?.[ye.Dropdown],value:c.getYear(Re.date)}):ce.createElement("span",{key:"year"},A(Re.date,c));return c.getMonthYearOrder()==="year-first"?[Ae,xe]:[xe,Ae]})(),ce.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},C(Re.date,c.options,c))):ce.createElement(i.CaptionLabel,{className:m[ye.CaptionLabel],role:"status","aria-live":"polite"},C(Re.date,c.options,c))),T==="around"&&!e.hideNavigation&&Ue===E-1&&ce.createElement(i.NextMonthButton,{type:"button",className:m[ye.NextMonthButton],tabIndex:De?void 0:-1,"aria-disabled":De?void 0:!0,"aria-label":ca(De),onClick:Ss,"data-animated-button":e.animate?"true":void 0},ce.createElement(i.Chevron,{disabled:De?void 0:!0,className:m[ye.Chevron],orientation:e.dir==="rtl"?"left":"right"})),Ue===E-1&&T==="after"&&!e.hideNavigation&&ce.createElement(i.Nav,{"data-animated-nav":e.animate?"true":void 0,className:m[ye.Nav],style:K?.[ye.Nav],"aria-label":lr(),onPreviousClick:Xt,onNextClick:Ss,previousMonth:Te,nextMonth:De}),ce.createElement(i.MonthGrid,{role:"grid","aria-multiselectable":y==="multiple"||y==="range","aria-label":or(Re.date,c.options,c)||void 0,className:m[ye.MonthGrid],style:K?.[ye.MonthGrid]},!e.hideWeekdays&&ce.createElement(i.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:m[ye.Weekdays],style:K?.[ye.Weekdays]},H&&ce.createElement(i.WeekNumberHeader,{"aria-label":Ot(c.options),className:m[ye.WeekNumberHeader],style:K?.[ye.WeekNumberHeader],scope:"col"},k()),Fl.map(xe=>ce.createElement(i.Weekday,{"aria-label":ha(xe,c.options,c),className:m[ye.Weekday],key:String(xe),style:K?.[ye.Weekday],scope:"col"},I(xe,c.options,c)))),ce.createElement(i.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:m[ye.Weeks],style:K?.[ye.Weeks]},Re.weeks.map(xe=>ce.createElement(i.Week,{className:m[ye.Week],key:xe.weekNumber,style:K?.[ye.Week],week:xe},H&&ce.createElement(i.WeekNumber,{week:xe,style:K?.[ye.WeekNumber],"aria-label":Dt(xe.weekNumber,{locale:f}),className:m[ye.WeekNumber],scope:"row",role:"rowheader"},O(xe.weekNumber,c)),xe.days.map(Ae=>{const{date:kt}=Ae,Ie=se(Ae);if(Ie[St.focused]=!Ie.hidden&&!!Fe?.isEqualTo(Ae),Ie[Fs.selected]=he?.(kt)||Ie.selected,jd(we)){const{from:Rn,to:xs}=we;Ie[Fs.range_start]=!!(Rn&&xs&&c.isSameDay(kt,Rn)),Ie[Fs.range_end]=!!(Rn&&xs&&c.isSameDay(kt,xs)),Ie[Fs.range_middle]=$i(we,kt,!0,c)}const Fn=YU(Ie,K,e.modifiersStyles),ql=CU(Ie,m,e.modifiersClassNames),go=!fa&&!Ie.hidden?ar(kt,Ie,c.options,c):void 0;return ce.createElement(i.Day,{key:`${Ae.isoDate}_${Ae.displayMonthId}`,day:Ae,modifiers:Ie,className:ql.join(" "),style:Fn,role:"gridcell","aria-selected":Ie.selected||void 0,"aria-label":go,"data-day":Ae.isoDate,"data-month":Ae.outside?Ae.dateMonthId:void 0,"data-selected":Ie.selected||void 0,"data-disabled":Ie.disabled||void 0,"data-hidden":Ie.hidden||void 0,"data-outside":Ae.outside||void 0,"data-focused":Ie.focused||void 0,"data-today":Ie.today||void 0},!Ie.hidden&&fa?ce.createElement(i.DayButton,{className:m[ye.DayButton],style:K?.[ye.DayButton],type:"button",day:Ae,modifiers:Ie,disabled:!Ie.focused&&Ie.disabled||void 0,"aria-disabled":Ie.focused&&Ie.disabled||void 0,tabIndex:It(Ae)?0:-1,"aria-label":rr(kt,Ie,c.options,c),onClick:da(Ae,Ie),onBlur:Gs(Ae,Ie),onFocus:ma(Ae,Ie),onKeyDown:Hl(Ae,Ie),onMouseEnter:fo(Ae,Ie),onMouseLeave:mo(Ae,Ie)},S(kt,c.options,c)):!Ie.hidden&&S(Ae.date,c.options,c))})))))))),e.footer&&ce.createElement(i.Footer,{className:m[ye.Footer],style:K?.[ye.Footer],role:"status","aria-live":"polite"},e.footer)))}const Ut=({as:t="button",className:e="",children:n,...i})=>v.jsx(t,{className:`inline-flex items-center justify-center gap-2 select-none
      px-4 py-3 text-sm md:text-base font-semibold rounded-2xl
      bg-gradient-to-br from-primary-600 to-primary-500 text-white
      shadow-lg shadow-primary-500/25 hover:shadow-xl active:scale-95 
      focus:outline-none
      transition-all disabled:opacity-60 ${e}`,...i,children:n}),lt=({as:t="button",className:e="",children:n,...i})=>v.jsx(t,{className:`inline-flex items-center justify-center gap-2 px-3 py-2 text-sm rounded-lg
      backdrop-blur-sm border border-primary-500/30 text-secondary-200
      hover:bg-secondary-700/60 active:scale-95 focus:outline-none
      transition ${e}`,...i,children:n}),Bt=ce.forwardRef((t,e)=>v.jsx("input",{ref:e,...t,className:`w-full px-3 py-2 text-sm md:text-base rounded-xl bg-secondary-700/60 backdrop-blur-sm
      border border-secondary-600/50 outline-none focus:border-primary-400 text-white
      placeholder:text-secondary-400 transition ${t.className||""}`})),AD=t=>{const e=Q.useRef(null);return Q.useEffect(()=>{const n=e.current;n&&(n.style.height="0px",n.style.height=`${n.scrollHeight}px`)},[t.value]),v.jsx("textarea",{ref:e,rows:1,...t,className:`w-full px-3 py-2 text-sm md:text-base rounded-xl bg-secondary-700/60 backdrop-blur-sm
        border border-secondary-600/50 outline-none focus:ring-2 focus:ring-primary-400 transition resize-none overflow-y-hidden text-white
        ${t.className||""}`})},vB=t=>v.jsx("select",{...t,className:`w-full px-3 py-2 text-sm md:text-base rounded-xl bg-secondary-700/60 backdrop-blur-sm
      border border-secondary-600/50 outline-none focus:border-primary-400 transition text-white ${t.className||""}`}),Dn=({className:t="",children:e,...n})=>v.jsx(_c.div,{initial:{opacity:0,y:8,scale:.995},animate:{opacity:1,y:0,scale:1},transition:{duration:.18},className:`bg-secondary-800/95 backdrop-blur-sm border border-primary-500/20
      p-4 md:p-6 mb-3 rounded-2xl shadow-lg shadow-black/30 text-white ${t}`,...n,children:e}),Jn=({children:t})=>v.jsx(_c.div,{initial:{opacity:0,x:-8},animate:{opacity:1,x:0},transition:{duration:.18},className:"text-lg md:text-2xl font-semibold mb-4 flex items-center gap-2 text-white",children:t}),Ud=({children:t,className:e=""})=>v.jsx("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 text-xs font-semibold rounded-full bg-white/20 border border-white/5 ${e}`,children:t}),vs={book:v.jsx("span",{className:"material-symbols-outlined text-blue-600",style:{fontVariationSettings:'"FILL" 1'},children:"book"}),door:v.jsx("span",{className:"material-symbols-outlined text-teal-500",style:{fontVariationSettings:'"FILL" 1'},children:"door_open"}),location:v.jsx("span",{className:"material-symbols-outlined text-red-500",style:{fontVariationSettings:'"FILL" 1'},children:"location_on"}),teacher:v.jsx("span",{className:"material-symbols-outlined text-violet-500",style:{fontVariationSettings:'"FILL" 1'},children:"school"}),lightbulb:v.jsx("span",{className:"material-symbols-outlined text-yellow-500",style:{fontVariationSettings:'"FILL" 1'},children:"lightbulb"}),celebration:v.jsx("span",{className:"material-symbols-outlined text-pink-500",style:{fontVariationSettings:'"FILL" 1'},children:"celebration"}),bolt:v.jsx("span",{className:"material-symbols-outlined text-amber-500",style:{fontVariationSettings:'"FILL" 1'},children:"bolt"}),task:v.jsx("span",{className:"material-symbols-outlined text-indigo-600",style:{fontVariationSettings:'"FILL" 1'},children:"task"}),event:v.jsx("span",{className:"material-symbols-outlined text-purple-600",style:{fontVariationSettings:'"FILL" 1'},children:"event"}),smile:v.jsx("span",{className:"material-symbols-outlined text-orange-500",style:{fontVariationSettings:'"FILL" 1'},children:"sentiment_satisfied"})},cc={subjects:[],tasks:[],courses:[],scheduleOverrides:{},lastLogin:null,loginStreak:0};function _B(t,e){switch(e.type){case"load":{const n=e.payload;return typeof n!="object"||n===null?cc:{...cc,subjects:Array.isArray(n.subjects)?n.subjects.filter(i=>i&&typeof i=="object"):[],tasks:Array.isArray(n.tasks)?n.tasks.filter(i=>i&&typeof i=="object"):[],courses:Array.isArray(n.courses)?n.courses.filter(i=>i&&typeof i=="object"):[],scheduleOverrides:typeof n.scheduleOverrides=="object"&&n.scheduleOverrides!==null?n.scheduleOverrides:{},lastLogin:n.lastLogin||null,loginStreak:n.loginStreak||0}}case"addSubject":return{...t,subjects:[...t.subjects,e.payload]};case"updateSubject":return{...t,subjects:t.subjects.map(n=>n.id===e.payload.id?{...n,...e.payload}:n)};case"deleteSubject":return{...t,subjects:t.subjects.filter(n=>n.id!==e.id),tasks:t.tasks.filter(n=>n.subjectId!==e.id)};case"addTask":return{...t,tasks:[...t.tasks,e.payload]};case"updateTask":return{...t,tasks:t.tasks.map(n=>n.id===e.payload.id?{...n,...e.payload,updatedAt:Date.now()}:n)};case"deleteTask":return{...t,tasks:t.tasks.filter(n=>n.id!==e.id)};case"addCourse":return{...t,courses:[...t.courses,e.payload]};case"updateCourse":return{...t,courses:t.courses.map(n=>n.id===e.payload.id?{...n,...e.payload,updatedAt:Date.now()}:n)};case"deleteCourse":return{...t,courses:t.courses.filter(n=>n.id!==e.id)};case"setScheduleOverride":{const{key:n,status:i}=e.payload;return{...t,scheduleOverrides:{...t.scheduleOverrides,[n]:i}}}case"removeScheduleOverride":{const{key:n}=e.payload,i={...t.scheduleOverrides};return delete i[n],{...t,scheduleOverrides:i}}case"updateLoginStreak":return{...t,lastLogin:e.payload.lastLogin,loginStreak:e.payload.loginStreak};case"reset":return{...cc,scheduleOverrides:{}};default:return t}}const by=()=>Math.random().toString(36).slice(2,9),CD=(t,e=1)=>{if(!t||!/^#([A-Fa-f0-9]{3}){1,2}$/.test(t))return"";let n=t.substring(1).split("");return n.length===3&&(n=[n[0],n[0],n[1],n[1],n[2],n[2]]),n="0x"+n.join(""),`rgba(${n>>16&255}, ${n>>8&255}, ${n&255}, ${e})`},DD=t=>{const e=new Date("2025-12-02"),n=ws(t,{weekStartsOn:1}),i=ws(e,{weekStartsOn:1});return Math.floor(D2(n,i)/7)%2===0?"odd":"even"},Wu=(t,e,n={})=>{const i=ws(e,{weekStartsOn:1}),a=ze(i,"yyyy-MM-dd"),l=`${t.id}_${a}`;if(n[l])return{status:n[l],isOverridden:!0};const c=DD(e);let f="unknown";return t.scheduleType==="online-always"?f="online":t.scheduleType==="onsite-always"?f="onsite":t.scheduleType==="odd-onsite"?f=c==="odd"?"onsite":"online":t.scheduleType==="even-onsite"&&(f=c==="even"?"onsite":"online"),{status:f,isOverridden:!1}},Iw=(t,e)=>{const n=e.getDay();return t.filter(i=>i.dayOfWeek===n).sort((i,a)=>i.startTime.localeCompare(a.startTime))},TB=t=>{const e=new Date,n={};return Object.entries(t||{}).forEach(([i,a])=>{const l=i.split("_")[1];if(!l){n[i]=a;return}const c=new Date(l),f=es(c,4),m=es(f,5);e<m?n[i]=a:console.log(`  override : ${i} ( ${ze(m,"yyyy-MM-dd")})`)}),n};function bB(t){const[e,n]=Q.useReducer(_B,cc),i=Q.useRef(!0);return Q.useEffect(()=>{if(!t){n({type:"reset"});return}i.current=!0;const a=my(vy,"schedules",t),l=j5(a,c=>{if(c.exists()){const f=c.data();console.log("  Firestore:",f);const m=TB(f.scheduleOverrides);Object.keys(f.scheduleOverrides||{}).length!==Object.keys(m).length&&(console.log("  override  ..."),f.scheduleOverrides=m),n({type:"load",payload:f}),i.current=!1;const y=ze(new Date,"yyyy-MM-dd"),T=f.lastLogin?ze(new Date(f.lastLogin),"yyyy-MM-dd"):null;if(T!==y){const E=ze(es(new Date,-1),"yyyy-MM-dd"),N=T===E?(f.loginStreak||0)+1:1;console.log("  login streak:",N),n({type:"updateLoginStreak",payload:{lastLogin:new Date().toISOString(),loginStreak:N}})}}else console.log("  "),n({type:"reset"}),i.current=!1},c=>{console.error(" Error listening to document:",c),i.current=!1});return()=>l()},[t]),Q.useEffect(()=>{if(!t||i.current){console.log("  (userId:",t,"isInitialLoad:",i.current,")");return}const a=JSON.parse(JSON.stringify(e,(c,f)=>f===void 0?null:f));console.log("  Firestore..."),console.log(" scheduleOverrides:",e.scheduleOverrides),console.log("  keys:",Object.keys(e.scheduleOverrides||{}).length),console.log(" Full cleanState:",a);const l=my(vy,"schedules",t);DC(l,a).then(()=>{console.log(" !"),console.log(" scheduleOverrides :",a.scheduleOverrides)}).catch(c=>{console.error(" Error writing document: ",c),alert(" ")})},[e,t]),[e,n]}function EB(t){if(!("Notification"in window)||Notification.permission!=="granted"||!t.dueAt||!t.reminders?.length)return;const e=new Date(t.dueAt);t.reminders.forEach(n=>{let i=new Date(e);n.type==="minutes"&&(i=Uw(e,-n.amount)),n.type==="hours"&&(i=v2(e,-n.amount)),n.type==="days"&&(i=es(e,-n.amount));const a=i.getTime()-Date.now();a>0&&setTimeout(()=>{new Notification(`: ${t.title}`,{body:t.subjectName?`: ${t.subjectName}`:void 0})},Math.min(a,2147483647))})}function ND(t){const e=new Date(t),n=Math.max(0,Tg(e,new Date));return n>=1440?` ${Math.floor(n/1440)} `:n>=60?` ${Math.floor(n/60)} .`:` ${n} `}function Ey(t){const e={todo:"",doing:"",done:""},n=t==="done"?"border-emerald-400 text-emerald-600 dark:text-emerald-300":t==="doing"?"border-amber-400 text-amber-600 dark:text-amber-300":"border-secondary-300 text-secondary-300 dark:text-secondary-300";return v.jsx(Ud,{className:n,children:e[t]})}function wB(){const[t,e]=Q.useState(null),[n,i]=Q.useState(!0),[a,l]=bB(t?.uid),[c,f]=Q.useState("dashboard"),[m,g]=Q.useState(null),[y,T]=Q.useState(""),[E,N]=Q.useState(!1),[V,L]=Q.useState(new Set),[R,B]=Q.useState(0);Q.useEffect(()=>{document.documentElement.classList.add("dark");const A=CL(_y,le=>{e(le),i(!1)});return()=>A()},[]),Q.useEffect(()=>{const A=setInterval(()=>B(le=>le+1),3e4);return()=>clearInterval(A)},[]);const z=Q.useMemo(()=>Object.fromEntries(a.subjects.map(A=>[A.id,A])),[a.subjects]),F=Q.useMemo(()=>a.tasks.map(A=>({...A,subjectName:z[A.subjectId]?.name,subjectColor:z[A.subjectId]?.color})),[a.tasks,z]),te=F.filter(A=>A.dueAt&&kM(new Date(A.dueAt))),H=te.length?Math.round(te.reduce((A,le)=>A+(le.progress||0),0)/te.length):F.length?Math.round(F.reduce((A,le)=>A+(le.progress||0),0)/F.length):0;F.filter(A=>A.status==="done").length;const K=Math.max(0,100-H),C=F.filter(A=>A.dueAt&&A.status!=="done").sort((A,le)=>new Date(A.dueAt)-new Date(le.dueAt)).slice(0,5),S=Q.useMemo(()=>{let A=F;return m&&(A=A.filter(le=>le.subjectId===m)),y.trim()&&(A=A.filter(le=>(le.title+" "+(le.detail||"")).toLowerCase().includes(y.toLowerCase()))),A=[...A].sort((le,be)=>le.status==="done"&&be.status!=="done"?1:le.status!=="done"&&be.status==="done"?-1:le.dueAt&&be.dueAt?new Date(le.dueAt)-new Date(be.dueAt):le.dueAt?-1:be.dueAt?1:new Date(be.createdAt)-new Date(le.createdAt)),A.filter(le=>le.status==="done"&&le.updatedAt?_g(new Date,new Date(le.updatedAt))<1:!0)},[F,m,y]);Q.useEffect(()=>{if("Notification"in window&&Notification.permission==="default"){const A=setTimeout(()=>Notification.requestPermission(),1e3);return()=>clearTimeout(A)}},[]);const M=Q.useMemo(()=>F.filter(A=>A.status==="done"&&A.updatedAt&&_g(new Date,new Date(A.updatedAt))>=1).sort((A,le)=>new Date(le.updatedAt)-new Date(A.updatedAt)),[F]),O=[{key:"dashboard",label:"",icon:g4},{key:"tasks",label:"",icon:_4},{key:"schedule",label:"",icon:Pc},{key:"settings",label:"",icon:m4}];Q.useEffect(()=>{F.forEach(EB)},[F]);const k=ce.useCallback(()=>{confirm("?")&&DL(_y)},[]),I=ce.useCallback(A=>l({type:"addTask",payload:A}),[l]);return n?v.jsx("div",{className:"h-screen flex items-center justify-center bg-secondary-100 dark:bg-slate-900",children:"..."}):t?v.jsxs("div",{className:"min-h-screen text-secondary-50 bg-secondary-900 font-sans",children:[v.jsxs("div",{className:"md:flex pb-16 md:pb-0",children:[v.jsxs("aside",{className:"hidden md:flex flex-col w-64 bg-secondary-800 border-r-4 border-secondary-900 p-4",children:[v.jsx("div",{className:"flex items-center gap-3 mb-8 px-2",children:v.jsx("img",{src:"/logo.svg",alt:"FlowO Logo",className:"h-9"})}),v.jsx("nav",{className:"flex-1 space-y-2",children:O.map(({key:A,label:le,icon:be})=>v.jsxs("a",{href:"#",onClick:J=>{J.preventDefault(),f(A)},className:`flex items-center gap-3 px-4 py-2.5 rounded-xl text-sm font-medium transition-all ${c===A?"bg-secondary-700 text-primary-500 shadow-md":"hover:bg-secondary-700/50 text-secondary-300"}`,children:[v.jsx(be,{className:"h-5 w-5"}),v.jsx("span",{children:le})]},A))}),v.jsx("div",{className:"mt-auto",children:v.jsxs("div",{className:"flex items-center gap-2 text-sm p-2 rounded-xl bg-secondary-900/50",children:[t.photoURL?v.jsx("img",{src:t.photoURL,alt:t.displayName||t.email,className:"h-8 w-8 rounded-full"}):v.jsx("div",{className:"h-8 w-8 rounded-full bg-secondary-700 flex items-center justify-center",children:v.jsx(Ux,{className:"h-4 w-4 text-secondary-300"})}),v.jsx("span",{className:"truncate flex-1 font-medium text-secondary-200",children:t.displayName||t.email})]})})]}),v.jsxs("main",{className:"flex-1 px-4 py-6 md:p-8",children:[v.jsx("header",{className:"md:hidden flex items-center justify-between mb-4",children:v.jsx("img",{src:"/logo.svg",alt:"FlowO Logo",className:"h-8"})}),v.jsxs("div",{children:[c==="dashboard"&&v.jsx(SB,{state:a,tasks:F,dueSoon:C,progressToday:H,lazyScore:K,setView:f,setSelectedSubject:g}),c==="tasks"&&v.jsx(AB,{state:a,dispatch:l,tasks:F,filteredTasks:S,setQuery:T,query:y,selectedSubject:m,setSelectedSubject:g,deleteMode:E,selectedTasksForDeletion:V,setSelectedTasksForDeletion:L}),c==="schedule"&&v.jsx(xB,{state:a,dispatch:l,userId:t?.uid}),c==="settings"&&v.jsx(MB,{state:a,dispatch:l,userId:t?.uid,onLogout:k,setView:f}),c==="history"&&v.jsx(IB,{tasks:M,dispatch:l})]})]})]}),c==="tasks"&&v.jsxs("div",{className:"fixed left-4 right-4 bottom-20 md:bottom-6 flex items-center justify-between gap-3 z-40",children:[E?v.jsxs(Ut,{onClick:()=>{N(!1),L(new Set)},className:"bg-secondary-500 hover:bg-secondary-600",children:[v.jsx(L4,{className:"h-4 w-4"})," "]}):v.jsx(Ut,{onClick:()=>N(!0),className:"bg-secondary-600 hover:bg-secondary-700",children:v.jsx(bc,{className:"h-4 w-4"})}),E?v.jsxs(Ut,{onClick:()=>{confirm(` ${V.size} ?`)&&(V.forEach(A=>l({type:"deleteTask",id:A})),L(new Set),N(!1))},className:"bg-rose-600 hover:bg-rose-700",disabled:V.size===0,children:[v.jsx(bc,{className:"h-4 w-4"}),"  ",V.size," "]}):v.jsx(CB,{subjects:a.subjects,onAdd:I})]}),v.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-secondary-900/90 backdrop-blur-md border-t border-secondary-800 p-1",children:v.jsx("div",{className:"flex items-center justify-around",children:O.map(({key:A,label:le,icon:be})=>v.jsxs("a",{href:"#",onClick:J=>{J.preventDefault(),f(A)},className:`flex flex-col items-center justify-center w-16 h-14 rounded-xl transition-all ${c===A?"text-primary-500":"text-secondary-300"}`,children:[v.jsx(be,{className:"h-6 w-6"}),v.jsx("span",{className:"text-xs mt-1",children:le})]},A))})})]}):v.jsx(OB,{})}const SB=ce.memo(function({state:e,tasks:n,dueSoon:i,progressToday:a,lazyScore:l,setView:c,setSelectedSubject:f}){const[m,g]=Q.useState(null),[y,T]=Q.useState(new Date),[E,N]=Q.useState(new Date),V=qw(E),L=Fw(E),R=Q.useMemo(()=>Hw({start:ws(V,{weekStartsOn:1}),end:Cy(L,{weekStartsOn:1})}),[V,L]),B=H=>{g(H),T(H)},z=Q.useMemo(()=>{const H=new Map;for(const K of R){const C=ze(K,"yyyy-MM-dd"),S=[];for(const M of n){if(!M.dueAt)continue;const O=new Date(M.dueAt),k=M.startAt?new Date(M.startAt):O,I=K.getTime(),A=new Date(k).setHours(0,0,0,0),le=new Date(O).setHours(0,0,0,0);I>=A&&I<=le&&M.status!=="done"&&S.push(M)}H.set(C,S.slice(0,4))}return H},[R,n]),F=Q.useMemo(()=>{const H=[],K=n.filter(I=>{if(!I.dueAt)return!1;const A=new Date(I.dueAt),le=I.startAt?new Date(I.startAt):A,be=y.getTime(),J=new Date(le).setHours(0,0,0,0),ae=new Date(A).setHours(0,0,0,0);return be>=J&&be<=ae&&I.status!=="done"}).sort((I,A)=>(I.dueAt?new Date(I.dueAt).getTime():-1)-(A.dueAt?new Date(A.dueAt).getTime():-1)),C=K.filter(I=>!I.dueAt),S=n.filter(I=>I.taskType==="deadline"&&I.startAt&&I.dueAt&&qr(y,new Date(I.startAt))===!1&&qr(y,new Date(I.dueAt))===!1&&y>new Date(I.startAt)&&y<new Date(I.dueAt));C.length>0&&H.push({type:"all-day",tasks:C});const M=K.filter(I=>I.dueAt);let O=new Date(y).setHours(0,0,0,0);M.forEach(I=>{const A=new Date(I.dueAt).getTime();if(A>O){const be=Tg(A,O);be>15&&H.push({type:"free",start:O,end:A,duration:be})}const le=Uw(A,I.duration||60).getTime();H.push({type:"task",task:I}),O=le});const k=new Date(y).setHours(23,59,59,999);if(k>O){const I=Tg(k,O);I>15&&H.push({type:"free",start:O,end:k,duration:I})}return S.length>0&&H.unshift({type:"workable",tasks:S}),H},[y,n]),te=H=>H<60?`${H} `:`${Math.floor(H/60)} . ${H%60>0?H%60+" ":""}`;return v.jsxs("div",{className:"space-y-6",children:[v.jsxs(Dn,{children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsxs(Jn,{children:[v.jsx(f4,{className:"h-4 w-4"})," "]}),v.jsx("div",{className:"text-sm text-secondary-300",children:""})]}),v.jsx("div",{className:"space-y-3",children:i.length>0?i.map(H=>v.jsxs("div",{className:"p-3 rounded-lg bg-secondary-700/60 flex items-start justify-between",children:[v.jsxs("div",{className:"min-w-0 flex-1",children:[v.jsx("div",{className:"font-medium truncate text-secondary-100",children:H.title}),v.jsxs("div",{className:"text-xs text-secondary-300",children:[H.subjectName||"","  ",H.dueAt?ze(new Date(H.dueAt),"d MMM HH:mm",{locale:En}):""]})]}),v.jsx("div",{className:"ml-3 flex flex-col items-end gap-2",children:Ey(H.status)})]},H.id)):v.jsx("div",{className:"text-secondary-300 text-center py-6",children:""})})]}),v.jsxs(Dn,{children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsxs(Jn,{children:[v.jsx(Pc,{className:"h-4 w-4"})," "]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(lt,{onClick:()=>N(Ob(E,{months:-1})),children:v.jsx(Fg,{className:"h-4 w-4"})}),v.jsx("div",{className:"text-sm font-medium w-32 text-center",children:ze(E,"MMMM yyyy",{locale:En})}),v.jsx(lt,{onClick:()=>N(Ob(E,{months:1})),children:v.jsx(Hg,{className:"h-4 w-4"})})]})]}),v.jsx("div",{className:"grid grid-cols-7 gap-1 text-center text-xs text-secondary-300 mb-2",children:["","","","","","",""].map(H=>v.jsx("div",{children:H},H))}),v.jsx("div",{className:"grid grid-cols-7 gap-1",children:R.map(H=>{const K=ze(H,"yyyy-MM-dd"),C=z.get(K)||[];return v.jsxs("div",{onClick:()=>B(H),className:`
                  aspect-square p-1 rounded-lg cursor-pointer
                  transition-all duration-200
                  border border-secondary-700/50
                  backdrop-blur-sm
                  flex flex-col
                  ${Zw(H,E)?`bg-secondary-700/40 ${!m||!qr(H,m)?"hover:bg-secondary-700/60":""}`:"opacity-40"}
                  ${qr(H,new Date)?"ring-2 ring-primary-400":""}
                `,children:[v.jsx("div",{className:`text-xs mb-1 ${qr(H,new Date)?"font-semibold text-primary-600":""}`,children:ze(H,"d")}),v.jsxs("div",{className:"flex flex-col gap-0.5 flex-1 justify-end min-h-0",children:[C.map((S,M)=>{const O=(()=>{let I=0;for(let le=0;le<S.id.length;le++)I=S.id.charCodeAt(le)+((I<<5)-I);const A=(I&16777215).toString(16).toUpperCase();return"#"+"00000".substring(0,6-A.length)+A})(),k=S.subjectColor||O;return v.jsx("div",{className:"h-1.5 w-full rounded-full opacity-80",style:{backgroundColor:k},title:S.title},S.id)}),C.length>=4&&v.jsx("div",{className:"h-0.5 w-1/2 mx-auto bg-secondary-500 rounded-full"})]})]},K)})})]}),v.jsxs(Dn,{children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsxs(Jn,{children:[v.jsx(I4,{className:"h-4 w-4"})," "]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(lt,{onClick:()=>T(Df(y,1)),children:v.jsx(Fg,{className:"h-4 w-4"})}),v.jsx("div",{className:"text-sm font-medium w-32 text-center",children:ze(y,"EEEE d MMM",{locale:En})}),v.jsx(lt,{onClick:()=>T(es(y,1)),children:v.jsx(Hg,{className:"h-4 w-4"})})]})]}),v.jsx("div",{className:"space-y-1",children:F.length>0?F.map((H,K)=>{if(H.type==="task"){const{task:C}=H,S=new Date(C.dueAt),M=C.taskType==="event";return v.jsxs("div",{className:"flex gap-4",children:[v.jsx("div",{className:"text-xs text-secondary-300 w-12 text-right pt-2",children:ze(S,"HH:mm")}),v.jsxs("div",{className:`flex-1 p-3 rounded-lg border ${M?"border-primary-500":"border-blue-500"}`,style:{backgroundColor:CD(M?"#22c55e":"#3b82f6",.1)},children:[v.jsx("div",{className:"font-medium text-sm text-secondary-100",children:C.title}),v.jsx("div",{className:"text-xs text-secondary-300",children:C.subjectName})]})]},C.id)}return H.type==="free"?v.jsx("div",{className:"relative flex items-center h-8",children:H.duration>30&&v.jsxs("div",{className:"absolute left-0 right-0 flex items-center justify-center",children:[v.jsx("div",{className:"w-full border-t-2 border-dashed border-secondary-700 absolute"}),v.jsxs("span",{className:"bg-secondary-900 px-2 text-xs text-secondary-300 relative z-10",children:[" ",te(H.duration)]})]})},`free-${K}`):H.type==="all-day"?v.jsxs("div",{className:"mb-2",children:[v.jsx("div",{className:"text-sm font-semibold text-secondary-600 dark:text-secondary-300 mb-2",children:" ()"}),H.tasks.map(C=>v.jsx("div",{className:"p-2 rounded-lg bg-secondary-100/80 dark:bg-secondary-800/80 mb-1 text-sm",children:C.title},C.id))]},"all-day"):H.type==="workable"?v.jsxs("div",{className:"mb-2 p-3 rounded-lg bg-secondary-100/80 dark:bg-secondary-800/80",children:[v.jsxs("div",{className:"text-sm font-semibold text-secondary-600 dark:text-secondary-300 mb-2 flex items-center gap-2",children:["  ",vs.smile]}),H.tasks.map(C=>v.jsxs("div",{className:"text-sm text-secondary-100 dark:text-secondary-300",children:["- ",C.title," ",v.jsxs("span",{className:"text-xs",children:["(",C.subjectName,")"]})]},C.id))]},"workable-day"):null}):v.jsx("div",{className:"text-secondary-300 text-center py-8",children:" "})})]}),v.jsx(Kr,{children:m&&v.jsxs(oo,{onClose:()=>g(null),children:[v.jsxs("div",{className:"text-lg font-semibold mb-4",children:[" ",ze(m,"d MMMM yyyy",{locale:En})]}),(()=>{ze(m,"yyyy-MM-dd");const H=n.filter(S=>{const M=S.dueAt?new Date(S.dueAt):null;if(!M)return!1;const O=S.startAt?new Date(S.startAt):M,k=new Date(m).setHours(0,0,0,0),I=new Date(O).setHours(0,0,0,0),A=new Date(M).setHours(0,0,0,0);return k>=I&&k<=A}),K=H.filter(S=>S.status!=="done"),C=H.filter(S=>S.status==="done");return H.length===0?v.jsx("div",{className:"text-secondary-300 text-center py-8",children:" "}):v.jsxs("div",{className:"space-y-4",children:[K.length>0&&v.jsx("div",{className:"space-y-2",children:K.map(S=>{const M=(()=>{let k=0;for(let A=0;A<S.id.length;A++)k=S.id.charCodeAt(A)+((k<<5)-k);const I=(k&16777215).toString(16).toUpperCase();return"#"+"00000".substring(0,6-I.length)+I})(),O=S.subjectColor||M;return v.jsx("div",{onClick:()=>{c("tasks"),f(null)},className:"p-3 rounded-lg bg-secondary-700 hover:bg-secondary-600 cursor-pointer transition-colors border-l-4",style:{borderLeftColor:O},children:v.jsxs("div",{className:"flex items-start justify-between gap-4",children:[v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("div",{className:"font-medium text-secondary-100 truncate",children:S.title}),v.jsxs("div",{className:"text-secondary-300 text-xs flex flex-wrap gap-x-3 gap-y-1 mt-1",children:[v.jsx("span",{children:S.subjectName||""}),S.dueAt&&v.jsxs("span",{className:"flex items-center gap-1 text-secondary-400",children:[v.jsx(l0,{className:"h-3 w-3"}),S.startAt&&!qr(new Date(S.startAt),new Date(S.dueAt))?v.jsxs(v.Fragment,{children:[ze(new Date(S.startAt),"d MMM",{locale:En})," - ",ze(new Date(S.dueAt),"d MMM",{locale:En})]}):ze(new Date(S.dueAt),"d MMM HH:mm",{locale:En})]})]}),S.dueAt&&!Xw(new Date(S.dueAt))&&v.jsxs("div",{className:"text-xs text-primary-400 mt-1",children:[": ",ND(S.dueAt)]})]}),v.jsx("div",{className:"flex-shrink-0",children:Ey(S.status)})]})},S.id)})}),C.length>0&&v.jsxs("div",{children:[v.jsx("div",{className:"text-sm font-semibold text-secondary-300 mt-4 pt-4 border-t border-secondary-700/80",children:""}),v.jsx("div",{className:"space-y-2 mt-2",children:C.map(S=>v.jsxs("div",{className:"p-3 rounded-lg bg-secondary-800/50 opacity-70 border-l-4 border-secondary-600",children:[v.jsx("div",{className:"font-medium line-through text-secondary-300",children:S.title}),v.jsx("div",{className:"text-xs text-secondary-300",children:S.subjectName})]},S.id))})]})]})})()]})})]})}),xB=ce.memo(function({state:e,dispatch:n,userId:i}){const[a,l]=Q.useState(new Date),[c,f]=Q.useState(null),m=DD(a),g=m==="odd"?"":"",y=m==="odd"?"bg-gradient-to-r from-primary-600 to-green-500 text-black shadow-lg shadow-primary-500/50":"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-lg shadow-purple-500/50",T=Q.useMemo(()=>Iw(e.courses,a),[e.courses,a]),E=Q.useMemo(()=>{const R=ws(a,{weekStartsOn:1}),B=es(R,4);return Hw({start:R,end:B})},[a]),N=Q.useMemo(()=>{const R={};return E.forEach(B=>{const z=ze(B,"yyyy-MM-dd");R[z]=Iw(e.courses,B)}),R},[e.courses,E]),V=R=>{const[B,z]=R.startTime.split(":").map(Number),[F,te]=R.endTime.split(":").map(Number),H=B*60+z,K=F*60+te;return Math.ceil((K-H)/60)},L=(R,B,z)=>{const{status:F}=Wu(R,B,e.scheduleOverrides),te=ws(B,{weekStartsOn:1}),H=ze(te,"yyyy-MM-dd"),K=`${R.id}_${H}`,C=Wu(R,B,{});let S=z;S||(S=F==="online"?"onsite":"online"),S===C.status?n({type:"removeScheduleOverride",payload:{key:K}}):n({type:"setScheduleOverride",payload:{key:K,status:S}})};return v.jsxs("div",{className:"space-y-6",children:[v.jsxs(Dn,{children:[v.jsx("div",{className:"flex items-center justify-between mb-2",children:v.jsxs(Jn,{children:[v.jsx(Pc,{className:"h-4 w-4"})," "]})}),v.jsxs("div",{className:"flex items-center justify-between ",children:[v.jsxs(lt,{onClick:()=>{let R=Df(a,1);R.getDay()===0&&(R=Df(R,2)),R.getDay()===6&&(R=Df(R,1)),l(R)},children:[v.jsx(Fg,{className:"h-4 w-4 mr-0.5"}),v.jsx("span",{className:"hidden sm:inline text-base font-medium",children:""})]}),v.jsxs("div",{className:"text-center flex-1 px-2 whitespace-nowrap",children:[v.jsx("div",{className:"font-semibold text-lg mb-2",children:ze(a,"EEEE d MMMM",{locale:En})}),v.jsx("div",{className:`inline-block px-12 py-2 rounded-full font-bold text-lg ${y}`,children:g})]}),v.jsxs(lt,{onClick:()=>{let R=es(a,1);R.getDay()===6&&(R=es(R,2)),R.getDay()===0&&(R=es(R,1)),l(R)},children:[v.jsx("span",{className:"hidden sm:inline text-base font-medium",children:""}),v.jsx(Hg,{className:"h-5 w-5"})]})]})]}),v.jsxs(Dn,{children:[v.jsx(Jn,{children:""}),T.length>0?v.jsx("div",{className:"space-y-3 mt-4",children:T.map(R=>{const{status:B,isOverridden:z}=Wu(R,a,e.scheduleOverrides),F=B==="online"?"bg-blue-600":B==="onsite"?"bg-primary-600":B==="holiday"?"bg-rose-600":"bg-secondary-600",te=B==="online"?v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx("span",{className:"material-symbols-outlined text-sm leading-none",children:"globe"})," ",v.jsx("span",{className:"leading-none",children:""})]}):B==="onsite"?v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx("span",{className:"material-symbols-outlined text-sm leading-none",children:"school"})," ",v.jsx("span",{className:"leading-none",children:""})]}):B==="holiday"?v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx("span",{className:"material-symbols-outlined text-sm leading-none",children:"block"})," ",v.jsx("span",{className:"leading-none",children:""})]}):v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx("span",{className:"material-symbols-outlined text-sm leading-none",children:"question_mark"})," ",v.jsx("span",{className:"leading-none",children:""})]});return v.jsxs("div",{onClick:()=>f({course:R,date:a}),className:"rounded-xl bg-secondary-800 hover:bg-secondary-700 cursor-pointer transition-all overflow-hidden border-l-4",style:{borderLeftColor:R.color},children:[v.jsxs("div",{className:`${F} ${B==="onsite"?"text-secondary-950":"text-white"} px-4 py-2 font-bold text-sm flex items-center justify-between`,children:[v.jsxs("div",{className:"flex items-center gap-2",children:[z&&v.jsx(ng,{className:"h-4 w-4 animate-spin"}),te]}),v.jsxs("span",{className:"text-xs opacity-90",children:[v.jsx(l0,{className:"h-3 w-3 inline mr-1"}),R.startTime," - ",R.endTime]})]}),v.jsx("div",{className:"p-4",children:v.jsx("div",{className:"flex items-start justify-between",children:v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"font-semibold text-lg mb-2 text-white",children:R.name}),v.jsxs("div",{className:"text-sm text-white dark:text-white space-y-1",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[vs.book," : ",R.code]}),R.room&&v.jsxs("div",{className:"flex items-center gap-2",children:[vs.door," : ",R.room]}),R.pRoom&&v.jsxs("div",{className:"flex items-center gap-2",children:[vs.location,"  P: ",R.pRoom]}),R.teacher&&v.jsxs("div",{className:"flex items-center gap-2",children:[vs.teacher," : ",R.teacher]})]})]})})})]},R.id)})}):v.jsxs("div",{className:"text-center text-secondary-300 py-10 flex flex-col items-center gap-2",children:[vs.celebration,v.jsx("span",{children:""})]})]}),v.jsxs(Dn,{children:[v.jsx("div",{className:"flex items-center justify-between mb-1",children:v.jsxs("div",{className:"flex flex-col",children:[v.jsx(Jn,{children:""}),v.jsxs("div",{className:"text-xs text-secondary-300 flex items-center gap-1",children:[vs.lightbulb,"  "]})]})}),v.jsx("div",{className:"-mx-4 mt-5 overflow-x-auto",children:v.jsxs("table",{className:"w-full border-collapse",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{className:"border border-secondary-700 p-2 bg-secondary-800 text-sm font-semibold sticky left-0 z-10 text-white",children:""}),E.map(R=>v.jsxs("th",{className:"border border-secondary-700 p-2 bg-secondary-800 text-sm font-semibold min-w-[100px] text-white",children:[ze(R,"EEEE",{locale:En}),v.jsx("div",{className:"text-xs font-normal text-secondary-300",children:ze(R,"d MMM",{locale:En})})]},ze(R,"yyyy-MM-dd")))]})}),v.jsx("tbody",{children:["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00"].map((R,B)=>{const z=new Set;return v.jsxs("tr",{children:[v.jsx("td",{className:"border border-secondary-700 p-2 text-xs text-secondary-300 font-medium bg-secondary-800 sticky left-0 z-10",children:R}),E.map((F,te)=>{const H=ze(F,"yyyy-MM-dd"),K=`${H}-${B}`;if(z.has(K))return null;const S=(N[H]||[]).find(M=>M.startTime<=R&&M.endTime>R);if(S&&S.startTime===R){const M=V(S),{status:O,isOverridden:k}=Wu(S,F,e.scheduleOverrides),I=O==="online"?"bg-blue-600":O==="onsite"?"bg-primary-600":O==="holiday"?"bg-rose-600":"bg-secondary-600",A=O==="online"?v.jsx("span",{className:"material-symbols-outlined text-[12px] leading-none",children:"globe"}):O==="onsite"?v.jsx("span",{className:"material-symbols-outlined text-[12px] leading-none",children:"school"}):O==="holiday"?v.jsx("span",{className:"material-symbols-outlined text-[12px] leading-none",children:"block"}):v.jsx("span",{className:"material-symbols-outlined text-[12px] leading-none",children:"question_mark"}),le=O==="online"?"":O==="onsite"?"":O==="holiday"?"":"";for(let be=0;be<M;be++)z.add(`${H}-${B+be}`);return v.jsx("td",{rowSpan:M,onClick:()=>f({course:S,date:F}),className:"border border-secondary-700 p-0 align-top cursor-pointer hover:brightness-110 transition-all duration-200 group",style:{backgroundColor:CD(S.color,.15)},title:"",children:v.jsxs("div",{className:"h-full flex flex-col",children:[v.jsxs("div",{className:`${I} ${O==="onsite"?"text-secondary-950":"text-white"} px-2 py-1 text-[10px] font-bold flex items-center justify-center gap-1`,children:[k&&v.jsx(ng,{className:"h-3 w-3 animate-spin"}),v.jsxs("span",{className:"flex items-center gap-1",children:[A,v.jsx("span",{className:"leading-none",children:le})]})]}),v.jsxs("div",{className:"p-2 flex-1",children:[v.jsx("div",{className:"font-medium text-xs text-white",children:S.name}),v.jsx("div",{className:"text-secondary-300 text-[10px]",children:S.code}),v.jsxs("div",{className:"text-secondary-300 text-[10px] mt-1",children:[S.startTime,"-",S.endTime]})]})]})},H)}else if(!S)return v.jsx("td",{className:"border border-secondary-700 p-1"},H);return null})]},R)})})]})})]}),v.jsx(Kr,{children:c&&(()=>{const{course:R,date:B}=c,{status:z,isOverridden:F}=Wu(R,B,e.scheduleOverrides);return v.jsxs(oo,{onClose:()=>f(null),children:[v.jsx("div",{className:"text-lg font-semibold mb-4 text-white",children:R.name}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-secondary-300",children:""}),v.jsx("div",{className:"font-medium text-white",children:R.code})]}),R.room&&v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-secondary-300",children:""}),v.jsx("div",{className:"font-medium text-white",children:R.room})]}),R.pRoom&&v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-secondary-300",children:" P"}),v.jsx("div",{className:"font-medium text-white",children:R.pRoom})]}),R.teacher&&v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-secondary-300",children:""}),v.jsx("div",{className:"font-medium text-white",children:R.teacher})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-secondary-300",children:""}),v.jsxs("div",{className:"font-medium text-white",children:[R.startTime," - ",R.endTime]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-secondary-300",children:""}),v.jsxs("div",{className:"font-medium text-white",children:[R.scheduleType==="odd-onsite"&&" / ",R.scheduleType==="even-onsite"&&" / ",R.scheduleType==="online-always"&&"",R.scheduleType==="onsite-always"&&""]})]})]}),v.jsxs("div",{className:"mt-6 pt-4 border-t-2 border-secondary-200 dark:border-secondary-700 bg-secondary-50 dark:bg-secondary-800/50 p-4 rounded-lg ",children:[v.jsxs("div",{className:"text-sm font-semibold text-secondary-700 dark:text-secondary-300 mb-2 flex justify-center items-center gap-2",children:[vs.bolt," "]}),v.jsxs("div",{className:"flex flex-col gap-4",children:[v.jsx("div",{children:v.jsxs("div",{className:"font-bold text-sm flex justify-center gap-2 mt-1 text-white",children:[v.jsx("label",{className:"text-sm text-secondary-300",children:""}),F&&v.jsx(ng,{className:"h-5 w-5 animate-spin text-primary-500"}),z==="online"?v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"material-symbols-outlined",children:"globe"})," "]}):z==="onsite"?v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"material-symbols-outlined",children:"school"})," "]}):z==="holiday"?v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"material-symbols-outlined",children:"block"})," "]}):v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"material-symbols-outlined",children:"question_mark"})," ",z]})]})}),v.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mt-2",children:[v.jsxs(Ut,{onClick:()=>L(R,B,"onsite"),className:`px-4 py-2 ${z==="onsite"?"bg-secondary-700 opacity-50 cursor-default":"bg-primary-600 hover:bg-primary-700"} shadow-lg`,disabled:z==="onsite",children:[v.jsx("span",{className:"material-symbols-outlined mr-1",children:"school"})," "]}),v.jsxs(Ut,{onClick:()=>L(R,B,"online"),className:`px-4 py-2 ${z==="online"?"bg-secondary-700 opacity-50 cursor-default":"bg-blue-600 hover:bg-blue-700"} shadow-lg`,disabled:z==="online",children:[v.jsx("span",{className:"material-symbols-outlined mr-1",children:"globe"})," "]}),v.jsxs(Ut,{onClick:()=>L(R,B,"holiday"),className:`px-4 py-2 ${z==="holiday"?"bg-secondary-700 opacity-50 cursor-default":"bg-rose-600 hover:bg-rose-700"} shadow-lg`,disabled:z==="holiday",children:[v.jsx("span",{className:"material-symbols-outlined mr-1",children:"block"})," "]})]})]})]})]})})()})]})}),AB=ce.memo(function({state:e,dispatch:n,tasks:i,filteredTasks:a,setQuery:l,query:c,selectedSubject:f,setSelectedSubject:m,deleteMode:g,selectedTasksForDeletion:y,setSelectedTasksForDeletion:T}){const[E,N]=Q.useState(null),V=ce.useCallback(z=>n({type:"updateTask",payload:z}),[n]),L=ce.useCallback(z=>N(z),[]),R=ce.useCallback(z=>T(F=>{const te=new Set(F);return te.has(z)?te.delete(z):te.add(z),te}),[T]),B=Q.useMemo(()=>Object.fromEntries(e.subjects.map(z=>[z.id,i.filter(F=>F.subjectId===z.id).length])),[i,e.subjects]);return v.jsxs("div",{className:"space-y-6 pb-24",children:[v.jsx("div",{className:"sticky top-0 z-20 bg-secondary-900/80 backdrop-blur-xl p-4 -mx-4",children:v.jsxs("div",{className:"relative",children:[v.jsx(D4,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-primary-400"}),v.jsx(Bt,{placeholder:"...",value:c,onChange:z=>l(z.target.value),className:"pl-9 w-full shadow-lg"})]})}),v.jsx("div",{className:"sticky top-[76px] z-10 -mx-4 px-4 py-2 bg-secondary-900/60 backdrop-blur-xl",children:v.jsxs("div",{className:"flex flex-wrap gap-2",children:[v.jsx(lt,{onClick:()=>m(null),className:`transition-all ${f?"bg-secondary-800/40 text-secondary-300":"bg-primary-500 !text-secondary-900 shadow-lg"}`,children:""}),e.subjects.map(z=>v.jsxs(lt,{onClick:()=>m(z.id),className:`transition-all
                ${f===z.id?"bg-primary-500 !text-secondary-900 shadow-lg":"bg-secondary-800/40 text-secondary-300"}
              `,children:[v.jsx("span",{className:"w-2 h-2 rounded-full mr-2",style:{backgroundColor:z.color}}),z.name,v.jsx(Ud,{className:"ml-1 !px-1.5",children:B[z.id]||0})]},z.id))]})}),v.jsxs("div",{className:"space-y-2",children:[a.map(z=>v.jsx(DB,{task:z,isInDeleteMode:g,isSelected:y.has(z.id),onToggleSelect:R,onUpdate:V,onView:L},z.id)),a.length===0&&v.jsx("div",{className:"text-center text-secondary-300 py-10",children:""})]}),v.jsx(Kr,{children:E&&v.jsx(oo,{onClose:()=>N(null),children:v.jsx(RB,{task:E,onUpdate:z=>n({type:"updateTask",payload:z}),onClose:()=>N(null),subjects:e.subjects})})})]})}),CB=ce.memo(function({subjects:e,onAdd:n}){const[i,a]=Q.useState(!1),[l,c]=Q.useState({subjectId:e[0]?.id||"",title:"",detail:"",startAt:"",dueAt:"",link:"",status:"todo",category:"",reminders:[],taskType:"deadline"});Q.useEffect(()=>{e.length&&!l.subjectId&&c(T=>({...T,subjectId:e[0].id}))},[e]);const f=T=>{const{startAt:E,dueAt:N}=l,V=eS(T,{hours:0,minutes:0,seconds:0,milliseconds:0});if(!E&&!N)c(L=>({...L,dueAt:V.toISOString(),startAt:""}));else if(!E&&N){const L=new Date(N);V<L?c(R=>({...R,startAt:V.toISOString()})):c(R=>({...R,startAt:N,dueAt:V.toISOString()}))}else c(L=>({...L,dueAt:V.toISOString(),startAt:""}))},m=(T,E)=>{if(!E)return;const[N,V]=E.split(":"),L=l[T]?new Date(l[T]):new Date;let R=tS(L,parseInt(N,10));R=nS(R,parseInt(V,10)),c(B=>({...B,[T]:R.toISOString()}))},g=Q.useMemo(()=>{const T=l.startAt?new Date(l.startAt):void 0,E=l.dueAt?new Date(l.dueAt):void 0;return T&&!E?{from:T,to:T}:!T&&E?{from:E,to:E}:{from:T,to:E}},[l.startAt,l.dueAt]),y=()=>{if(!l.title)return alert("");const T={...l,id:by(),createdAt:Date.now(),updatedAt:Date.now(),detail:l.detail||"",link:l.link||""};n(T),a(!1),c({subjectId:e[0]?.id||"",title:"",detail:"",startAt:"",dueAt:"",link:"",status:"todo",category:"",reminders:[],taskType:"deadline"})};return v.jsxs(v.Fragment,{children:[v.jsxs(Ut,{onClick:()=>a(!0),children:[v.jsx(Yg,{className:"h-4 w-4"})," "]}),v.jsx(Kr,{children:i&&v.jsxs(oo,{onClose:()=>a(!1),children:[v.jsx("div",{className:"text-lg font-semibold mb-4 px-2",children:""}),v.jsxs("div",{className:"px-2 mb-4",children:[v.jsx("label",{className:"text-xs text-secondary-300 mb-1 block",children:""}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx(lt,{onClick:()=>c({...l,taskType:"deadline"}),className:`flex-1 ${l.taskType==="deadline"?"bg-primary-500 !text-secondary-900":"bg-secondary-700/40 text-secondary-300"}`,children:v.jsxs("span",{className:"flex items-center gap-2",children:[vs.task," "]})}),v.jsx(lt,{onClick:()=>c({...l,taskType:"event"}),className:`flex-1 ${l.taskType==="event"?"bg-primary-500 !text-secondary-900":"bg-secondary-700/40 text-secondary-300"}`,children:v.jsxs("span",{className:"flex items-center gap-2",children:[vs.event," "]})})]})]}),v.jsxs("div",{className:"overflow-y-auto max-h-[calc(85vh-8rem)] px-2",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-y-4 gap-x-4",children:[v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{className:"text-xs text-secondary-300 mb-1 block",children:""}),v.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(T=>v.jsxs(lt,{onClick:()=>c({...l,subjectId:T.id}),className:`${l.subjectId===T.id?"bg-primary-500 !text-secondary-900":"bg-secondary-700/40 text-secondary-300"}`,children:[v.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:T.color}})," ",T.name]},T.id))})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{className:"text-xs",children:""}),v.jsx(Bt,{value:l.title,onChange:T=>c({...l,title:T.target.value}),placeholder:" Assignment  3"})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{className:"text-xs",children:""}),v.jsx(AD,{value:l.detail,onChange:T=>c({...l,detail:T.target.value}),placeholder:"  checklist "})]}),v.jsxs("div",{className:"md:col-span-2 p-3 rounded-2xl bg-secondary-800/50",children:[v.jsx("div",{className:"flex justify-center",children:v.jsx(xD,{mode:"range",selected:g,onDayClick:f,locale:En,showOutsideDays:!0,weekStartsOn:1})}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2 pt-2 border-t border-secondary-700/50",children:[l.taskType==="deadline"&&v.jsxs("div",{children:[v.jsx("label",{className:"text-xs",children:""}),v.jsx(Bt,{type:"time",value:l.startAt?ze(new Date(l.startAt),"HH:mm"):"",onChange:T=>m("startAt",T.target.value)})]}),v.jsxs("div",{className:l.taskType!=="deadline"?"col-span-2":"",children:[v.jsx("label",{className:"text-xs",children:l.taskType==="deadline"?"":""}),v.jsx(Bt,{type:"time",value:l.dueAt?ze(new Date(l.dueAt),"HH:mm"):"",onChange:T=>m("dueAt",T.target.value)})]})]}),v.jsx("div",{className:"text-xs text-center text-secondary-300 mt-2",children:l.startAt&&l.dueAt?"":l.dueAt?" ":""})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs",children:""}),v.jsx(Bt,{value:l.link,onChange:T=>c({...l,link:T.target.value}),placeholder:""})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{className:"text-xs",children:""}),v.jsx("div",{className:"flex flex-wrap gap-2",children:[{value:"",label:""},{value:"",label:""},{value:"",label:""}].map(T=>v.jsx(lt,{onClick:()=>c({...l,category:T.value}),className:`${l.category===T.value?"bg-primary-500 !text-secondary-900":"bg-secondary-700/40 text-secondary-300"}`,children:T.label},T.value))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs",children:""}),v.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:[{value:"todo",label:""},{value:"doing",label:""},{value:"done",label:""}].map(T=>v.jsx(lt,{onClick:()=>c({...l,status:T.value}),className:l.status===T.value?"bg-primary-500 !text-secondary-900":"bg-secondary-700/40 text-secondary-300",children:T.label},T.value))})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{className:"text-xs",children:" ()"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:[{label:"15 ",type:"minutes",amount:15},{label:"1 .",type:"hours",amount:1},{label:"1 ",type:"days",amount:1}].map(T=>v.jsxs(lt,{onClick:()=>{c(E=>({...E,reminders:E.reminders.some(N=>N.type===T.type&&N.amount===T.amount)?E.reminders.filter(N=>!(N.type===T.type&&N.amount===T.amount)):[...E.reminders,T]}))},className:l.reminders.some(E=>E.type===T.type&&E.amount===T.amount)?"bg-primary-500 !text-secondary-900":"bg-secondary-700/40 text-secondary-300",children:[v.jsx(jx,{className:"h-4 w-4"})," ",T.label]},T.label))})]})]}),v.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[v.jsx(lt,{onClick:()=>a(!1),children:""}),v.jsxs(Ut,{onClick:y,children:[v.jsx(Tc,{className:"h-4 w-4"})," "]})]})]})]})})]})}),DB=ce.memo(function({task:e,onUpdate:n,onView:i,isInDeleteMode:a,isSelected:l,onToggleSelect:c}){const f=T=>{T.stopPropagation();const E=["todo","doing","done"],N=E.indexOf(e.status),V=E[(N+1)%E.length];if(e.status==="done"&&e.updatedAt&&_g(new Date,new Date(e.updatedAt))>=1){alert(" 1 ");return}n({...e,status:V,updatedAt:new Date().toISOString()})},m=e.status==="done"?"opacity-60 bg-gradient-to-l from-emerald-400/10":e.status==="doing"?"bg-gradient-to-l from-amber-400/10":"",g=e.taskType==="event",y=()=>{a?c(e.id):i(e)};return v.jsx(Dn,{onClick:y,className:`${m} cursor-pointer transition-all ${l?"ring-2 ring-primary-500":""}`,children:v.jsxs("div",{className:"flex items-start gap-4",children:[v.jsxs("button",{onClick:f,className:"flex-shrink-0 mt-1 transition-transform active:scale-90",title:"",children:[e.status==="done"&&v.jsx(qg,{className:"h-6 w-6 text-emerald-500"}),e.status==="doing"&&v.jsx("div",{className:"h-6 w-6 rounded-full border-2 border-amber-500 flex items-center justify-center",children:v.jsx(w4,{className:"h-4 w-4 text-amber-500"})}),e.status==="todo"&&v.jsx(r4,{className:"h-6 w-6 text-secondary-600"})]}),v.jsxs("div",{className:"min-w-0 flex-1",children:[v.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[v.jsx("div",{className:"font-medium truncate text-secondary-100",children:e.title}),e.subjectName&&v.jsxs(Ud,{className:"border-secondary-600/50 text-secondary-300",children:[v.jsx("span",{className:"inline-block w-2 h-2 rounded-full mr-1",style:{background:e.subjectColor}})," ",e.subjectName]})]}),e.detail&&v.jsx("div",{className:"text-sm text-secondary-300 mt-1 whitespace-pre-wrap line-clamp-4",children:e.detail}),v.jsx("div",{className:"mt-2",children:v.jsxs("div",{className:"text-xs text-secondary-300 mt-1 flex items-center gap-2 flex-wrap",children:[e.dueAt?g?v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(l0,{className:"h-3 w-3"})," : ",ze(new Date(e.dueAt),"d MMM yy HH:mm",{locale:En})]}):v.jsxs(v.Fragment,{children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(c4,{className:"h-3 w-3"})," : ",ze(new Date(e.dueAt),"d MMM yy HH:mm",{locale:En})]}),v.jsxs("span",{children:[" ",Xw(new Date(e.dueAt))?"":ND(e.dueAt)]})]}):v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(Pc,{className:"h-3 w-3"})," "]}),e.link&&v.jsxs("a",{href:e.link,target:"_blank",className:"inline-flex items-center gap-1 underline",children:[v.jsx(Lx,{className:"h-3 w-3"})," "]})]})})]}),a&&v.jsx("div",{className:"absolute top-2 right-2",children:v.jsx(qg,{className:`h-6 w-6 transition-all ${l?"text-primary-500 scale-100":"text-secondary-600 scale-0"}`})})]})})});function NB({value:t,onChange:e}){const n=[{label:"15 ",type:"minutes",amount:15},{label:"30 ",type:"minutes",amount:30},{label:"1 .",type:"hours",amount:1},{label:"3 .",type:"hours",amount:3},{label:"1 ",type:"days",amount:1}],i=a=>{const l=t.some(c=>c.type===a.type&&c.amount===a.amount);e(l?t.filter(c=>!(c.type===a.type&&c.amount===a.amount)):[...t,a])};return v.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(a=>v.jsxs(lt,{onClick:()=>i(a),className:t.some(l=>l.type===a.type&&l.amount===a.amount)?"bg-secondary-800":"",children:[v.jsx(jx,{className:"h-4 w-4"})," ",a.label]},a.label))})}function Ow({course:t,onClose:e,onSave:n}){const[i,a]=Q.useState(t||{name:"",code:"",room:"",pRoom:"",teacher:"",dayOfWeek:1,startTime:"09:00",endTime:"12:00",scheduleType:"odd-onsite",color:"#6366f1"}),l=()=>{if(!i.name||!i.code){alert("");return}n(i)};return v.jsxs(oo,{onClose:e,children:[v.jsx("div",{className:"text-lg font-semibold mb-4",children:t?"":""}),v.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-secondary-300",children:""}),v.jsx(Bt,{value:i.name,onChange:c=>a({...i,name:c.target.value}),placeholder:" ",autoFocus:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-secondary-300",children:""}),v.jsx(Bt,{value:i.code,onChange:c=>a({...i,code:c.target.value}),placeholder:" 002125"})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-secondary-300",children:""}),v.jsx(Bt,{value:i.room,onChange:c=>a({...i,room:c.target.value}),placeholder:" 9.06.06"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-secondary-300",children:" P"}),v.jsx(Bt,{value:i.pRoom,onChange:c=>a({...i,pRoom:c.target.value}),placeholder:" P3"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-secondary-300",children:""}),v.jsx(Bt,{value:i.teacher,onChange:c=>a({...i,teacher:c.target.value}),placeholder:""})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-secondary-300",children:""}),v.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:[{value:1,label:""},{value:2,label:""},{value:3,label:""},{value:4,label:""},{value:5,label:""}].map(c=>v.jsx(lt,{onClick:()=>a({...i,dayOfWeek:c.value}),className:i.dayOfWeek===c.value?"bg-primary-500 !text-secondary-900":"bg-secondary-700/40 text-secondary-300",children:c.label},c.value))})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-secondary-300",children:""}),v.jsx(Bt,{type:"time",value:i.startTime,onChange:c=>a({...i,startTime:c.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-secondary-300",children:""}),v.jsx(Bt,{type:"time",value:i.endTime,onChange:c=>a({...i,endTime:c.target.value})})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-secondary-300 mb-2 block",children:""}),v.jsx("div",{className:"space-y-2",children:[{value:"odd-onsite",label:" / "},{value:"even-onsite",label:" / "},{value:"online-always",label:""},{value:"onsite-always",label:""}].map(c=>v.jsxs("label",{className:"flex items-center gap-2 p-2 rounded-lg hover:bg-secondary-700/50 cursor-pointer",children:[v.jsx("input",{type:"radio",name:"scheduleType",value:c.value,checked:i.scheduleType===c.value,onChange:f=>a({...i,scheduleType:f.target.value}),className:"w-4 h-4"}),v.jsx("span",{className:"text-sm",children:c.label})]},c.value))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-secondary-300",children:""}),v.jsx(Bt,{type:"color",value:i.color,onChange:c=>a({...i,color:c.target.value}),className:"w-full h-12 p-1 bg-secondary-800 border-secondary-700"})]})]}),v.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[v.jsx(lt,{onClick:e,children:""}),v.jsxs(Ut,{onClick:l,children:[v.jsx(Tc,{className:"h-4 w-4"})," "]})]})]})}const MB=ce.memo(function({state:e,dispatch:n,userId:i,onLogout:a,setView:l}){const c=Q.useRef(null),[f,m]=Q.useState(!1),[g,y]=Q.useState(null),[T,E]=Q.useState(!1),[N,V]=Q.useState(null),L=Q.useRef(null),R=Q.useRef(null),B=Q.useRef(null),z=Q.useRef(null),F=()=>{const I=L.current.value.trim();I&&(n({type:"addSubject",payload:{id:by(),name:I,color:R.current.value||"#6366f1"}}),L.current.value="",m(!1))},te=I=>{y(I)},H=()=>{if(!g)return;const I=B.current.value.trim();I&&n({type:"updateSubject",payload:{...g,name:I,color:z.current.value||"#6366f1"}}),y(null)},K=I=>{confirm("?")&&n({type:"deleteSubject",id:I})},C=I=>{V(I)},S=I=>{confirm("?")&&n({type:"deleteCourse",id:I})},M=()=>{const I=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),A=URL.createObjectURL(I),le=document.createElement("a");le.href=A,le.download="flowo-data.json",le.click(),URL.revokeObjectURL(A)},O=I=>{const A=I.target.files?.[0];if(!A)return;const le=new FileReader;le.onload=be=>{try{const J=JSON.parse(be.target.result);n({type:"load",payload:J}),alert("!")}catch{alert("")}},le.readAsText(A)},k=()=>{if(confirm("? ")){if(!i)return;const I=my(vy,"schedules",i);DC(I,cc).then(()=>{alert("!")}).catch(A=>{console.error("Error clearing document: ",A),alert("")})}};return v.jsxs("div",{className:"space-y-6",children:[v.jsxs(Dn,{children:[v.jsx(Jn,{children:""}),v.jsx("div",{className:"space-y-2 mb-4",children:e.subjects.map(I=>v.jsxs("div",{className:"flex items-center p-2 rounded-lg bg-secondary-800/50 group",children:[v.jsx("span",{className:"w-3 h-3 rounded-full mr-3",style:{backgroundColor:I.color}}),v.jsx("span",{className:"flex-1 text-white",children:I.name}),v.jsxs("div",{className:"flex items-center opacity-0 group-hover:opacity-100 transition-opacity",children:[v.jsx(lt,{onClick:()=>te(I),className:"!p-2",children:v.jsx(Gg,{className:"h-4 w-4"})}),v.jsx(lt,{onClick:()=>K(I.id),className:"!p-2 text-rose-500",children:v.jsx(bc,{className:"h-4 w-4"})})]})]},I.id))}),v.jsxs(Ut,{onClick:()=>m(!0),children:[v.jsx(Yg,{className:"h-4 w-4"})," "]})]}),v.jsx(Kr,{children:f&&v.jsxs(oo,{onClose:()=>m(!1),children:[v.jsx("div",{className:"text-lg font-semibold mb-4",children:""}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs",children:""}),v.jsx(Bt,{ref:L,placeholder:" GEN001",autoFocus:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs",children:""}),v.jsx(Bt,{ref:R,type:"color",defaultValue:"#6366f1",className:"w-full h-12 p-1"})]})]}),v.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[v.jsx(lt,{onClick:()=>m(!1),children:""}),v.jsxs(Ut,{onClick:F,children:[v.jsx(Tc,{className:"h-4 w-4"})," "]})]})]})}),v.jsx(Kr,{children:g&&v.jsxs(oo,{onClose:()=>y(null),children:[v.jsx("div",{className:"text-lg font-semibold mb-4",children:""}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs",children:""}),v.jsx(Bt,{ref:B,defaultValue:g.name,autoFocus:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs",children:""}),v.jsx(Bt,{ref:z,type:"color",defaultValue:g.color,className:"w-full h-12 p-1"})]})]}),v.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[v.jsx(lt,{onClick:()=>y(null),children:""}),v.jsxs(Ut,{onClick:H,children:[v.jsx(Tc,{className:"h-4 w-4"})," "]})]})]})}),v.jsxs(Dn,{children:[v.jsx(Jn,{children:""}),v.jsx("div",{className:"space-y-2 mb-4",children:e.courses.map(I=>v.jsxs("div",{className:"flex items-center p-2 rounded-lg bg-secondary-800/50 group",children:[v.jsx("span",{className:"w-3 h-3 rounded-full mr-3",style:{backgroundColor:I.color}}),v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"font-medium text-white",children:I.name}),v.jsxs("div",{className:"text-xs text-secondary-300",children:[I.code,"  ",["","","","","",""][I.dayOfWeek]," ",I.startTime,"-",I.endTime]})]}),v.jsxs("div",{className:"flex items-center opacity-0 group-hover:opacity-100 transition-opacity",children:[v.jsx(lt,{onClick:()=>C(I),className:"!p-2",children:v.jsx(Gg,{className:"h-4 w-4"})}),v.jsx(lt,{onClick:()=>S(I.id),className:"!p-2 text-rose-500",children:v.jsx(bc,{className:"h-4 w-4"})})]})]},I.id))}),v.jsxs(Ut,{onClick:()=>E(!0),children:[v.jsx(Yg,{className:"h-4 w-4"})," "]})]}),v.jsx(Kr,{children:T&&v.jsx(Ow,{onClose:()=>E(!1),onSave:I=>{n({type:"addCourse",payload:{...I,id:by(),createdAt:Date.now(),updatedAt:Date.now()}}),E(!1)}})}),v.jsx(Kr,{children:N&&v.jsx(Ow,{course:N,onClose:()=>V(null),onSave:I=>{n({type:"updateCourse",payload:I}),V(null)}})}),v.jsxs(Dn,{children:[v.jsxs(Jn,{children:[v.jsx(Px,{className:"h-4 w-4"})," "]}),v.jsx("p",{className:"text-sm text-secondary-300 mb-3",children:""}),v.jsx(Ut,{onClick:()=>l("history"),children:""})]}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[v.jsxs(Dn,{className:"sm:col-span-1",children:[v.jsx(Jn,{children:"/"}),v.jsxs("div",{className:"flex flex-wrap items-center gap-2 justify-center sm:justify-start",children:[v.jsxs(Ut,{onClick:M,children:[v.jsx(l4,{className:"h-4 w-4"}),"  JSON"]}),v.jsxs(lt,{onClick:()=>c.current?.click(),children:[v.jsx(V4,{className:"h-4 w-4"}),"  JSON"]}),v.jsx("input",{ref:c,type:"file",accept:"application/json",className:"hidden",onChange:O})]}),v.jsx("div",{className:"mt-3 text-xs text-secondary-300",children:""})]}),v.jsxs(Dn,{className:"sm:col-span-1",children:[v.jsx(Jn,{children:""}),v.jsxs("div",{className:"flex flex-col items-start",children:[v.jsx(Ut,{className:"bg-rose-600 hover:bg-rose-700",onClick:k,children:""}),v.jsx("p",{className:"text-xs text-secondary-300 mt-2",children:""})]})]})]}),v.jsxs(Dn,{children:[v.jsx(Jn,{children:""}),v.jsx("p",{className:"text-sm text-secondary-300 mb-3",children:""}),v.jsxs(Ut,{onClick:a,className:"bg-secondary-700 hover:bg-secondary-600",children:[v.jsx(b4,{className:"h-4 w-4"})," "]})]})]})});function RB({task:t,onUpdate:e,onClose:n,subjects:i}){const[a,l]=Q.useState(!1),[c,f]=Q.useState({...t,taskType:t.taskType||"deadline",startAt:t.startAt?ze(new Date(t.startAt),"yyyy-MM-dd'T'HH:mm"):"",dueAt:t.dueAt?ze(new Date(t.dueAt),"yyyy-MM-dd'T'HH:mm"):""}),m=E=>{const{startAt:N,dueAt:V}=c,L=eS(E,{hours:0,minutes:0,seconds:0,milliseconds:0});if(!N&&!V)f(R=>({...R,dueAt:L.toISOString(),startAt:""}));else if(!N&&V){const R=new Date(V);L<R?f(B=>({...B,startAt:L.toISOString()})):f(B=>({...B,startAt:V,dueAt:L.toISOString()}))}else f(R=>({...R,dueAt:L.toISOString(),startAt:""}))},g=(E,N)=>{if(!N)return;const[V,L]=N.split(":"),R=c[E]?new Date(c[E]):new Date;let B=tS(R,parseInt(V,10));B=nS(B,parseInt(L,10)),f(z=>({...z,[E]:B.toISOString()}))},y=Q.useMemo(()=>{const E=c.startAt?new Date(c.startAt):void 0,N=c.dueAt?new Date(c.dueAt):void 0;return E&&!N?{from:E,to:E}:!E&&N?{from:N,to:N}:{from:E,to:N}},[c.startAt,c.dueAt]),T=()=>{const E={...c,detail:c.detail||"",link:c.link||""};e(E),l(!1)};return a?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("div",{className:"text-lg font-semibold",children:""}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx(lt,{onClick:()=>l(!1),children:""}),v.jsxs(Ut,{onClick:T,children:[v.jsx(Tc,{className:"h-4 w-4"})," "]})]})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"text-xs text-secondary-300 mb-1 block",children:""}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx(lt,{onClick:()=>f({...c,taskType:"deadline"}),className:`flex-1 ${c.taskType==="deadline"?"bg-primary-500 !text-secondary-900":"bg-secondary-700/40 text-secondary-300"}`,children:v.jsxs("span",{className:"flex items-center gap-2",children:[vs.task," "]})}),v.jsx(lt,{onClick:()=>f({...c,taskType:"event"}),className:`flex-1 ${c.taskType==="event"?"bg-primary-500 !text-secondary-900":"bg-secondary-700/40 text-secondary-300"}`,children:v.jsxs("span",{className:"flex items-center gap-2",children:[vs.event," "]})})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs",children:""}),v.jsx("div",{className:"custom-select-wrapper",children:v.jsxs(vB,{value:c.status,onChange:E=>f({...c,status:E.target.value}),children:[v.jsx("option",{value:"todo",children:""}),v.jsx("option",{value:"doing",children:""}),v.jsx("option",{value:"done",children:""})]})})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{className:"text-xs",children:""}),v.jsx(Bt,{value:c.title,onChange:E=>f({...c,title:E.target.value}),className:"w-full"})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{className:"text-xs",children:""}),v.jsx(AD,{value:c.detail||"",onChange:E=>f({...c,detail:E.target.value})})]}),v.jsxs("div",{className:"md:col-span-2 p-3 rounded-2xl bg-secondary-800/50",children:[v.jsx(xD,{mode:"range",selected:y,onDayClick:m,locale:En,showOutsideDays:!0,weekStartsOn:1}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2 pt-2 border-t border-secondary-700/50",children:[c.taskType==="deadline"&&v.jsxs("div",{children:[v.jsx("label",{className:"text-xs",children:""}),v.jsx(Bt,{type:"time",value:c.startAt?ze(new Date(c.startAt),"HH:mm"):"",onChange:E=>g("startAt",E.target.value)})]}),v.jsxs("div",{className:c.taskType!=="deadline"?"col-span-2":"",children:[v.jsx("label",{className:"text-xs",children:c.taskType==="deadline"?"":""}),v.jsx(Bt,{type:"time",value:c.dueAt?ze(new Date(c.dueAt),"HH:mm"):"",onChange:E=>g("dueAt",E.target.value)})]})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs",children:""}),v.jsx(Bt,{value:c.link||"",onChange:E=>f({...c,link:E.target.value}),className:"w-full"})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{className:"text-xs",children:""}),v.jsx(NB,{value:c.reminders||[],onChange:E=>f({...c,reminders:E})})]})]})]}):v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"text-lg font-semibold mb-2 text-white",children:t.title}),v.jsxs("div",{className:"space-y-4",children:[t.detail&&v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-secondary-300",children:""}),v.jsx("div",{className:"whitespace-pre-wrap text-sm text-white",children:t.detail})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-secondary-300",children:t.taskType==="event"?"":""}),v.jsx("div",{className:"flex items-center gap-2 text-sm",children:t.dueAt?v.jsxs(v.Fragment,{children:[v.jsx(Pc,{className:"h-4 w-4 text-secondary-300"}),v.jsx("span",{className:"text-white",children:ze(new Date(t.dueAt),"d MMMM yyyy '' HH:mm",{locale:En})})]}):v.jsx("span",{className:"text-white",children:""})})]}),t.link&&v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-secondary-300",children:""}),v.jsxs("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"text-primary-500 hover:underline flex items-center gap-1 text-sm truncate",children:[v.jsx(Lx,{className:"h-4 w-4"})," ",t.link]})]}),v.jsxs("div",{className:"flex gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-secondary-300",children:""}),v.jsx("div",{children:Ey(t.status)})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-secondary-300",children:""}),v.jsx("div",{children:t.subjectName?v.jsxs(Ud,{className:"border-secondary-600/50 text-secondary-300",children:[v.jsx("span",{className:"inline-block w-2 h-2 rounded-full mr-1",style:{background:t.subjectColor||"#94a3b8"}})," ",t.subjectName]}):""})]})]})]}),v.jsxs("div",{className:"mt-6 pt-4 border-t border-secondary-700 flex justify-end gap-2",children:[v.jsx(lt,{onClick:n,children:""}),v.jsxs(Ut,{onClick:()=>l(!0),children:[v.jsx(Gg,{className:"h-4 w-4"})," "]})]})]})}const IB=ce.memo(function({tasks:e,dispatch:n}){const[i,a]=Q.useState(new Set),l=()=>{i.size!==0&&confirm(` ${i.size} ?`)&&(i.forEach(c=>n({type:"deleteTask",id:c})),a(new Set))};return v.jsxs("div",{className:"space-y-4",children:[v.jsxs(Jn,{children:[v.jsx(Px,{className:"h-5 w-5"})," "]}),v.jsx("p",{className:"text-sm text-secondary-300 -mt-4",children:" 1 "}),v.jsx("div",{className:"flex justify-end",children:v.jsxs(Ut,{onClick:l,disabled:i.size===0,className:"bg-rose-600 hover:bg-rose-700",children:[v.jsx(bc,{className:"h-4 w-4"}),"  ",i.size," "]})}),v.jsxs("div",{className:"space-y-2",children:[e.map(c=>v.jsx(Dn,{onClick:()=>{const f=new Set(i);f.has(c.id)?f.delete(c.id):f.add(c.id),a(f)},className:`cursor-pointer transition-opacity opacity-70 hover:opacity-100 ${i.has(c.id)?"ring-2 ring-rose-500":""}`,children:v.jsxs("div",{className:"flex justify-between",children:[v.jsxs("div",{children:[v.jsx("div",{className:"font-medium text-white",children:c.title}),v.jsxs("div",{className:"text-xs text-secondary-300",children:[": ",ze(new Date(c.updatedAt),"d MMM yy HH:mm",{locale:En})]})]}),i.has(c.id)&&v.jsx(qg,{className:"h-5 w-5 text-rose-500"})]})},c.id)),e.length===0&&v.jsx("div",{className:"text-center text-secondary-300 py-10",children:""})]})]})});function OB(){const t=async()=>{const e=new Gi;try{await KL(_y,e)}catch(n){console.error("Error signing in with Google",n),alert(": "+n.message)}};return v.jsxs("div",{className:"h-screen flex flex-col items-center justify-center gap-8 bg-secondary-950 p-4",children:[v.jsxs("div",{className:"text-center",children:[v.jsx(_c.div,{initial:{rotate:-8,scale:.9},animate:{rotate:0,scale:1},className:"inline-block h-20 w-20 mb-4 rounded-3xl bg-primary-600 text-secondary-950 items-center justify-center shadow-lg shadow-primary-500/30",children:v.jsx(M4,{className:"h-12 w-12 m-4"})}),v.jsx("h1",{className:"text-3xl font-bold font-display text-secondary-100",children:" FlowO"}),v.jsx("p",{className:"text-secondary-300 mt-2",children:""})]}),v.jsxs(Ut,{onClick:t,className:"!px-6 !py-3 !text-base",children:[v.jsx(Ux,{className:"h-5 w-5"}),"  Google"]})]})}function oo({children:t,onClose:e}){return Q.useEffect(()=>{const n=i=>{i.key==="Escape"&&e()};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[e]),PM.createPortal(v.jsxs(v.Fragment,{children:[v.jsx(_c.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-40",onClick:e}),v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-8",onClick:e,children:v.jsx(_c.div,{initial:{opacity:0,scale:.98,y:8},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.98,y:8},transition:{duration:.18},className:"w-[92%] sm:w-[80%] md:w-[720px] mx-auto",onClick:n=>n.stopPropagation(),children:v.jsx("div",{className:"max-h-[calc(100vh-4rem)] w-full overflow-y-auto rounded-2xl",children:v.jsx(Dn,{className:"p-4 md:p-6 rounded-2xl",children:t})})})})]}),document.body)}p2.createRoot(document.getElementById("root")).render(v.jsx(Q.StrictMode,{children:v.jsx(wB,{})}));
