(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function s2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Vp={exports:{}},qu={};var bb;function i2(){if(bb)return qu;bb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return qu.Fragment=e,qu.jsx=n,qu.jsxs=n,qu}var Eb;function r2(){return Eb||(Eb=1,Vp.exports=i2()),Vp.exports}var _=r2(),Pp={exports:{}},ke={};var wb;function a2(){if(wb)return ke;wb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function D(L){return L===null||typeof L!="object"?null:(L=w&&L[w]||L["@@iterator"],typeof L=="function"?L:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,P={};function z(L,se,ue){this.props=L,this.context=se,this.refs=P,this.updater=ue||V}z.prototype.isReactComponent={},z.prototype.setState=function(L,se){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,se,"setState")},z.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function K(){}K.prototype=z.prototype;function F(L,se,ue){this.props=L,this.context=se,this.refs=P,this.updater=ue||V}var te=F.prototype=new K;te.constructor=F,N(te,z.prototype),te.isPureReactComponent=!0;var B=Array.isArray;function G(){}var x={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(L,se,ue){var ce=ue.ref;return{$$typeof:t,type:L,key:se,ref:ce!==void 0?ce:null,props:ue}}function k(L,se){return R(L.type,se,L.props)}function O(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function I(L){var se={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ue){return se[ue]})}var M=/\/+/g;function pe(L,se){return typeof L=="object"&&L!==null&&L.key!=null?I(""+L.key):se.toString(36)}function Be(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(G,G):(L.status="pending",L.then(function(se){L.status==="pending"&&(L.status="fulfilled",L.value=se)},function(se){L.status==="pending"&&(L.status="rejected",L.reason=se)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function J(L,se,ue,ce,Ee){var Oe=typeof L;(Oe==="undefined"||Oe==="boolean")&&(L=null);var ze=!1;if(L===null)ze=!0;else switch(Oe){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(L.$$typeof){case t:case e:ze=!0;break;case y:return ze=L._init,J(ze(L._payload),se,ue,ce,Ee)}}if(ze)return Ee=Ee(L),ze=ce===""?"."+pe(L,0):ce,B(Ee)?(ue="",ze!=null&&(ue=ze.replace(M,"$&/")+"/"),J(Ee,se,ue,"",function(ns){return ns})):Ee!=null&&(O(Ee)&&(Ee=k(Ee,ue+(Ee.key==null||L&&L.key===Ee.key?"":(""+Ee.key).replace(M,"$&/")+"/")+ze)),se.push(Ee)),1;ze=0;var It=ce===""?".":ce+":";if(B(L))for(var mt=0;mt<L.length;mt++)ce=L[mt],Oe=It+pe(ce,mt),ze+=J(ce,se,ue,Oe,Ee);else if(mt=D(L),typeof mt=="function")for(L=mt.call(L),mt=0;!(ce=L.next()).done;)ce=ce.value,Oe=It+pe(ce,mt++),ze+=J(ce,se,ue,Oe,Ee);else if(Oe==="object"){if(typeof L.then=="function")return J(Be(L),se,ue,ce,Ee);throw se=String(L),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return ze}function oe(L,se,ue){if(L==null)return L;var ce=[],Ee=0;return J(L,ce,"","",function(Oe){return se.call(ue,Oe,Ee++)}),ce}function he(L){if(L._status===-1){var se=L._result;se=se(),se.then(function(ue){(L._status===0||L._status===-1)&&(L._status=1,L._result=ue)},function(ue){(L._status===0||L._status===-1)&&(L._status=2,L._result=ue)}),L._status===-1&&(L._status=0,L._result=se)}if(L._status===1)return L._result.default;throw L._result}var Te=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Ce={map:oe,forEach:function(L,se,ue){oe(L,function(){se.apply(this,arguments)},ue)},count:function(L){var se=0;return oe(L,function(){se++}),se},toArray:function(L){return oe(L,function(se){return se})||[]},only:function(L){if(!O(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return ke.Activity=T,ke.Children=Ce,ke.Component=z,ke.Fragment=n,ke.Profiler=a,ke.PureComponent=F,ke.StrictMode=i,ke.Suspense=m,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,ke.__COMPILER_RUNTIME={__proto__:null,c:function(L){return x.H.useMemoCache(L)}},ke.cache=function(L){return function(){return L.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(L,se,ue){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ce=N({},L.props),Ee=L.key;if(se!=null)for(Oe in se.key!==void 0&&(Ee=""+se.key),se)!A.call(se,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&se.ref===void 0||(ce[Oe]=se[Oe]);var Oe=arguments.length-2;if(Oe===1)ce.children=ue;else if(1<Oe){for(var ze=Array(Oe),It=0;It<Oe;It++)ze[It]=arguments[It+2];ce.children=ze}return R(L.type,Ee,ce)},ke.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},ke.createElement=function(L,se,ue){var ce,Ee={},Oe=null;if(se!=null)for(ce in se.key!==void 0&&(Oe=""+se.key),se)A.call(se,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Ee[ce]=se[ce]);var ze=arguments.length-2;if(ze===1)Ee.children=ue;else if(1<ze){for(var It=Array(ze),mt=0;mt<ze;mt++)It[mt]=arguments[mt+2];Ee.children=It}if(L&&L.defaultProps)for(ce in ze=L.defaultProps,ze)Ee[ce]===void 0&&(Ee[ce]=ze[ce]);return R(L,Oe,Ee)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(L){return{$$typeof:f,render:L}},ke.isValidElement=O,ke.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:he}},ke.memo=function(L,se){return{$$typeof:g,type:L,compare:se===void 0?null:se}},ke.startTransition=function(L){var se=x.T,ue={};x.T=ue;try{var ce=L(),Ee=x.S;Ee!==null&&Ee(ue,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(G,Te)}catch(Oe){Te(Oe)}finally{se!==null&&ue.types!==null&&(se.types=ue.types),x.T=se}},ke.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},ke.use=function(L){return x.H.use(L)},ke.useActionState=function(L,se,ue){return x.H.useActionState(L,se,ue)},ke.useCallback=function(L,se){return x.H.useCallback(L,se)},ke.useContext=function(L){return x.H.useContext(L)},ke.useDebugValue=function(){},ke.useDeferredValue=function(L,se){return x.H.useDeferredValue(L,se)},ke.useEffect=function(L,se){return x.H.useEffect(L,se)},ke.useEffectEvent=function(L){return x.H.useEffectEvent(L)},ke.useId=function(){return x.H.useId()},ke.useImperativeHandle=function(L,se,ue){return x.H.useImperativeHandle(L,se,ue)},ke.useInsertionEffect=function(L,se){return x.H.useInsertionEffect(L,se)},ke.useLayoutEffect=function(L,se){return x.H.useLayoutEffect(L,se)},ke.useMemo=function(L,se){return x.H.useMemo(L,se)},ke.useOptimistic=function(L,se){return x.H.useOptimistic(L,se)},ke.useReducer=function(L,se,ue){return x.H.useReducer(L,se,ue)},ke.useRef=function(L){return x.H.useRef(L)},ke.useState=function(L){return x.H.useState(L)},ke.useSyncExternalStore=function(L,se,ue){return x.H.useSyncExternalStore(L,se,ue)},ke.useTransition=function(){return x.H.useTransition()},ke.version="19.2.1",ke}var Sb;function Ey(){return Sb||(Sb=1,Pp.exports=a2()),Pp.exports}var Q=Ey();const fe=s2(Q);var jp={exports:{}},Gu={},Lp={exports:{}},Up={};var Ab;function o2(){return Ab||(Ab=1,(function(t){function e(J,oe){var he=J.length;J.push(oe);e:for(;0<he;){var Te=he-1>>>1,Ce=J[Te];if(0<a(Ce,oe))J[Te]=oe,J[he]=Ce,he=Te;else break e}}function n(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var oe=J[0],he=J.pop();if(he!==oe){J[0]=he;e:for(var Te=0,Ce=J.length,L=Ce>>>1;Te<L;){var se=2*(Te+1)-1,ue=J[se],ce=se+1,Ee=J[ce];if(0>a(ue,he))ce<Ce&&0>a(Ee,ue)?(J[Te]=Ee,J[ce]=he,Te=ce):(J[Te]=ue,J[se]=he,Te=se);else if(ce<Ce&&0>a(Ee,he))J[Te]=Ee,J[ce]=he,Te=ce;else break e}}return oe}function a(J,oe){var he=J.sortIndex-oe.sortIndex;return he!==0?he:J.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var m=[],g=[],y=1,T=null,w=3,D=!1,V=!1,N=!1,P=!1,z=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function te(J){for(var oe=n(g);oe!==null;){if(oe.callback===null)i(g);else if(oe.startTime<=J)i(g),oe.sortIndex=oe.expirationTime,e(m,oe);else break;oe=n(g)}}function B(J){if(N=!1,te(J),!V)if(n(m)!==null)V=!0,G||(G=!0,I());else{var oe=n(g);oe!==null&&Be(B,oe.startTime-J)}}var G=!1,x=-1,A=5,R=-1;function k(){return P?!0:!(t.unstable_now()-R<A)}function O(){if(P=!1,G){var J=t.unstable_now();R=J;var oe=!0;try{e:{V=!1,N&&(N=!1,K(x),x=-1),D=!0;var he=w;try{t:{for(te(J),T=n(m);T!==null&&!(T.expirationTime>J&&k());){var Te=T.callback;if(typeof Te=="function"){T.callback=null,w=T.priorityLevel;var Ce=Te(T.expirationTime<=J);if(J=t.unstable_now(),typeof Ce=="function"){T.callback=Ce,te(J),oe=!0;break t}T===n(m)&&i(m),te(J)}else i(m);T=n(m)}if(T!==null)oe=!0;else{var L=n(g);L!==null&&Be(B,L.startTime-J),oe=!1}}break e}finally{T=null,w=he,D=!1}oe=void 0}}finally{oe?I():G=!1}}}var I;if(typeof F=="function")I=function(){F(O)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,pe=M.port2;M.port1.onmessage=O,I=function(){pe.postMessage(null)}}else I=function(){z(O,0)};function Be(J,oe){x=z(function(){J(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(J){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var he=w;w=oe;try{return J()}finally{w=he}},t.unstable_requestPaint=function(){P=!0},t.unstable_runWithPriority=function(J,oe){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var he=w;w=J;try{return oe()}finally{w=he}},t.unstable_scheduleCallback=function(J,oe,he){var Te=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Te+he:Te):he=Te,J){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=he+Ce,J={id:y++,callback:oe,priorityLevel:J,startTime:he,expirationTime:Ce,sortIndex:-1},he>Te?(J.sortIndex=he,e(g,J),n(m)===null&&J===n(g)&&(N?(K(x),x=-1):N=!0,Be(B,he-Te))):(J.sortIndex=Ce,e(m,J),V||D||(V=!0,G||(G=!0,I()))),J},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(J){var oe=w;return function(){var he=w;w=oe;try{return J.apply(this,arguments)}finally{w=he}}}})(Up)),Up}var xb;function l2(){return xb||(xb=1,Lp.exports=o2()),Lp.exports}var Bp={exports:{}},_n={};var Cb;function u2(){if(Cb)return _n;Cb=1;var t=Ey();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:m,containerInfo:g,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,_n.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,y)},_n.flushSync=function(m){var g=c.T,y=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=g,i.p=y,i.d.f()}},_n.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},_n.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},_n.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,T=f(y,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:D}):y==="script"&&i.d.X(m,{crossOrigin:T,integrity:w,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},_n.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=f(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},_n.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,T=f(y,g.crossOrigin);i.d.L(m,y,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},_n.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=f(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},_n.requestFormReset=function(m){i.d.r(m)},_n.unstable_batchedUpdates=function(m,g){return m(g)},_n.useFormState=function(m,g,y){return c.H.useFormState(m,g,y)},_n.useFormStatus=function(){return c.H.useHostTransitionStatus()},_n.version="19.2.1",_n}var Db;function Ow(){if(Db)return Bp.exports;Db=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bp.exports=u2(),Bp.exports}var Mb;function c2(){if(Mb)return Gu;Mb=1;var t=l2(),e=Ey(),n=Ow();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function f(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function m(s){if(l(s)!==s)throw Error(i(188))}function g(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,u=r;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return m(d),s;if(p===u)return m(d),r;p=p.sibling}throw Error(i(188))}if(o.return!==u.return)o=d,u=p;else{for(var b=!1,S=d.child;S;){if(S===o){b=!0,o=d,u=p;break}if(S===u){b=!0,u=d,o=p;break}S=S.sibling}if(!b){for(S=p.child;S;){if(S===o){b=!0,o=p,u=d;break}if(S===u){b=!0,u=p,o=d;break}S=S.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function y(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=y(s),r!==null)return r;s=s.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),F=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function I(s){return s===null||typeof s!="object"?null:(s=O&&s[O]||s["@@iterator"],typeof s=="function"?s:null)}var M=Symbol.for("react.client.reference");function pe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===M?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case N:return"Fragment";case z:return"Profiler";case P:return"StrictMode";case B:return"Suspense";case G:return"SuspenseList";case R:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case V:return"Portal";case F:return s.displayName||"Context";case K:return(s._context.displayName||"Context")+".Consumer";case te:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case x:return r=s.displayName||null,r!==null?r:pe(s.type)||"Memo";case A:r=s._payload,s=s._init;try{return pe(s(r))}catch{}}return null}var Be=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Te=[],Ce=-1;function L(s){return{current:s}}function se(s){0>Ce||(s.current=Te[Ce],Te[Ce]=null,Ce--)}function ue(s,r){Ce++,Te[Ce]=s.current,s.current=r}var ce=L(null),Ee=L(null),Oe=L(null),ze=L(null);function It(s,r){switch(ue(Oe,r),ue(Ee,s),ue(ce,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?qT(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=qT(r),s=GT(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}se(ce),ue(ce,s)}function mt(){se(ce),se(Ee),se(Oe)}function ns(s){s.memoizedState!==null&&ue(ze,s);var r=ce.current,o=GT(r,s.type);r!==o&&(ue(Ee,s),ue(ce,o))}function ar(s){Ee.current===s&&(se(ce),se(Ee)),ze.current===s&&(se(ze),Bu._currentValue=he)}var or,lr;function ss(s){if(or===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);or=r&&r[1]||"",lr=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+or+s+lr}var ur=!1;function Ai(s,r){if(!s||ur)return"";ur=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Z){var $=Z}Reflect.construct(s,[],ie)}else{try{ie.call()}catch(Z){$=Z}s.call(ie.prototype)}}else{try{throw Error()}catch(Z){$=Z}(ie=s())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Z){if(Z&&$&&typeof Z.stack=="string")return[Z.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),b=p[0],S=p[1];if(b&&S){var j=b.split(`
`),W=S.split(`
`);for(d=u=0;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;for(;d<W.length&&!W[d].includes("DetermineComponentFrameRoot");)d++;if(u===j.length||d===W.length)for(u=j.length-1,d=W.length-1;1<=u&&0<=d&&j[u]!==W[d];)d--;for(;1<=u&&0<=d;u--,d--)if(j[u]!==W[d]){if(u!==1||d!==1)do if(u--,d--,0>d||j[u]!==W[d]){var ee=`
`+j[u].replace(" at new "," at ");return s.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",s.displayName)),ee}while(1<=u&&0<=d);break}}}finally{ur=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?ss(o):""}function ua(s,r){switch(s.tag){case 26:case 27:case 5:return ss(s.type);case 16:return ss("Lazy");case 13:return s.child!==r&&r!==null?ss("Suspense Fallback"):ss("Suspense");case 19:return ss("SuspenseList");case 0:case 15:return Ai(s.type,!1);case 11:return Ai(s.type.render,!1);case 1:return Ai(s.type,!0);case 31:return ss("Activity");default:return""}}function ca(s){try{var r="",o=null;do r+=ua(s,o),o=s,s=s.return;while(s);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Dt=Object.prototype.hasOwnProperty,Ot=t.unstable_scheduleCallback,Hs=t.unstable_cancelCallback,Fl=t.unstable_shouldYield,ha=t.unstable_requestPaint,Xt=t.unstable_now,Es=t.unstable_getCurrentPriorityLevel,fa=t.unstable_ImmediatePriority,da=t.unstable_UserBlockingPriority,qs=t.unstable_NormalPriority,Hl=t.unstable_LowPriority,fo=t.unstable_IdlePriority,mo=t.log,po=t.unstable_setDisableYieldValue,Bn=null,Zt=null;function Mn(s){if(typeof mo=="function"&&po(s),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(Bn,s)}catch{}}var wt=Math.clz32?Math.clz32:Re,ma=Math.log,cr=Math.LN2;function Re(s){return s>>>=0,s===0?32:31-(ma(s)/cr|0)|0}var Le=256,Se=262144,Ae=4194304;function kt(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ne(s,r,o){var u=s.pendingLanes;if(u===0)return 0;var d=0,p=s.suspendedLanes,b=s.pingedLanes;s=s.warmLanes;var S=u&134217727;return S!==0?(u=S&~p,u!==0?d=kt(u):(b&=S,b!==0?d=kt(b):o||(o=S&~s,o!==0&&(d=kt(o))))):(S=u&~p,S!==0?d=kt(S):b!==0?d=kt(b):o||(o=u&~s,o!==0&&(d=kt(o)))),d===0?0:r!==0&&r!==d&&(r&p)===0&&(p=d&-d,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:d}function zn(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function ql(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function go(){var s=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),s}function Rn(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function ws(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Bd(s,r,o,u,d,p){var b=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var S=s.entanglements,j=s.expirationTimes,W=s.hiddenUpdates;for(o=b&~o;0<o;){var ee=31-wt(o),ie=1<<ee;S[ee]=0,j[ee]=-1;var $=W[ee];if($!==null)for(W[ee]=null,ee=0;ee<$.length;ee++){var Z=$[ee];Z!==null&&(Z.lane&=-536870913)}o&=~ie}u!==0&&pa(s,u,0),p!==0&&d===0&&s.tag!==0&&(s.suspendedLanes|=p&~(b&~r))}function pa(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-wt(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|o&261930}function Gl(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var u=31-wt(o),d=1<<u;d&r|s[u]&r&&(s[u]|=r),o&=~d}}function Yl(s,r){var o=r&-r;return o=(o&42)!==0?1:ga(o),(o&(s.suspendedLanes|r))!==0?0:o}function ga(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function xi(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Kc(){var s=oe.p;return s!==0?s:(s=window.event,s===void 0?32:mb(s.type))}function Ss(s,r){var o=oe.p;try{return oe.p=s,r()}finally{oe.p=o}}var As=Math.random().toString(36).slice(2),zt="__reactFiber$"+As,sn="__reactProps$"+As,Gs="__reactContainer$"+As,yo="__reactEvents$"+As,zd="__reactListeners$"+As,$c="__reactHandles$"+As,Qc="__reactResources$"+As,Ys="__reactMarker$"+As;function vo(s){delete s[zt],delete s[sn],delete s[yo],delete s[zd],delete s[$c]}function Ws(s){var r=s[zt];if(r)return r;for(var o=s.parentNode;o;){if(r=o[Gs]||o[zt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=ZT(s);s!==null;){if(o=s[zt])return o;s=ZT(s)}return r}s=o,o=s.parentNode}return null}function is(s){if(s=s[zt]||s[Gs]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function Fn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Ks(s){var r=s[Qc];return r||(r=s[Qc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ft(s){s[Ys]=!0}var Wl=new Set,Kl={};function $s(s,r){Qs(s,r),Qs(s+"Capture",r)}function Qs(s,r){for(Kl[s]=r,s=0;s<r.length;s++)Wl.add(r[s])}var $l=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ql={},Xl={};function Xc(s){return Dt.call(Xl,s)?!0:Dt.call(Ql,s)?!1:$l.test(s)?Xl[s]=!0:(Ql[s]=!0,!1)}function _o(s,r,o){if(Xc(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function Hn(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function Ht(s,r,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+u)}}function rn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function hr(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Zl(s,r,o){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,p=u.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return d.call(this)},set:function(b){o=""+b,p.call(this,b)}}),Object.defineProperty(s,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function it(s){if(!s._valueTracker){var r=hr(s)?"checked":"value";s._valueTracker=Zl(s,r,""+s[r])}}function ya(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return s&&(u=hr(s)?s.checked?"true":"false":s.value),s=u,s!==o?(r.setValue(s),!0):!1}function Xs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var va=/[\n"\\]/g;function Nn(s){return s.replace(va,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function To(s,r,o,u,d,p,b,S){s.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?s.type=b:s.removeAttribute("type"),r!=null?b==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+rn(r)):s.value!==""+rn(r)&&(s.value=""+rn(r)):b!=="submit"&&b!=="reset"||s.removeAttribute("value"),r!=null?Jl(s,b,rn(r)):o!=null?Jl(s,b,rn(o)):u!=null&&s.removeAttribute("value"),d==null&&p!=null&&(s.defaultChecked=!!p),d!=null&&(s.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+rn(S):s.removeAttribute("name")}function Zc(s,r,o,u,d,p,b,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){it(s);return}o=o!=null?""+rn(o):"",r=r!=null?""+rn(r):o,S||r===s.value||(s.value=r),s.defaultValue=r}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=S?s.checked:!!u,s.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.name=b),it(s)}function Jl(s,r,o){r==="number"&&Xs(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function fr(s,r,o,u){if(s=s.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<s.length;o++)d=r.hasOwnProperty("$"+s[o].value),s[o].selected!==d&&(s[o].selected=d),d&&u&&(s[o].defaultSelected=!0)}else{for(o=""+rn(o),r=null,d=0;d<s.length;d++){if(s[d].value===o){s[d].selected=!0,u&&(s[d].defaultSelected=!0);return}r!==null||s[d].disabled||(r=s[d])}r!==null&&(r.selected=!0)}}function Jc(s,r,o){if(r!=null&&(r=""+rn(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+rn(o):""}function dr(s,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(i(92));if(Be(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=rn(r),s.defaultValue=o,u=s.textContent,u===o&&u!==""&&u!==null&&(s.value=u),it(s)}function In(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var eh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eu(s,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,o):typeof o!="number"||o===0||eh.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function tu(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var d in r)u=r[d],r.hasOwnProperty(d)&&o[d]!==u&&eu(s,d,u)}else for(var p in r)r.hasOwnProperty(p)&&eu(s,p,r[p])}function bo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var th=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Eo(s){return mr.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function xs(){}var nu=null;function rs(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var pr=null,Zs=null;function _a(s){var r=is(s);if(r&&(s=r.stateNode)){var o=s[sn]||null;e:switch(s=r.stateNode,r.type){case"input":if(To(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Nn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==s&&u.form===s.form){var d=u[sn]||null;if(!d)throw Error(i(90));To(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===s.form&&ya(u)}break e;case"textarea":Jc(s,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&fr(s,!!o.multiple,r,!1)}}}var wo=!1;function gr(s,r,o){if(wo)return s(r,o);wo=!0;try{var u=s(r);return u}finally{if(wo=!1,(pr!==null||Zs!==null)&&(Kh(),pr&&(r=pr,s=Zs,Zs=pr=null,_a(r),s)))for(r=0;r<s.length;r++)_a(s[r])}}function Cs(s,r){var o=s.stateNode;if(o===null)return null;var u=o[sn]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var as=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ta=!1;if(as)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){Ta=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{Ta=!1}var Js=null,su=null,ba=null;function iu(){if(ba)return ba;var s,r=su,o=r.length,u,d="value"in Js?Js.value:Js.textContent,p=d.length;for(s=0;s<o&&r[s]===d[s];s++);var b=o-s;for(u=1;u<=b&&r[o-u]===d[p-u];u++);return ba=d.slice(s,1<u?1-u:void 0)}function Ea(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function Ci(){return!0}function Ds(){return!1}function un(s){function r(o,u,d,p,b){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(o=s[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ci:Ds,this.isPropagationStopped=Ds,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ci)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ci)},persist:function(){},isPersistent:Ci}),r}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ei=un(Di),yr=T({},Di,{view:0,detail:0}),ru=un(yr),vr,So,ti,Ao=T({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ti&&(ti&&s.type==="mousemove"?(vr=s.screenX-ti.screenX,So=s.screenY-ti.screenY):So=vr=0,ti=s),vr)},movementY:function(s){return"movementY"in s?s.movementY:So}}),au=un(Ao),wa=T({},Ao,{dataTransfer:0}),nh=un(wa),sh=T({},yr,{relatedTarget:0}),Sa=un(sh),ou=T({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),ih=un(ou),xo=T({},Di,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),rh=un(xo),ah=T({},Di,{data:0}),ni=un(ah),oh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ch(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=uh[s])?!!r[s]:!1}function _r(){return ch}var An=T({},yr,{key:function(s){if(s.key){var r=oh[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Ea(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?lh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(s){return s.type==="keypress"?Ea(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ea(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),hh=un(An),fh=T({},Ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=un(fh),h=T({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r}),v=un(h),E=T({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=un(E),q=T({},Ao,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),X=un(q),le=T({},Di,{newState:0,oldState:0}),Pe=un(le),Vt=[9,13,27,32],tt=as&&"CompositionEvent"in window,Tt=null;as&&"documentMode"in document&&(Tt=document.documentMode);var os=as&&"TextEvent"in window&&!Tt,si=as&&(!tt||Tt&&8<Tt&&11>=Tt),Ms=" ",Rs=!1;function Aa(s,r){switch(s){case"keyup":return Vt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Co(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Do=!1;function CD(s,r){switch(s){case"compositionend":return Co(r);case"keypress":return r.which!==32?null:(Rs=!0,Ms);case"textInput":return s=r.data,s===Ms&&Rs?null:s;default:return null}}function DD(s,r){if(Do)return s==="compositionend"||!tt&&Aa(s,r)?(s=iu(),ba=su=Js=null,Do=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return si&&r.locale!=="ko"?null:r.data;default:return null}}var MD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t0(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!MD[s.type]:r==="textarea"}function n0(s,r,o,u){pr?Zs?Zs.push(u):Zs=[u]:pr=u,r=tf(r,"onChange"),0<r.length&&(o=new ei("onChange","change",null,o,u),s.push({event:o,listeners:r}))}var lu=null,uu=null;function RD(s){LT(s,0)}function dh(s){var r=Fn(s);if(ya(r))return s}function s0(s,r){if(s==="change")return r}var i0=!1;if(as){var Fd;if(as){var Hd="oninput"in document;if(!Hd){var r0=document.createElement("div");r0.setAttribute("oninput","return;"),Hd=typeof r0.oninput=="function"}Fd=Hd}else Fd=!1;i0=Fd&&(!document.documentMode||9<document.documentMode)}function a0(){lu&&(lu.detachEvent("onpropertychange",o0),uu=lu=null)}function o0(s){if(s.propertyName==="value"&&dh(uu)){var r=[];n0(r,uu,s,rs(s)),gr(RD,r)}}function ND(s,r,o){s==="focusin"?(a0(),lu=r,uu=o,lu.attachEvent("onpropertychange",o0)):s==="focusout"&&a0()}function ID(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return dh(uu)}function OD(s,r){if(s==="click")return dh(r)}function kD(s,r){if(s==="input"||s==="change")return dh(r)}function VD(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var qn=typeof Object.is=="function"?Object.is:VD;function cu(s,r){if(qn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Dt.call(r,d)||!qn(s[d],r[d]))return!1}return!0}function l0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function u0(s,r){var o=l0(s);s=0;for(var u;o;){if(o.nodeType===3){if(u=s+o.textContent.length,s<=r&&u>=r)return{node:o,offset:r-s};s=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=l0(o)}}function c0(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?c0(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function h0(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=Xs(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=Xs(s.document)}return r}function qd(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var PD=as&&"documentMode"in document&&11>=document.documentMode,Mo=null,Gd=null,hu=null,Yd=!1;function f0(s,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Yd||Mo==null||Mo!==Xs(u)||(u=Mo,"selectionStart"in u&&qd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),hu&&cu(hu,u)||(hu=u,u=tf(Gd,"onSelect"),0<u.length&&(r=new ei("onSelect","select",null,r,o),s.push({event:r,listeners:u}),r.target=Mo)))}function xa(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var Ro={animationend:xa("Animation","AnimationEnd"),animationiteration:xa("Animation","AnimationIteration"),animationstart:xa("Animation","AnimationStart"),transitionrun:xa("Transition","TransitionRun"),transitionstart:xa("Transition","TransitionStart"),transitioncancel:xa("Transition","TransitionCancel"),transitionend:xa("Transition","TransitionEnd")},Wd={},d0={};as&&(d0=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function Ca(s){if(Wd[s])return Wd[s];if(!Ro[s])return s;var r=Ro[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in d0)return Wd[s]=r[o];return s}var m0=Ca("animationend"),p0=Ca("animationiteration"),g0=Ca("animationstart"),jD=Ca("transitionrun"),LD=Ca("transitionstart"),UD=Ca("transitioncancel"),y0=Ca("transitionend"),v0=new Map,Kd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kd.push("scrollEnd");function Ns(s,r){v0.set(s,r),$s(r,[s])}var mh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},ls=[],No=0,$d=0;function ph(){for(var s=No,r=$d=No=0;r<s;){var o=ls[r];ls[r++]=null;var u=ls[r];ls[r++]=null;var d=ls[r];ls[r++]=null;var p=ls[r];if(ls[r++]=null,u!==null&&d!==null){var b=u.pending;b===null?d.next=d:(d.next=b.next,b.next=d),u.pending=d}p!==0&&_0(o,d,p)}}function gh(s,r,o,u){ls[No++]=s,ls[No++]=r,ls[No++]=o,ls[No++]=u,$d|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Qd(s,r,o,u){return gh(s,r,o,u),yh(s)}function Da(s,r){return gh(s,null,null,r),yh(s)}function _0(s,r,o){s.lanes|=o;var u=s.alternate;u!==null&&(u.lanes|=o);for(var d=!1,p=s.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(d=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,d&&r!==null&&(d=31-wt(o),s=p.hiddenUpdates,u=s[d],u===null?s[d]=[r]:u.push(r),r.lane=o|536870912),p):null}function yh(s){if(50<Ou)throw Ou=0,rp=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var Io={};function BD(s,r,o,u){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(s,r,o,u){return new BD(s,r,o,u)}function Xd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ri(s,r){var o=s.alternate;return o===null?(o=Gn(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function T0(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function vh(s,r,o,u,d,p){var b=0;if(u=s,typeof s=="function")Xd(s)&&(b=1);else if(typeof s=="string")b=GM(s,o,ce.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case R:return s=Gn(31,o,r,d),s.elementType=R,s.lanes=p,s;case N:return Ma(o.children,d,p,r);case P:b=8,d|=24;break;case z:return s=Gn(12,o,r,d|2),s.elementType=z,s.lanes=p,s;case B:return s=Gn(13,o,r,d),s.elementType=B,s.lanes=p,s;case G:return s=Gn(19,o,r,d),s.elementType=G,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case F:b=10;break e;case K:b=9;break e;case te:b=11;break e;case x:b=14;break e;case A:b=16,u=null;break e}b=29,o=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=Gn(b,o,r,d),r.elementType=s,r.type=u,r.lanes=p,r}function Ma(s,r,o,u){return s=Gn(7,s,u,r),s.lanes=o,s}function Zd(s,r,o){return s=Gn(6,s,null,r),s.lanes=o,s}function b0(s){var r=Gn(18,null,null,0);return r.stateNode=s,r}function Jd(s,r,o){return r=Gn(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var E0=new WeakMap;function us(s,r){if(typeof s=="object"&&s!==null){var o=E0.get(s);return o!==void 0?o:(r={value:s,source:r,stack:ca(r)},E0.set(s,r),r)}return{value:s,source:r,stack:ca(r)}}var Oo=[],ko=0,_h=null,fu=0,cs=[],hs=0,Tr=null,ii=1,ri="";function Ni(s,r){Oo[ko++]=fu,Oo[ko++]=_h,_h=s,fu=r}function w0(s,r,o){cs[hs++]=ii,cs[hs++]=ri,cs[hs++]=Tr,Tr=s;var u=ii;s=ri;var d=32-wt(u)-1;u&=~(1<<d),o+=1;var p=32-wt(r)+d;if(30<p){var b=d-d%5;p=(u&(1<<b)-1).toString(32),u>>=b,d-=b,ii=1<<32-wt(r)+d|o<<d|u,ri=p+s}else ii=1<<p|o<<d|u,ri=s}function em(s){s.return!==null&&(Ni(s,1),w0(s,1,0))}function tm(s){for(;s===_h;)_h=Oo[--ko],Oo[ko]=null,fu=Oo[--ko],Oo[ko]=null;for(;s===Tr;)Tr=cs[--hs],cs[hs]=null,ri=cs[--hs],cs[hs]=null,ii=cs[--hs],cs[hs]=null}function S0(s,r){cs[hs++]=ii,cs[hs++]=ri,cs[hs++]=Tr,ii=r.id,ri=r.overflow,Tr=s}var cn=null,yt=null,Xe=!1,br=null,fs=!1,nm=Error(i(519));function Er(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw du(us(r,s)),nm}function A0(s){var r=s.stateNode,o=s.type,u=s.memoizedProps;switch(r[zt]=s,r[sn]=u,o){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(o=0;o<Vu.length;o++)He(Vu[o],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":He("invalid",r),Zc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":He("invalid",r);break;case"textarea":He("invalid",r),dr(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||FT(r.textContent,o)?(u.popover!=null&&(He("beforetoggle",r),He("toggle",r)),u.onScroll!=null&&He("scroll",r),u.onScrollEnd!=null&&He("scrollend",r),u.onClick!=null&&(r.onclick=xs),r=!0):r=!1,r||Er(s,!0)}function x0(s){for(cn=s.return;cn;)switch(cn.tag){case 5:case 31:case 13:fs=!1;return;case 27:case 3:fs=!0;return;default:cn=cn.return}}function Vo(s){if(s!==cn)return!1;if(!Xe)return x0(s),Xe=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||Tp(s.type,s.memoizedProps)),o=!o),o&&yt&&Er(s),x0(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));yt=XT(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));yt=XT(s)}else r===27?(r=yt,Pr(s.type)?(s=Ap,Ap=null,yt=s):yt=r):yt=cn?ms(s.stateNode.nextSibling):null;return!0}function Ra(){yt=cn=null,Xe=!1}function sm(){var s=br;return s!==null&&(Pn===null?Pn=s:Pn.push.apply(Pn,s),br=null),s}function du(s){br===null?br=[s]:br.push(s)}var im=L(null),Na=null,Ii=null;function wr(s,r,o){ue(im,r._currentValue),r._currentValue=o}function Oi(s){s._currentValue=im.current,se(im)}function rm(s,r,o){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===o)break;s=s.return}}function am(s,r,o,u){var d=s.child;for(d!==null&&(d.return=s);d!==null;){var p=d.dependencies;if(p!==null){var b=d.child;p=p.firstContext;e:for(;p!==null;){var S=p;p=d;for(var j=0;j<r.length;j++)if(S.context===r[j]){p.lanes|=o,S=p.alternate,S!==null&&(S.lanes|=o),rm(p.return,o,s),u||(b=null);break e}p=S.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(i(341));b.lanes|=o,p=b.alternate,p!==null&&(p.lanes|=o),rm(b,o,s),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===s){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function Po(s,r,o,u){s=null;for(var d=r,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var S=d.type;qn(d.pendingProps.value,b.value)||(s!==null?s.push(S):s=[S])}}else if(d===ze.current){if(b=d.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(s!==null?s.push(Bu):s=[Bu])}d=d.return}s!==null&&am(r,s,o,u),r.flags|=262144}function Th(s){for(s=s.firstContext;s!==null;){if(!qn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ia(s){Na=s,Ii=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function hn(s){return C0(Na,s)}function bh(s,r){return Na===null&&Ia(s),C0(s,r)}function C0(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Ii===null){if(s===null)throw Error(i(308));Ii=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Ii=Ii.next=r;return o}var zD=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},FD=t.unstable_scheduleCallback,HD=t.unstable_NormalPriority,qt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function om(){return{controller:new zD,data:new Map,refCount:0}}function mu(s){s.refCount--,s.refCount===0&&FD(HD,function(){s.controller.abort()})}var pu=null,lm=0,jo=0,Lo=null;function qD(s,r){if(pu===null){var o=pu=[];lm=0,jo=hp(),Lo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return lm++,r.then(D0,D0),r}function D0(){if(--lm===0&&pu!==null){Lo!==null&&(Lo.status="fulfilled");var s=pu;pu=null,jo=0,Lo=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function GD(s,r){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var M0=J.S;J.S=function(s,r){fT=Xt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&qD(s,r),M0!==null&&M0(s,r)};var Oa=L(null);function um(){var s=Oa.current;return s!==null?s:pt.pooledCache}function Eh(s,r){r===null?ue(Oa,Oa.current):ue(Oa,r.pool)}function R0(){var s=um();return s===null?null:{parent:qt._currentValue,pool:s}}var Uo=Error(i(460)),cm=Error(i(474)),wh=Error(i(542)),Sh={then:function(){}};function N0(s){return s=s.status,s==="fulfilled"||s==="rejected"}function I0(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(xs,xs),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,k0(s),s;default:if(typeof r.status=="string")r.then(xs,xs);else{if(s=pt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=u}},function(u){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,k0(s),s}throw Va=r,Uo}}function ka(s){try{var r=s._init;return r(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Va=o,Uo):o}}var Va=null;function O0(){if(Va===null)throw Error(i(459));var s=Va;return Va=null,s}function k0(s){if(s===Uo||s===wh)throw Error(i(483))}var Bo=null,gu=0;function Ah(s){var r=gu;return gu+=1,Bo===null&&(Bo=[]),I0(Bo,s,r)}function yu(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function xh(s,r){throw r.$$typeof===w?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function V0(s){function r(H,U){if(s){var Y=H.deletions;Y===null?(H.deletions=[U],H.flags|=16):Y.push(U)}}function o(H,U){if(!s)return null;for(;U!==null;)r(H,U),U=U.sibling;return null}function u(H){for(var U=new Map;H!==null;)H.key!==null?U.set(H.key,H):U.set(H.index,H),H=H.sibling;return U}function d(H,U){return H=Ri(H,U),H.index=0,H.sibling=null,H}function p(H,U,Y){return H.index=Y,s?(Y=H.alternate,Y!==null?(Y=Y.index,Y<U?(H.flags|=67108866,U):Y):(H.flags|=67108866,U)):(H.flags|=1048576,U)}function b(H){return s&&H.alternate===null&&(H.flags|=67108866),H}function S(H,U,Y,ne){return U===null||U.tag!==6?(U=Zd(Y,H.mode,ne),U.return=H,U):(U=d(U,Y),U.return=H,U)}function j(H,U,Y,ne){var _e=Y.type;return _e===N?ee(H,U,Y.props.children,ne,Y.key):U!==null&&(U.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&ka(_e)===U.type)?(U=d(U,Y.props),yu(U,Y),U.return=H,U):(U=vh(Y.type,Y.key,Y.props,null,H.mode,ne),yu(U,Y),U.return=H,U)}function W(H,U,Y,ne){return U===null||U.tag!==4||U.stateNode.containerInfo!==Y.containerInfo||U.stateNode.implementation!==Y.implementation?(U=Jd(Y,H.mode,ne),U.return=H,U):(U=d(U,Y.children||[]),U.return=H,U)}function ee(H,U,Y,ne,_e){return U===null||U.tag!==7?(U=Ma(Y,H.mode,ne,_e),U.return=H,U):(U=d(U,Y),U.return=H,U)}function ie(H,U,Y){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Zd(""+U,H.mode,Y),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case D:return Y=vh(U.type,U.key,U.props,null,H.mode,Y),yu(Y,U),Y.return=H,Y;case V:return U=Jd(U,H.mode,Y),U.return=H,U;case A:return U=ka(U),ie(H,U,Y)}if(Be(U)||I(U))return U=Ma(U,H.mode,Y,null),U.return=H,U;if(typeof U.then=="function")return ie(H,Ah(U),Y);if(U.$$typeof===F)return ie(H,bh(H,U),Y);xh(H,U)}return null}function $(H,U,Y,ne){var _e=U!==null?U.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return _e!==null?null:S(H,U,""+Y,ne);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case D:return Y.key===_e?j(H,U,Y,ne):null;case V:return Y.key===_e?W(H,U,Y,ne):null;case A:return Y=ka(Y),$(H,U,Y,ne)}if(Be(Y)||I(Y))return _e!==null?null:ee(H,U,Y,ne,null);if(typeof Y.then=="function")return $(H,U,Ah(Y),ne);if(Y.$$typeof===F)return $(H,U,bh(H,Y),ne);xh(H,Y)}return null}function Z(H,U,Y,ne,_e){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return H=H.get(Y)||null,S(U,H,""+ne,_e);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case D:return H=H.get(ne.key===null?Y:ne.key)||null,j(U,H,ne,_e);case V:return H=H.get(ne.key===null?Y:ne.key)||null,W(U,H,ne,_e);case A:return ne=ka(ne),Z(H,U,Y,ne,_e)}if(Be(ne)||I(ne))return H=H.get(Y)||null,ee(U,H,ne,_e,null);if(typeof ne.then=="function")return Z(H,U,Y,Ah(ne),_e);if(ne.$$typeof===F)return Z(H,U,Y,bh(U,ne),_e);xh(U,ne)}return null}function me(H,U,Y,ne){for(var _e=null,Je=null,ge=U,Ue=U=0,We=null;ge!==null&&Ue<Y.length;Ue++){ge.index>Ue?(We=ge,ge=null):We=ge.sibling;var et=$(H,ge,Y[Ue],ne);if(et===null){ge===null&&(ge=We);break}s&&ge&&et.alternate===null&&r(H,ge),U=p(et,U,Ue),Je===null?_e=et:Je.sibling=et,Je=et,ge=We}if(Ue===Y.length)return o(H,ge),Xe&&Ni(H,Ue),_e;if(ge===null){for(;Ue<Y.length;Ue++)ge=ie(H,Y[Ue],ne),ge!==null&&(U=p(ge,U,Ue),Je===null?_e=ge:Je.sibling=ge,Je=ge);return Xe&&Ni(H,Ue),_e}for(ge=u(ge);Ue<Y.length;Ue++)We=Z(ge,H,Ue,Y[Ue],ne),We!==null&&(s&&We.alternate!==null&&ge.delete(We.key===null?Ue:We.key),U=p(We,U,Ue),Je===null?_e=We:Je.sibling=We,Je=We);return s&&ge.forEach(function(zr){return r(H,zr)}),Xe&&Ni(H,Ue),_e}function we(H,U,Y,ne){if(Y==null)throw Error(i(151));for(var _e=null,Je=null,ge=U,Ue=U=0,We=null,et=Y.next();ge!==null&&!et.done;Ue++,et=Y.next()){ge.index>Ue?(We=ge,ge=null):We=ge.sibling;var zr=$(H,ge,et.value,ne);if(zr===null){ge===null&&(ge=We);break}s&&ge&&zr.alternate===null&&r(H,ge),U=p(zr,U,Ue),Je===null?_e=zr:Je.sibling=zr,Je=zr,ge=We}if(et.done)return o(H,ge),Xe&&Ni(H,Ue),_e;if(ge===null){for(;!et.done;Ue++,et=Y.next())et=ie(H,et.value,ne),et!==null&&(U=p(et,U,Ue),Je===null?_e=et:Je.sibling=et,Je=et);return Xe&&Ni(H,Ue),_e}for(ge=u(ge);!et.done;Ue++,et=Y.next())et=Z(ge,H,Ue,et.value,ne),et!==null&&(s&&et.alternate!==null&&ge.delete(et.key===null?Ue:et.key),U=p(et,U,Ue),Je===null?_e=et:Je.sibling=et,Je=et);return s&&ge.forEach(function(n2){return r(H,n2)}),Xe&&Ni(H,Ue),_e}function ft(H,U,Y,ne){if(typeof Y=="object"&&Y!==null&&Y.type===N&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case D:e:{for(var _e=Y.key;U!==null;){if(U.key===_e){if(_e=Y.type,_e===N){if(U.tag===7){o(H,U.sibling),ne=d(U,Y.props.children),ne.return=H,H=ne;break e}}else if(U.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&ka(_e)===U.type){o(H,U.sibling),ne=d(U,Y.props),yu(ne,Y),ne.return=H,H=ne;break e}o(H,U);break}else r(H,U);U=U.sibling}Y.type===N?(ne=Ma(Y.props.children,H.mode,ne,Y.key),ne.return=H,H=ne):(ne=vh(Y.type,Y.key,Y.props,null,H.mode,ne),yu(ne,Y),ne.return=H,H=ne)}return b(H);case V:e:{for(_e=Y.key;U!==null;){if(U.key===_e)if(U.tag===4&&U.stateNode.containerInfo===Y.containerInfo&&U.stateNode.implementation===Y.implementation){o(H,U.sibling),ne=d(U,Y.children||[]),ne.return=H,H=ne;break e}else{o(H,U);break}else r(H,U);U=U.sibling}ne=Jd(Y,H.mode,ne),ne.return=H,H=ne}return b(H);case A:return Y=ka(Y),ft(H,U,Y,ne)}if(Be(Y))return me(H,U,Y,ne);if(I(Y)){if(_e=I(Y),typeof _e!="function")throw Error(i(150));return Y=_e.call(Y),we(H,U,Y,ne)}if(typeof Y.then=="function")return ft(H,U,Ah(Y),ne);if(Y.$$typeof===F)return ft(H,U,bh(H,Y),ne);xh(H,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,U!==null&&U.tag===6?(o(H,U.sibling),ne=d(U,Y),ne.return=H,H=ne):(o(H,U),ne=Zd(Y,H.mode,ne),ne.return=H,H=ne),b(H)):o(H,U)}return function(H,U,Y,ne){try{gu=0;var _e=ft(H,U,Y,ne);return Bo=null,_e}catch(ge){if(ge===Uo||ge===wh)throw ge;var Je=Gn(29,ge,null,H.mode);return Je.lanes=ne,Je.return=H,Je}finally{}}}var Pa=V0(!0),P0=V0(!1),Sr=!1;function hm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fm(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ar(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function xr(s,r,o){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(nt&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,r=yh(s),_0(s,null,o),r}return gh(s,u,r,o),yh(s)}function vu(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Gl(s,o)}}function dm(s,r){var o=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?d=p=b:p=p.next=b,o=o.next}while(o!==null);p===null?d=p=r:p=p.next=r}else d=p=r;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var mm=!1;function _u(){if(mm){var s=Lo;if(s!==null)throw s}}function Tu(s,r,o,u){mm=!1;var d=s.updateQueue;Sr=!1;var p=d.firstBaseUpdate,b=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var j=S,W=j.next;j.next=null,b===null?p=W:b.next=W,b=j;var ee=s.alternate;ee!==null&&(ee=ee.updateQueue,S=ee.lastBaseUpdate,S!==b&&(S===null?ee.firstBaseUpdate=W:S.next=W,ee.lastBaseUpdate=j))}if(p!==null){var ie=d.baseState;b=0,ee=W=j=null,S=p;do{var $=S.lane&-536870913,Z=$!==S.lane;if(Z?(Ye&$)===$:(u&$)===$){$!==0&&$===jo&&(mm=!0),ee!==null&&(ee=ee.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var me=s,we=S;$=r;var ft=o;switch(we.tag){case 1:if(me=we.payload,typeof me=="function"){ie=me.call(ft,ie,$);break e}ie=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=we.payload,$=typeof me=="function"?me.call(ft,ie,$):me,$==null)break e;ie=T({},ie,$);break e;case 2:Sr=!0}}$=S.callback,$!==null&&(s.flags|=64,Z&&(s.flags|=8192),Z=d.callbacks,Z===null?d.callbacks=[$]:Z.push($))}else Z={lane:$,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ee===null?(W=ee=Z,j=ie):ee=ee.next=Z,b|=$;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;Z=S,S=Z.next,Z.next=null,d.lastBaseUpdate=Z,d.shared.pending=null}}while(!0);ee===null&&(j=ie),d.baseState=j,d.firstBaseUpdate=W,d.lastBaseUpdate=ee,p===null&&(d.shared.lanes=0),Nr|=b,s.lanes=b,s.memoizedState=ie}}function j0(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function L0(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)j0(o[s],r)}var zo=L(null),Ch=L(0);function U0(s,r){s=Fi,ue(Ch,s),ue(zo,r),Fi=s|r.baseLanes}function pm(){ue(Ch,Fi),ue(zo,zo.current)}function gm(){Fi=Ch.current,se(zo),se(Ch)}var Yn=L(null),ds=null;function Cr(s){var r=s.alternate;ue(Pt,Pt.current&1),ue(Yn,s),ds===null&&(r===null||zo.current!==null||r.memoizedState!==null)&&(ds=s)}function ym(s){ue(Pt,Pt.current),ue(Yn,s),ds===null&&(ds=s)}function B0(s){s.tag===22?(ue(Pt,Pt.current),ue(Yn,s),ds===null&&(ds=s)):Dr()}function Dr(){ue(Pt,Pt.current),ue(Yn,Yn.current)}function Wn(s){se(Yn),ds===s&&(ds=null),se(Pt)}var Pt=L(0);function Dh(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||wp(o)||Sp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ki=0,je=null,ct=null,Gt=null,Mh=!1,Fo=!1,ja=!1,Rh=0,bu=0,Ho=null,YD=0;function Mt(){throw Error(i(321))}function vm(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!qn(s[o],r[o]))return!1;return!0}function _m(s,r,o,u,d,p){return ki=p,je=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,J.H=s===null||s.memoizedState===null?w_:km,ja=!1,p=o(u,d),ja=!1,Fo&&(p=F0(r,o,u,d)),z0(s),p}function z0(s){J.H=Su;var r=ct!==null&&ct.next!==null;if(ki=0,Gt=ct=je=null,Mh=!1,bu=0,Ho=null,r)throw Error(i(300));s===null||Yt||(s=s.dependencies,s!==null&&Th(s)&&(Yt=!0))}function F0(s,r,o,u){je=s;var d=0;do{if(Fo&&(Ho=null),bu=0,Fo=!1,25<=d)throw Error(i(301));if(d+=1,Gt=ct=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}J.H=S_,p=r(o,u)}while(Fo);return p}function WD(){var s=J.H,r=s.useState()[0];return r=typeof r.then=="function"?Eu(r):r,s=s.useState()[0],(ct!==null?ct.memoizedState:null)!==s&&(je.flags|=1024),r}function Tm(){var s=Rh!==0;return Rh=0,s}function bm(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function Em(s){if(Mh){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Mh=!1}ki=0,Gt=ct=je=null,Fo=!1,bu=Rh=0,Ho=null}function xn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?je.memoizedState=Gt=s:Gt=Gt.next=s,Gt}function jt(){if(ct===null){var s=je.alternate;s=s!==null?s.memoizedState:null}else s=ct.next;var r=Gt===null?je.memoizedState:Gt.next;if(r!==null)Gt=r,ct=s;else{if(s===null)throw je.alternate===null?Error(i(467)):Error(i(310));ct=s,s={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Gt===null?je.memoizedState=Gt=s:Gt=Gt.next=s}return Gt}function Nh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Eu(s){var r=bu;return bu+=1,Ho===null&&(Ho=[]),s=I0(Ho,s,r),r=je,(Gt===null?r.memoizedState:Gt.next)===null&&(r=r.alternate,J.H=r===null||r.memoizedState===null?w_:km),s}function Ih(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Eu(s);if(s.$$typeof===F)return hn(s)}throw Error(i(438,String(s)))}function wm(s){var r=null,o=je.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=je.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Nh(),je.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),u=0;u<s;u++)o[u]=k;return r.index++,o}function Vi(s,r){return typeof r=="function"?r(s):r}function Oh(s){var r=jt();return Sm(r,ct,s)}function Sm(s,r,o){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var d=s.baseQueue,p=u.pending;if(p!==null){if(d!==null){var b=d.next;d.next=p.next,p.next=b}r.baseQueue=d=p,u.pending=null}if(p=s.baseState,d===null)s.memoizedState=p;else{r=d.next;var S=b=null,j=null,W=r,ee=!1;do{var ie=W.lane&-536870913;if(ie!==W.lane?(Ye&ie)===ie:(ki&ie)===ie){var $=W.revertLane;if($===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ie===jo&&(ee=!0);else if((ki&$)===$){W=W.next,$===jo&&(ee=!0);continue}else ie={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},j===null?(S=j=ie,b=p):j=j.next=ie,je.lanes|=$,Nr|=$;ie=W.action,ja&&o(p,ie),p=W.hasEagerState?W.eagerState:o(p,ie)}else $={lane:ie,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},j===null?(S=j=$,b=p):j=j.next=$,je.lanes|=ie,Nr|=ie;W=W.next}while(W!==null&&W!==r);if(j===null?b=p:j.next=S,!qn(p,s.memoizedState)&&(Yt=!0,ee&&(o=Lo,o!==null)))throw o;s.memoizedState=p,s.baseState=b,s.baseQueue=j,u.lastRenderedState=p}return d===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function Am(s){var r=jt(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var u=o.dispatch,d=o.pending,p=r.memoizedState;if(d!==null){o.pending=null;var b=d=d.next;do p=s(p,b.action),b=b.next;while(b!==d);qn(p,r.memoizedState)||(Yt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function H0(s,r,o){var u=je,d=jt(),p=Xe;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=r();var b=!qn((ct||d).memoizedState,o);if(b&&(d.memoizedState=o,Yt=!0),d=d.queue,Dm(Y0.bind(null,u,d,s),[s]),d.getSnapshot!==r||b||Gt!==null&&Gt.memoizedState.tag&1){if(u.flags|=2048,qo(9,{destroy:void 0},G0.bind(null,u,d,o,r),null),pt===null)throw Error(i(349));p||(ki&127)!==0||q0(u,r,o)}return o}function q0(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=je.updateQueue,r===null?(r=Nh(),je.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function G0(s,r,o,u){r.value=o,r.getSnapshot=u,W0(r)&&K0(s)}function Y0(s,r,o){return o(function(){W0(r)&&K0(s)})}function W0(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!qn(s,o)}catch{return!0}}function K0(s){var r=Da(s,2);r!==null&&jn(r,s,2)}function xm(s){var r=xn();if(typeof s=="function"){var o=s;if(s=o(),ja){Mn(!0);try{o()}finally{Mn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:s},r}function $0(s,r,o,u){return s.baseState=o,Sm(s,ct,typeof u=="function"?u:Vi)}function KD(s,r,o,u,d){if(Ph(s))throw Error(i(485));if(s=r.action,s!==null){var p={payload:d,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};J.T!==null?o(!0):p.isTransition=!1,u(p),o=r.pending,o===null?(p.next=r.pending=p,Q0(r,p)):(p.next=o.next,r.pending=o.next=p)}}function Q0(s,r){var o=r.action,u=r.payload,d=s.state;if(r.isTransition){var p=J.T,b={};J.T=b;try{var S=o(d,u),j=J.S;j!==null&&j(b,S),X0(s,r,S)}catch(W){Cm(s,r,W)}finally{p!==null&&b.types!==null&&(p.types=b.types),J.T=p}}else try{p=o(d,u),X0(s,r,p)}catch(W){Cm(s,r,W)}}function X0(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Z0(s,r,u)},function(u){return Cm(s,r,u)}):Z0(s,r,o)}function Z0(s,r,o){r.status="fulfilled",r.value=o,J0(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,Q0(s,o)))}function Cm(s,r,o){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,J0(r),r=r.next;while(r!==u)}s.action=null}function J0(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function e_(s,r){return r}function t_(s,r){if(Xe){var o=pt.formState;if(o!==null){e:{var u=je;if(Xe){if(yt){t:{for(var d=yt,p=fs;d.nodeType!==8;){if(!p){d=null;break t}if(d=ms(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){yt=ms(d.nextSibling),u=d.data==="F!";break e}}Er(u)}u=!1}u&&(r=o[0])}}return o=xn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e_,lastRenderedState:r},o.queue=u,o=T_.bind(null,je,u),u.dispatch=o,u=xm(!1),p=Om.bind(null,je,!1,u.queue),u=xn(),d={state:r,dispatch:null,action:s,pending:null},u.queue=d,o=KD.bind(null,je,d,p,o),d.dispatch=o,u.memoizedState=s,[r,o,!1]}function n_(s){var r=jt();return s_(r,ct,s)}function s_(s,r,o){if(r=Sm(s,r,e_)[0],s=Oh(Vi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Eu(r)}catch(b){throw b===Uo?wh:b}else u=r;r=jt();var d=r.queue,p=d.dispatch;return o!==r.memoizedState&&(je.flags|=2048,qo(9,{destroy:void 0},$D.bind(null,d,o),null)),[u,p,s]}function $D(s,r){s.action=r}function i_(s){var r=jt(),o=ct;if(o!==null)return s_(r,o,s);jt(),r=r.memoizedState,o=jt();var u=o.queue.dispatch;return o.memoizedState=s,[r,u,!1]}function qo(s,r,o,u){return s={tag:s,create:o,deps:u,inst:r,next:null},r=je.updateQueue,r===null&&(r=Nh(),je.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(u=o.next,o.next=s,s.next=u,r.lastEffect=s),s}function r_(){return jt().memoizedState}function kh(s,r,o,u){var d=xn();je.flags|=s,d.memoizedState=qo(1|r,{destroy:void 0},o,u===void 0?null:u)}function Vh(s,r,o,u){var d=jt();u=u===void 0?null:u;var p=d.memoizedState.inst;ct!==null&&u!==null&&vm(u,ct.memoizedState.deps)?d.memoizedState=qo(r,p,o,u):(je.flags|=s,d.memoizedState=qo(1|r,p,o,u))}function a_(s,r){kh(8390656,8,s,r)}function Dm(s,r){Vh(2048,8,s,r)}function QD(s){je.flags|=4;var r=je.updateQueue;if(r===null)r=Nh(),je.updateQueue=r,r.events=[s];else{var o=r.events;o===null?r.events=[s]:o.push(s)}}function o_(s){var r=jt().memoizedState;return QD({ref:r,nextImpl:s}),function(){if((nt&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function l_(s,r){return Vh(4,2,s,r)}function u_(s,r){return Vh(4,4,s,r)}function c_(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function h_(s,r,o){o=o!=null?o.concat([s]):null,Vh(4,4,c_.bind(null,r,s),o)}function Mm(){}function f_(s,r){var o=jt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&vm(r,u[1])?u[0]:(o.memoizedState=[s,r],s)}function d_(s,r){var o=jt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&vm(r,u[1]))return u[0];if(u=s(),ja){Mn(!0);try{s()}finally{Mn(!1)}}return o.memoizedState=[u,r],u}function Rm(s,r,o){return o===void 0||(ki&1073741824)!==0&&(Ye&261930)===0?s.memoizedState=r:(s.memoizedState=o,s=mT(),je.lanes|=s,Nr|=s,o)}function m_(s,r,o,u){return qn(o,r)?o:zo.current!==null?(s=Rm(s,o,u),qn(s,r)||(Yt=!0),s):(ki&42)===0||(ki&1073741824)!==0&&(Ye&261930)===0?(Yt=!0,s.memoizedState=o):(s=mT(),je.lanes|=s,Nr|=s,r)}function p_(s,r,o,u,d){var p=oe.p;oe.p=p!==0&&8>p?p:8;var b=J.T,S={};J.T=S,Om(s,!1,r,o);try{var j=d(),W=J.S;if(W!==null&&W(S,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ee=GD(j,u);wu(s,r,ee,Qn(s))}else wu(s,r,u,Qn(s))}catch(ie){wu(s,r,{then:function(){},status:"rejected",reason:ie},Qn())}finally{oe.p=p,b!==null&&S.types!==null&&(b.types=S.types),J.T=b}}function XD(){}function Nm(s,r,o,u){if(s.tag!==5)throw Error(i(476));var d=g_(s).queue;p_(s,d,r,he,o===null?XD:function(){return y_(s),o(u)})}function g_(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:he},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function y_(s){var r=g_(s);r.next===null&&(r=s.alternate.memoizedState),wu(s,r.next.queue,{},Qn())}function Im(){return hn(Bu)}function v_(){return jt().memoizedState}function __(){return jt().memoizedState}function ZD(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=Qn();s=Ar(o);var u=xr(r,s,o);u!==null&&(jn(u,r,o),vu(u,r,o)),r={cache:om()},s.payload=r;return}r=r.return}}function JD(s,r,o){var u=Qn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ph(s)?b_(r,o):(o=Qd(s,r,o,u),o!==null&&(jn(o,s,u),E_(o,r,u)))}function T_(s,r,o){var u=Qn();wu(s,r,o,u)}function wu(s,r,o,u){var d={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ph(s))b_(r,d);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var b=r.lastRenderedState,S=p(b,o);if(d.hasEagerState=!0,d.eagerState=S,qn(S,b))return gh(s,r,d,0),pt===null&&ph(),!1}catch{}finally{}if(o=Qd(s,r,d,u),o!==null)return jn(o,s,u),E_(o,r,u),!0}return!1}function Om(s,r,o,u){if(u={lane:2,revertLane:hp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ph(s)){if(r)throw Error(i(479))}else r=Qd(s,o,u,2),r!==null&&jn(r,s,2)}function Ph(s){var r=s.alternate;return s===je||r!==null&&r===je}function b_(s,r){Fo=Mh=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function E_(s,r,o){if((o&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Gl(s,o)}}var Su={readContext:hn,use:Ih,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt};Su.useEffectEvent=Mt;var w_={readContext:hn,use:Ih,useCallback:function(s,r){return xn().memoizedState=[s,r===void 0?null:r],s},useContext:hn,useEffect:a_,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,kh(4194308,4,c_.bind(null,r,s),o)},useLayoutEffect:function(s,r){return kh(4194308,4,s,r)},useInsertionEffect:function(s,r){kh(4,2,s,r)},useMemo:function(s,r){var o=xn();r=r===void 0?null:r;var u=s();if(ja){Mn(!0);try{s()}finally{Mn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(s,r,o){var u=xn();if(o!==void 0){var d=o(r);if(ja){Mn(!0);try{o(r)}finally{Mn(!1)}}}else d=r;return u.memoizedState=u.baseState=d,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:d},u.queue=s,s=s.dispatch=JD.bind(null,je,s),[u.memoizedState,s]},useRef:function(s){var r=xn();return s={current:s},r.memoizedState=s},useState:function(s){s=xm(s);var r=s.queue,o=T_.bind(null,je,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:Mm,useDeferredValue:function(s,r){var o=xn();return Rm(o,s,r)},useTransition:function(){var s=xm(!1);return s=p_.bind(null,je,s.queue,!0,!1),xn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var u=je,d=xn();if(Xe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),pt===null)throw Error(i(349));(Ye&127)!==0||q0(u,r,o)}d.memoizedState=o;var p={value:o,getSnapshot:r};return d.queue=p,a_(Y0.bind(null,u,p,s),[s]),u.flags|=2048,qo(9,{destroy:void 0},G0.bind(null,u,p,o,r),null),o},useId:function(){var s=xn(),r=pt.identifierPrefix;if(Xe){var o=ri,u=ii;o=(u&~(1<<32-wt(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Rh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=YD++,r="_"+r+"r_"+o.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:Im,useFormState:t_,useActionState:t_,useOptimistic:function(s){var r=xn();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Om.bind(null,je,!0,o),o.dispatch=r,[s,r]},useMemoCache:wm,useCacheRefresh:function(){return xn().memoizedState=ZD.bind(null,je)},useEffectEvent:function(s){var r=xn(),o={impl:s};return r.memoizedState=o,function(){if((nt&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},km={readContext:hn,use:Ih,useCallback:f_,useContext:hn,useEffect:Dm,useImperativeHandle:h_,useInsertionEffect:l_,useLayoutEffect:u_,useMemo:d_,useReducer:Oh,useRef:r_,useState:function(){return Oh(Vi)},useDebugValue:Mm,useDeferredValue:function(s,r){var o=jt();return m_(o,ct.memoizedState,s,r)},useTransition:function(){var s=Oh(Vi)[0],r=jt().memoizedState;return[typeof s=="boolean"?s:Eu(s),r]},useSyncExternalStore:H0,useId:v_,useHostTransitionStatus:Im,useFormState:n_,useActionState:n_,useOptimistic:function(s,r){var o=jt();return $0(o,ct,s,r)},useMemoCache:wm,useCacheRefresh:__};km.useEffectEvent=o_;var S_={readContext:hn,use:Ih,useCallback:f_,useContext:hn,useEffect:Dm,useImperativeHandle:h_,useInsertionEffect:l_,useLayoutEffect:u_,useMemo:d_,useReducer:Am,useRef:r_,useState:function(){return Am(Vi)},useDebugValue:Mm,useDeferredValue:function(s,r){var o=jt();return ct===null?Rm(o,s,r):m_(o,ct.memoizedState,s,r)},useTransition:function(){var s=Am(Vi)[0],r=jt().memoizedState;return[typeof s=="boolean"?s:Eu(s),r]},useSyncExternalStore:H0,useId:v_,useHostTransitionStatus:Im,useFormState:i_,useActionState:i_,useOptimistic:function(s,r){var o=jt();return ct!==null?$0(o,ct,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:wm,useCacheRefresh:__};S_.useEffectEvent=o_;function Vm(s,r,o,u){r=s.memoizedState,o=o(u,r),o=o==null?r:T({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var Pm={enqueueSetState:function(s,r,o){s=s._reactInternals;var u=Qn(),d=Ar(u);d.payload=r,o!=null&&(d.callback=o),r=xr(s,d,u),r!==null&&(jn(r,s,u),vu(r,s,u))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var u=Qn(),d=Ar(u);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=xr(s,d,u),r!==null&&(jn(r,s,u),vu(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=Qn(),u=Ar(o);u.tag=2,r!=null&&(u.callback=r),r=xr(s,u,o),r!==null&&(jn(r,s,o),vu(r,s,o))}};function A_(s,r,o,u,d,p,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,p,b):r.prototype&&r.prototype.isPureReactComponent?!cu(o,u)||!cu(d,p):!0}function x_(s,r,o,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==s&&Pm.enqueueReplaceState(r,r.state,null)}function La(s,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(s=s.defaultProps){o===r&&(o=T({},o));for(var d in s)o[d]===void 0&&(o[d]=s[d])}return o}function C_(s){mh(s)}function D_(s){console.error(s)}function M_(s){mh(s)}function jh(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function R_(s,r,o){try{var u=s.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function jm(s,r,o){return o=Ar(o),o.tag=3,o.payload={element:null},o.callback=function(){jh(s,r)},o}function N_(s){return s=Ar(s),s.tag=3,s}function I_(s,r,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var p=u.value;s.payload=function(){return d(p)},s.callback=function(){R_(r,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(s.callback=function(){R_(r,o,u),typeof d!="function"&&(Ir===null?Ir=new Set([this]):Ir.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function eM(s,r,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Po(r,o,d,!0),o=Yn.current,o!==null){switch(o.tag){case 31:case 13:return ds===null?$h():o.alternate===null&&Rt===0&&(Rt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===Sh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),lp(s,u,d)),!1;case 22:return o.flags|=65536,u===Sh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),lp(s,u,d)),!1}throw Error(i(435,o.tag))}return lp(s,u,d),$h(),!1}if(Xe)return r=Yn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,u!==nm&&(s=Error(i(422),{cause:u}),du(us(s,o)))):(u!==nm&&(r=Error(i(423),{cause:u}),du(us(r,o))),s=s.current.alternate,s.flags|=65536,d&=-d,s.lanes|=d,u=us(u,o),d=jm(s.stateNode,u,d),dm(s,d),Rt!==4&&(Rt=2)),!1;var p=Error(i(520),{cause:u});if(p=us(p,o),Iu===null?Iu=[p]:Iu.push(p),Rt!==4&&(Rt=2),r===null)return!0;u=us(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=d&-d,o.lanes|=s,s=jm(o.stateNode,u,s),dm(o,s),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ir===null||!Ir.has(p))))return o.flags|=65536,d&=-d,o.lanes|=d,d=N_(d),I_(d,s,o,u),dm(o,d),!1}o=o.return}while(o!==null);return!1}var Lm=Error(i(461)),Yt=!1;function fn(s,r,o,u){r.child=s===null?P0(r,null,o,u):Pa(r,s.child,o,u)}function O_(s,r,o,u,d){o=o.render;var p=r.ref;if("ref"in u){var b={};for(var S in u)S!=="ref"&&(b[S]=u[S])}else b=u;return Ia(r),u=_m(s,r,o,b,p,d),S=Tm(),s!==null&&!Yt?(bm(s,r,d),Pi(s,r,d)):(Xe&&S&&em(r),r.flags|=1,fn(s,r,u,d),r.child)}function k_(s,r,o,u,d){if(s===null){var p=o.type;return typeof p=="function"&&!Xd(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,V_(s,r,p,u,d)):(s=vh(o.type,null,u,r,r.mode,d),s.ref=r.ref,s.return=r,r.child=s)}if(p=s.child,!Ym(s,d)){var b=p.memoizedProps;if(o=o.compare,o=o!==null?o:cu,o(b,u)&&s.ref===r.ref)return Pi(s,r,d)}return r.flags|=1,s=Ri(p,u),s.ref=r.ref,s.return=r,r.child=s}function V_(s,r,o,u,d){if(s!==null){var p=s.memoizedProps;if(cu(p,u)&&s.ref===r.ref)if(Yt=!1,r.pendingProps=u=p,Ym(s,d))(s.flags&131072)!==0&&(Yt=!0);else return r.lanes=s.lanes,Pi(s,r,d)}return Um(s,r,o,u,d)}function P_(s,r,o,u){var d=u.children,p=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,s!==null){for(u=r.child=s.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~p}else u=0,r.child=null;return j_(s,r,p,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Eh(r,p!==null?p.cachePool:null),p!==null?U0(r,p):pm(),B0(r);else return u=r.lanes=536870912,j_(s,r,p!==null?p.baseLanes|o:o,o,u)}else p!==null?(Eh(r,p.cachePool),U0(r,p),Dr(),r.memoizedState=null):(s!==null&&Eh(r,null),pm(),Dr());return fn(s,r,d,o),r.child}function Au(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function j_(s,r,o,u,d){var p=um();return p=p===null?null:{parent:qt._currentValue,pool:p},r.memoizedState={baseLanes:o,cachePool:p},s!==null&&Eh(r,null),pm(),B0(r),s!==null&&Po(s,r,u,!0),r.childLanes=d,null}function Lh(s,r){return r=Bh({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function L_(s,r,o){return Pa(r,s.child,null,o),s=Lh(r,r.pendingProps),s.flags|=2,Wn(r),r.memoizedState=null,s}function tM(s,r,o){var u=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(Xe){if(u.mode==="hidden")return s=Lh(r,u),r.lanes=536870912,Au(null,s);if(ym(r),(s=yt)?(s=QT(s,fs),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Tr!==null?{id:ii,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},o=b0(s),o.return=r,r.child=o,cn=r,yt=null)):s=null,s===null)throw Er(r);return r.lanes=536870912,null}return Lh(r,u)}var p=s.memoizedState;if(p!==null){var b=p.dehydrated;if(ym(r),d)if(r.flags&256)r.flags&=-257,r=L_(s,r,o);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(Yt||Po(s,r,o,!1),d=(o&s.childLanes)!==0,Yt||d){if(u=pt,u!==null&&(b=Yl(u,o),b!==0&&b!==p.retryLane))throw p.retryLane=b,Da(s,b),jn(u,s,b),Lm;$h(),r=L_(s,r,o)}else s=p.treeContext,yt=ms(b.nextSibling),cn=r,Xe=!0,br=null,fs=!1,s!==null&&S0(r,s),r=Lh(r,u),r.flags|=4096;return r}return s=Ri(s.child,{mode:u.mode,children:u.children}),s.ref=r.ref,r.child=s,s.return=r,s}function Uh(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function Um(s,r,o,u,d){return Ia(r),o=_m(s,r,o,u,void 0,d),u=Tm(),s!==null&&!Yt?(bm(s,r,d),Pi(s,r,d)):(Xe&&u&&em(r),r.flags|=1,fn(s,r,o,d),r.child)}function U_(s,r,o,u,d,p){return Ia(r),r.updateQueue=null,o=F0(r,u,o,d),z0(s),u=Tm(),s!==null&&!Yt?(bm(s,r,p),Pi(s,r,p)):(Xe&&u&&em(r),r.flags|=1,fn(s,r,o,p),r.child)}function B_(s,r,o,u,d){if(Ia(r),r.stateNode===null){var p=Io,b=o.contextType;typeof b=="object"&&b!==null&&(p=hn(b)),p=new o(u,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Pm,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=u,p.state=r.memoizedState,p.refs={},hm(r),b=o.contextType,p.context=typeof b=="object"&&b!==null?hn(b):Io,p.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Vm(r,o,b,u),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&Pm.enqueueReplaceState(p,p.state,null),Tu(r,u,p,d),_u(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){p=r.stateNode;var S=r.memoizedProps,j=La(o,S);p.props=j;var W=p.context,ee=o.contextType;b=Io,typeof ee=="object"&&ee!==null&&(b=hn(ee));var ie=o.getDerivedStateFromProps;ee=typeof ie=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,ee||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||W!==b)&&x_(r,p,u,b),Sr=!1;var $=r.memoizedState;p.state=$,Tu(r,u,p,d),_u(),W=r.memoizedState,S||$!==W||Sr?(typeof ie=="function"&&(Vm(r,o,ie,u),W=r.memoizedState),(j=Sr||A_(r,o,j,u,$,W,b))?(ee||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=W),p.props=u,p.state=W,p.context=b,u=j):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{p=r.stateNode,fm(s,r),b=r.memoizedProps,ee=La(o,b),p.props=ee,ie=r.pendingProps,$=p.context,W=o.contextType,j=Io,typeof W=="object"&&W!==null&&(j=hn(W)),S=o.getDerivedStateFromProps,(W=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==ie||$!==j)&&x_(r,p,u,j),Sr=!1,$=r.memoizedState,p.state=$,Tu(r,u,p,d),_u();var Z=r.memoizedState;b!==ie||$!==Z||Sr||s!==null&&s.dependencies!==null&&Th(s.dependencies)?(typeof S=="function"&&(Vm(r,o,S,u),Z=r.memoizedState),(ee=Sr||A_(r,o,ee,u,$,Z,j)||s!==null&&s.dependencies!==null&&Th(s.dependencies))?(W||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,Z,j),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,Z,j)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===s.memoizedProps&&$===s.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&$===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Z),p.props=u,p.state=Z,p.context=j,u=ee):(typeof p.componentDidUpdate!="function"||b===s.memoizedProps&&$===s.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&$===s.memoizedState||(r.flags|=1024),u=!1)}return p=u,Uh(s,r),u=(r.flags&128)!==0,p||u?(p=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,s!==null&&u?(r.child=Pa(r,s.child,null,d),r.child=Pa(r,null,o,d)):fn(s,r,o,d),r.memoizedState=p.state,s=r.child):s=Pi(s,r,d),s}function z_(s,r,o,u){return Ra(),r.flags|=256,fn(s,r,o,u),r.child}var Bm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zm(s){return{baseLanes:s,cachePool:R0()}}function Fm(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=$n),s}function F_(s,r,o){var u=r.pendingProps,d=!1,p=(r.flags&128)!==0,b;if((b=p)||(b=s!==null&&s.memoizedState===null?!1:(Pt.current&2)!==0),b&&(d=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,s===null){if(Xe){if(d?Cr(r):Dr(),(s=yt)?(s=QT(s,fs),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Tr!==null?{id:ii,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},o=b0(s),o.return=r,r.child=o,cn=r,yt=null)):s=null,s===null)throw Er(r);return Sp(s)?r.lanes=32:r.lanes=536870912,null}var S=u.children;return u=u.fallback,d?(Dr(),d=r.mode,S=Bh({mode:"hidden",children:S},d),u=Ma(u,d,o,null),S.return=r,u.return=r,S.sibling=u,r.child=S,u=r.child,u.memoizedState=zm(o),u.childLanes=Fm(s,b,o),r.memoizedState=Bm,Au(null,u)):(Cr(r),Hm(r,S))}var j=s.memoizedState;if(j!==null&&(S=j.dehydrated,S!==null)){if(p)r.flags&256?(Cr(r),r.flags&=-257,r=qm(s,r,o)):r.memoizedState!==null?(Dr(),r.child=s.child,r.flags|=128,r=null):(Dr(),S=u.fallback,d=r.mode,u=Bh({mode:"visible",children:u.children},d),S=Ma(S,d,o,null),S.flags|=2,u.return=r,S.return=r,u.sibling=S,r.child=u,Pa(r,s.child,null,o),u=r.child,u.memoizedState=zm(o),u.childLanes=Fm(s,b,o),r.memoizedState=Bm,r=Au(null,u));else if(Cr(r),Sp(S)){if(b=S.nextSibling&&S.nextSibling.dataset,b)var W=b.dgst;b=W,u=Error(i(419)),u.stack="",u.digest=b,du({value:u,source:null,stack:null}),r=qm(s,r,o)}else if(Yt||Po(s,r,o,!1),b=(o&s.childLanes)!==0,Yt||b){if(b=pt,b!==null&&(u=Yl(b,o),u!==0&&u!==j.retryLane))throw j.retryLane=u,Da(s,u),jn(b,s,u),Lm;wp(S)||$h(),r=qm(s,r,o)}else wp(S)?(r.flags|=192,r.child=s.child,r=null):(s=j.treeContext,yt=ms(S.nextSibling),cn=r,Xe=!0,br=null,fs=!1,s!==null&&S0(r,s),r=Hm(r,u.children),r.flags|=4096);return r}return d?(Dr(),S=u.fallback,d=r.mode,j=s.child,W=j.sibling,u=Ri(j,{mode:"hidden",children:u.children}),u.subtreeFlags=j.subtreeFlags&65011712,W!==null?S=Ri(W,S):(S=Ma(S,d,o,null),S.flags|=2),S.return=r,u.return=r,u.sibling=S,r.child=u,Au(null,u),u=r.child,S=s.child.memoizedState,S===null?S=zm(o):(d=S.cachePool,d!==null?(j=qt._currentValue,d=d.parent!==j?{parent:j,pool:j}:d):d=R0(),S={baseLanes:S.baseLanes|o,cachePool:d}),u.memoizedState=S,u.childLanes=Fm(s,b,o),r.memoizedState=Bm,Au(s.child,u)):(Cr(r),o=s.child,s=o.sibling,o=Ri(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,s!==null&&(b=r.deletions,b===null?(r.deletions=[s],r.flags|=16):b.push(s)),r.child=o,r.memoizedState=null,o)}function Hm(s,r){return r=Bh({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Bh(s,r){return s=Gn(22,s,null,r),s.lanes=0,s}function qm(s,r,o){return Pa(r,s.child,null,o),s=Hm(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function H_(s,r,o){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),rm(s.return,r,o)}function Gm(s,r,o,u,d,p){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d,treeForkCount:p}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=o,b.tailMode=d,b.treeForkCount=p)}function q_(s,r,o){var u=r.pendingProps,d=u.revealOrder,p=u.tail;u=u.children;var b=Pt.current,S=(b&2)!==0;if(S?(b=b&1|2,r.flags|=128):b&=1,ue(Pt,b),fn(s,r,u,o),u=Xe?fu:0,!S&&s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&H_(s,o,r);else if(s.tag===19)H_(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(d){case"forwards":for(o=r.child,d=null;o!==null;)s=o.alternate,s!==null&&Dh(s)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),Gm(r,!1,d,o,p,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(s=d.alternate,s!==null&&Dh(s)===null){r.child=d;break}s=d.sibling,d.sibling=o,o=d,d=s}Gm(r,!0,o,null,p,u);break;case"together":Gm(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Pi(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),Nr|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(Po(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=Ri(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=Ri(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function Ym(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Th(s)))}function nM(s,r,o){switch(r.tag){case 3:It(r,r.stateNode.containerInfo),wr(r,qt,s.memoizedState.cache),Ra();break;case 27:case 5:ns(r);break;case 4:It(r,r.stateNode.containerInfo);break;case 10:wr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,ym(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Cr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?F_(s,r,o):(Cr(r),s=Pi(s,r,o),s!==null?s.sibling:null);Cr(r);break;case 19:var d=(s.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Po(s,r,o,!1),u=(o&r.childLanes)!==0),d){if(u)return q_(s,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ue(Pt,Pt.current),u)break;return null;case 22:return r.lanes=0,P_(s,r,o,r.pendingProps);case 24:wr(r,qt,s.memoizedState.cache)}return Pi(s,r,o)}function G_(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)Yt=!0;else{if(!Ym(s,o)&&(r.flags&128)===0)return Yt=!1,nM(s,r,o);Yt=(s.flags&131072)!==0}else Yt=!1,Xe&&(r.flags&1048576)!==0&&w0(r,fu,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(s=ka(r.elementType),r.type=s,typeof s=="function")Xd(s)?(u=La(s,u),r.tag=1,r=B_(null,r,s,u,o)):(r.tag=0,r=Um(null,r,s,u,o));else{if(s!=null){var d=s.$$typeof;if(d===te){r.tag=11,r=O_(null,r,s,u,o);break e}else if(d===x){r.tag=14,r=k_(null,r,s,u,o);break e}}throw r=pe(s)||s,Error(i(306,r,""))}}return r;case 0:return Um(s,r,r.type,r.pendingProps,o);case 1:return u=r.type,d=La(u,r.pendingProps),B_(s,r,u,d,o);case 3:e:{if(It(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var p=r.memoizedState;d=p.element,fm(s,r),Tu(r,u,null,o);var b=r.memoizedState;if(u=b.cache,wr(r,qt,u),u!==p.cache&&am(r,[qt],o,!0),_u(),u=b.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=z_(s,r,u,o);break e}else if(u!==d){d=us(Error(i(424)),r),du(d),r=z_(s,r,u,o);break e}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(yt=ms(s.firstChild),cn=r,Xe=!0,br=null,fs=!0,o=P0(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ra(),u===d){r=Pi(s,r,o);break e}fn(s,r,u,o)}r=r.child}return r;case 26:return Uh(s,r),s===null?(o=nb(r.type,null,r.pendingProps,null))?r.memoizedState=o:Xe||(o=r.type,s=r.pendingProps,u=nf(Oe.current).createElement(o),u[zt]=r,u[sn]=s,dn(u,o,s),Ft(u),r.stateNode=u):r.memoizedState=nb(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return ns(r),s===null&&Xe&&(u=r.stateNode=JT(r.type,r.pendingProps,Oe.current),cn=r,fs=!0,d=yt,Pr(r.type)?(Ap=d,yt=ms(u.firstChild)):yt=d),fn(s,r,r.pendingProps.children,o),Uh(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Xe&&((d=u=yt)&&(u=IM(u,r.type,r.pendingProps,fs),u!==null?(r.stateNode=u,cn=r,yt=ms(u.firstChild),fs=!1,d=!0):d=!1),d||Er(r)),ns(r),d=r.type,p=r.pendingProps,b=s!==null?s.memoizedProps:null,u=p.children,Tp(d,p)?u=null:b!==null&&Tp(d,b)&&(r.flags|=32),r.memoizedState!==null&&(d=_m(s,r,WD,null,null,o),Bu._currentValue=d),Uh(s,r),fn(s,r,u,o),r.child;case 6:return s===null&&Xe&&((s=o=yt)&&(o=OM(o,r.pendingProps,fs),o!==null?(r.stateNode=o,cn=r,yt=null,s=!0):s=!1),s||Er(r)),null;case 13:return F_(s,r,o);case 4:return It(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=Pa(r,null,u,o):fn(s,r,u,o),r.child;case 11:return O_(s,r,r.type,r.pendingProps,o);case 7:return fn(s,r,r.pendingProps,o),r.child;case 8:return fn(s,r,r.pendingProps.children,o),r.child;case 12:return fn(s,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,wr(r,r.type,u.value),fn(s,r,u.children,o),r.child;case 9:return d=r.type._context,u=r.pendingProps.children,Ia(r),d=hn(d),u=u(d),r.flags|=1,fn(s,r,u,o),r.child;case 14:return k_(s,r,r.type,r.pendingProps,o);case 15:return V_(s,r,r.type,r.pendingProps,o);case 19:return q_(s,r,o);case 31:return tM(s,r,o);case 22:return P_(s,r,o,r.pendingProps);case 24:return Ia(r),u=hn(qt),s===null?(d=um(),d===null&&(d=pt,p=om(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=o),d=p),r.memoizedState={parent:u,cache:d},hm(r),wr(r,qt,d)):((s.lanes&o)!==0&&(fm(s,r),Tu(r,null,null,o),_u()),d=s.memoizedState,p=r.memoizedState,d.parent!==u?(d={parent:u,cache:u},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),wr(r,qt,u)):(u=p.cache,wr(r,qt,u),u!==d.cache&&am(r,[qt],o,!0))),fn(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function ji(s){s.flags|=4}function Wm(s,r,o,u,d){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(d&335544128)===d)if(s.stateNode.complete)s.flags|=8192;else if(vT())s.flags|=8192;else throw Va=Sh,cm}else s.flags&=-16777217}function Y_(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!ob(r))if(vT())s.flags|=8192;else throw Va=Sh,cm}function zh(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?go():536870912,s.lanes|=r,Ko|=r)}function xu(s,r){if(!Xe)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function vt(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,u=0;if(r)for(var d=s.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=s,d=d.sibling;else for(d=s.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=s,d=d.sibling;return s.subtreeFlags|=u,s.childLanes=o,r}function sM(s,r,o){var u=r.pendingProps;switch(tm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(r),null;case 1:return vt(r),null;case 3:return o=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Oi(qt),mt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(Vo(r)?ji(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,sm())),vt(r),null;case 26:var d=r.type,p=r.memoizedState;return s===null?(ji(r),p!==null?(vt(r),Y_(r,p)):(vt(r),Wm(r,d,null,u,o))):p?p!==s.memoizedState?(ji(r),vt(r),Y_(r,p)):(vt(r),r.flags&=-16777217):(s=s.memoizedProps,s!==u&&ji(r),vt(r),Wm(r,d,s,u,o)),null;case 27:if(ar(r),o=Oe.current,d=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&ji(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return vt(r),null}s=ce.current,Vo(r)?A0(r):(s=JT(d,u,o),r.stateNode=s,ji(r))}return vt(r),null;case 5:if(ar(r),d=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&ji(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return vt(r),null}if(p=ce.current,Vo(r))A0(r);else{var b=nf(Oe.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?b.createElement(d,{is:u.is}):b.createElement(d)}}p[zt]=r,p[sn]=u;e:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break e;for(;b.sibling===null;){if(b.return===null||b.return===r)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=p;e:switch(dn(p,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ji(r)}}return vt(r),Wm(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,o),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&ji(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=Oe.current,Vo(r)){if(s=r.stateNode,o=r.memoizedProps,u=null,d=cn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}s[zt]=r,s=!!(s.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||FT(s.nodeValue,o)),s||Er(r,!0)}else s=nf(s).createTextNode(u),s[zt]=r,r.stateNode=s}return vt(r),null;case 31:if(o=r.memoizedState,s===null||s.memoizedState!==null){if(u=Vo(r),o!==null){if(s===null){if(!u)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[zt]=r}else Ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;vt(r),s=!1}else o=sm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return r.flags&256?(Wn(r),r):(Wn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return vt(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(d=Vo(r),u!==null&&u.dehydrated!==null){if(s===null){if(!d)throw Error(i(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[zt]=r}else Ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;vt(r),d=!1}else d=sm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Wn(r),r):(Wn(r),null)}return Wn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,s=s!==null&&s.memoizedState!==null,o&&(u=r.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==d&&(u.flags|=2048)),o!==s&&o&&(r.child.flags|=8192),zh(r,r.updateQueue),vt(r),null);case 4:return mt(),s===null&&pp(r.stateNode.containerInfo),vt(r),null;case 10:return Oi(r.type),vt(r),null;case 19:if(se(Pt),u=r.memoizedState,u===null)return vt(r),null;if(d=(r.flags&128)!==0,p=u.rendering,p===null)if(d)xu(u,!1);else{if(Rt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(p=Dh(s),p!==null){for(r.flags|=128,xu(u,!1),s=p.updateQueue,r.updateQueue=s,zh(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)T0(o,s),o=o.sibling;return ue(Pt,Pt.current&1|2),Xe&&Ni(r,u.treeForkCount),r.child}s=s.sibling}u.tail!==null&&Xt()>Yh&&(r.flags|=128,d=!0,xu(u,!1),r.lanes=4194304)}else{if(!d)if(s=Dh(p),s!==null){if(r.flags|=128,d=!0,s=s.updateQueue,r.updateQueue=s,zh(r,s),xu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Xe)return vt(r),null}else 2*Xt()-u.renderingStartTime>Yh&&o!==536870912&&(r.flags|=128,d=!0,xu(u,!1),r.lanes=4194304);u.isBackwards?(p.sibling=r.child,r.child=p):(s=u.last,s!==null?s.sibling=p:r.child=p,u.last=p)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=Xt(),s.sibling=null,o=Pt.current,ue(Pt,d?o&1|2:o&1),Xe&&Ni(r,u.treeForkCount),s):(vt(r),null);case 22:case 23:return Wn(r),gm(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(vt(r),r.subtreeFlags&6&&(r.flags|=8192)):vt(r),o=r.updateQueue,o!==null&&zh(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),s!==null&&se(Oa),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Oi(qt),vt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function iM(s,r){switch(tm(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Oi(qt),mt(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return ar(r),null;case 31:if(r.memoizedState!==null){if(Wn(r),r.alternate===null)throw Error(i(340));Ra()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(Wn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Ra()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return se(Pt),null;case 4:return mt(),null;case 10:return Oi(r.type),null;case 22:case 23:return Wn(r),gm(),s!==null&&se(Oa),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Oi(qt),null;case 25:return null;default:return null}}function W_(s,r){switch(tm(r),r.tag){case 3:Oi(qt),mt();break;case 26:case 27:case 5:ar(r);break;case 4:mt();break;case 31:r.memoizedState!==null&&Wn(r);break;case 13:Wn(r);break;case 19:se(Pt);break;case 10:Oi(r.type);break;case 22:case 23:Wn(r),gm(),s!==null&&se(Oa);break;case 24:Oi(qt)}}function Cu(s,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&s)===s){u=void 0;var p=o.create,b=o.inst;u=p(),b.destroy=u}o=o.next}while(o!==d)}}catch(S){at(r,r.return,S)}}function Mr(s,r,o){try{var u=r.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var p=d.next;u=p;do{if((u.tag&s)===s){var b=u.inst,S=b.destroy;if(S!==void 0){b.destroy=void 0,d=r;var j=o,W=S;try{W()}catch(ee){at(d,j,ee)}}}u=u.next}while(u!==p)}}catch(ee){at(r,r.return,ee)}}function K_(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{L0(r,o)}catch(u){at(s,s.return,u)}}}function $_(s,r,o){o.props=La(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(u){at(s,r,u)}}function Du(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof o=="function"?s.refCleanup=o(u):o.current=u}}catch(d){at(s,r,d)}}function ai(s,r){var o=s.ref,u=s.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){at(s,r,d)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){at(s,r,d)}else o.current=null}function Q_(s){var r=s.type,o=s.memoizedProps,u=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){at(s,s.return,d)}}function Km(s,r,o){try{var u=s.stateNode;xM(u,s.type,o,r),u[sn]=r}catch(d){at(s,s.return,d)}}function X_(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Pr(s.type)||s.tag===4}function $m(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||X_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Pr(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Qm(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=xs));else if(u!==4&&(u===27&&Pr(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(Qm(s,r,o),s=s.sibling;s!==null;)Qm(s,r,o),s=s.sibling}function Fh(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(u!==4&&(u===27&&Pr(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(Fh(s,r,o),s=s.sibling;s!==null;)Fh(s,r,o),s=s.sibling}function Z_(s){var r=s.stateNode,o=s.memoizedProps;try{for(var u=s.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);dn(r,u,o),r[zt]=s,r[sn]=o}catch(p){at(s,s.return,p)}}var Li=!1,Wt=!1,Xm=!1,J_=typeof WeakSet=="function"?WeakSet:Set,an=null;function rM(s,r){if(s=s.containerInfo,vp=cf,s=h0(s),qd(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var b=0,S=-1,j=-1,W=0,ee=0,ie=s,$=null;t:for(;;){for(var Z;ie!==o||d!==0&&ie.nodeType!==3||(S=b+d),ie!==p||u!==0&&ie.nodeType!==3||(j=b+u),ie.nodeType===3&&(b+=ie.nodeValue.length),(Z=ie.firstChild)!==null;)$=ie,ie=Z;for(;;){if(ie===s)break t;if($===o&&++W===d&&(S=b),$===p&&++ee===u&&(j=b),(Z=ie.nextSibling)!==null)break;ie=$,$=ie.parentNode}ie=Z}o=S===-1||j===-1?null:{start:S,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(_p={focusedElem:s,selectionRange:o},cf=!1,an=r;an!==null;)if(r=an,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,an=s;else for(;an!==null;){switch(r=an,p=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)d=s[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,o=r,d=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var me=La(o.type,d);s=u.getSnapshotBeforeUpdate(me,p),u.__reactInternalSnapshotBeforeUpdate=s}catch(we){at(o,o.return,we)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)Ep(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Ep(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,an=s;break}an=r.return}}function eT(s,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Bi(s,o),u&4&&Cu(5,o);break;case 1:if(Bi(s,o),u&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(b){at(o,o.return,b)}else{var d=La(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(d,r,s.__reactInternalSnapshotBeforeUpdate)}catch(b){at(o,o.return,b)}}u&64&&K_(o),u&512&&Du(o,o.return);break;case 3:if(Bi(s,o),u&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{L0(s,r)}catch(b){at(o,o.return,b)}}break;case 27:r===null&&u&4&&Z_(o);case 26:case 5:Bi(s,o),r===null&&u&4&&Q_(o),u&512&&Du(o,o.return);break;case 12:Bi(s,o);break;case 31:Bi(s,o),u&4&&sT(s,o);break;case 13:Bi(s,o),u&4&&iT(s,o),u&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=mM.bind(null,o),kM(s,o))));break;case 22:if(u=o.memoizedState!==null||Li,!u){r=r!==null&&r.memoizedState!==null||Wt,d=Li;var p=Wt;Li=u,(Wt=r)&&!p?zi(s,o,(o.subtreeFlags&8772)!==0):Bi(s,o),Li=d,Wt=p}break;case 30:break;default:Bi(s,o)}}function tT(s){var r=s.alternate;r!==null&&(s.alternate=null,tT(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&vo(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var bt=null,On=!1;function Ui(s,r,o){for(o=o.child;o!==null;)nT(s,r,o),o=o.sibling}function nT(s,r,o){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Bn,o)}catch{}switch(o.tag){case 26:Wt||ai(o,r),Ui(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Wt||ai(o,r);var u=bt,d=On;Pr(o.type)&&(bt=o.stateNode,On=!1),Ui(s,r,o),ju(o.stateNode),bt=u,On=d;break;case 5:Wt||ai(o,r);case 6:if(u=bt,d=On,bt=null,Ui(s,r,o),bt=u,On=d,bt!==null)if(On)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(o.stateNode)}catch(p){at(o,r,p)}else try{bt.removeChild(o.stateNode)}catch(p){at(o,r,p)}break;case 18:bt!==null&&(On?(s=bt,KT(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),nl(s)):KT(bt,o.stateNode));break;case 4:u=bt,d=On,bt=o.stateNode.containerInfo,On=!0,Ui(s,r,o),bt=u,On=d;break;case 0:case 11:case 14:case 15:Mr(2,o,r),Wt||Mr(4,o,r),Ui(s,r,o);break;case 1:Wt||(ai(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&$_(o,r,u)),Ui(s,r,o);break;case 21:Ui(s,r,o);break;case 22:Wt=(u=Wt)||o.memoizedState!==null,Ui(s,r,o),Wt=u;break;default:Ui(s,r,o)}}function sT(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{nl(s)}catch(o){at(r,r.return,o)}}}function iT(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{nl(s)}catch(o){at(r,r.return,o)}}function aM(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new J_),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new J_),r;default:throw Error(i(435,s.tag))}}function Hh(s,r){var o=aM(s);r.forEach(function(u){if(!o.has(u)){o.add(u);var d=pM.bind(null,s,u);u.then(d,d)}})}function kn(s,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],p=s,b=r,S=b;e:for(;S!==null;){switch(S.tag){case 27:if(Pr(S.type)){bt=S.stateNode,On=!1;break e}break;case 5:bt=S.stateNode,On=!1;break e;case 3:case 4:bt=S.stateNode.containerInfo,On=!0;break e}S=S.return}if(bt===null)throw Error(i(160));nT(p,b,d),bt=null,On=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)rT(r,s),r=r.sibling}var Is=null;function rT(s,r){var o=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:kn(r,s),Vn(s),u&4&&(Mr(3,s,s.return),Cu(3,s),Mr(5,s,s.return));break;case 1:kn(r,s),Vn(s),u&512&&(Wt||o===null||ai(o,o.return)),u&64&&Li&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=Is;if(kn(r,s),Vn(s),u&512&&(Wt||o===null||ai(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=s.memoizedState,o===null)if(u===null)if(s.stateNode===null){e:{u=s.type,o=s.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":p=d.getElementsByTagName("title")[0],(!p||p[Ys]||p[zt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(u),d.head.insertBefore(p,d.querySelector("head > title"))),dn(p,u,o),p[zt]=s,Ft(p),u=p;break e;case"link":var b=rb("link","href",d).get(u+(o.href||""));if(b){for(var S=0;S<b.length;S++)if(p=b[S],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(S,1);break t}}p=d.createElement(u),dn(p,u,o),d.head.appendChild(p);break;case"meta":if(b=rb("meta","content",d).get(u+(o.content||""))){for(S=0;S<b.length;S++)if(p=b[S],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(S,1);break t}}p=d.createElement(u),dn(p,u,o),d.head.appendChild(p);break;default:throw Error(i(468,u))}p[zt]=s,Ft(p),u=p}s.stateNode=u}else ab(d,s.type,s.stateNode);else s.stateNode=ib(d,u,s.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?ab(d,s.type,s.stateNode):ib(d,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Km(s,s.memoizedProps,o.memoizedProps)}break;case 27:kn(r,s),Vn(s),u&512&&(Wt||o===null||ai(o,o.return)),o!==null&&u&4&&Km(s,s.memoizedProps,o.memoizedProps);break;case 5:if(kn(r,s),Vn(s),u&512&&(Wt||o===null||ai(o,o.return)),s.flags&32){d=s.stateNode;try{In(d,"")}catch(me){at(s,s.return,me)}}u&4&&s.stateNode!=null&&(d=s.memoizedProps,Km(s,d,o!==null?o.memoizedProps:d)),u&1024&&(Xm=!0);break;case 6:if(kn(r,s),Vn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,o=s.stateNode;try{o.nodeValue=u}catch(me){at(s,s.return,me)}}break;case 3:if(af=null,d=Is,Is=sf(r.containerInfo),kn(r,s),Is=d,Vn(s),u&4&&o!==null&&o.memoizedState.isDehydrated)try{nl(r.containerInfo)}catch(me){at(s,s.return,me)}Xm&&(Xm=!1,aT(s));break;case 4:u=Is,Is=sf(s.stateNode.containerInfo),kn(r,s),Vn(s),Is=u;break;case 12:kn(r,s),Vn(s);break;case 31:kn(r,s),Vn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Hh(s,u)));break;case 13:kn(r,s),Vn(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Gh=Xt()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Hh(s,u)));break;case 22:d=s.memoizedState!==null;var j=o!==null&&o.memoizedState!==null,W=Li,ee=Wt;if(Li=W||d,Wt=ee||j,kn(r,s),Wt=ee,Li=W,Vn(s),u&8192)e:for(r=s.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||j||Li||Wt||Ua(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){j=o=r;try{if(p=j.stateNode,d)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=j.stateNode;var ie=j.memoizedProps.style,$=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;S.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(me){at(j,j.return,me)}}}else if(r.tag===6){if(o===null){j=r;try{j.stateNode.nodeValue=d?"":j.memoizedProps}catch(me){at(j,j.return,me)}}}else if(r.tag===18){if(o===null){j=r;try{var Z=j.stateNode;d?$T(Z,!0):$T(j.stateNode,!1)}catch(me){at(j,j.return,me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Hh(s,o))));break;case 19:kn(r,s),Vn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Hh(s,u)));break;case 30:break;case 21:break;default:kn(r,s),Vn(s)}}function Vn(s){var r=s.flags;if(r&2){try{for(var o,u=s.return;u!==null;){if(X_(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var d=o.stateNode,p=$m(s);Fh(s,p,d);break;case 5:var b=o.stateNode;o.flags&32&&(In(b,""),o.flags&=-33);var S=$m(s);Fh(s,S,b);break;case 3:case 4:var j=o.stateNode.containerInfo,W=$m(s);Qm(s,W,j);break;default:throw Error(i(161))}}catch(ee){at(s,s.return,ee)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function aT(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;aT(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Bi(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)eT(s,r.alternate,r),r=r.sibling}function Ua(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Mr(4,r,r.return),Ua(r);break;case 1:ai(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&$_(r,r.return,o),Ua(r);break;case 27:ju(r.stateNode);case 26:case 5:ai(r,r.return),Ua(r);break;case 22:r.memoizedState===null&&Ua(r);break;case 30:Ua(r);break;default:Ua(r)}s=s.sibling}}function zi(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,d=s,p=r,b=p.flags;switch(p.tag){case 0:case 11:case 15:zi(d,p,o),Cu(4,p);break;case 1:if(zi(d,p,o),u=p,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(W){at(u,u.return,W)}if(u=p,d=u.updateQueue,d!==null){var S=u.stateNode;try{var j=d.shared.hiddenCallbacks;if(j!==null)for(d.shared.hiddenCallbacks=null,d=0;d<j.length;d++)j0(j[d],S)}catch(W){at(u,u.return,W)}}o&&b&64&&K_(p),Du(p,p.return);break;case 27:Z_(p);case 26:case 5:zi(d,p,o),o&&u===null&&b&4&&Q_(p),Du(p,p.return);break;case 12:zi(d,p,o);break;case 31:zi(d,p,o),o&&b&4&&sT(d,p);break;case 13:zi(d,p,o),o&&b&4&&iT(d,p);break;case 22:p.memoizedState===null&&zi(d,p,o),Du(p,p.return);break;case 30:break;default:zi(d,p,o)}r=r.sibling}}function Zm(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&mu(o))}function Jm(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&mu(s))}function Os(s,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)oT(s,r,o,u),r=r.sibling}function oT(s,r,o,u){var d=r.flags;switch(r.tag){case 0:case 11:case 15:Os(s,r,o,u),d&2048&&Cu(9,r);break;case 1:Os(s,r,o,u);break;case 3:Os(s,r,o,u),d&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&mu(s)));break;case 12:if(d&2048){Os(s,r,o,u),s=r.stateNode;try{var p=r.memoizedProps,b=p.id,S=p.onPostCommit;typeof S=="function"&&S(b,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(j){at(r,r.return,j)}}else Os(s,r,o,u);break;case 31:Os(s,r,o,u);break;case 13:Os(s,r,o,u);break;case 23:break;case 22:p=r.stateNode,b=r.alternate,r.memoizedState!==null?p._visibility&2?Os(s,r,o,u):Mu(s,r):p._visibility&2?Os(s,r,o,u):(p._visibility|=2,Go(s,r,o,u,(r.subtreeFlags&10256)!==0||!1)),d&2048&&Zm(b,r);break;case 24:Os(s,r,o,u),d&2048&&Jm(r.alternate,r);break;default:Os(s,r,o,u)}}function Go(s,r,o,u,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=s,b=r,S=o,j=u,W=b.flags;switch(b.tag){case 0:case 11:case 15:Go(p,b,S,j,d),Cu(8,b);break;case 23:break;case 22:var ee=b.stateNode;b.memoizedState!==null?ee._visibility&2?Go(p,b,S,j,d):Mu(p,b):(ee._visibility|=2,Go(p,b,S,j,d)),d&&W&2048&&Zm(b.alternate,b);break;case 24:Go(p,b,S,j,d),d&&W&2048&&Jm(b.alternate,b);break;default:Go(p,b,S,j,d)}r=r.sibling}}function Mu(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,u=r,d=u.flags;switch(u.tag){case 22:Mu(o,u),d&2048&&Zm(u.alternate,u);break;case 24:Mu(o,u),d&2048&&Jm(u.alternate,u);break;default:Mu(o,u)}r=r.sibling}}var Ru=8192;function Yo(s,r,o){if(s.subtreeFlags&Ru)for(s=s.child;s!==null;)lT(s,r,o),s=s.sibling}function lT(s,r,o){switch(s.tag){case 26:Yo(s,r,o),s.flags&Ru&&s.memoizedState!==null&&YM(o,Is,s.memoizedState,s.memoizedProps);break;case 5:Yo(s,r,o);break;case 3:case 4:var u=Is;Is=sf(s.stateNode.containerInfo),Yo(s,r,o),Is=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=Ru,Ru=16777216,Yo(s,r,o),Ru=u):Yo(s,r,o));break;default:Yo(s,r,o)}}function uT(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Nu(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];an=u,hT(u,s)}uT(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)cT(s),s=s.sibling}function cT(s){switch(s.tag){case 0:case 11:case 15:Nu(s),s.flags&2048&&Mr(9,s,s.return);break;case 3:Nu(s);break;case 12:Nu(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,qh(s)):Nu(s);break;default:Nu(s)}}function qh(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];an=u,hT(u,s)}uT(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Mr(8,r,r.return),qh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,qh(r));break;default:qh(r)}s=s.sibling}}function hT(s,r){for(;an!==null;){var o=an;switch(o.tag){case 0:case 11:case 15:Mr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:mu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,an=u;else e:for(o=s;an!==null;){u=an;var d=u.sibling,p=u.return;if(tT(u),u===o){an=null;break e}if(d!==null){d.return=p,an=d;break e}an=p}}}var oM={getCacheForType:function(s){var r=hn(qt),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o},cacheSignal:function(){return hn(qt).controller.signal}},lM=typeof WeakMap=="function"?WeakMap:Map,nt=0,pt=null,Fe=null,Ye=0,rt=0,Kn=null,Rr=!1,Wo=!1,ep=!1,Fi=0,Rt=0,Nr=0,Ba=0,tp=0,$n=0,Ko=0,Iu=null,Pn=null,np=!1,Gh=0,fT=0,Yh=1/0,Wh=null,Ir=null,Jt=0,Or=null,$o=null,Hi=0,sp=0,ip=null,dT=null,Ou=0,rp=null;function Qn(){return(nt&2)!==0&&Ye!==0?Ye&-Ye:J.T!==null?hp():Kc()}function mT(){if($n===0)if((Ye&536870912)===0||Xe){var s=Se;Se<<=1,(Se&3932160)===0&&(Se=262144),$n=s}else $n=536870912;return s=Yn.current,s!==null&&(s.flags|=32),$n}function jn(s,r,o){(s===pt&&(rt===2||rt===9)||s.cancelPendingCommit!==null)&&(Qo(s,0),kr(s,Ye,$n,!1)),ws(s,o),((nt&2)===0||s!==pt)&&(s===pt&&((nt&2)===0&&(Ba|=o),Rt===4&&kr(s,Ye,$n,!1)),oi(s))}function pT(s,r,o){if((nt&6)!==0)throw Error(i(327));var u=!o&&(r&127)===0&&(r&s.expiredLanes)===0||zn(s,r),d=u?hM(s,r):op(s,r,!0),p=u;do{if(d===0){Wo&&!u&&kr(s,r,0,!1);break}else{if(o=s.current.alternate,p&&!uM(o)){d=op(s,r,!1),p=!1;continue}if(d===2){if(p=r,s.errorRecoveryDisabledLanes&p)var b=0;else b=s.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var S=s;d=Iu;var j=S.current.memoizedState.isDehydrated;if(j&&(Qo(S,b).flags|=256),b=op(S,b,!1),b!==2){if(ep&&!j){S.errorRecoveryDisabledLanes|=p,Ba|=p,d=4;break e}p=Pn,Pn=d,p!==null&&(Pn===null?Pn=p:Pn.push.apply(Pn,p))}d=b}if(p=!1,d!==2)continue}}if(d===1){Qo(s,0),kr(s,r,0,!0);break}e:{switch(u=s,p=d,p){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:kr(u,r,$n,!Rr);break e;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(d=Gh+300-Xt(),10<d)){if(kr(u,r,$n,!Rr),Ne(u,0,!0)!==0)break e;Hi=r,u.timeoutHandle=YT(gT.bind(null,u,o,Pn,Wh,np,r,$n,Ba,Ko,Rr,p,"Throttled",-0,0),d);break e}gT(u,o,Pn,Wh,np,r,$n,Ba,Ko,Rr,p,null,-0,0)}}break}while(!0);oi(s)}function gT(s,r,o,u,d,p,b,S,j,W,ee,ie,$,Z){if(s.timeoutHandle=-1,ie=r.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xs},lT(r,p,ie);var me=(p&62914560)===p?Gh-Xt():(p&4194048)===p?fT-Xt():0;if(me=WM(ie,me),me!==null){Hi=p,s.cancelPendingCommit=me(ST.bind(null,s,r,p,o,u,d,b,S,j,ee,ie,null,$,Z)),kr(s,p,b,!W);return}}ST(s,r,p,o,u,d,b,S,j)}function uM(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],p=d.getSnapshot;d=d.value;try{if(!qn(p(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function kr(s,r,o,u){r&=~tp,r&=~Ba,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var d=r;0<d;){var p=31-wt(d),b=1<<p;u[p]=-1,d&=~b}o!==0&&pa(s,o,r)}function Kh(){return(nt&6)===0?(ku(0),!1):!0}function ap(){if(Fe!==null){if(rt===0)var s=Fe.return;else s=Fe,Ii=Na=null,Em(s),Bo=null,gu=0,s=Fe;for(;s!==null;)W_(s.alternate,s),s=s.return;Fe=null}}function Qo(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,MM(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),Hi=0,ap(),pt=s,Fe=o=Ri(s.current,null),Ye=r,rt=0,Kn=null,Rr=!1,Wo=zn(s,r),ep=!1,Ko=$n=tp=Ba=Nr=Rt=0,Pn=Iu=null,np=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var d=31-wt(u),p=1<<d;r|=s[d],u&=~p}return Fi=r,ph(),o}function yT(s,r){je=null,J.H=Su,r===Uo||r===wh?(r=O0(),rt=3):r===cm?(r=O0(),rt=4):rt=r===Lm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Kn=r,Fe===null&&(Rt=1,jh(s,us(r,s.current)))}function vT(){var s=Yn.current;return s===null?!0:(Ye&4194048)===Ye?ds===null:(Ye&62914560)===Ye||(Ye&536870912)!==0?s===ds:!1}function _T(){var s=J.H;return J.H=Su,s===null?Su:s}function TT(){var s=J.A;return J.A=oM,s}function $h(){Rt=4,Rr||(Ye&4194048)!==Ye&&Yn.current!==null||(Wo=!0),(Nr&134217727)===0&&(Ba&134217727)===0||pt===null||kr(pt,Ye,$n,!1)}function op(s,r,o){var u=nt;nt|=2;var d=_T(),p=TT();(pt!==s||Ye!==r)&&(Wh=null,Qo(s,r)),r=!1;var b=Rt;e:do try{if(rt!==0&&Fe!==null){var S=Fe,j=Kn;switch(rt){case 8:ap(),b=6;break e;case 3:case 2:case 9:case 6:Yn.current===null&&(r=!0);var W=rt;if(rt=0,Kn=null,Xo(s,S,j,W),o&&Wo){b=0;break e}break;default:W=rt,rt=0,Kn=null,Xo(s,S,j,W)}}cM(),b=Rt;break}catch(ee){yT(s,ee)}while(!0);return r&&s.shellSuspendCounter++,Ii=Na=null,nt=u,J.H=d,J.A=p,Fe===null&&(pt=null,Ye=0,ph()),b}function cM(){for(;Fe!==null;)bT(Fe)}function hM(s,r){var o=nt;nt|=2;var u=_T(),d=TT();pt!==s||Ye!==r?(Wh=null,Yh=Xt()+500,Qo(s,r)):Wo=zn(s,r);e:do try{if(rt!==0&&Fe!==null){r=Fe;var p=Kn;t:switch(rt){case 1:rt=0,Kn=null,Xo(s,r,p,1);break;case 2:case 9:if(N0(p)){rt=0,Kn=null,ET(r);break}r=function(){rt!==2&&rt!==9||pt!==s||(rt=7),oi(s)},p.then(r,r);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:N0(p)?(rt=0,Kn=null,ET(r)):(rt=0,Kn=null,Xo(s,r,p,7));break;case 5:var b=null;switch(Fe.tag){case 26:b=Fe.memoizedState;case 5:case 27:var S=Fe;if(b?ob(b):S.stateNode.complete){rt=0,Kn=null;var j=S.sibling;if(j!==null)Fe=j;else{var W=S.return;W!==null?(Fe=W,Qh(W)):Fe=null}break t}}rt=0,Kn=null,Xo(s,r,p,5);break;case 6:rt=0,Kn=null,Xo(s,r,p,6);break;case 8:ap(),Rt=6;break e;default:throw Error(i(462))}}fM();break}catch(ee){yT(s,ee)}while(!0);return Ii=Na=null,J.H=u,J.A=d,nt=o,Fe!==null?0:(pt=null,Ye=0,ph(),Rt)}function fM(){for(;Fe!==null&&!Fl();)bT(Fe)}function bT(s){var r=G_(s.alternate,s,Fi);s.memoizedProps=s.pendingProps,r===null?Qh(s):Fe=r}function ET(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=U_(o,r,r.pendingProps,r.type,void 0,Ye);break;case 11:r=U_(o,r,r.pendingProps,r.type.render,r.ref,Ye);break;case 5:Em(r);default:W_(o,r),r=Fe=T0(r,Fi),r=G_(o,r,Fi)}s.memoizedProps=s.pendingProps,r===null?Qh(s):Fe=r}function Xo(s,r,o,u){Ii=Na=null,Em(r),Bo=null,gu=0;var d=r.return;try{if(eM(s,d,r,o,Ye)){Rt=1,jh(s,us(o,s.current)),Fe=null;return}}catch(p){if(d!==null)throw Fe=d,p;Rt=1,jh(s,us(o,s.current)),Fe=null;return}r.flags&32768?(Xe||u===1?s=!0:Wo||(Ye&536870912)!==0?s=!1:(Rr=s=!0,(u===2||u===9||u===3||u===6)&&(u=Yn.current,u!==null&&u.tag===13&&(u.flags|=16384))),wT(r,s)):Qh(r)}function Qh(s){var r=s;do{if((r.flags&32768)!==0){wT(r,Rr);return}s=r.return;var o=sM(r.alternate,r,Fi);if(o!==null){Fe=o;return}if(r=r.sibling,r!==null){Fe=r;return}Fe=r=s}while(r!==null);Rt===0&&(Rt=5)}function wT(s,r){do{var o=iM(s.alternate,s);if(o!==null){o.flags&=32767,Fe=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){Fe=s;return}Fe=s=o}while(s!==null);Rt=6,Fe=null}function ST(s,r,o,u,d,p,b,S,j){s.cancelPendingCommit=null;do Xh();while(Jt!==0);if((nt&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(p=r.lanes|r.childLanes,p|=$d,Bd(s,o,p,b,S,j),s===pt&&(Fe=pt=null,Ye=0),$o=r,Or=s,Hi=o,sp=p,ip=d,dT=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,gM(qs,function(){return MT(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=J.T,J.T=null,d=oe.p,oe.p=2,b=nt,nt|=4;try{rM(s,r,o)}finally{nt=b,oe.p=d,J.T=u}}Jt=1,AT(),xT(),CT()}}function AT(){if(Jt===1){Jt=0;var s=Or,r=$o,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=J.T,J.T=null;var u=oe.p;oe.p=2;var d=nt;nt|=4;try{rT(r,s);var p=_p,b=h0(s.containerInfo),S=p.focusedElem,j=p.selectionRange;if(b!==S&&S&&S.ownerDocument&&c0(S.ownerDocument.documentElement,S)){if(j!==null&&qd(S)){var W=j.start,ee=j.end;if(ee===void 0&&(ee=W),"selectionStart"in S)S.selectionStart=W,S.selectionEnd=Math.min(ee,S.value.length);else{var ie=S.ownerDocument||document,$=ie&&ie.defaultView||window;if($.getSelection){var Z=$.getSelection(),me=S.textContent.length,we=Math.min(j.start,me),ft=j.end===void 0?we:Math.min(j.end,me);!Z.extend&&we>ft&&(b=ft,ft=we,we=b);var H=u0(S,we),U=u0(S,ft);if(H&&U&&(Z.rangeCount!==1||Z.anchorNode!==H.node||Z.anchorOffset!==H.offset||Z.focusNode!==U.node||Z.focusOffset!==U.offset)){var Y=ie.createRange();Y.setStart(H.node,H.offset),Z.removeAllRanges(),we>ft?(Z.addRange(Y),Z.extend(U.node,U.offset)):(Y.setEnd(U.node,U.offset),Z.addRange(Y))}}}}for(ie=[],Z=S;Z=Z.parentNode;)Z.nodeType===1&&ie.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ie.length;S++){var ne=ie[S];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}cf=!!vp,_p=vp=null}finally{nt=d,oe.p=u,J.T=o}}s.current=r,Jt=2}}function xT(){if(Jt===2){Jt=0;var s=Or,r=$o,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=J.T,J.T=null;var u=oe.p;oe.p=2;var d=nt;nt|=4;try{eT(s,r.alternate,r)}finally{nt=d,oe.p=u,J.T=o}}Jt=3}}function CT(){if(Jt===4||Jt===3){Jt=0,ha();var s=Or,r=$o,o=Hi,u=dT;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Jt=5:(Jt=0,$o=Or=null,DT(s,s.pendingLanes));var d=s.pendingLanes;if(d===0&&(Ir=null),xi(o),r=r.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Bn,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=J.T,d=oe.p,oe.p=2,J.T=null;try{for(var p=s.onRecoverableError,b=0;b<u.length;b++){var S=u[b];p(S.value,{componentStack:S.stack})}}finally{J.T=r,oe.p=d}}(Hi&3)!==0&&Xh(),oi(s),d=s.pendingLanes,(o&261930)!==0&&(d&42)!==0?s===rp?Ou++:(Ou=0,rp=s):Ou=0,ku(0)}}function DT(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,mu(r)))}function Xh(){return AT(),xT(),CT(),MT()}function MT(){if(Jt!==5)return!1;var s=Or,r=sp;sp=0;var o=xi(Hi),u=J.T,d=oe.p;try{oe.p=32>o?32:o,J.T=null,o=ip,ip=null;var p=Or,b=Hi;if(Jt=0,$o=Or=null,Hi=0,(nt&6)!==0)throw Error(i(331));var S=nt;if(nt|=4,cT(p.current),oT(p,p.current,b,o),nt=S,ku(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Bn,p)}catch{}return!0}finally{oe.p=d,J.T=u,DT(s,r)}}function RT(s,r,o){r=us(o,r),r=jm(s.stateNode,r,2),s=xr(s,r,2),s!==null&&(ws(s,2),oi(s))}function at(s,r,o){if(s.tag===3)RT(s,s,o);else for(;r!==null;){if(r.tag===3){RT(r,s,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ir===null||!Ir.has(u))){s=us(o,s),o=N_(2),u=xr(r,o,2),u!==null&&(I_(o,u,r,s),ws(u,2),oi(u));break}}r=r.return}}function lp(s,r,o){var u=s.pingCache;if(u===null){u=s.pingCache=new lM;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(o)||(ep=!0,d.add(o),s=dM.bind(null,s,r,o),r.then(s,s))}function dM(s,r,o){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,pt===s&&(Ye&o)===o&&(Rt===4||Rt===3&&(Ye&62914560)===Ye&&300>Xt()-Gh?(nt&2)===0&&Qo(s,0):tp|=o,Ko===Ye&&(Ko=0)),oi(s)}function NT(s,r){r===0&&(r=go()),s=Da(s,r),s!==null&&(ws(s,r),oi(s))}function mM(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),NT(s,o)}function pM(s,r){var o=0;switch(s.tag){case 31:case 13:var u=s.stateNode,d=s.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),NT(s,o)}function gM(s,r){return Ot(s,r)}var Zh=null,Zo=null,up=!1,Jh=!1,cp=!1,Vr=0;function oi(s){s!==Zo&&s.next===null&&(Zo===null?Zh=Zo=s:Zo=Zo.next=s),Jh=!0,up||(up=!0,vM())}function ku(s,r){if(!cp&&Jh){cp=!0;do for(var o=!1,u=Zh;u!==null;){if(s!==0){var d=u.pendingLanes;if(d===0)var p=0;else{var b=u.suspendedLanes,S=u.pingedLanes;p=(1<<31-wt(42|s)+1)-1,p&=d&~(b&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,VT(u,p))}else p=Ye,p=Ne(u,u===pt?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||zn(u,p)||(o=!0,VT(u,p));u=u.next}while(o);cp=!1}}function yM(){IT()}function IT(){Jh=up=!1;var s=0;Vr!==0&&DM()&&(s=Vr);for(var r=Xt(),o=null,u=Zh;u!==null;){var d=u.next,p=OT(u,r);p===0?(u.next=null,o===null?Zh=d:o.next=d,d===null&&(Zo=o)):(o=u,(s!==0||(p&3)!==0)&&(Jh=!0)),u=d}Jt!==0&&Jt!==5||ku(s),Vr!==0&&(Vr=0)}function OT(s,r){for(var o=s.suspendedLanes,u=s.pingedLanes,d=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var b=31-wt(p),S=1<<b,j=d[b];j===-1?((S&o)===0||(S&u)!==0)&&(d[b]=ql(S,r)):j<=r&&(s.expiredLanes|=S),p&=~S}if(r=pt,o=Ye,o=Ne(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,o===0||s===r&&(rt===2||rt===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&Hs(u),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||zn(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(u!==null&&Hs(u),xi(o)){case 2:case 8:o=da;break;case 32:o=qs;break;case 268435456:o=fo;break;default:o=qs}return u=kT.bind(null,s),o=Ot(o,u),s.callbackPriority=r,s.callbackNode=o,r}return u!==null&&u!==null&&Hs(u),s.callbackPriority=2,s.callbackNode=null,2}function kT(s,r){if(Jt!==0&&Jt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(Xh()&&s.callbackNode!==o)return null;var u=Ye;return u=Ne(s,s===pt?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(pT(s,u,r),OT(s,Xt()),s.callbackNode!=null&&s.callbackNode===o?kT.bind(null,s):null)}function VT(s,r){if(Xh())return null;pT(s,r,!0)}function vM(){RM(function(){(nt&6)!==0?Ot(fa,yM):IT()})}function hp(){if(Vr===0){var s=jo;s===0&&(s=Le,Le<<=1,(Le&261888)===0&&(Le=256)),Vr=s}return Vr}function PT(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Eo(""+s)}function jT(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function _M(s,r,o,u,d){if(r==="submit"&&o&&o.stateNode===d){var p=PT((d[sn]||null).action),b=u.submitter;b&&(r=(r=b[sn]||null)?PT(r.formAction):b.getAttribute("formAction"),r!==null&&(p=r,b=null));var S=new ei("action","action",null,u,d);s.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Vr!==0){var j=b?jT(d,b):new FormData(d);Nm(o,{pending:!0,data:j,method:d.method,action:p},null,j)}}else typeof p=="function"&&(S.preventDefault(),j=b?jT(d,b):new FormData(d),Nm(o,{pending:!0,data:j,method:d.method,action:p},p,j))},currentTarget:d}]})}}for(var fp=0;fp<Kd.length;fp++){var dp=Kd[fp],TM=dp.toLowerCase(),bM=dp[0].toUpperCase()+dp.slice(1);Ns(TM,"on"+bM)}Ns(m0,"onAnimationEnd"),Ns(p0,"onAnimationIteration"),Ns(g0,"onAnimationStart"),Ns("dblclick","onDoubleClick"),Ns("focusin","onFocus"),Ns("focusout","onBlur"),Ns(jD,"onTransitionRun"),Ns(LD,"onTransitionStart"),Ns(UD,"onTransitionCancel"),Ns(y0,"onTransitionEnd"),Qs("onMouseEnter",["mouseout","mouseover"]),Qs("onMouseLeave",["mouseout","mouseover"]),Qs("onPointerEnter",["pointerout","pointerover"]),Qs("onPointerLeave",["pointerout","pointerover"]),$s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$s("onBeforeInput",["compositionend","keypress","textInput","paste"]),$s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vu));function LT(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var u=s[o],d=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var b=u.length-1;0<=b;b--){var S=u[b],j=S.instance,W=S.currentTarget;if(S=S.listener,j!==p&&d.isPropagationStopped())break e;p=S,d.currentTarget=W;try{p(d)}catch(ee){mh(ee)}d.currentTarget=null,p=j}else for(b=0;b<u.length;b++){if(S=u[b],j=S.instance,W=S.currentTarget,S=S.listener,j!==p&&d.isPropagationStopped())break e;p=S,d.currentTarget=W;try{p(d)}catch(ee){mh(ee)}d.currentTarget=null,p=j}}}}function He(s,r){var o=r[yo];o===void 0&&(o=r[yo]=new Set);var u=s+"__bubble";o.has(u)||(UT(r,s,2,!1),o.add(u))}function mp(s,r,o){var u=0;r&&(u|=4),UT(o,s,u,r)}var ef="_reactListening"+Math.random().toString(36).slice(2);function pp(s){if(!s[ef]){s[ef]=!0,Wl.forEach(function(o){o!=="selectionchange"&&(EM.has(o)||mp(o,!1,s),mp(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[ef]||(r[ef]=!0,mp("selectionchange",!1,r))}}function UT(s,r,o,u){switch(mb(r)){case 2:var d=QM;break;case 8:d=XM;break;default:d=Rp}o=d.bind(null,r,o,s),d=void 0,!Ta||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?s.addEventListener(r,o,{capture:!0,passive:d}):s.addEventListener(r,o,!0):d!==void 0?s.addEventListener(r,o,{passive:d}):s.addEventListener(r,o,!1)}function gp(s,r,o,u,d){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var S=u.stateNode.containerInfo;if(S===d)break;if(b===4)for(b=u.return;b!==null;){var j=b.tag;if((j===3||j===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;S!==null;){if(b=Ws(S),b===null)return;if(j=b.tag,j===5||j===6||j===26||j===27){u=p=b;continue e}S=S.parentNode}}u=u.return}gr(function(){var W=p,ee=rs(o),ie=[];e:{var $=v0.get(s);if($!==void 0){var Z=ei,me=s;switch(s){case"keypress":if(Ea(o)===0)break e;case"keydown":case"keyup":Z=hh;break;case"focusin":me="focus",Z=Sa;break;case"focusout":me="blur",Z=Sa;break;case"beforeblur":case"afterblur":Z=Sa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=au;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=nh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=v;break;case m0:case p0:case g0:Z=ih;break;case y0:Z=C;break;case"scroll":case"scrollend":Z=ru;break;case"wheel":Z=X;break;case"copy":case"cut":case"paste":Z=rh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Mi;break;case"toggle":case"beforetoggle":Z=Pe}var we=(r&4)!==0,ft=!we&&(s==="scroll"||s==="scrollend"),H=we?$!==null?$+"Capture":null:$;we=[];for(var U=W,Y;U!==null;){var ne=U;if(Y=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||Y===null||H===null||(ne=Cs(U,H),ne!=null&&we.push(Pu(U,ne,Y))),ft)break;U=U.return}0<we.length&&($=new Z($,me,null,o,ee),ie.push({event:$,listeners:we}))}}if((r&7)===0){e:{if($=s==="mouseover"||s==="pointerover",Z=s==="mouseout"||s==="pointerout",$&&o!==nu&&(me=o.relatedTarget||o.fromElement)&&(Ws(me)||me[Gs]))break e;if((Z||$)&&($=ee.window===ee?ee:($=ee.ownerDocument)?$.defaultView||$.parentWindow:window,Z?(me=o.relatedTarget||o.toElement,Z=W,me=me?Ws(me):null,me!==null&&(ft=l(me),we=me.tag,me!==ft||we!==5&&we!==27&&we!==6)&&(me=null)):(Z=null,me=W),Z!==me)){if(we=au,ne="onMouseLeave",H="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(we=Mi,ne="onPointerLeave",H="onPointerEnter",U="pointer"),ft=Z==null?$:Fn(Z),Y=me==null?$:Fn(me),$=new we(ne,U+"leave",Z,o,ee),$.target=ft,$.relatedTarget=Y,ne=null,Ws(ee)===W&&(we=new we(H,U+"enter",me,o,ee),we.target=Y,we.relatedTarget=ft,ne=we),ft=ne,Z&&me)t:{for(we=wM,H=Z,U=me,Y=0,ne=H;ne;ne=we(ne))Y++;ne=0;for(var _e=U;_e;_e=we(_e))ne++;for(;0<Y-ne;)H=we(H),Y--;for(;0<ne-Y;)U=we(U),ne--;for(;Y--;){if(H===U||U!==null&&H===U.alternate){we=H;break t}H=we(H),U=we(U)}we=null}else we=null;Z!==null&&BT(ie,$,Z,we,!1),me!==null&&ft!==null&&BT(ie,ft,me,we,!0)}}e:{if($=W?Fn(W):window,Z=$.nodeName&&$.nodeName.toLowerCase(),Z==="select"||Z==="input"&&$.type==="file")var Je=s0;else if(t0($))if(i0)Je=kD;else{Je=ID;var ge=ND}else Z=$.nodeName,!Z||Z.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?W&&bo(W.elementType)&&(Je=s0):Je=OD;if(Je&&(Je=Je(s,W))){n0(ie,Je,o,ee);break e}ge&&ge(s,$,W),s==="focusout"&&W&&$.type==="number"&&W.memoizedProps.value!=null&&Jl($,"number",$.value)}switch(ge=W?Fn(W):window,s){case"focusin":(t0(ge)||ge.contentEditable==="true")&&(Mo=ge,Gd=W,hu=null);break;case"focusout":hu=Gd=Mo=null;break;case"mousedown":Yd=!0;break;case"contextmenu":case"mouseup":case"dragend":Yd=!1,f0(ie,o,ee);break;case"selectionchange":if(PD)break;case"keydown":case"keyup":f0(ie,o,ee)}var Ue;if(tt)e:{switch(s){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else Do?Aa(s,o)&&(We="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(We="onCompositionStart");We&&(si&&o.locale!=="ko"&&(Do||We!=="onCompositionStart"?We==="onCompositionEnd"&&Do&&(Ue=iu()):(Js=ee,su="value"in Js?Js.value:Js.textContent,Do=!0)),ge=tf(W,We),0<ge.length&&(We=new ni(We,s,null,o,ee),ie.push({event:We,listeners:ge}),Ue?We.data=Ue:(Ue=Co(o),Ue!==null&&(We.data=Ue)))),(Ue=os?CD(s,o):DD(s,o))&&(We=tf(W,"onBeforeInput"),0<We.length&&(ge=new ni("onBeforeInput","beforeinput",null,o,ee),ie.push({event:ge,listeners:We}),ge.data=Ue)),_M(ie,s,W,o,ee)}LT(ie,r)})}function Pu(s,r,o){return{instance:s,listener:r,currentTarget:o}}function tf(s,r){for(var o=r+"Capture",u=[];s!==null;){var d=s,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=Cs(s,o),d!=null&&u.unshift(Pu(s,d,p)),d=Cs(s,r),d!=null&&u.push(Pu(s,d,p))),s.tag===3)return u;s=s.return}return[]}function wM(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function BT(s,r,o,u,d){for(var p=r._reactName,b=[];o!==null&&o!==u;){var S=o,j=S.alternate,W=S.stateNode;if(S=S.tag,j!==null&&j===u)break;S!==5&&S!==26&&S!==27||W===null||(j=W,d?(W=Cs(o,p),W!=null&&b.unshift(Pu(o,W,j))):d||(W=Cs(o,p),W!=null&&b.push(Pu(o,W,j)))),o=o.return}b.length!==0&&s.push({event:r,listeners:b})}var SM=/\r\n?/g,AM=/\u0000|\uFFFD/g;function zT(s){return(typeof s=="string"?s:""+s).replace(SM,`
`).replace(AM,"")}function FT(s,r){return r=zT(r),zT(s)===r}function ht(s,r,o,u,d,p){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||In(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&In(s,""+u);break;case"className":Hn(s,"class",u);break;case"tabIndex":Hn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Hn(s,o,u);break;case"style":tu(s,u,p);break;case"data":if(r!=="object"){Hn(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=Eo(""+u),s.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&ht(s,r,"name",d.name,d,null),ht(s,r,"formEncType",d.formEncType,d,null),ht(s,r,"formMethod",d.formMethod,d,null),ht(s,r,"formTarget",d.formTarget,d,null)):(ht(s,r,"encType",d.encType,d,null),ht(s,r,"method",d.method,d,null),ht(s,r,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=Eo(""+u),s.setAttribute(o,u);break;case"onClick":u!=null&&(s.onclick=xs);break;case"onScroll":u!=null&&He("scroll",s);break;case"onScrollEnd":u!=null&&He("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}o=Eo(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""+u):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":u===!0?s.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,u):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(o,u):s.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(o):s.setAttribute(o,u);break;case"popover":He("beforetoggle",s),He("toggle",s),_o(s,"popover",u);break;case"xlinkActuate":Ht(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ht(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ht(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ht(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ht(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ht(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ht(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ht(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ht(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":_o(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=th.get(o)||o,_o(s,o,u))}}function yp(s,r,o,u,d,p){switch(o){case"style":tu(s,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof u=="string"?In(s,u):(typeof u=="number"||typeof u=="bigint")&&In(s,""+u);break;case"onScroll":u!=null&&He("scroll",s);break;case"onScrollEnd":u!=null&&He("scrollend",s);break;case"onClick":u!=null&&(s.onclick=xs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),p=s[sn]||null,p=p!=null?p[o]:null,typeof p=="function"&&s.removeEventListener(r,p,d),typeof u=="function")){typeof p!="function"&&p!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,u,d);break e}o in s?s[o]=u:u===!0?s.setAttribute(o,""):_o(s,o,u)}}}function dn(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",s),He("load",s);var u=!1,d=!1,p;for(p in o)if(o.hasOwnProperty(p)){var b=o[p];if(b!=null)switch(p){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ht(s,r,p,b,o,null)}}d&&ht(s,r,"srcSet",o.srcSet,o,null),u&&ht(s,r,"src",o.src,o,null);return;case"input":He("invalid",s);var S=p=b=d=null,j=null,W=null;for(u in o)if(o.hasOwnProperty(u)){var ee=o[u];if(ee!=null)switch(u){case"name":d=ee;break;case"type":b=ee;break;case"checked":j=ee;break;case"defaultChecked":W=ee;break;case"value":p=ee;break;case"defaultValue":S=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,r));break;default:ht(s,r,u,ee,o,null)}}Zc(s,p,S,j,W,b,d,!1);return;case"select":He("invalid",s),u=b=p=null;for(d in o)if(o.hasOwnProperty(d)&&(S=o[d],S!=null))switch(d){case"value":p=S;break;case"defaultValue":b=S;break;case"multiple":u=S;default:ht(s,r,d,S,o,null)}r=p,o=b,s.multiple=!!u,r!=null?fr(s,!!u,r,!1):o!=null&&fr(s,!!u,o,!0);return;case"textarea":He("invalid",s),p=d=u=null;for(b in o)if(o.hasOwnProperty(b)&&(S=o[b],S!=null))switch(b){case"value":u=S;break;case"defaultValue":d=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:ht(s,r,b,S,o,null)}dr(s,u,d,p);return;case"option":for(j in o)if(o.hasOwnProperty(j)&&(u=o[j],u!=null))switch(j){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ht(s,r,j,u,o,null)}return;case"dialog":He("beforetoggle",s),He("toggle",s),He("cancel",s),He("close",s);break;case"iframe":case"object":He("load",s);break;case"video":case"audio":for(u=0;u<Vu.length;u++)He(Vu[u],s);break;case"image":He("error",s),He("load",s);break;case"details":He("toggle",s);break;case"embed":case"source":case"link":He("error",s),He("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(u=o[W],u!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ht(s,r,W,u,o,null)}return;default:if(bo(r)){for(ee in o)o.hasOwnProperty(ee)&&(u=o[ee],u!==void 0&&yp(s,r,ee,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&ht(s,r,S,u,o,null))}function xM(s,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,b=null,S=null,j=null,W=null,ee=null;for(Z in o){var ie=o[Z];if(o.hasOwnProperty(Z)&&ie!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":j=ie;default:u.hasOwnProperty(Z)||ht(s,r,Z,null,u,ie)}}for(var $ in u){var Z=u[$];if(ie=o[$],u.hasOwnProperty($)&&(Z!=null||ie!=null))switch($){case"type":p=Z;break;case"name":d=Z;break;case"checked":W=Z;break;case"defaultChecked":ee=Z;break;case"value":b=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,r));break;default:Z!==ie&&ht(s,r,$,Z,u,ie)}}To(s,b,S,j,W,ee,p,d);return;case"select":Z=b=S=$=null;for(p in o)if(j=o[p],o.hasOwnProperty(p)&&j!=null)switch(p){case"value":break;case"multiple":Z=j;default:u.hasOwnProperty(p)||ht(s,r,p,null,u,j)}for(d in u)if(p=u[d],j=o[d],u.hasOwnProperty(d)&&(p!=null||j!=null))switch(d){case"value":$=p;break;case"defaultValue":S=p;break;case"multiple":b=p;default:p!==j&&ht(s,r,d,p,u,j)}r=S,o=b,u=Z,$!=null?fr(s,!!o,$,!1):!!u!=!!o&&(r!=null?fr(s,!!o,r,!0):fr(s,!!o,o?[]:"",!1));return;case"textarea":Z=$=null;for(S in o)if(d=o[S],o.hasOwnProperty(S)&&d!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ht(s,r,S,null,u,d)}for(b in u)if(d=u[b],p=o[b],u.hasOwnProperty(b)&&(d!=null||p!=null))switch(b){case"value":$=d;break;case"defaultValue":Z=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==p&&ht(s,r,b,d,u,p)}Jc(s,$,Z);return;case"option":for(var me in o)if($=o[me],o.hasOwnProperty(me)&&$!=null&&!u.hasOwnProperty(me))switch(me){case"selected":s.selected=!1;break;default:ht(s,r,me,null,u,$)}for(j in u)if($=u[j],Z=o[j],u.hasOwnProperty(j)&&$!==Z&&($!=null||Z!=null))switch(j){case"selected":s.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:ht(s,r,j,$,u,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in o)$=o[we],o.hasOwnProperty(we)&&$!=null&&!u.hasOwnProperty(we)&&ht(s,r,we,null,u,$);for(W in u)if($=u[W],Z=o[W],u.hasOwnProperty(W)&&$!==Z&&($!=null||Z!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,r));break;default:ht(s,r,W,$,u,Z)}return;default:if(bo(r)){for(var ft in o)$=o[ft],o.hasOwnProperty(ft)&&$!==void 0&&!u.hasOwnProperty(ft)&&yp(s,r,ft,void 0,u,$);for(ee in u)$=u[ee],Z=o[ee],!u.hasOwnProperty(ee)||$===Z||$===void 0&&Z===void 0||yp(s,r,ee,$,u,Z);return}}for(var H in o)$=o[H],o.hasOwnProperty(H)&&$!=null&&!u.hasOwnProperty(H)&&ht(s,r,H,null,u,$);for(ie in u)$=u[ie],Z=o[ie],!u.hasOwnProperty(ie)||$===Z||$==null&&Z==null||ht(s,r,ie,$,u,Z)}function HT(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function CM(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var d=o[u],p=d.transferSize,b=d.initiatorType,S=d.duration;if(p&&S&&HT(b)){for(b=0,S=d.responseEnd,u+=1;u<o.length;u++){var j=o[u],W=j.startTime;if(W>S)break;var ee=j.transferSize,ie=j.initiatorType;ee&&HT(ie)&&(j=j.responseEnd,b+=ee*(j<S?1:(S-W)/(j-W)))}if(--u,r+=8*(p+b)/(d.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var vp=null,_p=null;function nf(s){return s.nodeType===9?s:s.ownerDocument}function qT(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function GT(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Tp(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var bp=null;function DM(){var s=window.event;return s&&s.type==="popstate"?s===bp?!1:(bp=s,!0):(bp=null,!1)}var YT=typeof setTimeout=="function"?setTimeout:void 0,MM=typeof clearTimeout=="function"?clearTimeout:void 0,WT=typeof Promise=="function"?Promise:void 0,RM=typeof queueMicrotask=="function"?queueMicrotask:typeof WT<"u"?function(s){return WT.resolve(null).then(s).catch(NM)}:YT;function NM(s){setTimeout(function(){throw s})}function Pr(s){return s==="head"}function KT(s,r){var o=r,u=0;do{var d=o.nextSibling;if(s.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(u===0){s.removeChild(d),nl(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")ju(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,ju(o);for(var p=o.firstChild;p;){var b=p.nextSibling,S=p.nodeName;p[Ys]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=b}}else o==="body"&&ju(s.ownerDocument.body);o=d}while(o);nl(r)}function $T(s,r){var o=s;s=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=u}while(o)}function Ep(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Ep(o),vo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function IM(s,r,o,u){for(;s.nodeType===1;){var d=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Ys])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==d.rel||s.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||s.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||s.getAttribute("title")!==(d.title==null?null:d.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(d.src==null?null:d.src)||s.getAttribute("type")!==(d.type==null?null:d.type)||s.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=ms(s.nextSibling),s===null)break}return null}function OM(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=ms(s.nextSibling),s===null))return null;return s}function QT(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=ms(s.nextSibling),s===null))return null;return s}function wp(s){return s.data==="$?"||s.data==="$~"}function Sp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function kM(s,r){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function ms(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var Ap=null;function XT(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(r===0)return ms(s.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}s=s.nextSibling}return null}function ZT(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return s;r--}else o!=="/$"&&o!=="/&"||r++}s=s.previousSibling}return null}function JT(s,r,o){switch(r=nf(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function ju(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);vo(s)}var ps=new Map,eb=new Set;function sf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var qi=oe.d;oe.d={f:VM,r:PM,D:jM,C:LM,L:UM,m:BM,X:FM,S:zM,M:HM};function VM(){var s=qi.f(),r=Kh();return s||r}function PM(s){var r=is(s);r!==null&&r.tag===5&&r.type==="form"?y_(r):qi.r(s)}var Jo=typeof document>"u"?null:document;function tb(s,r,o){var u=Jo;if(u&&typeof r=="string"&&r){var d=Nn(r);d='link[rel="'+s+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),eb.has(d)||(eb.add(d),s={rel:s,crossOrigin:o,href:r},u.querySelector(d)===null&&(r=u.createElement("link"),dn(r,"link",s),Ft(r),u.head.appendChild(r)))}}function jM(s){qi.D(s),tb("dns-prefetch",s,null)}function LM(s,r){qi.C(s,r),tb("preconnect",s,r)}function UM(s,r,o){qi.L(s,r,o);var u=Jo;if(u&&s&&r){var d='link[rel="preload"][as="'+Nn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Nn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Nn(o.imageSizes)+'"]')):d+='[href="'+Nn(s)+'"]';var p=d;switch(r){case"style":p=el(s);break;case"script":p=tl(s)}ps.has(p)||(s=T({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),ps.set(p,s),u.querySelector(d)!==null||r==="style"&&u.querySelector(Lu(p))||r==="script"&&u.querySelector(Uu(p))||(r=u.createElement("link"),dn(r,"link",s),Ft(r),u.head.appendChild(r)))}}function BM(s,r){qi.m(s,r);var o=Jo;if(o&&s){var u=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+Nn(u)+'"][href="'+Nn(s)+'"]',p=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=tl(s)}if(!ps.has(p)&&(s=T({rel:"modulepreload",href:s},r),ps.set(p,s),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Uu(p)))return}u=o.createElement("link"),dn(u,"link",s),Ft(u),o.head.appendChild(u)}}}function zM(s,r,o){qi.S(s,r,o);var u=Jo;if(u&&s){var d=Ks(u).hoistableStyles,p=el(s);r=r||"default";var b=d.get(p);if(!b){var S={loading:0,preload:null};if(b=u.querySelector(Lu(p)))S.loading=5;else{s=T({rel:"stylesheet",href:s,"data-precedence":r},o),(o=ps.get(p))&&xp(s,o);var j=b=u.createElement("link");Ft(j),dn(j,"link",s),j._p=new Promise(function(W,ee){j.onload=W,j.onerror=ee}),j.addEventListener("load",function(){S.loading|=1}),j.addEventListener("error",function(){S.loading|=2}),S.loading|=4,rf(b,r,u)}b={type:"stylesheet",instance:b,count:1,state:S},d.set(p,b)}}}function FM(s,r){qi.X(s,r);var o=Jo;if(o&&s){var u=Ks(o).hoistableScripts,d=tl(s),p=u.get(d);p||(p=o.querySelector(Uu(d)),p||(s=T({src:s,async:!0},r),(r=ps.get(d))&&Cp(s,r),p=o.createElement("script"),Ft(p),dn(p,"link",s),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function HM(s,r){qi.M(s,r);var o=Jo;if(o&&s){var u=Ks(o).hoistableScripts,d=tl(s),p=u.get(d);p||(p=o.querySelector(Uu(d)),p||(s=T({src:s,async:!0,type:"module"},r),(r=ps.get(d))&&Cp(s,r),p=o.createElement("script"),Ft(p),dn(p,"link",s),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function nb(s,r,o,u){var d=(d=Oe.current)?sf(d):null;if(!d)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=el(o.href),o=Ks(d).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=el(o.href);var p=Ks(d).hoistableStyles,b=p.get(s);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,b),(p=d.querySelector(Lu(s)))&&!p._p&&(b.instance=p,b.state.loading=5),ps.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ps.set(s,o),p||qM(d,s,o,b.state))),r&&u===null)throw Error(i(528,""));return b}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=tl(o),o=Ks(d).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function el(s){return'href="'+Nn(s)+'"'}function Lu(s){return'link[rel="stylesheet"]['+s+"]"}function sb(s){return T({},s,{"data-precedence":s.precedence,precedence:null})}function qM(s,r,o,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),dn(r,"link",o),Ft(r),s.head.appendChild(r))}function tl(s){return'[src="'+Nn(s)+'"]'}function Uu(s){return"script[async]"+s}function ib(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+Nn(o.href)+'"]');if(u)return r.instance=u,Ft(u),u;var d=T({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Ft(u),dn(u,"style",d),rf(u,o.precedence,s),r.instance=u;case"stylesheet":d=el(o.href);var p=s.querySelector(Lu(d));if(p)return r.state.loading|=4,r.instance=p,Ft(p),p;u=sb(o),(d=ps.get(d))&&xp(u,d),p=(s.ownerDocument||s).createElement("link"),Ft(p);var b=p;return b._p=new Promise(function(S,j){b.onload=S,b.onerror=j}),dn(p,"link",u),r.state.loading|=4,rf(p,o.precedence,s),r.instance=p;case"script":return p=tl(o.src),(d=s.querySelector(Uu(p)))?(r.instance=d,Ft(d),d):(u=o,(d=ps.get(p))&&(u=T({},o),Cp(u,d)),s=s.ownerDocument||s,d=s.createElement("script"),Ft(d),dn(d,"link",u),s.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,rf(u,o.precedence,s));return r.instance}function rf(s,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,p=d,b=0;b<u.length;b++){var S=u[b];if(S.dataset.precedence===r)p=S;else if(p!==d)break}p?p.parentNode.insertBefore(s,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function xp(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Cp(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var af=null;function rb(s,r,o){if(af===null){var u=new Map,d=af=new Map;d.set(o,u)}else d=af,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(s))return u;for(u.set(s,null),o=o.getElementsByTagName(s),d=0;d<o.length;d++){var p=o[d];if(!(p[Ys]||p[zt]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(r)||"";b=s+b;var S=u.get(b);S?S.push(p):u.set(b,[p])}}return u}function ab(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function GM(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function ob(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function YM(s,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=el(u.href),p=r.querySelector(Lu(d));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=of.bind(s),r.then(s,s)),o.state.loading|=4,o.instance=p,Ft(p);return}p=r.ownerDocument||r,u=sb(u),(d=ps.get(d))&&xp(u,d),p=p.createElement("link"),Ft(p);var b=p;b._p=new Promise(function(S,j){b.onload=S,b.onerror=j}),dn(p,"link",u),o.instance=p}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=of.bind(s),r.addEventListener("load",o),r.addEventListener("error",o))}}var Dp=0;function WM(s,r){return s.stylesheets&&s.count===0&&uf(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var u=setTimeout(function(){if(s.stylesheets&&uf(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4+r);0<s.imgBytes&&Dp===0&&(Dp=62500*CM());var d=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&uf(s,s.stylesheets),s.unsuspend)){var p=s.unsuspend;s.unsuspend=null,p()}},(s.imgBytes>Dp?50:800)+r);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function of(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uf(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var lf=null;function uf(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,lf=new Map,r.forEach(KM,s),lf=null,of.call(s))}function KM(s,r){if(!(r.state.loading&4)){var o=lf.get(s);if(o)var u=o.get(null);else{o=new Map,lf.set(s,o);for(var d=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var b=d[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}d=r.instance,b=d.getAttribute("data-precedence"),p=o.get(b)||u,p===u&&o.set(null,d),o.set(b,d),this.count++,u=of.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),p?p.parentNode.insertBefore(d,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(d,s.firstChild)),r.state.loading|=4}}var Bu={$$typeof:F,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function $M(s,r,o,u,d,p,b,S,j){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rn(0),this.hiddenUpdates=Rn(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function lb(s,r,o,u,d,p,b,S,j,W,ee,ie){return s=new $M(s,r,o,b,j,W,ee,ie,S),r=1,p===!0&&(r|=24),p=Gn(3,null,null,r),s.current=p,p.stateNode=s,r=om(),r.refCount++,s.pooledCache=r,r.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:r},hm(p),s}function ub(s){return s?(s=Io,s):Io}function cb(s,r,o,u,d,p){d=ub(d),u.context===null?u.context=d:u.pendingContext=d,u=Ar(r),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=xr(s,u,r),o!==null&&(jn(o,s,r),vu(o,s,r))}function hb(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function Mp(s,r){hb(s,r),(s=s.alternate)&&hb(s,r)}function fb(s){if(s.tag===13||s.tag===31){var r=Da(s,67108864);r!==null&&jn(r,s,67108864),Mp(s,67108864)}}function db(s){if(s.tag===13||s.tag===31){var r=Qn();r=ga(r);var o=Da(s,r);o!==null&&jn(o,s,r),Mp(s,r)}}var cf=!0;function QM(s,r,o,u){var d=J.T;J.T=null;var p=oe.p;try{oe.p=2,Rp(s,r,o,u)}finally{oe.p=p,J.T=d}}function XM(s,r,o,u){var d=J.T;J.T=null;var p=oe.p;try{oe.p=8,Rp(s,r,o,u)}finally{oe.p=p,J.T=d}}function Rp(s,r,o,u){if(cf){var d=Np(u);if(d===null)gp(s,r,u,hf,o),pb(s,u);else if(JM(d,s,r,o,u))u.stopPropagation();else if(pb(s,u),r&4&&-1<ZM.indexOf(s)){for(;d!==null;){var p=is(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=kt(p.pendingLanes);if(b!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;b;){var j=1<<31-wt(b);S.entanglements[1]|=j,b&=~j}oi(p),(nt&6)===0&&(Yh=Xt()+500,ku(0))}}break;case 31:case 13:S=Da(p,2),S!==null&&jn(S,p,2),Kh(),Mp(p,2)}if(p=Np(u),p===null&&gp(s,r,u,hf,o),p===d)break;d=p}d!==null&&u.stopPropagation()}else gp(s,r,u,null,o)}}function Np(s){return s=rs(s),Ip(s)}var hf=null;function Ip(s){if(hf=null,s=Ws(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=c(r),s!==null)return s;s=null}else if(o===31){if(s=f(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return hf=s,null}function mb(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Es()){case fa:return 2;case da:return 8;case qs:case Hl:return 32;case fo:return 268435456;default:return 32}default:return 32}}var Op=!1,jr=null,Lr=null,Ur=null,zu=new Map,Fu=new Map,Br=[],ZM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pb(s,r){switch(s){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":zu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fu.delete(r.pointerId)}}function Hu(s,r,o,u,d,p){return s===null||s.nativeEvent!==p?(s={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[d]},r!==null&&(r=is(r),r!==null&&fb(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),s)}function JM(s,r,o,u,d){switch(r){case"focusin":return jr=Hu(jr,s,r,o,u,d),!0;case"dragenter":return Lr=Hu(Lr,s,r,o,u,d),!0;case"mouseover":return Ur=Hu(Ur,s,r,o,u,d),!0;case"pointerover":var p=d.pointerId;return zu.set(p,Hu(zu.get(p)||null,s,r,o,u,d)),!0;case"gotpointercapture":return p=d.pointerId,Fu.set(p,Hu(Fu.get(p)||null,s,r,o,u,d)),!0}return!1}function gb(s){var r=Ws(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){s.blockedOn=r,Ss(s.priority,function(){db(o)});return}}else if(r===31){if(r=f(o),r!==null){s.blockedOn=r,Ss(s.priority,function(){db(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ff(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=Np(s.nativeEvent);if(o===null){o=s.nativeEvent;var u=new o.constructor(o.type,o);nu=u,o.target.dispatchEvent(u),nu=null}else return r=is(o),r!==null&&fb(r),s.blockedOn=o,!1;r.shift()}return!0}function yb(s,r,o){ff(s)&&o.delete(r)}function e2(){Op=!1,jr!==null&&ff(jr)&&(jr=null),Lr!==null&&ff(Lr)&&(Lr=null),Ur!==null&&ff(Ur)&&(Ur=null),zu.forEach(yb),Fu.forEach(yb)}function df(s,r){s.blockedOn===r&&(s.blockedOn=null,Op||(Op=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,e2)))}var mf=null;function vb(s){mf!==s&&(mf=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){mf===s&&(mf=null);for(var r=0;r<s.length;r+=3){var o=s[r],u=s[r+1],d=s[r+2];if(typeof u!="function"){if(Ip(u||o)===null)continue;break}var p=is(o);p!==null&&(s.splice(r,3),r-=3,Nm(p,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function nl(s){function r(j){return df(j,s)}jr!==null&&df(jr,s),Lr!==null&&df(Lr,s),Ur!==null&&df(Ur,s),zu.forEach(r),Fu.forEach(r);for(var o=0;o<Br.length;o++){var u=Br[o];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Br.length&&(o=Br[0],o.blockedOn===null);)gb(o),o.blockedOn===null&&Br.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],p=o[u+1],b=d[sn]||null;if(typeof p=="function")b||vb(o);else if(b){var S=null;if(p&&p.hasAttribute("formAction")){if(d=p,b=p[sn]||null)S=b.formAction;else if(Ip(d)!==null)continue}else S=b.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),vb(o)}}}function _b(){function s(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return d=b})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function kp(s){this._internalRoot=s}pf.prototype.render=kp.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,u=Qn();cb(o,u,s,r,null,null)},pf.prototype.unmount=kp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;cb(s.current,2,null,s,null,null),Kh(),r[Gs]=null}};function pf(s){this._internalRoot=s}pf.prototype.unstable_scheduleHydration=function(s){if(s){var r=Kc();s={blockedOn:null,target:s,priority:r};for(var o=0;o<Br.length&&r!==0&&r<Br[o].priority;o++);Br.splice(o,0,s),o===0&&gb(s)}};var Tb=e.version;if(Tb!=="19.2.1")throw Error(i(527,Tb,"19.2.1"));oe.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=g(r),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var t2={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gf.isDisabled&&gf.supportsFiber)try{Bn=gf.inject(t2),Zt=gf}catch{}}return Gu.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,u="",d=C_,p=D_,b=M_;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=lb(s,1,!1,null,null,o,u,null,d,p,b,_b),s[Gs]=r.current,pp(s),new kp(r)},Gu.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var u=!1,d="",p=C_,b=D_,S=M_,j=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(j=o.formState)),r=lb(s,1,!0,r,o??null,u,d,j,p,b,S,_b),r.context=ub(null),o=r.current,u=Qn(),u=ga(u),d=Ar(u),d.callback=null,xr(o,d,u),o=u,r.current.lanes=o,ws(r,o),oi(r),s[Gs]=r.current,pp(s),new pf(r)},Gu.version="19.2.1",Gu}var Rb;function h2(){if(Rb)return jp.exports;Rb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jp.exports=c2(),jp.exports}var f2=h2();const kw=6048e5,d2=864e5,Vw=6e4,Pw=36e5,Nb=Symbol.for("constructDateFrom");function gt(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Nb in t?t[Nb](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ge(t,e){return gt(e||t,t)}function Ls(t,e,n){const i=Ge(t,n?.in);return isNaN(e)?gt(t,NaN):(e&&i.setDate(i.getDate()+e),i)}function wy(t,e,n){const i=Ge(t,n?.in);if(isNaN(e))return gt(t,NaN);if(!e)return i;const a=i.getDate(),l=gt(t,i.getTime());l.setMonth(i.getMonth()+e+1,0);const c=l.getDate();return a>=c?l:(i.setFullYear(l.getFullYear(),l.getMonth(),a),i)}function Ib(t,e,n){const{years:i=0,months:a=0,weeks:l=0,days:c=0,hours:f=0,minutes:m=0,seconds:g=0}=e,y=Ge(t,n?.in),T=a||i?wy(y,a+i*12):y,w=c||l?Ls(T,c+l*7):T,D=m+f*60,N=(g+D*60)*1e3;return gt(t,+w+N)}function m2(t,e,n){return gt(t,+Ge(t)+e)}function p2(t,e,n){return m2(t,e*Pw)}let g2={};function Rc(){return g2}function bs(t,e){const n=Rc(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=Ge(t,e?.in),l=a.getDay(),c=(l<i?7:0)+l-i;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function hc(t,e){return bs(t,{...e,weekStartsOn:1})}function jw(t,e){const n=Ge(t,e?.in),i=n.getFullYear(),a=gt(n,0);a.setFullYear(i+1,0,4),a.setHours(0,0,0,0);const l=hc(a),c=gt(n,0);c.setFullYear(i,0,4),c.setHours(0,0,0,0);const f=hc(c);return n.getTime()>=l.getTime()?i+1:n.getTime()>=f.getTime()?i:i-1}function Ob(t){const e=Ge(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function oa(t,...e){const n=gt.bind(null,e.find(i=>typeof i=="object"));return e.map(n)}function fc(t,e){const n=Ge(t,e?.in);return n.setHours(0,0,0,0),n}function Sy(t,e,n){const[i,a]=oa(n?.in,t,e),l=fc(i),c=fc(a),f=+l-Ob(l),m=+c-Ob(c);return Math.round((f-m)/d2)}function y2(t,e){const n=jw(t,e),i=gt(t,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),hc(i)}function Lw(t,e,n){const i=Ge(t,n?.in);return i.setTime(i.getTime()+e*Vw),i}function v2(t,e,n){return Ls(t,e*7,n)}function _2(t,e,n){return wy(t,e*12,n)}function T2(t,e){let n,i=e?.in;return t.forEach(a=>{!i&&typeof a=="object"&&(i=gt.bind(null,a));const l=Ge(a,i);(!n||n<l||isNaN(+l))&&(n=l)}),gt(i,n||NaN)}function b2(t,e){let n,i=e?.in;return t.forEach(a=>{!i&&typeof a=="object"&&(i=gt.bind(null,a));const l=Ge(a,i);(!n||n>l||isNaN(+l))&&(n=l)}),gt(i,n||NaN)}function E2(t){return gt(t,Date.now())}function Gi(t,e,n){const[i,a]=oa(n?.in,t,e);return+fc(i)==+fc(a)}function Uw(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function w2(t){return!(!Uw(t)&&typeof t!="number"||isNaN(+Ge(t)))}function S2(t,e,n){const[i,a]=oa(n?.in,t,e),l=i.getFullYear()-a.getFullYear(),c=i.getMonth()-a.getMonth();return l*12+c}function A2(t,e,n){const[i,a]=oa(n?.in,t,e),l=kb(i,a),c=Math.abs(Sy(i,a));i.setDate(i.getDate()-l*c);const f=+(kb(i,a)===-l),m=l*(c-f);return m===0?0:m}function kb(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function Bw(t){return e=>{const n=Math.trunc,i=n(e);return i===0?0:i}}function vg(t,e,n){const[i,a]=oa(n?.in,t,e),l=(+i-+a)/Pw;return Bw()(l)}function x2(t,e){return+Ge(t)-+Ge(e)}function _g(t,e,n){const i=x2(t,e)/Vw;return Bw()(i)}function zw(t,e){const n=Ge(t,e?.in),i=n.getMonth();return n.setFullYear(n.getFullYear(),i+1,0),n.setHours(23,59,59,999),n}function Ay(t,e){const[n,i]=oa(t,e.start,e.end);return{start:n,end:i}}function Fw(t,e){const{start:n,end:i}=Ay(e?.in,t);let a=+n>+i;const l=a?+n:+i,c=a?i:n;c.setHours(0,0,0,0);let f=1;const m=[];for(;+c<=l;)m.push(gt(n,c)),c.setDate(c.getDate()+f),c.setHours(0,0,0,0);return a?m.reverse():m}function C2(t,e){const{start:n,end:i}=Ay(e?.in,t);let a=+n>+i;const l=a?+n:+i,c=a?i:n;c.setHours(0,0,0,0),c.setDate(1);let f=1;const m=[];for(;+c<=l;)m.push(gt(n,c)),c.setMonth(c.getMonth()+f);return a?m.reverse():m}function Hw(t,e){const n=Ge(t,e?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function D2(t,e){const n=Ge(t,e?.in),i=n.getFullYear();return n.setFullYear(i+1,0,0),n.setHours(23,59,59,999),n}function qw(t,e){const n=Ge(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function M2(t,e){const{start:n,end:i}=Ay(e?.in,t);let a=+n>+i;const l=a?+n:+i,c=a?i:n;c.setHours(0,0,0,0),c.setMonth(0,1);let f=1;const m=[];for(;+c<=l;)m.push(gt(n,c)),c.setFullYear(c.getFullYear()+f);return a?m.reverse():m}function xy(t,e){const n=Rc(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=Ge(t,e?.in),l=a.getDay(),c=(l<i?-7:0)+6-(l-i);return a.setDate(a.getDate()+c),a.setHours(23,59,59,999),a}function R2(t,e){return xy(t,{...e,weekStartsOn:1})}const N2={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},I2=(t,e,n)=>{let i;const a=N2[t];return typeof a=="string"?i=a:e===1?i=a.one:i=a.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function ml(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const O2={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},k2={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},V2={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},P2={date:ml({formats:O2,defaultWidth:"full"}),time:ml({formats:k2,defaultWidth:"full"}),dateTime:ml({formats:V2,defaultWidth:"full"})},j2={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},L2=(t,e,n,i)=>j2[t];function ci(t){return(e,n)=>{const i=n?.context?String(n.context):"standalone";let a;if(i==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,f=n?.width?String(n.width):c;a=t.formattingValues[f]||t.formattingValues[c]}else{const c=t.defaultWidth,f=n?.width?String(n.width):t.defaultWidth;a=t.values[f]||t.values[c]}const l=t.argumentCallback?t.argumentCallback(e):e;return a[l]}}const U2={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},B2={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},z2={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},F2={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},H2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},q2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},G2=(t,e)=>{const n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Y2={ordinalNumber:G2,era:ci({values:U2,defaultWidth:"wide"}),quarter:ci({values:B2,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ci({values:z2,defaultWidth:"wide"}),day:ci({values:F2,defaultWidth:"wide"}),dayPeriod:ci({values:H2,defaultWidth:"wide",formattingValues:q2,defaultFormattingWidth:"wide"})};function hi(t){return(e,n={})=>{const i=n.width,a=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],l=e.match(a);if(!l)return null;const c=l[0],f=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],m=Array.isArray(f)?K2(f,T=>T.test(c)):W2(f,T=>T.test(c));let g;g=t.valueCallback?t.valueCallback(m):m,g=n.valueCallback?n.valueCallback(g):g;const y=e.slice(c.length);return{value:g,rest:y}}}function W2(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function K2(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Gw(t){return(e,n={})=>{const i=e.match(t.matchPattern);if(!i)return null;const a=i[0],l=e.match(t.parsePattern);if(!l)return null;let c=t.valueCallback?t.valueCallback(l[0]):l[0];c=n.valueCallback?n.valueCallback(c):c;const f=e.slice(a.length);return{value:c,rest:f}}}const $2=/^(\d+)(th|st|nd|rd)?/i,Q2=/\d+/i,X2={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Z2={any:[/^b/i,/^(a|c)/i]},J2={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},eR={any:[/1/i,/2/i,/3/i,/4/i]},tR={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},nR={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},sR={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},iR={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},rR={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},aR={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},oR={ordinalNumber:Gw({matchPattern:$2,parsePattern:Q2,valueCallback:t=>parseInt(t,10)}),era:hi({matchPatterns:X2,defaultMatchWidth:"wide",parsePatterns:Z2,defaultParseWidth:"any"}),quarter:hi({matchPatterns:J2,defaultMatchWidth:"wide",parsePatterns:eR,defaultParseWidth:"any",valueCallback:t=>t+1}),month:hi({matchPatterns:tR,defaultMatchWidth:"wide",parsePatterns:nR,defaultParseWidth:"any"}),day:hi({matchPatterns:sR,defaultMatchWidth:"wide",parsePatterns:iR,defaultParseWidth:"any"}),dayPeriod:hi({matchPatterns:rR,defaultMatchWidth:"any",parsePatterns:aR,defaultParseWidth:"any"})},il={code:"en-US",formatDistance:I2,formatLong:P2,formatRelative:L2,localize:Y2,match:oR,options:{weekStartsOn:0,firstWeekContainsDate:1}};function lR(t,e){const n=Ge(t,e?.in);return Sy(n,qw(n))+1}function Yw(t,e){const n=Ge(t,e?.in),i=+hc(n)-+y2(n);return Math.round(i/kw)+1}function Ww(t,e){const n=Ge(t,e?.in),i=n.getFullYear(),a=Rc(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=gt(e?.in||t,0);c.setFullYear(i+1,0,l),c.setHours(0,0,0,0);const f=bs(c,e),m=gt(e?.in||t,0);m.setFullYear(i,0,l),m.setHours(0,0,0,0);const g=bs(m,e);return+n>=+f?i+1:+n>=+g?i:i-1}function uR(t,e){const n=Rc(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=Ww(t,e),l=gt(e?.in||t,0);return l.setFullYear(a,0,i),l.setHours(0,0,0,0),bs(l,e)}function Kw(t,e){const n=Ge(t,e?.in),i=+bs(n,e)-+uR(n,e);return Math.round(i/kw)+1}function ot(t,e){const n=t<0?"-":"",i=Math.abs(t).toString().padStart(e,"0");return n+i}const Fr={y(t,e){const n=t.getFullYear(),i=n>0?n:1-n;return ot(e==="yy"?i%100:i,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ot(n+1,2)},d(t,e){return ot(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ot(t.getHours()%12||12,e.length)},H(t,e){return ot(t.getHours(),e.length)},m(t,e){return ot(t.getMinutes(),e.length)},s(t,e){return ot(t.getSeconds(),e.length)},S(t,e){const n=e.length,i=t.getMilliseconds(),a=Math.trunc(i*Math.pow(10,n-3));return ot(a,e.length)}},sl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Vb={G:function(t,e,n){const i=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const i=t.getFullYear(),a=i>0?i:1-i;return n.ordinalNumber(a,{unit:"year"})}return Fr.y(t,e)},Y:function(t,e,n,i){const a=Ww(t,i),l=a>0?a:1-a;if(e==="YY"){const c=l%100;return ot(c,2)}return e==="Yo"?n.ordinalNumber(l,{unit:"year"}):ot(l,e.length)},R:function(t,e){const n=jw(t);return ot(n,e.length)},u:function(t,e){const n=t.getFullYear();return ot(n,e.length)},Q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return ot(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return ot(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,n){const i=t.getMonth();switch(e){case"M":case"MM":return Fr.M(t,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,n){const i=t.getMonth();switch(e){case"L":return String(i+1);case"LL":return ot(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,n,i){const a=Kw(t,i);return e==="wo"?n.ordinalNumber(a,{unit:"week"}):ot(a,e.length)},I:function(t,e,n){const i=Yw(t);return e==="Io"?n.ordinalNumber(i,{unit:"week"}):ot(i,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Fr.d(t,e)},D:function(t,e,n){const i=lR(t);return e==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):ot(i,e.length)},E:function(t,e,n){const i=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,n,i){const a=t.getDay(),l=(a-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return ot(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,n,i){const a=t.getDay(),l=(a-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return ot(l,e.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,n){const i=t.getDay(),a=i===0?7:i;switch(e){case"i":return String(a);case"ii":return ot(a,e.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,n){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,n){const i=t.getHours();let a;switch(i===12?a=sl.noon:i===0?a=sl.midnight:a=i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,n){const i=t.getHours();let a;switch(i>=17?a=sl.evening:i>=12?a=sl.afternoon:i>=4?a=sl.morning:a=sl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let i=t.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Fr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Fr.H(t,e)},K:function(t,e,n){const i=t.getHours()%12;return e==="Ko"?n.ordinalNumber(i,{unit:"hour"}):ot(i,e.length)},k:function(t,e,n){let i=t.getHours();return i===0&&(i=24),e==="ko"?n.ordinalNumber(i,{unit:"hour"}):ot(i,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Fr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Fr.s(t,e)},S:function(t,e){return Fr.S(t,e)},X:function(t,e,n){const i=t.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return jb(i);case"XXXX":case"XX":return Fa(i);case"XXXXX":case"XXX":default:return Fa(i,":")}},x:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"x":return jb(i);case"xxxx":case"xx":return Fa(i);case"xxxxx":case"xxx":default:return Fa(i,":")}},O:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Pb(i,":");case"OOOO":default:return"GMT"+Fa(i,":")}},z:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Pb(i,":");case"zzzz":default:return"GMT"+Fa(i,":")}},t:function(t,e,n){const i=Math.trunc(+t/1e3);return ot(i,e.length)},T:function(t,e,n){return ot(+t,e.length)}};function Pb(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),a=Math.trunc(i/60),l=i%60;return l===0?n+String(a):n+String(a)+e+ot(l,2)}function jb(t,e){return t%60===0?(t>0?"-":"+")+ot(Math.abs(t)/60,2):Fa(t,e)}function Fa(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),a=ot(Math.trunc(i/60),2),l=ot(i%60,2);return n+a+e+l}const Lb=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},$w=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},cR=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],i=n[1],a=n[2];if(!a)return Lb(t,e);let l;switch(i){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",Lb(i,e)).replace("{{time}}",$w(a,e))},hR={p:$w,P:cR},fR=/^D+$/,dR=/^Y+$/,mR=["D","DD","YY","YYYY"];function pR(t){return fR.test(t)}function gR(t){return dR.test(t)}function yR(t,e,n){const i=vR(t,e,n);if(console.warn(i),mR.includes(t))throw new RangeError(i)}function vR(t,e,n){const i=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const _R=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,TR=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bR=/^'([^]*?)'?$/,ER=/''/g,wR=/[a-zA-Z]/;function qe(t,e,n){const i=Rc(),a=n?.locale??i.locale??il,l=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,f=Ge(t,n?.in);if(!w2(f))throw new RangeError("Invalid time value");let m=e.match(TR).map(y=>{const T=y[0];if(T==="p"||T==="P"){const w=hR[T];return w(y,a.formatLong)}return y}).join("").match(_R).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const T=y[0];if(T==="'")return{isToken:!1,value:SR(y)};if(Vb[T])return{isToken:!0,value:y};if(T.match(wR))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(m=a.localize.preprocessor(f,m));const g={firstWeekContainsDate:l,weekStartsOn:c,locale:a};return m.map(y=>{if(!y.isToken)return y.value;const T=y.value;(!n?.useAdditionalWeekYearTokens&&gR(T)||!n?.useAdditionalDayOfYearTokens&&pR(T))&&yR(T,e,String(t));const w=Vb[T[0]];return w(f,T,a.localize,g)}).join("")}function SR(t){const e=t.match(bR);return e?e[1].replace(ER,"'"):t}function AR(t,e){const n=Ge(t,e?.in),i=n.getFullYear(),a=n.getMonth(),l=gt(n,0);return l.setFullYear(i,a+1,0),l.setHours(0,0,0,0),l.getDate()}function xR(t,e){return Ge(t,e?.in).getMonth()}function CR(t,e){return Ge(t,e?.in).getFullYear()}function DR(t,e){return+Ge(t)>+Ge(e)}function MR(t,e){return+Ge(t)<+Ge(e)}function RR(t){return+Ge(t)<Date.now()}function Qw(t,e,n){const[i,a]=oa(n?.in,t,e);return i.getFullYear()===a.getFullYear()&&i.getMonth()===a.getMonth()}function NR(t,e,n){const[i,a]=oa(n?.in,t,e);return i.getFullYear()===a.getFullYear()}function IR(t,e){return Gi(gt(t,t),E2(t))}function Df(t,e,n){return Ls(t,-e,n)}function Xw(t,e,n){const i=Ge(t,n?.in),a=i.getFullYear(),l=i.getDate(),c=gt(t,0);c.setFullYear(a,e,15),c.setHours(0,0,0,0);const f=AR(c);return i.setMonth(e,Math.min(l,f)),i}function Zw(t,e,n){let i=Ge(t,n?.in);return isNaN(+i)?gt(t,NaN):(e.year!=null&&i.setFullYear(e.year),e.month!=null&&(i=Xw(i,e.month)),e.date!=null&&i.setDate(e.date),e.hours!=null&&i.setHours(e.hours),e.minutes!=null&&i.setMinutes(e.minutes),e.seconds!=null&&i.setSeconds(e.seconds),e.milliseconds!=null&&i.setMilliseconds(e.milliseconds),i)}function Jw(t,e,n){const i=Ge(t,n?.in);return i.setHours(e),i}function eS(t,e,n){const i=Ge(t,n?.in);return i.setMinutes(e),i}function OR(t,e,n){const i=Ge(t,n?.in);return isNaN(+i)?gt(t,NaN):(i.setFullYear(e),i)}var kR=Ow();const VR={lessThanXSeconds:{one:" 1 ",other:" {{count}} "},xSeconds:{one:"1 ",other:"{{count}} "},halfAMinute:"",lessThanXMinutes:{one:" 1 ",other:" {{count}} "},xMinutes:{one:"1 ",other:"{{count}} "},aboutXHours:{one:" 1 ",other:" {{count}} "},xHours:{one:"1 ",other:"{{count}} "},xDays:{one:"1 ",other:"{{count}} "},aboutXWeeks:{one:" 1 ",other:" {{count}} "},xWeeks:{one:"1 ",other:"{{count}} "},aboutXMonths:{one:" 1 ",other:" {{count}} "},xMonths:{one:"1 ",other:"{{count}} "},aboutXYears:{one:" 1 ",other:" {{count}} "},xYears:{one:"1 ",other:"{{count}} "},overXYears:{one:" 1 ",other:" {{count}} "},almostXYears:{one:" 1 ",other:" {{count}} "}},PR=(t,e,n)=>{let i;const a=VR[t];return typeof a=="string"?i=a:e===1?i=a.one:i=a.other.replace("{{count}}",String(e)),n?.addSuffix?n.comparison&&n.comparison>0?t==="halfAMinute"?""+i:" "+i:i+"":i},jR={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},LR={full:"H:mm:ss . zzzz",long:"H:mm:ss . z",medium:"H:mm:ss .",short:"H:mm ."},UR={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},BR={date:ml({formats:jR,defaultWidth:"full"}),time:ml({formats:LR,defaultWidth:"medium"}),dateTime:ml({formats:UR,defaultWidth:"full"})},zR={lastWeek:"eeee'' p",yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:"eeee '' p",other:"P"},FR=(t,e,n,i)=>zR[t],HR={narrow:["B",""],abbreviated:["BC",".."],wide:["",""]},qR={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["","","",""]},GR={narrow:[".",".",".",".",".",".","."],short:[".",".",".",".",".",".","."],abbreviated:[".",".",".",".",".",".","."],wide:["","","","","","",""]},YR={narrow:["..","..","..","..","..","..","..","..","..","..","..",".."],abbreviated:["..","..","..","..","..","..","..","..","..","..","..",".."],wide:["","","","","","","","","","","",""]},WR={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},KR={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},$R=(t,e)=>String(t),QR={ordinalNumber:$R,era:ci({values:HR,defaultWidth:"wide"}),quarter:ci({values:qR,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ci({values:YR,defaultWidth:"wide"}),day:ci({values:GR,defaultWidth:"wide"}),dayPeriod:ci({values:WR,defaultWidth:"wide",formattingValues:KR,defaultFormattingWidth:"wide"})},XR=/^\d+/i,ZR=/\d+/i,JR={narrow:/^([bB]|[aA]|)/i,abbreviated:/^([bB]\.?\s?[cC]\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?|\.?\.?)/i,wide:/^(||)/i},eN={any:[/^[bB]/i,/^(^[aA]|\.?\.?|||)/i]},tN={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^()? ?[1234]/i},nN={any:[/(1||)/i,/(2|)/i,/(3|)/i,/(4|)/i]},sN={narrow:/^(\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?)/i,abbreviated:/^(\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?|\.?\.?')/i,wide:/^(|||||||||||)/i},iN={wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i,/^\.?\.?/i]},rN={narrow:/^(\.?|\.?|\.?|\.?|\.?|\.?|\.?)/i,short:/^(\.?|\.?|\.?|\.?|\.?|\.?|\.?)/i,abbreviated:/^(\.?|\.?|\.?|\.?|\.?|\.?|\.?)/i,wide:/^(||||||)/i},aN={wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^(?!)/i,/^/i,/^/i,/^/i]},oN={any:/^(||||(.*?)?.*(||||))/i},lN={any:{am:/^/i,pm:/^/i,midnight:/^/i,noon:/^/i,morning://i,afternoon://i,evening://i,night://i}},uN={ordinalNumber:Gw({matchPattern:XR,parsePattern:ZR,valueCallback:t=>parseInt(t,10)}),era:hi({matchPatterns:JR,defaultMatchWidth:"wide",parsePatterns:eN,defaultParseWidth:"any"}),quarter:hi({matchPatterns:tN,defaultMatchWidth:"wide",parsePatterns:nN,defaultParseWidth:"any",valueCallback:t=>t+1}),month:hi({matchPatterns:sN,defaultMatchWidth:"wide",parsePatterns:iN,defaultParseWidth:"any"}),day:hi({matchPatterns:rN,defaultMatchWidth:"wide",parsePatterns:aN,defaultParseWidth:"any"}),dayPeriod:hi({matchPatterns:oN,defaultMatchWidth:"any",parsePatterns:lN,defaultParseWidth:"any"})},Jn={code:"th",formatDistance:PR,formatLong:BR,formatRelative:FR,localize:QR,match:uN,options:{weekStartsOn:0,firstWeekContainsDate:1}},Cy=Q.createContext({});function Dy(t){const e=Q.useRef(null);return e.current===null&&(e.current=t()),e.current}const My=typeof window<"u",tS=My?Q.useLayoutEffect:Q.useEffect,gd=Q.createContext(null);function Ry(t,e){t.indexOf(e)===-1&&t.push(e)}function Ny(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ji=(t,e,n)=>n>e?e:n<t?t:n;let Iy=()=>{};const er={},nS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function sS(t){return typeof t=="object"&&t!==null}const iS=t=>/^0[^.\s]+$/u.test(t);function Oy(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ts=t=>t,cN=(t,e)=>n=>e(t(n)),Nc=(...t)=>t.reduce(cN),dc=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class ky{constructor(){this.subscriptions=[]}add(e){return Ry(this.subscriptions,e),()=>Ny(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mi=t=>t*1e3,_s=t=>t/1e3;function rS(t,e){return e?t*(1e3/e):0}const aS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,hN=1e-7,fN=12;function dN(t,e,n,i,a){let l,c,f=0;do c=e+(n-e)/2,l=aS(c,i,a)-t,l>0?n=c:e=c;while(Math.abs(l)>hN&&++f<fN);return c}function Ic(t,e,n,i){if(t===e&&n===i)return Ts;const a=l=>dN(l,0,1,t,n);return l=>l===0||l===1?l:aS(a(l),e,i)}const oS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,lS=t=>e=>1-t(1-e),uS=Ic(.33,1.53,.69,.99),Vy=lS(uS),cS=oS(Vy),hS=t=>(t*=2)<1?.5*Vy(t):.5*(2-Math.pow(2,-10*(t-1))),Py=t=>1-Math.sin(Math.acos(t)),fS=lS(Py),dS=oS(Py),mN=Ic(.42,0,1,1),pN=Ic(0,0,.58,1),mS=Ic(.42,0,.58,1),gN=t=>Array.isArray(t)&&typeof t[0]!="number",pS=t=>Array.isArray(t)&&typeof t[0]=="number",yN={linear:Ts,easeIn:mN,easeInOut:mS,easeOut:pN,circIn:Py,circInOut:dS,circOut:fS,backIn:Vy,backInOut:cS,backOut:uS,anticipate:hS},vN=t=>typeof t=="string",Ub=t=>{if(pS(t)){Iy(t.length===4);const[e,n,i,a]=t;return Ic(e,n,i,a)}else if(vN(t))return yN[t];return t},yf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function _N(t,e){let n=new Set,i=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(g.schedule(y),t()),y(f)}const g={schedule:(y,T=!1,w=!1)=>{const V=w&&a?n:i;return T&&c.add(y),V.has(y)||V.add(y),y},cancel:y=>{i.delete(y),c.delete(y)},process:y=>{if(f=y,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,g.process(y))}};return g}const TN=40;function gS(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=yf.reduce((F,te)=>(F[te]=_N(l),F),{}),{setup:f,read:m,resolveKeyframes:g,preUpdate:y,update:T,preRender:w,render:D,postRender:V}=c,N=()=>{const F=er.useManualTiming?a.timestamp:performance.now();n=!1,er.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(F-a.timestamp,TN),1)),a.timestamp=F,a.isProcessing=!0,f.process(a),m.process(a),g.process(a),y.process(a),T.process(a),w.process(a),D.process(a),V.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(N))},P=()=>{n=!0,i=!0,a.isProcessing||t(N)};return{schedule:yf.reduce((F,te)=>{const B=c[te];return F[te]=(G,x=!1,A=!1)=>(n||P(),B.schedule(G,x,A)),F},{}),cancel:F=>{for(let te=0;te<yf.length;te++)c[yf[te]].cancel(F)},state:a,steps:c}}const{schedule:Et,cancel:Jr,state:mn,steps:zp}=gS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ts,!0);let Mf;function bN(){Mf=void 0}const Un={now:()=>(Mf===void 0&&Un.set(mn.isProcessing||er.useManualTiming?mn.timestamp:performance.now()),Mf),set:t=>{Mf=t,queueMicrotask(bN)}},yS=t=>e=>typeof e=="string"&&e.startsWith(t),jy=yS("--"),EN=yS("var(--"),Ly=t=>EN(t)?wN.test(t.split("/*")[0].trim()):!1,wN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Il={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},mc={...Il,transform:t=>Ji(0,1,t)},vf={...Il,default:1},ec=t=>Math.round(t*1e5)/1e5,Uy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function SN(t){return t==null}const AN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,By=(t,e)=>n=>!!(typeof n=="string"&&AN.test(n)&&n.startsWith(t)||e&&!SN(n)&&Object.prototype.hasOwnProperty.call(n,e)),vS=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,c,f]=i.match(Uy);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},xN=t=>Ji(0,255,t),Fp={...Il,transform:t=>Math.round(xN(t))},Ga={test:By("rgb","red"),parse:vS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Fp.transform(t)+", "+Fp.transform(e)+", "+Fp.transform(n)+", "+ec(mc.transform(i))+")"};function CN(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const Tg={test:By("#"),parse:CN,transform:Ga.transform},Oc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),qr=Oc("deg"),pi=Oc("%"),De=Oc("px"),DN=Oc("vh"),MN=Oc("vw"),Bb={...pi,parse:t=>pi.parse(t)/100,transform:t=>pi.transform(t*100)},ul={test:By("hsl","hue"),parse:vS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+pi.transform(ec(e))+", "+pi.transform(ec(n))+", "+ec(mc.transform(i))+")"},$t={test:t=>Ga.test(t)||Tg.test(t)||ul.test(t),parse:t=>Ga.test(t)?Ga.parse(t):ul.test(t)?ul.parse(t):Tg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ga.transform(t):ul.transform(t),getAnimatableNone:t=>{const e=$t.parse(t);return e.alpha=0,$t.transform(e)}},RN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function NN(t){return isNaN(t)&&typeof t=="string"&&(t.match(Uy)?.length||0)+(t.match(RN)?.length||0)>0}const _S="number",TS="color",IN="var",ON="var(",zb="${}",kN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pc(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(kN,m=>($t.test(m)?(i.color.push(l),a.push(TS),n.push($t.parse(m))):m.startsWith(ON)?(i.var.push(l),a.push(IN),n.push(m)):(i.number.push(l),a.push(_S),n.push(parseFloat(m))),++l,zb)).split(zb);return{values:n,split:f,indexes:i,types:a}}function bS(t){return pc(t).values}function ES(t){const{split:e,types:n}=pc(t),i=e.length;return a=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],a[c]!==void 0){const f=n[c];f===_S?l+=ec(a[c]):f===TS?l+=$t.transform(a[c]):l+=a[c]}return l}}const VN=t=>typeof t=="number"?0:$t.test(t)?$t.getAnimatableNone(t):t;function PN(t){const e=bS(t);return ES(t)(e.map(VN))}const ea={test:NN,parse:bS,createTransformer:ES,getAnimatableNone:PN};function Hp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function jN({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;a=Hp(m,f,t+1/3),l=Hp(m,f,t),c=Hp(m,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function Hf(t,e){return n=>n>0?e:t}const xt=(t,e,n)=>t+(e-t)*n,qp=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},LN=[Tg,Ga,ul],UN=t=>LN.find(e=>e.test(t));function Fb(t){const e=UN(t);if(!e)return!1;let n=e.parse(t);return e===ul&&(n=jN(n)),n}const Hb=(t,e)=>{const n=Fb(t),i=Fb(e);if(!n||!i)return Hf(t,e);const a={...n};return l=>(a.red=qp(n.red,i.red,l),a.green=qp(n.green,i.green,l),a.blue=qp(n.blue,i.blue,l),a.alpha=xt(n.alpha,i.alpha,l),Ga.transform(a))},bg=new Set(["none","hidden"]);function BN(t,e){return bg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function zN(t,e){return n=>xt(t,e,n)}function zy(t){return typeof t=="number"?zN:typeof t=="string"?Ly(t)?Hf:$t.test(t)?Hb:qN:Array.isArray(t)?wS:typeof t=="object"?$t.test(t)?Hb:FN:Hf}function wS(t,e){const n=[...t],i=n.length,a=t.map((l,c)=>zy(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)n[c]=a[c](l);return n}}function FN(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=zy(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function HN(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],f=t.values[c]??0;n[a]=f,i[l]++}return n}const qN=(t,e)=>{const n=ea.createTransformer(e),i=pc(t),a=pc(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?bg.has(t)&&!a.values.length||bg.has(e)&&!i.values.length?BN(t,e):Nc(wS(HN(i,a),a.values),n):Hf(t,e)};function SS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?xt(t,e,n):zy(t)(t,e)}const GN=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Et.update(e,n),stop:()=>Jr(e),now:()=>mn.isProcessing?mn.timestamp:Un.now()}},AS=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},qf=2e4;function Fy(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<qf;)e+=n,i=t.next(e);return e>=qf?1/0:e}function YN(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(Fy(i),qf);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:_s(a)}}const WN=5;function xS(t,e,n){const i=Math.max(e-WN,0);return rS(n-t(i),e-i)}const Nt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Gp=.001;function KN({duration:t=Nt.duration,bounce:e=Nt.bounce,velocity:n=Nt.velocity,mass:i=Nt.mass}){let a,l,c=1-e;c=Ji(Nt.minDamping,Nt.maxDamping,c),t=Ji(Nt.minDuration,Nt.maxDuration,_s(t)),c<1?(a=g=>{const y=g*c,T=y*t,w=y-n,D=Eg(g,c),V=Math.exp(-T);return Gp-w/D*V},l=g=>{const T=g*c*t,w=T*n+n,D=Math.pow(c,2)*Math.pow(g,2)*t,V=Math.exp(-T),N=Eg(Math.pow(g,2),c);return(-a(g)+Gp>0?-1:1)*((w-D)*V)/N}):(a=g=>{const y=Math.exp(-g*t),T=(g-n)*t+1;return-Gp+y*T},l=g=>{const y=Math.exp(-g*t),T=(n-g)*(t*t);return y*T});const f=5/t,m=QN(a,l,f);if(t=mi(t),isNaN(m))return{stiffness:Nt.stiffness,damping:Nt.damping,duration:t};{const g=Math.pow(m,2)*i;return{stiffness:g,damping:c*2*Math.sqrt(i*g),duration:t}}}const $N=12;function QN(t,e,n){let i=n;for(let a=1;a<$N;a++)i=i-t(i)/e(i);return i}function Eg(t,e){return t*Math.sqrt(1-e*e)}const XN=["duration","bounce"],ZN=["stiffness","damping","mass"];function qb(t,e){return e.some(n=>t[n]!==void 0)}function JN(t){let e={velocity:Nt.velocity,stiffness:Nt.stiffness,damping:Nt.damping,mass:Nt.mass,isResolvedFromDuration:!1,...t};if(!qb(t,ZN)&&qb(t,XN))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*Ji(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Nt.mass,stiffness:a,damping:l}}else{const n=KN(t);e={...e,...n,mass:Nt.mass},e.isResolvedFromDuration=!0}return e}function Gf(t=Nt.visualDuration,e=Nt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:g,mass:y,duration:T,velocity:w,isResolvedFromDuration:D}=JN({...n,velocity:-_s(n.velocity||0)}),V=w||0,N=g/(2*Math.sqrt(m*y)),P=c-l,z=_s(Math.sqrt(m/y)),K=Math.abs(P)<5;i||(i=K?Nt.restSpeed.granular:Nt.restSpeed.default),a||(a=K?Nt.restDelta.granular:Nt.restDelta.default);let F;if(N<1){const B=Eg(z,N);F=G=>{const x=Math.exp(-N*z*G);return c-x*((V+N*z*P)/B*Math.sin(B*G)+P*Math.cos(B*G))}}else if(N===1)F=B=>c-Math.exp(-z*B)*(P+(V+z*P)*B);else{const B=z*Math.sqrt(N*N-1);F=G=>{const x=Math.exp(-N*z*G),A=Math.min(B*G,300);return c-x*((V+N*z*P)*Math.sinh(A)+B*P*Math.cosh(A))/B}}const te={calculatedDuration:D&&T||null,next:B=>{const G=F(B);if(D)f.done=B>=T;else{let x=B===0?V:0;N<1&&(x=B===0?mi(V):xS(F,B,G));const A=Math.abs(x)<=i,R=Math.abs(c-G)<=a;f.done=A&&R}return f.value=f.done?c:G,f},toString:()=>{const B=Math.min(Fy(te),qf),G=AS(x=>te.next(B*x).value,B,30);return B+"ms "+G},toTransition:()=>{}};return te}Gf.applyToOptions=t=>{const e=YN(t,100,Gf);return t.ease=e.ease,t.duration=mi(e.duration),t.type="keyframes",t};function wg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:m,restDelta:g=.5,restSpeed:y}){const T=t[0],w={done:!1,value:T},D=A=>f!==void 0&&A<f||m!==void 0&&A>m,V=A=>f===void 0?m:m===void 0||Math.abs(f-A)<Math.abs(m-A)?f:m;let N=n*e;const P=T+N,z=c===void 0?P:c(P);z!==P&&(N=z-T);const K=A=>-N*Math.exp(-A/i),F=A=>z+K(A),te=A=>{const R=K(A),k=F(A);w.done=Math.abs(R)<=g,w.value=w.done?z:k};let B,G;const x=A=>{D(w.value)&&(B=A,G=Gf({keyframes:[w.value,V(w.value)],velocity:xS(F,A,w.value),damping:a,stiffness:l,restDelta:g,restSpeed:y}))};return x(0),{calculatedDuration:null,next:A=>{let R=!1;return!G&&B===void 0&&(R=!0,te(A),x(A)),B!==void 0&&A>=B?G.next(A-B):(!R&&te(A),w)}}}function eI(t,e,n){const i=[],a=n||er.mix||SS,l=t.length-1;for(let c=0;c<l;c++){let f=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||Ts:e;f=Nc(m,f)}i.push(f)}return i}function tI(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(Iy(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=eI(e,i,a),m=f.length,g=y=>{if(c&&y<t[0])return e[0];let T=0;if(m>1)for(;T<t.length-2&&!(y<t[T+1]);T++);const w=dc(t[T],t[T+1],y);return f[T](w)};return n?y=>g(Ji(t[0],t[l-1],y)):g}function nI(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=dc(0,e,i);t.push(xt(n,1,a))}}function sI(t){const e=[0];return nI(e,t.length-1),e}function iI(t,e){return t.map(n=>n*e)}function rI(t,e){return t.map(()=>e||mS).splice(0,t.length-1)}function tc({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=gN(i)?i.map(Ub):Ub(i),l={done:!1,value:e[0]},c=iI(n&&n.length===e.length?n:sI(e),t),f=tI(c,e,{ease:Array.isArray(a)?a:rI(e,a)});return{calculatedDuration:t,next:m=>(l.value=f(m),l.done=m>=t,l)}}const aI=t=>t!==null;function Hy(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(aI),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||i===void 0?l[f]:i}const oI={decay:wg,inertia:wg,tween:tc,keyframes:tc,spring:Gf};function CS(t){typeof t.type=="string"&&(t.type=oI[t.type])}class qy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const lI=t=>t/100;class Gy extends qy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Un.now()&&this.tick(Un.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;CS(e);const{type:n=tc,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:f}=e;const m=n||tc;m!==tc&&typeof f[0]!="number"&&(this.mixKeyframes=Nc(lI,SS(f[0],f[1])),f=[0,100]);const g=m({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Fy(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=g}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return i.next(0);const{delay:g=0,keyframes:y,repeat:T,repeatType:w,repeatDelay:D,type:V,onUpdate:N,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const z=this.currentTime-g*(this.playbackSpeed>=0?1:-1),K=this.playbackSpeed>=0?z<0:z>a;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let F=this.currentTime,te=i;if(T){const A=Math.min(this.currentTime,a)/f;let R=Math.floor(A),k=A%1;!k&&A>=1&&(k=1),k===1&&R--,R=Math.min(R,T+1),!!(R%2)&&(w==="reverse"?(k=1-k,D&&(k-=D/f)):w==="mirror"&&(te=c)),F=Ji(0,1,k)*f}const B=K?{done:!1,value:y[0]}:te.next(F);l&&(B.value=l(B.value));let{done:G}=B;!K&&m!==null&&(G=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const x=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&G);return x&&V!==wg&&(B.value=Hy(y,this.options,P,this.speed)),N&&N(B.value),x&&this.finish(),B}then(e,n){return this.finished.then(e,n)}get duration(){return _s(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+_s(e)}get time(){return _s(this.currentTime)}set time(e){e=mi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Un.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=_s(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=GN,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Un.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function uI(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ya=t=>t*180/Math.PI,Sg=t=>{const e=Ya(Math.atan2(t[1],t[0]));return Ag(e)},cI={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Sg,rotateZ:Sg,skewX:t=>Ya(Math.atan(t[1])),skewY:t=>Ya(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ag=t=>(t=t%360,t<0&&(t+=360),t),Gb=Sg,Yb=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Wb=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),hI={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Yb,scaleY:Wb,scale:t=>(Yb(t)+Wb(t))/2,rotateX:t=>Ag(Ya(Math.atan2(t[6],t[5]))),rotateY:t=>Ag(Ya(Math.atan2(-t[2],t[0]))),rotateZ:Gb,rotate:Gb,skewX:t=>Ya(Math.atan(t[4])),skewY:t=>Ya(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function xg(t){return t.includes("scale")?1:0}function Cg(t,e){if(!t||t==="none")return xg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=hI,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=cI,a=f}if(!a)return xg(e);const l=i[e],c=a[1].split(",").map(dI);return typeof l=="function"?l(c):c[l]}const fI=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Cg(n,e)};function dI(t){return parseFloat(t.trim())}const Ol=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],kl=new Set(Ol),Kb=t=>t===Il||t===De,mI=new Set(["x","y","z"]),pI=Ol.filter(t=>!mI.has(t));function gI(t){const e=[];return pI.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Qa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Cg(e,"x"),y:(t,{transform:e})=>Cg(e,"y")};Qa.translateX=Qa.x;Qa.translateY=Qa.y;const Xa=new Set;let Dg=!1,Mg=!1,Rg=!1;function DS(){if(Mg){const t=Array.from(Xa).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=gI(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,c])=>{i.getValue(l)?.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Mg=!1,Dg=!1,Xa.forEach(t=>t.complete(Rg)),Xa.clear()}function MS(){Xa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Mg=!0)})}function yI(){Rg=!0,MS(),DS(),Rg=!1}class Yy{constructor(e,n,i,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Xa.add(this),Dg||(Dg=!0,Et.read(MS),Et.resolveKeyframes(DS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const f=i.readValue(n,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}uI(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Xa.delete(this)}cancel(){this.state==="scheduled"&&(Xa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const vI=t=>t.startsWith("--");function _I(t,e,n){vI(e)?t.style.setProperty(e,n):t.style[e]=n}const TI=Oy(()=>window.ScrollTimeline!==void 0),bI={};function EI(t,e){const n=Oy(t);return()=>bI[e]??n()}const RS=EI(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ku=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,$b={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ku([0,.65,.55,1]),circOut:Ku([.55,0,1,.45]),backIn:Ku([.31,.01,.66,-.59]),backOut:Ku([.33,1.53,.69,.99])};function NS(t,e){if(t)return typeof t=="function"?RS()?AS(t,e):"ease-out":pS(t)?Ku(t):Array.isArray(t)?t.map(n=>NS(n,e)||$b.easeOut):$b[t]}function wI(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:m}={},g=void 0){const y={[e]:n};m&&(y.offset=m);const T=NS(f,a);Array.isArray(T)&&(y.easing=T);const w={delay:i,duration:a,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return g&&(w.pseudoElement=g),t.animate(y,w)}function IS(t){return typeof t=="function"&&"applyToOptions"in t}function SI({type:t,...e}){return IS(t)&&RS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class AI extends qy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,Iy(typeof e.type!="string");const g=SI(e);this.animation=wI(n,i,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Hy(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):_I(n,i,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return _s(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+_s(e)}get time(){return _s(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=mi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&TI()?(this.animation.timeline=e,Ts):n(this)}}const OS={anticipate:hS,backInOut:cS,circInOut:dS};function xI(t){return t in OS}function CI(t){typeof t.ease=="string"&&xI(t.ease)&&(t.ease=OS[t.ease])}const Qb=10;class DI extends AI{constructor(e){CI(e),CS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new Gy({...c,autoplay:!1}),m=mi(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-Qb).value,f.sample(m).value,Qb),f.stop()}}const Xb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ea.test(t)||t==="0")&&!t.startsWith("url("));function MI(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function RI(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=Xb(a,e),f=Xb(l,e);return!c||!f?!1:MI(t)||(n==="spring"||IS(n))&&i}function Ng(t){t.duration=0,t.type="keyframes"}const NI=new Set(["opacity","clipPath","filter","transform"]),II=Oy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function OI(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=e.owner.getProps();return II()&&n&&NI.has(n)&&(n!=="transform"||!g)&&!m&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}const kI=40;class VI extends qy{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:m,motionValue:g,element:y,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Un.now();const w={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:g,element:y,...T},D=y?.KeyframeResolver||Yy;this.keyframeResolver=new D(f,(V,N,P)=>this.onKeyframesResolved(V,N,w,!P),m,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:m,isHandoff:g,onUpdate:y}=i;this.resolvedAt=Un.now(),RI(e,l,c,f)||((er.instantAnimations||!m)&&y?.(Hy(e,i,n)),e[0]=e[e.length-1],Ng(i),i.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>kI?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},D=!g&&OI(w)?new DI({...w,element:w.motionValue.owner.current}):new Gy(w);D.finished.then(()=>this.notifyFinished()).catch(Ts),this.pendingTimeline&&(this.stopTimeline=D.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=D}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),yI()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const PI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function jI(t){const e=PI.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function kS(t,e,n=1){const[i,a]=jI(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return nS(c)?parseFloat(c):c}return Ly(a)?kS(a,e,n+1):a}function Wy(t,e){return t?.[e]??t?.default??t}const VS=new Set(["width","height","top","left","right","bottom",...Ol]),LI={test:t=>t==="auto",parse:t=>t},PS=t=>e=>e.test(t),jS=[Il,De,pi,qr,MN,DN,LI],Zb=t=>jS.find(PS(t));function UI(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||iS(t):!0}const BI=new Set(["brightness","contrast","saturate","opacity"]);function zI(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Uy)||[];if(!i)return t;const a=n.replace(i,"");let l=BI.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const FI=/\b([a-z-]*)\(.*?\)/gu,Ig={...ea,getAnimatableNone:t=>{const e=t.match(FI);return e?e.map(zI).join(" "):t}},Jb={...Il,transform:Math.round},HI={rotate:qr,rotateX:qr,rotateY:qr,rotateZ:qr,scale:vf,scaleX:vf,scaleY:vf,scaleZ:vf,skew:qr,skewX:qr,skewY:qr,distance:De,translateX:De,translateY:De,translateZ:De,x:De,y:De,z:De,perspective:De,transformPerspective:De,opacity:mc,originX:Bb,originY:Bb,originZ:De},Ky={borderWidth:De,borderTopWidth:De,borderRightWidth:De,borderBottomWidth:De,borderLeftWidth:De,borderRadius:De,radius:De,borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomRightRadius:De,borderBottomLeftRadius:De,width:De,maxWidth:De,height:De,maxHeight:De,top:De,right:De,bottom:De,left:De,padding:De,paddingTop:De,paddingRight:De,paddingBottom:De,paddingLeft:De,margin:De,marginTop:De,marginRight:De,marginBottom:De,marginLeft:De,backgroundPositionX:De,backgroundPositionY:De,...HI,zIndex:Jb,fillOpacity:mc,strokeOpacity:mc,numOctaves:Jb},qI={...Ky,color:$t,backgroundColor:$t,outlineColor:$t,fill:$t,stroke:$t,borderColor:$t,borderTopColor:$t,borderRightColor:$t,borderBottomColor:$t,borderLeftColor:$t,filter:Ig,WebkitFilter:Ig},LS=t=>qI[t];function US(t,e){let n=LS(t);return n!==Ig&&(n=ea),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const GI=new Set(["auto","none","0"]);function YI(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!GI.has(l)&&pc(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=US(n,a)}class WI extends Yy{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let g=e[m];if(typeof g=="string"&&(g=g.trim(),Ly(g))){const y=kS(g,n.current);y!==void 0&&(e[m]=y),m===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!VS.has(i)||e.length!==2)return;const[a,l]=e,c=Zb(a),f=Zb(l);if(c!==f)if(Kb(c)&&Kb(f))for(let m=0;m<e.length;m++){const g=e[m];typeof g=="string"&&(e[m]=parseFloat(g))}else Qa[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||UI(e[a]))&&i.push(a);i.length&&YI(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Qa[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=Qa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{e.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function KI(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const BS=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function zS(t){return sS(t)&&"offsetHeight"in t}const e1=30,$I=t=>!isNaN(parseFloat(t));class QI{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=Un.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Un.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=$I(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ky);const i=this.events[e].add(n);return e==="change"?()=>{i(),Et.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Un.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>e1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,e1);return rS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function El(t,e){return new QI(t,e)}const{schedule:$y}=gS(queueMicrotask,!1),Ps={x:!1,y:!1};function FS(){return Ps.x||Ps.y}function XI(t){return t==="x"||t==="y"?Ps[t]?null:(Ps[t]=!0,()=>{Ps[t]=!1}):Ps.x||Ps.y?null:(Ps.x=Ps.y=!0,()=>{Ps.x=Ps.y=!1})}function HS(t,e){const n=KI(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function t1(t){return!(t.pointerType==="touch"||FS())}function ZI(t,e,n={}){const[i,a,l]=HS(t,n),c=f=>{if(!t1(f))return;const{target:m}=f,g=e(m,f);if(typeof g!="function"||!m)return;const y=T=>{t1(T)&&(g(T),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return i.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}const qS=(t,e)=>e?t===e?!0:qS(t,e.parentElement):!1,Qy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,JI=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function eO(t){return JI.has(t.tagName)||t.tabIndex!==-1}const Rf=new WeakSet;function n1(t){return e=>{e.key==="Enter"&&t(e)}}function Yp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const tO=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=n1(()=>{if(Rf.has(n))return;Yp(n,"down");const a=n1(()=>{Yp(n,"up")}),l=()=>Yp(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function s1(t){return Qy(t)&&!FS()}function nO(t,e,n={}){const[i,a,l]=HS(t,n),c=f=>{const m=f.currentTarget;if(!s1(f))return;Rf.add(m);const g=e(m,f),y=(D,V)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",w),Rf.has(m)&&Rf.delete(m),s1(D)&&typeof g=="function"&&g(D,{success:V})},T=D=>{y(D,m===window||m===document||n.useGlobalTarget||qS(m,D.target))},w=D=>{y(D,!1)};window.addEventListener("pointerup",T,a),window.addEventListener("pointercancel",w,a)};return i.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),zS(f)&&(f.addEventListener("focus",g=>tO(g,a)),!eO(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function GS(t){return sS(t)&&"ownerSVGElement"in t}function sO(t){return GS(t)&&t.tagName==="svg"}const wn=t=>!!(t&&t.getVelocity),iO=[...jS,$t,ea],rO=t=>iO.find(PS(t)),Xy=Q.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function i1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function aO(...t){return e=>{let n=!1;const i=t.map(a=>{const l=i1(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():i1(t[a],null)}}}}function oO(...t){return Q.useCallback(aO(...t),t)}class lO extends Q.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=zS(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function uO({children:t,isPresent:e,anchorX:n,root:i}){const a=Q.useId(),l=Q.useRef(null),c=Q.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=Q.useContext(Xy),m=oO(l,t?.ref);return Q.useInsertionEffect(()=>{const{width:g,height:y,top:T,left:w,right:D}=c.current;if(e||!l.current||!g||!y)return;const V=n==="left"?`left: ${w}`:`right: ${D}`;l.current.dataset.motionPopId=a;const N=document.createElement("style");f&&(N.nonce=f);const P=i??document.head;return P.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${V}px !important;
            top: ${T}px !important;
          }
        `),()=>{P.contains(N)&&P.removeChild(N)}},[e]),_.jsx(lO,{isPresent:e,childRef:l,sizeRef:c,children:Q.cloneElement(t,{ref:m})})}const cO=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:c,anchorX:f,root:m})=>{const g=Dy(hO),y=Q.useId();let T=!0,w=Q.useMemo(()=>(T=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:D=>{g.set(D,!0);for(const V of g.values())if(!V)return;i&&i()},register:D=>(g.set(D,!1),()=>g.delete(D))}),[n,g,i]);return l&&T&&(w={...w}),Q.useMemo(()=>{g.forEach((D,V)=>g.set(V,!1))},[n]),Q.useEffect(()=>{!n&&!g.size&&i&&i()},[n]),c==="popLayout"&&(t=_.jsx(uO,{isPresent:n,anchorX:f,root:m,children:t})),_.jsx(gd.Provider,{value:w,children:t})};function hO(){return new Map}function YS(t=!0){const e=Q.useContext(gd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=Q.useId();Q.useEffect(()=>{if(t)return a(l)},[t]);const c=Q.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,c]:[!0]}const _f=t=>t.key||"";function r1(t){const e=[];return Q.Children.forEach(t,n=>{Q.isValidElement(n)&&e.push(n)}),e}const fi=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:f="left",root:m})=>{const[g,y]=YS(c),T=Q.useMemo(()=>r1(t),[t]),w=c&&!g?[]:T.map(_f),D=Q.useRef(!0),V=Q.useRef(T),N=Dy(()=>new Map),[P,z]=Q.useState(T),[K,F]=Q.useState(T);tS(()=>{D.current=!1,V.current=T;for(let G=0;G<K.length;G++){const x=_f(K[G]);w.includes(x)?N.delete(x):N.get(x)!==!0&&N.set(x,!1)}},[K,w.length,w.join("-")]);const te=[];if(T!==P){let G=[...T];for(let x=0;x<K.length;x++){const A=K[x],R=_f(A);w.includes(R)||(G.splice(x,0,A),te.push(A))}return l==="wait"&&te.length&&(G=te),F(r1(G)),z(T),null}const{forceRender:B}=Q.useContext(Cy);return _.jsx(_.Fragment,{children:K.map(G=>{const x=_f(G),A=c&&!g?!1:T===K||w.includes(x),R=()=>{if(N.has(x))N.set(x,!0);else return;let k=!0;N.forEach(O=>{O||(k=!1)}),k&&(B?.(),F(V.current),c&&y?.(),i&&i())};return _.jsx(cO,{isPresent:A,initial:!D.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:A?void 0:R,anchorX:f,children:G},x)})})},WS=Q.createContext({strict:!1}),a1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wl={};for(const t in a1)wl[t]={isEnabled:e=>a1[t].some(n=>!!e[n])};function fO(t){for(const e in t)wl[e]={...wl[e],...t[e]}}const dO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Yf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||dO.has(t)}let KS=t=>!Yf(t);function mO(t){typeof t=="function"&&(KS=e=>e.startsWith("on")?!Yf(e):t(e))}try{mO(require("@emotion/is-prop-valid").default)}catch{}function pO(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(KS(a)||n===!0&&Yf(a)||!e&&!Yf(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const yd=Q.createContext({});function vd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function gc(t){return typeof t=="string"||Array.isArray(t)}const Zy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Jy=["initial",...Zy];function _d(t){return vd(t.animate)||Jy.some(e=>gc(t[e]))}function $S(t){return!!(_d(t)||t.variants)}function gO(t,e){if(_d(t)){const{initial:n,animate:i}=t;return{initial:n===!1||gc(n)?n:void 0,animate:gc(i)?i:void 0}}return t.inherit!==!1?e:{}}function yO(t){const{initial:e,animate:n}=gO(t,Q.useContext(yd));return Q.useMemo(()=>({initial:e,animate:n}),[o1(e),o1(n)])}function o1(t){return Array.isArray(t)?t.join(" "):t}const yc={};function vO(t){for(const e in t)yc[e]=t[e],jy(e)&&(yc[e].isCSSVariable=!0)}function QS(t,{layout:e,layoutId:n}){return kl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!yc[t]||t==="opacity")}const _O={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},TO=Ol.length;function bO(t,e,n){let i="",a=!0;for(let l=0;l<TO;l++){const c=Ol[l],f=t[c];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(c.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const g=BS(f,Ky[c]);if(!m){a=!1;const y=_O[c]||c;i+=`${y}(${g}) `}n&&(e[c]=g)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function ev(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let c=!1,f=!1;for(const m in e){const g=e[m];if(kl.has(m)){c=!0;continue}else if(jy(m)){a[m]=g;continue}else{const y=BS(g,Ky[m]);m.startsWith("origin")?(f=!0,l[m]=y):i[m]=y}}if(e.transform||(c||n?i.transform=bO(e,t.transform,n):i.transform&&(i.transform="none")),f){const{originX:m="50%",originY:g="50%",originZ:y=0}=l;i.transformOrigin=`${m} ${g} ${y}`}}const tv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function XS(t,e,n){for(const i in e)!wn(e[i])&&!QS(i,n)&&(t[i]=e[i])}function EO({transformTemplate:t},e){return Q.useMemo(()=>{const n=tv();return ev(n,e,t),Object.assign({},n.vars,n.style)},[e])}function wO(t,e){const n=t.style||{},i={};return XS(i,n,t),Object.assign(i,EO(t,e)),i}function SO(t,e){const n={},i=wO(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const AO={offset:"stroke-dashoffset",array:"stroke-dasharray"},xO={offset:"strokeDashoffset",array:"strokeDasharray"};function CO(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?AO:xO;t[l.offset]=De.transform(-i);const c=De.transform(e),f=De.transform(n);t[l.array]=`${c} ${f}`}function ZS(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...f},m,g,y){if(ev(t,f,g),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:T,style:w}=t;T.transform&&(w.transform=T.transform,delete T.transform),(w.transform||T.transformOrigin)&&(w.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),w.transform&&(w.transformBox=y?.transformBox??"fill-box",delete T.transformBox),e!==void 0&&(T.x=e),n!==void 0&&(T.y=n),i!==void 0&&(T.scale=i),a!==void 0&&CO(T,a,l,c,!1)}const JS=()=>({...tv(),attrs:{}}),eA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function DO(t,e,n,i){const a=Q.useMemo(()=>{const l=JS();return ZS(l,e,eA(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};XS(l,t.style,t),a.style={...l,...a.style}}return a}const MO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function nv(t){return typeof t!="string"||t.includes("-")?!1:!!(MO.indexOf(t)>-1||/[A-Z]/u.test(t))}function RO(t,e,n,{latestValues:i},a,l=!1){const f=(nv(t)?DO:SO)(e,i,a,t),m=pO(e,typeof t=="string",l),g=t!==Q.Fragment?{...m,...f,ref:n}:{},{children:y}=e,T=Q.useMemo(()=>wn(y)?y.get():y,[y]);return Q.createElement(t,{...g,children:T})}function l1(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function sv(t,e,n,i){if(typeof e=="function"){const[a,l]=l1(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=l1(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function Nf(t){return wn(t)?t.get():t}function NO({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:IO(n,i,a,t),renderState:e()}}function IO(t,e,n,i){const a={},l=i(t,{});for(const w in l)a[w]=Nf(l[w]);let{initial:c,animate:f}=t;const m=_d(t),g=$S(t);e&&g&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const T=y?f:c;if(T&&typeof T!="boolean"&&!vd(T)){const w=Array.isArray(T)?T:[T];for(let D=0;D<w.length;D++){const V=sv(t,w[D]);if(V){const{transitionEnd:N,transition:P,...z}=V;for(const K in z){let F=z[K];if(Array.isArray(F)){const te=y?F.length-1:0;F=F[te]}F!==null&&(a[K]=F)}for(const K in N)a[K]=N[K]}}}return a}const tA=t=>(e,n)=>{const i=Q.useContext(yd),a=Q.useContext(gd),l=()=>NO(t,e,i,a);return n?l():Dy(l)};function iv(t,e,n){const{style:i}=t,a={};for(const l in i)(wn(i[l])||e.style&&wn(e.style[l])||QS(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=i[l]);return a}const OO=tA({scrapeMotionValuesFromProps:iv,createRenderState:tv});function nA(t,e,n){const i=iv(t,e,n);for(const a in t)if(wn(t[a])||wn(e[a])){const l=Ol.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}const kO=tA({scrapeMotionValuesFromProps:nA,createRenderState:JS}),VO=Symbol.for("motionComponentSymbol");function cl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function PO(t,e,n){return Q.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):cl(n)&&(n.current=i))},[e])}const rv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),jO="framerAppearId",sA="data-"+rv(jO),iA=Q.createContext({});function LO(t,e,n,i,a){const{visualElement:l}=Q.useContext(yd),c=Q.useContext(WS),f=Q.useContext(gd),m=Q.useContext(Xy).reducedMotion,g=Q.useRef(null);i=i||c.renderer,!g.current&&i&&(g.current=i(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const y=g.current,T=Q.useContext(iA);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&UO(g.current,n,a,T);const w=Q.useRef(!1);Q.useInsertionEffect(()=>{y&&w.current&&y.update(n,f)});const D=n[sA],V=Q.useRef(!!D&&!window.MotionHandoffIsComplete?.(D)&&window.MotionHasOptimisedAnimation?.(D));return tS(()=>{y&&(w.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),V.current&&y.animationState&&y.animationState.animateChanges())}),Q.useEffect(()=>{y&&(!V.current&&y.animationState&&y.animationState.animateChanges(),V.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(D)}),V.current=!1),y.enteringChildren=void 0)}),y}function UO(t,e,n,i){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:g,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:rA(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&cl(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:m,layoutRoot:g})}function rA(t){if(t)return t.options.allowProjection!==!1?t.projection:rA(t.parent)}function Wp(t,{forwardMotionProps:e=!1}={},n,i){n&&fO(n);const a=nv(t)?kO:OO;function l(f,m){let g;const y={...Q.useContext(Xy),...f,layoutId:BO(f)},{isStatic:T}=y,w=yO(f),D=a(f,T);if(!T&&My){zO();const V=FO(y);g=V.MeasureLayout,w.visualElement=LO(t,D,y,i,V.ProjectionNode)}return _.jsxs(yd.Provider,{value:w,children:[g&&w.visualElement?_.jsx(g,{visualElement:w.visualElement,...y}):null,RO(t,f,PO(D,w.visualElement,m),D,T,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=Q.forwardRef(l);return c[VO]=t,c}function BO({layoutId:t}){const e=Q.useContext(Cy).id;return e&&t!==void 0?e+"-"+t:t}function zO(t,e){Q.useContext(WS).strict}function FO(t){const{drag:e,layout:n}=wl;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function HO(t,e){if(typeof Proxy>"u")return Wp;const n=new Map,i=(l,c)=>Wp(l,c,t,e),a=(l,c)=>i(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?i:(n.has(c)||n.set(c,Wp(c,void 0,t,e)),n.get(c))})}function aA({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function qO({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function GO(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Kp(t){return t===void 0||t===1}function Og({scale:t,scaleX:e,scaleY:n}){return!Kp(t)||!Kp(e)||!Kp(n)}function Ha(t){return Og(t)||oA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function oA(t){return u1(t.x)||u1(t.y)}function u1(t){return t&&t!=="0%"}function Wf(t,e,n){const i=t-n,a=e*i;return n+a}function c1(t,e,n,i,a){return a!==void 0&&(t=Wf(t,a,i)),Wf(t,n,i)+e}function kg(t,e=0,n=1,i,a){t.min=c1(t.min,e,n,i,a),t.max=c1(t.max,e,n,i,a)}function lA(t,{x:e,y:n}){kg(t.x,e.translate,e.scale,e.originPoint),kg(t.y,n.translate,n.scale,n.originPoint)}const h1=.999999999999,f1=1.0000000000001;function YO(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&fl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,lA(t,c)),i&&Ha(l.latestValues)&&fl(t,l.latestValues))}e.x<f1&&e.x>h1&&(e.x=1),e.y<f1&&e.y>h1&&(e.y=1)}function hl(t,e){t.min=t.min+e,t.max=t.max+e}function d1(t,e,n,i,a=.5){const l=xt(t.min,t.max,a);kg(t,e,n,l,i)}function fl(t,e){d1(t.x,e.x,e.scaleX,e.scale,e.originX),d1(t.y,e.y,e.scaleY,e.scale,e.originY)}function uA(t,e){return aA(GO(t.getBoundingClientRect(),e))}function WO(t,e,n){const i=uA(t,n),{scroll:a}=e;return a&&(hl(i.x,a.offset.x),hl(i.y,a.offset.y)),i}const m1=()=>({translate:0,scale:1,origin:0,originPoint:0}),dl=()=>({x:m1(),y:m1()}),p1=()=>({min:0,max:0}),en=()=>({x:p1(),y:p1()}),Vg={current:null},cA={current:!1};function KO(){if(cA.current=!0,!!My)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Vg.current=t.matches;t.addEventListener("change",e),e()}else Vg.current=!1}const $O=new WeakMap;function QO(t,e,n){for(const i in e){const a=e[i],l=n[i];if(wn(a))t.addValue(i,a);else if(wn(l))t.addValue(i,El(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(i);t.addValue(i,El(c!==void 0?c:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const g1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class XO{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Yy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Un.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Et.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=g,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=_d(n),this.isVariantNode=$S(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in T){const D=T[w];m[w]!==void 0&&wn(D)&&D.set(m[w])}}mount(e){this.current=e,$O.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),cA.current||KO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Vg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Jr(this.notifyUpdate),Jr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=kl.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Et.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in wl){const n=wl[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):en()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<g1.length;i++){const a=g1[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=QO(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=El(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(nS(i)||iS(i))?i=parseFloat(i):!rO(i)&&ea.test(n)&&(i=US(e,n)),this.setBaseTarget(e,wn(i)?i.get():i)),wn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=sv(this.props,n,this.presenceContext?.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!wn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ky),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){$y.render(this.render)}}class hA extends XO{constructor(){super(...arguments),this.KeyframeResolver=WI}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;wn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function fA(t,{style:e,vars:n},i,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,i);for(c in n)l.setProperty(c,n[c])}function ZO(t){return window.getComputedStyle(t)}class JO extends hA{constructor(){super(...arguments),this.type="html",this.renderInstance=fA}readValueFromInstance(e,n){if(kl.has(n))return this.projection?.isProjecting?xg(n):fI(e,n);{const i=ZO(e),a=(jy(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return uA(e,n)}build(e,n,i){ev(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return iv(e,n,i)}}const dA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ek(t,e,n,i){fA(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(dA.has(a)?a:rv(a),e.attrs[a])}class tk extends hA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=en}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(kl.has(n)){const i=LS(n);return i&&i.default||0}return n=dA.has(n)?n:rv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return nA(e,n,i)}build(e,n,i){ZS(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){ek(e,n,i,a)}mount(e){this.isSVGTag=eA(e.tagName),super.mount(e)}}const nk=(t,e)=>nv(t)?new tk(e):new JO(e,{allowProjection:t!==Q.Fragment});function pl(t,e,n){const i=t.getProps();return sv(i,e,n!==void 0?n:i.custom,t)}const Pg=t=>Array.isArray(t);function sk(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,El(n))}function ik(t){return Pg(t)?t[t.length-1]||0:t}function rk(t,e){const n=pl(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const c in l){const f=ik(l[c]);sk(t,c,f)}}function ak(t){return!!(wn(t)&&t.add)}function jg(t,e){const n=t.getValue("willChange");if(ak(n))return n.add(e);if(!n&&er.WillChange){const i=new er.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function mA(t){return t.props[sA]}const ok=t=>t!==null;function lk(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(ok),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const uk={type:"spring",stiffness:500,damping:25,restSpeed:10},ck=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),hk={type:"keyframes",duration:.8},fk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},dk=(t,{keyframes:e})=>e.length>2?hk:kl.has(t)?t.startsWith("scale")?ck(e[1]):uk:fk;function mk({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:m,elapsed:g,...y}){return!!Object.keys(y).length}const av=(t,e,n,i={},a,l)=>c=>{const f=Wy(i,t)||{},m=f.delay||i.delay||0;let{elapsed:g=0}=i;g=g-mi(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-g,onUpdate:w=>{e.set(w),f.onUpdate&&f.onUpdate(w)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};mk(f)||Object.assign(y,dk(t,y)),y.duration&&(y.duration=mi(y.duration)),y.repeatDelay&&(y.repeatDelay=mi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let T=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Ng(y),y.delay===0&&(T=!0)),(er.instantAnimations||er.skipAnimations)&&(T=!0,Ng(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,T&&!l&&e.get()!==void 0){const w=lk(y.keyframes,f);if(w!==void 0){Et.update(()=>{y.onUpdate(w),y.onComplete()});return}}return f.isSync?new Gy(y):new VI(y)};function pk({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function pA(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...f}=e;i&&(l=i);const m=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const y in f){const T=t.getValue(y,t.latestValues[y]??null),w=f[y];if(w===void 0||g&&pk(g,y))continue;const D={delay:n,...Wy(l||{},y)},V=T.get();if(V!==void 0&&!T.isAnimating&&!Array.isArray(w)&&w===V&&!D.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const z=mA(t);if(z){const K=window.MotionHandoffAnimation(z,y,Et);K!==null&&(D.startTime=K,N=!0)}}jg(t,y),T.start(av(y,T,w,t.shouldReduceMotion&&VS.has(y)?{type:!1}:D,t,N));const P=T.animation;P&&m.push(P)}return c&&Promise.all(m).then(()=>{Et.update(()=>{c&&rk(t,c)})}),m}function gA(t,e,n,i=0,a=1){const l=Array.from(t).sort((g,y)=>g.sortNodePosition(y)).indexOf(e),c=t.size,f=(c-1)*i;return typeof n=="function"?n(l,c):a===1?l*i:f-l*i}function Lg(t,e,n={}){const i=pl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(pA(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:T}=a;return gk(t,e,m,g,y,T,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,g]=f==="beforeChildren"?[l,c]:[c,l];return m().then(()=>g())}else return Promise.all([l(),c(n.delay)])}function gk(t,e,n=0,i=0,a=0,l=1,c){const f=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),f.push(Lg(m,e,{...c,delay:n+(typeof i=="function"?0:i)+gA(t.variantChildren,m,i,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(f)}function yk(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>Lg(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=Lg(t,e,n);else{const a=typeof e=="function"?pl(t,e,n.custom):e;i=Promise.all(pA(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function yA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const vk=Jy.length;function vA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?vA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<vk;n++){const i=Jy[n],a=t.props[i];(gc(a)||a===!1)&&(e[i]=a)}return e}const _k=[...Zy].reverse(),Tk=Zy.length;function bk(t){return e=>Promise.all(e.map(({animation:n,options:i})=>yk(t,n,i)))}function Ek(t){let e=bk(t),n=y1(),i=!0;const a=m=>(g,y)=>{const T=pl(t,y,m==="exit"?t.presenceContext?.custom:void 0);if(T){const{transition:w,transitionEnd:D,...V}=T;g={...g,...V,...D}}return g};function l(m){e=m(t)}function c(m){const{props:g}=t,y=vA(t.parent)||{},T=[],w=new Set;let D={},V=1/0;for(let P=0;P<Tk;P++){const z=_k[P],K=n[z],F=g[z]!==void 0?g[z]:y[z],te=gc(F),B=z===m?K.isActive:null;B===!1&&(V=P);let G=F===y[z]&&F!==g[z]&&te;if(G&&i&&t.manuallyAnimateOnMount&&(G=!1),K.protectedKeys={...D},!K.isActive&&B===null||!F&&!K.prevProp||vd(F)||typeof F=="boolean")continue;const x=wk(K.prevProp,F);let A=x||z===m&&K.isActive&&!G&&te||P>V&&te,R=!1;const k=Array.isArray(F)?F:[F];let O=k.reduce(a(z),{});B===!1&&(O={});const{prevResolvedValues:I={}}=K,M={...I,...O},pe=oe=>{A=!0,w.has(oe)&&(R=!0,w.delete(oe)),K.needsAnimating[oe]=!0;const he=t.getValue(oe);he&&(he.liveStyle=!1)};for(const oe in M){const he=O[oe],Te=I[oe];if(D.hasOwnProperty(oe))continue;let Ce=!1;Pg(he)&&Pg(Te)?Ce=!yA(he,Te):Ce=he!==Te,Ce?he!=null?pe(oe):w.add(oe):he!==void 0&&w.has(oe)?pe(oe):K.protectedKeys[oe]=!0}K.prevProp=F,K.prevResolvedValues=O,K.isActive&&(D={...D,...O}),i&&t.blockInitialAnimation&&(A=!1);const Be=G&&x;A&&(!Be||R)&&T.push(...k.map(oe=>{const he={type:z};if(typeof oe=="string"&&i&&!Be&&t.manuallyAnimateOnMount&&t.parent){const{parent:Te}=t,Ce=pl(Te,oe);if(Te.enteringChildren&&Ce){const{delayChildren:L}=Ce.transition||{};he.delay=gA(Te.enteringChildren,t,L)}}return{animation:oe,options:he}}))}if(w.size){const P={};if(typeof g.initial!="boolean"){const z=pl(t,Array.isArray(g.initial)?g.initial[0]:g.initial);z&&z.transition&&(P.transition=z.transition)}w.forEach(z=>{const K=t.getBaseTarget(z),F=t.getValue(z);F&&(F.liveStyle=!0),P[z]=K??null}),T.push({animation:P})}let N=!!T.length;return i&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(N=!1),i=!1,N?e(T):Promise.resolve()}function f(m,g){if(n[m].isActive===g)return Promise.resolve();t.variantChildren?.forEach(T=>T.animationState?.setActive(m,g)),n[m].isActive=g;const y=c(m);for(const T in n)n[T].protectedKeys={};return y}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=y1()}}}function wk(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!yA(e,t):!1}function za(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function y1(){return{animate:za(!0),whileInView:za(),whileHover:za(),whileTap:za(),whileDrag:za(),whileFocus:za(),exit:za()}}class la{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Sk extends la{constructor(e){super(e),e.animationState||(e.animationState=Ek(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();vd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Ak=0;class xk extends la{constructor(){super(...arguments),this.id=Ak++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Ck={animation:{Feature:Sk},exit:{Feature:xk}};function vc(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function kc(t){return{point:{x:t.pageX,y:t.pageY}}}const Dk=t=>e=>Qy(e)&&t(e,kc(e));function nc(t,e,n,i){return vc(t,e,Dk(n),i)}const _A=1e-4,Mk=1-_A,Rk=1+_A,TA=.01,Nk=0-TA,Ik=0+TA;function Dn(t){return t.max-t.min}function Ok(t,e,n){return Math.abs(t-e)<=n}function v1(t,e,n,i=.5){t.origin=i,t.originPoint=xt(e.min,e.max,t.origin),t.scale=Dn(n)/Dn(e),t.translate=xt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Mk&&t.scale<=Rk||isNaN(t.scale))&&(t.scale=1),(t.translate>=Nk&&t.translate<=Ik||isNaN(t.translate))&&(t.translate=0)}function sc(t,e,n,i){v1(t.x,e.x,n.x,i?i.originX:void 0),v1(t.y,e.y,n.y,i?i.originY:void 0)}function _1(t,e,n){t.min=n.min+e.min,t.max=t.min+Dn(e)}function kk(t,e,n){_1(t.x,e.x,n.x),_1(t.y,e.y,n.y)}function T1(t,e,n){t.min=e.min-n.min,t.max=t.min+Dn(e)}function Kf(t,e,n){T1(t.x,e.x,n.x),T1(t.y,e.y,n.y)}function gs(t){return[t("x"),t("y")]}const bA=({current:t})=>t?t.ownerDocument.defaultView:null,b1=(t,e)=>Math.abs(t-e);function Vk(t,e){const n=b1(t.x,e.x),i=b1(t.y,e.y);return Math.sqrt(n**2+i**2)}class EA{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Qp(this.lastMoveEventInfo,this.history),D=this.startEvent!==null,V=Vk(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!D&&!V)return;const{point:N}=w,{timestamp:P}=mn;this.history.push({...N,timestamp:P});const{onStart:z,onMove:K}=this.handlers;D||(z&&z(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),K&&K(this.lastMoveEvent,w)},this.handlePointerMove=(w,D)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=$p(D,this.transformPagePoint),Et.update(this.updatePoint,!0)},this.handlePointerUp=(w,D)=>{this.end();const{onEnd:V,onSessionEnd:N,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const z=Qp(w.type==="pointercancel"?this.lastMoveEventInfo:$p(D,this.transformPagePoint),this.history);this.startEvent&&V&&V(w,z),N&&N(w,z)},!Qy(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const f=kc(e),m=$p(f,this.transformPagePoint),{point:g}=m,{timestamp:y}=mn;this.history=[{...g,timestamp:y}];const{onSessionStart:T}=n;T&&T(e,Qp(m,this.history)),this.removeListeners=Nc(nc(this.contextWindow,"pointermove",this.handlePointerMove),nc(this.contextWindow,"pointerup",this.handlePointerUp),nc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Jr(this.updatePoint)}}function $p(t,e){return e?{point:e(t.point)}:t}function E1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Qp({point:t},e){return{point:t,delta:E1(t,wA(e)),offset:E1(t,Pk(e)),velocity:jk(e,.1)}}function Pk(t){return t[0]}function wA(t){return t[t.length-1]}function jk(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=wA(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>mi(e)));)n--;if(!i)return{x:0,y:0};const l=_s(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Lk(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?xt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?xt(n,t,i.max):Math.min(t,n)),t}function w1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Uk(t,{top:e,left:n,bottom:i,right:a}){return{x:w1(t.x,n,a),y:w1(t.y,e,i)}}function S1(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function Bk(t,e){return{x:S1(t.x,e.x),y:S1(t.y,e.y)}}function zk(t,e){let n=.5;const i=Dn(t),a=Dn(e);return a>i?n=dc(e.min,e.max-i,t.min):i>a&&(n=dc(t.min,t.max-a,e.min)),Ji(0,1,n)}function Fk(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ug=.35;function Hk(t=Ug){return t===!1?t=0:t===!0&&(t=Ug),{x:A1(t,"left","right"),y:A1(t,"top","bottom")}}function A1(t,e,n){return{min:x1(t,e),max:x1(t,n)}}function x1(t,e){return typeof t=="number"?t:t[e]||0}const qk=new WeakMap;class Gk{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=en(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=T=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(kc(T).point)},c=(T,w)=>{const{drag:D,dragPropagation:V,onDragStart:N}=this.getProps();if(D&&!V&&(this.openDragLock&&this.openDragLock(),this.openDragLock=XI(D),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),gs(z=>{let K=this.getAxisMotionValue(z).get()||0;if(pi.test(K)){const{projection:F}=this.visualElement;if(F&&F.layout){const te=F.layout.layoutBox[z];te&&(K=Dn(te)*(parseFloat(K)/100))}}this.originPoint[z]=K}),N&&Et.postRender(()=>N(T,w)),jg(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},f=(T,w)=>{this.latestPointerEvent=T,this.latestPanInfo=w;const{dragPropagation:D,dragDirectionLock:V,onDirectionLock:N,onDrag:P}=this.getProps();if(!D&&!this.openDragLock)return;const{offset:z}=w;if(V&&this.currentDirection===null){this.currentDirection=Yk(z),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",w.point,z),this.updateAxis("y",w.point,z),this.visualElement.render(),P&&P(T,w)},m=(T,w)=>{this.latestPointerEvent=T,this.latestPanInfo=w,this.stop(T,w),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>gs(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new EA(e,{onSessionStart:l,onStart:c,onMove:f,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:bA(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&Et.postRender(()=>f(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!Tf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=Lk(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&cl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Uk(i.layoutBox,e):this.constraints=!1,this.elastic=Hk(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&gs(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Fk(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!cl(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=WO(i,a.root,this.visualElement.getTransformPagePoint());let c=Bk(a.layout.layoutBox,l);if(n){const f=n(qO(c));this.hasMutatedConstraints=!!f,f&&(c=aA(f))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},g=gs(y=>{if(!Tf(y,n,this.currentDirection))return;let T=m&&m[y]||{};c&&(T={min:0,max:0});const w=a?200:1e6,D=a?40:1e7,V={type:"inertia",velocity:i?e[y]:0,bounceStiffness:w,bounceDamping:D,timeConstant:750,restDelta:1,restSpeed:10,...l,...T};return this.startAxisValueAnimation(y,V)});return Promise.all(g).then(f)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return jg(this.visualElement,e),i.start(av(e,i,0,n,this.visualElement,!1))}stopAnimation(){gs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){gs(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){gs(n=>{const{drag:i}=this.getProps();if(!Tf(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n];l.set(e[n]-xt(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!cl(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};gs(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();a[c]=zk({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),gs(c=>{if(!Tf(c,e,null))return;const f=this.getAxisMotionValue(c),{min:m,max:g}=this.constraints[c];f.set(xt(m,g,a[c]))})}addListeners(){if(!this.visualElement.current)return;qk.set(this.visualElement,this);const e=this.visualElement.current,n=nc(e,"pointerdown",m=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(m)}),i=()=>{const{dragConstraints:m}=this.getProps();cl(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Et.read(i);const c=vc(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(gs(y=>{const T=this.getAxisMotionValue(y);T&&(this.originPoint[y]+=m[y].translate,T.set(T.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Ug,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function Tf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Yk(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Wk extends la{constructor(e){super(e),this.removeGroupControls=Ts,this.removeListeners=Ts,this.controls=new Gk(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ts}unmount(){this.removeGroupControls(),this.removeListeners()}}const C1=t=>(e,n)=>{t&&Et.postRender(()=>t(e,n))};class Kk extends la{constructor(){super(...arguments),this.removePointerDownListener=Ts}onPointerDown(e){this.session=new EA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:C1(e),onStart:C1(n),onMove:i,onEnd:(l,c)=>{delete this.session,a&&Et.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=nc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const If={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function D1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Yu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(De.test(t))t=parseFloat(t);else return t;const n=D1(t,e.target.x),i=D1(t,e.target.y);return`${n}% ${i}%`}},$k={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=ea.parse(t);if(a.length>5)return i;const l=ea.createTransformer(t),c=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=f,a[1+c]/=m;const g=xt(f,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g),l(a)}};let Xp=!1;class Qk extends Q.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;vO(Xk),l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),Xp&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),If.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,Xp=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Et.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),$y.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;Xp=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function SA(t){const[e,n]=YS(),i=Q.useContext(Cy);return _.jsx(Qk,{...t,layoutGroup:i,switchLayoutGroup:Q.useContext(iA),isPresent:e,safeToRemove:n})}const Xk={borderRadius:{...Yu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Yu,borderTopRightRadius:Yu,borderBottomLeftRadius:Yu,borderBottomRightRadius:Yu,boxShadow:$k};function Zk(t,e,n){const i=wn(t)?t:El(t);return i.start(av("",i,e,n)),i.animation}const Jk=(t,e)=>t.depth-e.depth;class eV{constructor(){this.children=[],this.isDirty=!1}add(e){Ry(this.children,e),this.isDirty=!0}remove(e){Ny(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Jk),this.isDirty=!1,this.children.forEach(e)}}function tV(t,e){const n=Un.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(Jr(i),t(l-e))};return Et.setup(i,!0),()=>Jr(i)}const AA=["TopLeft","TopRight","BottomLeft","BottomRight"],nV=AA.length,M1=t=>typeof t=="string"?parseFloat(t):t,R1=t=>typeof t=="number"||De.test(t);function sV(t,e,n,i,a,l){a?(t.opacity=xt(0,n.opacity??1,iV(i)),t.opacityExit=xt(e.opacity??1,0,rV(i))):l&&(t.opacity=xt(e.opacity??1,n.opacity??1,i));for(let c=0;c<nV;c++){const f=`border${AA[c]}Radius`;let m=N1(e,f),g=N1(n,f);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||R1(m)===R1(g)?(t[f]=Math.max(xt(M1(m),M1(g),i),0),(pi.test(g)||pi.test(m))&&(t[f]+="%")):t[f]=g}(e.rotate||n.rotate)&&(t.rotate=xt(e.rotate||0,n.rotate||0,i))}function N1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const iV=xA(0,.5,fS),rV=xA(.5,.95,Ts);function xA(t,e,n){return i=>i<t?0:i>e?1:n(dc(t,e,i))}function I1(t,e){t.min=e.min,t.max=e.max}function ks(t,e){I1(t.x,e.x),I1(t.y,e.y)}function O1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function k1(t,e,n,i,a){return t-=e,t=Wf(t,1/n,i),a!==void 0&&(t=Wf(t,1/a,i)),t}function aV(t,e=0,n=1,i=.5,a,l=t,c=t){if(pi.test(e)&&(e=parseFloat(e),e=xt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=xt(l.min,l.max,i);t===l&&(f-=e),t.min=k1(t.min,e,n,f,a),t.max=k1(t.max,e,n,f,a)}function V1(t,e,[n,i,a],l,c){aV(t,e[n],e[i],e[a],e.scale,l,c)}const oV=["x","scaleX","originX"],lV=["y","scaleY","originY"];function P1(t,e,n,i){V1(t.x,e,oV,n?n.x:void 0,i?i.x:void 0),V1(t.y,e,lV,n?n.y:void 0,i?i.y:void 0)}function j1(t){return t.translate===0&&t.scale===1}function CA(t){return j1(t.x)&&j1(t.y)}function L1(t,e){return t.min===e.min&&t.max===e.max}function uV(t,e){return L1(t.x,e.x)&&L1(t.y,e.y)}function U1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function DA(t,e){return U1(t.x,e.x)&&U1(t.y,e.y)}function B1(t){return Dn(t.x)/Dn(t.y)}function z1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class cV{constructor(){this.members=[]}add(e){Ry(this.members,e),e.scheduleRender()}remove(e){if(Ny(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function hV(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(i=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:g,rotate:y,rotateX:T,rotateY:w,skewX:D,skewY:V}=n;g&&(i=`perspective(${g}px) ${i}`),y&&(i+=`rotate(${y}deg) `),T&&(i+=`rotateX(${T}deg) `),w&&(i+=`rotateY(${w}deg) `),D&&(i+=`skewX(${D}deg) `),V&&(i+=`skewY(${V}deg) `)}const f=t.x.scale*e.x,m=t.y.scale*e.y;return(f!==1||m!==1)&&(i+=`scale(${f}, ${m})`),i||"none"}const Zp=["","X","Y","Z"],fV=1e3;let dV=0;function Jp(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function MA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=mA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Et,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&MA(i)}function RA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},f=e?.()){this.id=dV++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(gV),this.nodes.forEach(TV),this.nodes.forEach(bV),this.nodes.forEach(yV)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new eV)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new ky),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=GS(c)&&!sO(c),this.instance=c;const{layoutId:f,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),t){let y,T=0;const w=()=>this.root.updateBlockedByResize=!1;Et.read(()=>{T=window.innerWidth}),t(c,()=>{const D=window.innerWidth;D!==T&&(T=D,this.root.updateBlockedByResize=!0,y&&y(),y=tV(w,250),If.hasAnimatedSinceResize&&(If.hasAnimatedSinceResize=!1,this.nodes.forEach(q1)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:T,hasRelativeLayoutChanged:w,layout:D})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const V=this.options.transition||g.getDefaultTransition()||xV,{onLayoutAnimationStart:N,onLayoutAnimationComplete:P}=g.getProps(),z=!this.targetLayout||!DA(this.targetLayout,D),K=!T&&w;if(this.options.layoutRoot||this.resumeFrom||K||T&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...Wy(V,"layout"),onPlay:N,onComplete:P};(g.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(y,K)}else T||q1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=D})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Jr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(EV),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&MA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const T=this.path[y];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(F1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(H1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(_V),this.nodes.forEach(mV),this.nodes.forEach(pV)):this.nodes.forEach(H1),this.clearAllSnapshots();const f=Un.now();mn.delta=Ji(0,1e3/60,f-mn.timestamp),mn.timestamp=f,mn.isProcessing=!0,zp.update.process(mn),zp.preRender.process(mn),zp.render.process(mn),mn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$y.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(vV),this.sharedNodes.forEach(wV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Dn(this.snapshot.measuredBox.x)&&!Dn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=en(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const m=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!CA(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&this.instance&&(f||Ha(this.latestValues)||y)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),CV(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return en();const f=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(DV))){const{scroll:g}=this.root;g&&(hl(f.x,g.offset.x),hl(f.y,g.offset.y))}return f}removeElementScroll(c){const f=en();if(ks(f,c),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:T}=g;g!==this.root&&y&&T.layoutScroll&&(y.wasRoot&&ks(f,c),hl(f.x,y.offset.x),hl(f.y,y.offset.y))}return f}applyTransform(c,f=!1){const m=en();ks(m,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&fl(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Ha(y.latestValues)&&fl(m,y.latestValues)}return Ha(this.latestValues)&&fl(m,this.latestValues),m}removeTransform(c){const f=en();ks(f,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!Ha(g.latestValues))continue;Og(g.latestValues)&&g.updateSnapshot();const y=en(),T=g.measurePageBox();ks(y,T),P1(f,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return Ha(this.latestValues)&&P1(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:T}=this.options;if(!this.layout||!(y||T))return;this.resolvedRelativeTargetAt=mn.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=en(),this.targetWithTransforms=en()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ks(this.target,this.layout.layoutBox),lA(this.target,this.targetDelta)):ks(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Og(this.parent.latestValues)||oA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,f,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=en(),this.relativeTargetOrigin=en(),Kf(this.relativeTargetOrigin,f,m),ks(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===mn.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;ks(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,w=this.treeScale.y;YO(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=en());const{target:D}=c;if(!D){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(O1(this.prevProjectionDelta.x,this.projectionDelta.x),O1(this.prevProjectionDelta.y,this.projectionDelta.y)),sc(this.projectionDelta,this.layoutCorrected,D,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==w||!z1(this.projectionDelta.x,this.prevProjectionDelta.x)||!z1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",D))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=dl(),this.projectionDelta=dl(),this.projectionDeltaWithTransform=dl()}setAnimationOrigin(c,f=!1){const m=this.snapshot,g=m?m.latestValues:{},y={...this.latestValues},T=dl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const w=en(),D=m?m.source:void 0,V=this.layout?this.layout.source:void 0,N=D!==V,P=this.getStack(),z=!P||P.members.length<=1,K=!!(N&&!z&&this.options.crossfade===!0&&!this.path.some(AV));this.animationProgress=0;let F;this.mixTargetDelta=te=>{const B=te/1e3;G1(T.x,c.x,B),G1(T.y,c.y,B),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Kf(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),SV(this.relativeTarget,this.relativeTargetOrigin,w,B),F&&uV(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=en()),ks(F,this.relativeTarget)),N&&(this.animationValues=y,sV(y,g,this.latestValues,B,K,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Jr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Et.update(()=>{If.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=El(0)),this.currentAnimation=Zk(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(fV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:g,latestValues:y}=c;if(!(!f||!m||!g)){if(this!==c&&this.layout&&g&&NA(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||en();const T=Dn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+T;const w=Dn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+w}ks(f,m),fl(f,y),sc(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new cV),this.sharedNodes.get(c).add(f);const g=f.options.initialPromotionConfig;f.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const g={};m.z&&Jp("z",c,g,this.animationValues);for(let y=0;y<Zp.length;y++)Jp(`rotate${Zp[y]}`,c,g,this.animationValues),Jp(`skew${Zp[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Nf(f?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Nf(f?.pointerEvents)||""),this.hasProjected&&!Ha(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let T=hV(this.projectionDeltaWithTransform,this.treeScale,y);m&&(T=m(y,T)),c.transform=T;const{x:w,y:D}=this.projectionDelta;c.transformOrigin=`${w.origin*100}% ${D.origin*100}% 0`,g.animationValues?c.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const V in yc){if(y[V]===void 0)continue;const{correct:N,applyTo:P,isCSSVariable:z}=yc[V],K=T==="none"?y[V]:N(y[V],g);if(P){const F=P.length;for(let te=0;te<F;te++)c[P[te]]=K}else z?this.options.visualElement.renderState.vars[V]=K:c[V]=K}this.options.layoutId&&(c.pointerEvents=g===this?Nf(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(F1),this.root.sharedNodes.clear()}}}function mV(t){t.updateLayout()}function pV(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?gs(y=>{const T=l?e.measuredBox[y]:e.layoutBox[y],w=Dn(T);T.min=n[y].min,T.max=T.min+w}):NA(a,e.layoutBox,n)&&gs(y=>{const T=l?e.measuredBox[y]:e.layoutBox[y],w=Dn(n[y]);T.max=T.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+w)});const c=dl();sc(c,n,e.layoutBox);const f=dl();l?sc(f,t.applyTransform(i,!0),e.measuredBox):sc(f,n,e.layoutBox);const m=!CA(c);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:T,layout:w}=y;if(T&&w){const D=en();Kf(D,e.layoutBox,T.layoutBox);const V=en();Kf(V,n,w.layoutBox),DA(D,V)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=V,t.relativeTargetOrigin=D,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function gV(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function yV(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function vV(t){t.clearSnapshot()}function F1(t){t.clearMeasurements()}function H1(t){t.isLayoutDirty=!1}function _V(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function q1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function TV(t){t.resolveTargetDelta()}function bV(t){t.calcProjection()}function EV(t){t.resetSkewAndRotation()}function wV(t){t.removeLeadSnapshot()}function G1(t,e,n){t.translate=xt(e.translate,0,n),t.scale=xt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Y1(t,e,n,i){t.min=xt(e.min,n.min,i),t.max=xt(e.max,n.max,i)}function SV(t,e,n,i){Y1(t.x,e.x,n.x,i),Y1(t.y,e.y,n.y,i)}function AV(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const xV={duration:.45,ease:[.4,0,.1,1]},W1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),K1=W1("applewebkit/")&&!W1("chrome/")?Math.round:Ts;function $1(t){t.min=K1(t.min),t.max=K1(t.max)}function CV(t){$1(t.x),$1(t.y)}function NA(t,e,n){return t==="position"||t==="preserve-aspect"&&!Ok(B1(e),B1(n),.2)}function DV(t){return t!==t.root&&t.scroll?.wasRoot}const MV=RA({attachResizeListener:(t,e)=>vc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),eg={current:void 0},IA=RA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!eg.current){const t=new MV({});t.mount(window),t.setOptions({layoutScroll:!0}),eg.current=t}return eg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),RV={pan:{Feature:Kk},drag:{Feature:Wk,ProjectionNode:IA,MeasureLayout:SA}};function Q1(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&Et.postRender(()=>l(e,kc(e)))}class NV extends la{mount(){const{current:e}=this.node;e&&(this.unmount=ZI(e,(n,i)=>(Q1(this.node,i,"Start"),a=>Q1(this.node,a,"End"))))}unmount(){}}class IV extends la{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Nc(vc(this.node.current,"focus",()=>this.onFocus()),vc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function X1(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&Et.postRender(()=>l(e,kc(e)))}class OV extends la{mount(){const{current:e}=this.node;e&&(this.unmount=nO(e,(n,i)=>(X1(this.node,i,"Start"),(a,{success:l})=>X1(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Bg=new WeakMap,tg=new WeakMap,kV=t=>{const e=Bg.get(t.target);e&&e(t)},VV=t=>{t.forEach(kV)};function PV({root:t,...e}){const n=t||document;tg.has(n)||tg.set(n,{});const i=tg.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(VV,{root:t,...e})),i[a]}function jV(t,e,n){const i=PV(e);return Bg.set(t,n),i.observe(t),()=>{Bg.delete(t),i.unobserve(t)}}const LV={some:0,all:1};class UV extends la{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:LV[a]},f=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:T}=this.node.getProps(),w=g?y:T;w&&w(m)};return jV(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(BV(e,n))&&this.startObserver()}unmount(){}}function BV({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const zV={inView:{Feature:UV},tap:{Feature:OV},focus:{Feature:IV},hover:{Feature:NV}},FV={layout:{ProjectionNode:IA,MeasureLayout:SA}},HV={...Ck,...zV,...RV,...FV},to=HO(HV,nk);const qV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),GV=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),Z1=t=>{const e=GV(t);return e.charAt(0).toUpperCase()+e.slice(1)},OA=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),YV=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var WV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const KV=Q.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...f},m)=>Q.createElement("svg",{ref:m,...WV,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:OA("lucide",a),...!l&&!YV(f)&&{"aria-hidden":"true"},...f},[...c.map(([g,y])=>Q.createElement(g,y)),...Array.isArray(l)?l:[l]]));const dt=(t,e)=>{const n=Q.forwardRef(({className:i,...a},l)=>Q.createElement(KV,{ref:l,iconNode:e,className:OA(`lucide-${qV(Z1(t))}`,`lucide-${t}`,i),...a}));return n.displayName=Z1(t),n};const $V=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],kA=dt("archive",$V);const QV=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],VA=dt("bell",QV);const XV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Vc=dt("calendar",XV);const ZV=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],_c=dt("check",ZV);const JV=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],zg=dt("chevron-left",JV);const e4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Fg=dt("chevron-right",e4);const t4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Hg=dt("circle-check-big",t4);const n4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],s4=dt("circle",n4);const i4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],PA=dt("clock",i4);const r4=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],a4=dt("download",r4);const o4=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],l4=dt("flag",o4);const u4=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],c4=dt("flame",u4);const h4=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],f4=dt("layers",h4);const d4=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],m4=dt("layout-grid",d4);const p4=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],ov=dt("link",p4);const g4=[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],y4=dt("list-todo",g4);const v4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],_4=dt("log-out",v4);const T4=[["path",{d:"M5 12h14",key:"1ays0h"}]],b4=dt("minus",T4);const E4=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],qg=dt("pencil",E4);const w4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Gg=dt("plus",w4);const S4=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],bf=dt("refresh-cw",S4);const A4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],x4=dt("search",A4);const C4=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],D4=dt("sparkles",C4);const M4=[["path",{d:"M10 2h4",key:"n1abiw"}],["path",{d:"M12 14v-4",key:"1evpnu"}],["path",{d:"M4 13a8 8 0 0 1 8-7 8 8 0 1 1-5.3 14L4 17.6",key:"1ts96g"}],["path",{d:"M9 17H4v5",key:"8t5av"}]],R4=dt("timer-reset",M4);const N4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Tc=dt("trash-2",N4);const I4=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],O4=dt("upload",I4);const k4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],jA=dt("user",k4);const V4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],P4=dt("x",V4),j4=()=>{};var J1={};const LA=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},L4=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},UA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,f=c?t[a+1]:0,m=a+2<t.length,g=m?t[a+2]:0,y=l>>2,T=(l&3)<<4|f>>4;let w=(f&15)<<2|g>>6,D=g&63;m||(D=64,c||(w=64)),i.push(n[y],n[T],n[w],n[D])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(LA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):L4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const T=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||g==null||T==null)throw new U4;const w=l<<2|f>>4;if(i.push(w),g!==64){const D=f<<4&240|g>>2;if(i.push(D),T!==64){const V=g<<6&192|T;i.push(V)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class U4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const B4=function(t){const e=LA(t);return UA.encodeByteArray(e,!0)},$f=function(t){return B4(t).replace(/\./g,"")},BA=function(t){try{return UA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function z4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const F4=()=>z4().__FIREBASE_DEFAULTS__,H4=()=>{if(typeof process>"u"||typeof J1>"u")return;const t=J1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},q4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&BA(t[1]);return e&&JSON.parse(e)},Td=()=>{try{return j4()||F4()||H4()||q4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zA=t=>Td()?.emulatorHosts?.[t],G4=t=>{const e=zA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},FA=()=>Td()?.config,HA=t=>Td()?.[`_${t}`];class Y4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function Vl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qA(t){return(await fetch(t,{credentials:"include"})).ok}function W4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[$f(JSON.stringify(n)),$f(JSON.stringify(c)),""].join(".")}const ic={};function K4(){const t={prod:[],emulator:[]};for(const e of Object.keys(ic))ic[e]?t.emulator.push(e):t.prod.push(e);return t}function $4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let eE=!1;function GA(t,e){if(typeof window>"u"||typeof document>"u"||!Vl(window.location.host)||ic[t]===e||ic[t]||eE)return;ic[t]=e;function n(w){return`__firebase__banner__${w}`}const i="__firebase__banner",l=K4().prod.length>0;function c(){const w=document.getElementById(i);w&&w.remove()}function f(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,D){w.setAttribute("width","24"),w.setAttribute("id",D),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{eE=!0,c()},w}function y(w,D){w.setAttribute("id",D),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=$4(i),D=n("text"),V=document.getElementById(D)||document.createElement("span"),N=n("learnmore"),P=document.getElementById(N)||document.createElement("a"),z=n("preprendIcon"),K=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const F=w.element;f(F),y(P,N);const te=g();m(K,z),F.append(K,V,P,te),document.body.appendChild(F)}l?(V.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function Sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function X4(){const t=Td()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Z4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function J4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function eP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tP(){const t=Sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function nP(){return!X4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sP(){try{return typeof indexedDB=="object"}catch{return!1}}function iP(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const rP="FirebaseError";class rr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=rP,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pc.prototype.create)}}class Pc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?aP(l,i):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new rr(a,f,i)}}function aP(t,e){return t.replace(oP,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const oP=/\{\$([^}]+)}/g;function lP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function no(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(tE(l)&&tE(c)){if(!no(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function tE(t){return t!==null&&typeof t=="object"}function jc(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function uP(t,e){const n=new cP(t,e);return n.subscribe.bind(n)}class cP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");hP(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=ng),a.error===void 0&&(a.error=ng),a.complete===void 0&&(a.complete=ng);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ng(){}function es(t){return t&&t._delegate?t._delegate:t}class so{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qa="[DEFAULT]";class fP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Y4;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mP(e))try{this.getOrInitializeService({instanceIdentifier:qa})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qa){return this.instances.has(e)}getOptions(e=qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:dP(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=qa){return this.component?this.component.multipleInstances?e:qa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dP(t){return t===qa?void 0:t}function mP(t){return t.instantiationMode==="EAGER"}class pP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const gP={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},yP=Ke.INFO,vP={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},_P=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=vP[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lv{constructor(e){this.name=e,this._logLevel=yP,this._logHandler=_P,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const TP=(t,e)=>e.some(n=>t instanceof n);let nE,sE;function bP(){return nE||(nE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EP(){return sE||(sE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YA=new WeakMap,Yg=new WeakMap,WA=new WeakMap,sg=new WeakMap,uv=new WeakMap;function wP(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n($r(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&YA.set(n,t)}).catch(()=>{}),uv.set(e,t),e}function SP(t){if(Yg.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Yg.set(t,e)}let Wg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Yg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||WA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $r(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AP(t){Wg=t(Wg)}function xP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(ig(this),e,...n);return WA.set(i,e.sort?e.sort():[e]),$r(i)}:EP().includes(t)?function(...e){return t.apply(ig(this),e),$r(YA.get(this))}:function(...e){return $r(t.apply(ig(this),e))}}function CP(t){return typeof t=="function"?xP(t):(t instanceof IDBTransaction&&SP(t),TP(t,bP())?new Proxy(t,Wg):t)}function $r(t){if(t instanceof IDBRequest)return wP(t);if(sg.has(t))return sg.get(t);const e=CP(t);return e!==t&&(sg.set(t,e),uv.set(e,t)),e}const ig=t=>uv.get(t);function DP(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),f=$r(c);return i&&c.addEventListener("upgradeneeded",m=>{i($r(c.result),m.oldVersion,m.newVersion,$r(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const MP=["get","getKey","getAll","getAllKeys","count"],RP=["put","add","delete","clear"],rg=new Map;function iE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rg.get(e))return rg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=RP.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||MP.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return i&&(g=g.index(f.shift())),(await Promise.all([g[n](...f),a&&m.done]))[0]};return rg.set(e,l),l}AP(t=>({...t,get:(e,n,i)=>iE(e,n)||t.get(e,n,i),has:(e,n)=>!!iE(e,n)||t.has(e,n)}));class NP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(IP(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function IP(t){return t.getComponent()?.type==="VERSION"}const Kg="@firebase/app",rE="0.14.6";const tr=new lv("@firebase/app"),OP="@firebase/app-compat",kP="@firebase/analytics-compat",VP="@firebase/analytics",PP="@firebase/app-check-compat",jP="@firebase/app-check",LP="@firebase/auth",UP="@firebase/auth-compat",BP="@firebase/database",zP="@firebase/data-connect",FP="@firebase/database-compat",HP="@firebase/functions",qP="@firebase/functions-compat",GP="@firebase/installations",YP="@firebase/installations-compat",WP="@firebase/messaging",KP="@firebase/messaging-compat",$P="@firebase/performance",QP="@firebase/performance-compat",XP="@firebase/remote-config",ZP="@firebase/remote-config-compat",JP="@firebase/storage",ej="@firebase/storage-compat",tj="@firebase/firestore",nj="@firebase/ai",sj="@firebase/firestore-compat",ij="firebase",rj="12.6.0";const $g="[DEFAULT]",aj={[Kg]:"fire-core",[OP]:"fire-core-compat",[VP]:"fire-analytics",[kP]:"fire-analytics-compat",[jP]:"fire-app-check",[PP]:"fire-app-check-compat",[LP]:"fire-auth",[UP]:"fire-auth-compat",[BP]:"fire-rtdb",[zP]:"fire-data-connect",[FP]:"fire-rtdb-compat",[HP]:"fire-fn",[qP]:"fire-fn-compat",[GP]:"fire-iid",[YP]:"fire-iid-compat",[WP]:"fire-fcm",[KP]:"fire-fcm-compat",[$P]:"fire-perf",[QP]:"fire-perf-compat",[XP]:"fire-rc",[ZP]:"fire-rc-compat",[JP]:"fire-gcs",[ej]:"fire-gcs-compat",[tj]:"fire-fst",[sj]:"fire-fst-compat",[nj]:"fire-vertex","fire-js":"fire-js",[ij]:"fire-js-all"};const Qf=new Map,oj=new Map,Qg=new Map;function aE(t,e){try{t.container.addComponent(e)}catch(n){tr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sl(t){const e=t.name;if(Qg.has(e))return tr.debug(`There were multiple attempts to register component ${e}.`),!1;Qg.set(e,t);for(const n of Qf.values())aE(n,t);for(const n of oj.values())aE(n,t);return!0}function cv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function js(t){return t==null?!1:t.settings!==void 0}const lj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qr=new Pc("app","Firebase",lj);class uj{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new so("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}}const Pl=rj;function KA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:$g,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Qr.create("bad-app-name",{appName:String(a)});if(n||(n=FA()),!n)throw Qr.create("no-options");const l=Qf.get(a);if(l){if(no(n,l.options)&&no(i,l.config))return l;throw Qr.create("duplicate-app",{appName:a})}const c=new pP(a);for(const m of Qg.values())c.addComponent(m);const f=new uj(n,i,c);return Qf.set(a,f),f}function $A(t=$g){const e=Qf.get(t);if(!e&&t===$g&&FA())return KA();if(!e)throw Qr.create("no-app",{appName:t});return e}function Xr(t,e,n){let i=aj[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),tr.warn(c.join(" "));return}Sl(new so(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const cj="firebase-heartbeat-database",hj=1,bc="firebase-heartbeat-store";let ag=null;function QA(){return ag||(ag=DP(cj,hj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qr.create("idb-open",{originalErrorMessage:t.message})})),ag}async function fj(t){try{const n=(await QA()).transaction(bc),i=await n.objectStore(bc).get(XA(t));return await n.done,i}catch(e){if(e instanceof rr)tr.warn(e.message);else{const n=Qr.create("idb-get",{originalErrorMessage:e?.message});tr.warn(n.message)}}}async function oE(t,e){try{const i=(await QA()).transaction(bc,"readwrite");await i.objectStore(bc).put(e,XA(t)),await i.done}catch(n){if(n instanceof rr)tr.warn(n.message);else{const i=Qr.create("idb-set",{originalErrorMessage:n?.message});tr.warn(i.message)}}}function XA(t){return`${t.name}!${t.options.appId}`}const dj=1024,mj=30;class pj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yj(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=lE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>mj){const a=vj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){tr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=lE(),{heartbeatsToSend:n,unsentEntries:i}=gj(this._heartbeatsCache.heartbeats),a=$f(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return tr.warn(e),""}}}function lE(){return new Date().toISOString().substring(0,10)}function gj(t,e=dj){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),uE(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),uE(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class yj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sP()?iP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return oE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return oE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function uE(t){return $f(JSON.stringify({version:2,heartbeats:t})).length}function vj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}function _j(t){Sl(new so("platform-logger",e=>new NP(e),"PRIVATE")),Sl(new so("heartbeat",e=>new pj(e),"PRIVATE")),Xr(Kg,rE,t),Xr(Kg,rE,"esm2020"),Xr("fire-js","")}_j("");var cE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Zr,ZA;(function(){var t;function e(x,A){function R(){}R.prototype=A.prototype,x.F=A.prototype,x.prototype=new R,x.prototype.constructor=x,x.D=function(k,O,I){for(var M=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)M[pe-2]=arguments[pe];return A.prototype[O].apply(k,M)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(x,A,R){R||(R=0);const k=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)k[O]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(O=0;O<16;++O)k[O]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=x.g[0],R=x.g[1],O=x.g[2];let I=x.g[3],M;M=A+(I^R&(O^I))+k[0]+3614090360&4294967295,A=R+(M<<7&4294967295|M>>>25),M=I+(O^A&(R^O))+k[1]+3905402710&4294967295,I=A+(M<<12&4294967295|M>>>20),M=O+(R^I&(A^R))+k[2]+606105819&4294967295,O=I+(M<<17&4294967295|M>>>15),M=R+(A^O&(I^A))+k[3]+3250441966&4294967295,R=O+(M<<22&4294967295|M>>>10),M=A+(I^R&(O^I))+k[4]+4118548399&4294967295,A=R+(M<<7&4294967295|M>>>25),M=I+(O^A&(R^O))+k[5]+1200080426&4294967295,I=A+(M<<12&4294967295|M>>>20),M=O+(R^I&(A^R))+k[6]+2821735955&4294967295,O=I+(M<<17&4294967295|M>>>15),M=R+(A^O&(I^A))+k[7]+4249261313&4294967295,R=O+(M<<22&4294967295|M>>>10),M=A+(I^R&(O^I))+k[8]+1770035416&4294967295,A=R+(M<<7&4294967295|M>>>25),M=I+(O^A&(R^O))+k[9]+2336552879&4294967295,I=A+(M<<12&4294967295|M>>>20),M=O+(R^I&(A^R))+k[10]+4294925233&4294967295,O=I+(M<<17&4294967295|M>>>15),M=R+(A^O&(I^A))+k[11]+2304563134&4294967295,R=O+(M<<22&4294967295|M>>>10),M=A+(I^R&(O^I))+k[12]+1804603682&4294967295,A=R+(M<<7&4294967295|M>>>25),M=I+(O^A&(R^O))+k[13]+4254626195&4294967295,I=A+(M<<12&4294967295|M>>>20),M=O+(R^I&(A^R))+k[14]+2792965006&4294967295,O=I+(M<<17&4294967295|M>>>15),M=R+(A^O&(I^A))+k[15]+1236535329&4294967295,R=O+(M<<22&4294967295|M>>>10),M=A+(O^I&(R^O))+k[1]+4129170786&4294967295,A=R+(M<<5&4294967295|M>>>27),M=I+(R^O&(A^R))+k[6]+3225465664&4294967295,I=A+(M<<9&4294967295|M>>>23),M=O+(A^R&(I^A))+k[11]+643717713&4294967295,O=I+(M<<14&4294967295|M>>>18),M=R+(I^A&(O^I))+k[0]+3921069994&4294967295,R=O+(M<<20&4294967295|M>>>12),M=A+(O^I&(R^O))+k[5]+3593408605&4294967295,A=R+(M<<5&4294967295|M>>>27),M=I+(R^O&(A^R))+k[10]+38016083&4294967295,I=A+(M<<9&4294967295|M>>>23),M=O+(A^R&(I^A))+k[15]+3634488961&4294967295,O=I+(M<<14&4294967295|M>>>18),M=R+(I^A&(O^I))+k[4]+3889429448&4294967295,R=O+(M<<20&4294967295|M>>>12),M=A+(O^I&(R^O))+k[9]+568446438&4294967295,A=R+(M<<5&4294967295|M>>>27),M=I+(R^O&(A^R))+k[14]+3275163606&4294967295,I=A+(M<<9&4294967295|M>>>23),M=O+(A^R&(I^A))+k[3]+4107603335&4294967295,O=I+(M<<14&4294967295|M>>>18),M=R+(I^A&(O^I))+k[8]+1163531501&4294967295,R=O+(M<<20&4294967295|M>>>12),M=A+(O^I&(R^O))+k[13]+2850285829&4294967295,A=R+(M<<5&4294967295|M>>>27),M=I+(R^O&(A^R))+k[2]+4243563512&4294967295,I=A+(M<<9&4294967295|M>>>23),M=O+(A^R&(I^A))+k[7]+1735328473&4294967295,O=I+(M<<14&4294967295|M>>>18),M=R+(I^A&(O^I))+k[12]+2368359562&4294967295,R=O+(M<<20&4294967295|M>>>12),M=A+(R^O^I)+k[5]+4294588738&4294967295,A=R+(M<<4&4294967295|M>>>28),M=I+(A^R^O)+k[8]+2272392833&4294967295,I=A+(M<<11&4294967295|M>>>21),M=O+(I^A^R)+k[11]+1839030562&4294967295,O=I+(M<<16&4294967295|M>>>16),M=R+(O^I^A)+k[14]+4259657740&4294967295,R=O+(M<<23&4294967295|M>>>9),M=A+(R^O^I)+k[1]+2763975236&4294967295,A=R+(M<<4&4294967295|M>>>28),M=I+(A^R^O)+k[4]+1272893353&4294967295,I=A+(M<<11&4294967295|M>>>21),M=O+(I^A^R)+k[7]+4139469664&4294967295,O=I+(M<<16&4294967295|M>>>16),M=R+(O^I^A)+k[10]+3200236656&4294967295,R=O+(M<<23&4294967295|M>>>9),M=A+(R^O^I)+k[13]+681279174&4294967295,A=R+(M<<4&4294967295|M>>>28),M=I+(A^R^O)+k[0]+3936430074&4294967295,I=A+(M<<11&4294967295|M>>>21),M=O+(I^A^R)+k[3]+3572445317&4294967295,O=I+(M<<16&4294967295|M>>>16),M=R+(O^I^A)+k[6]+76029189&4294967295,R=O+(M<<23&4294967295|M>>>9),M=A+(R^O^I)+k[9]+3654602809&4294967295,A=R+(M<<4&4294967295|M>>>28),M=I+(A^R^O)+k[12]+3873151461&4294967295,I=A+(M<<11&4294967295|M>>>21),M=O+(I^A^R)+k[15]+530742520&4294967295,O=I+(M<<16&4294967295|M>>>16),M=R+(O^I^A)+k[2]+3299628645&4294967295,R=O+(M<<23&4294967295|M>>>9),M=A+(O^(R|~I))+k[0]+4096336452&4294967295,A=R+(M<<6&4294967295|M>>>26),M=I+(R^(A|~O))+k[7]+1126891415&4294967295,I=A+(M<<10&4294967295|M>>>22),M=O+(A^(I|~R))+k[14]+2878612391&4294967295,O=I+(M<<15&4294967295|M>>>17),M=R+(I^(O|~A))+k[5]+4237533241&4294967295,R=O+(M<<21&4294967295|M>>>11),M=A+(O^(R|~I))+k[12]+1700485571&4294967295,A=R+(M<<6&4294967295|M>>>26),M=I+(R^(A|~O))+k[3]+2399980690&4294967295,I=A+(M<<10&4294967295|M>>>22),M=O+(A^(I|~R))+k[10]+4293915773&4294967295,O=I+(M<<15&4294967295|M>>>17),M=R+(I^(O|~A))+k[1]+2240044497&4294967295,R=O+(M<<21&4294967295|M>>>11),M=A+(O^(R|~I))+k[8]+1873313359&4294967295,A=R+(M<<6&4294967295|M>>>26),M=I+(R^(A|~O))+k[15]+4264355552&4294967295,I=A+(M<<10&4294967295|M>>>22),M=O+(A^(I|~R))+k[6]+2734768916&4294967295,O=I+(M<<15&4294967295|M>>>17),M=R+(I^(O|~A))+k[13]+1309151649&4294967295,R=O+(M<<21&4294967295|M>>>11),M=A+(O^(R|~I))+k[4]+4149444226&4294967295,A=R+(M<<6&4294967295|M>>>26),M=I+(R^(A|~O))+k[11]+3174756917&4294967295,I=A+(M<<10&4294967295|M>>>22),M=O+(A^(I|~R))+k[2]+718787259&4294967295,O=I+(M<<15&4294967295|M>>>17),M=R+(I^(O|~A))+k[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(O+(M<<21&4294967295|M>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+I&4294967295}i.prototype.v=function(x,A){A===void 0&&(A=x.length);const R=A-this.blockSize,k=this.C;let O=this.h,I=0;for(;I<A;){if(O==0)for(;I<=R;)a(this,x,I),I+=this.blockSize;if(typeof x=="string"){for(;I<A;)if(k[O++]=x.charCodeAt(I++),O==this.blockSize){a(this,k),O=0;break}}else for(;I<A;)if(k[O++]=x[I++],O==this.blockSize){a(this,k),O=0;break}}this.h=O,this.o+=A},i.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;A=this.o*8;for(var R=x.length-8;R<x.length;++R)x[R]=A&255,A/=256;for(this.v(x),x=Array(16),A=0,R=0;R<4;++R)for(let k=0;k<32;k+=8)x[A++]=this.g[R]>>>k&255;return x};function l(x,A){var R=f;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=A(x)}function c(x,A){this.h=A;const R=[];let k=!0;for(let O=x.length-1;O>=0;O--){const I=x[O]|0;k&&I==A||(R[O]=I,k=!1)}this.g=R}var f={};function m(x){return-128<=x&&x<128?l(x,function(A){return new c([A|0],A<0?-1:0)}):new c([x|0],x<0?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return T;if(x<0)return P(g(-x));const A=[];let R=1;for(let k=0;x>=R;k++)A[k]=x/R|0,R*=4294967296;return new c(A,0)}function y(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return P(y(x.substring(1),A));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(A,8));let k=T;for(let I=0;I<x.length;I+=8){var O=Math.min(8,x.length-I);const M=parseInt(x.substring(I,I+O),A);O<8?(O=g(Math.pow(A,O)),k=k.j(O).add(g(M))):(k=k.j(R),k=k.add(g(M)))}return k}var T=m(0),w=m(1),D=m(16777216);t=c.prototype,t.m=function(){if(N(this))return-P(this).m();let x=0,A=1;for(let R=0;R<this.g.length;R++){const k=this.i(R);x+=(k>=0?k:4294967296+k)*A,A*=4294967296}return x},t.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(V(this))return"0";if(N(this))return"-"+P(this).toString(x);const A=g(Math.pow(x,6));var R=this;let k="";for(;;){const O=te(R,A).g;R=z(R,O.j(A));let I=((R.g.length>0?R.g[0]:R.h)>>>0).toString(x);if(R=O,V(R))return I+k;for(;I.length<6;)I="0"+I;k=I+k}},t.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function V(x){if(x.h!=0)return!1;for(let A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function N(x){return x.h==-1}t.l=function(x){return x=z(this,x),N(x)?-1:V(x)?0:1};function P(x){const A=x.g.length,R=[];for(let k=0;k<A;k++)R[k]=~x.g[k];return new c(R,~x.h).add(w)}t.abs=function(){return N(this)?P(this):this},t.add=function(x){const A=Math.max(this.g.length,x.g.length),R=[];let k=0;for(let O=0;O<=A;O++){let I=k+(this.i(O)&65535)+(x.i(O)&65535),M=(I>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);k=M>>>16,I&=65535,M&=65535,R[O]=M<<16|I}return new c(R,R[R.length-1]&-2147483648?-1:0)};function z(x,A){return x.add(P(A))}t.j=function(x){if(V(this)||V(x))return T;if(N(this))return N(x)?P(this).j(P(x)):P(P(this).j(x));if(N(x))return P(this.j(P(x)));if(this.l(D)<0&&x.l(D)<0)return g(this.m()*x.m());const A=this.g.length+x.g.length,R=[];for(var k=0;k<2*A;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(let O=0;O<x.g.length;O++){const I=this.i(k)>>>16,M=this.i(k)&65535,pe=x.i(O)>>>16,Be=x.i(O)&65535;R[2*k+2*O]+=M*Be,K(R,2*k+2*O),R[2*k+2*O+1]+=I*Be,K(R,2*k+2*O+1),R[2*k+2*O+1]+=M*pe,K(R,2*k+2*O+1),R[2*k+2*O+2]+=I*pe,K(R,2*k+2*O+2)}for(x=0;x<A;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=A;x<2*A;x++)R[x]=0;return new c(R,0)};function K(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function F(x,A){this.g=x,this.h=A}function te(x,A){if(V(A))throw Error("division by zero");if(V(x))return new F(T,T);if(N(x))return A=te(P(x),A),new F(P(A.g),P(A.h));if(N(A))return A=te(x,P(A)),new F(P(A.g),A.h);if(x.g.length>30){if(N(x)||N(A))throw Error("slowDivide_ only works with positive integers.");for(var R=w,k=A;k.l(x)<=0;)R=B(R),k=B(k);var O=G(R,1),I=G(k,1);for(k=G(k,2),R=G(R,2);!V(k);){var M=I.add(k);M.l(x)<=0&&(O=O.add(R),I=M),k=G(k,1),R=G(R,1)}return A=z(x,O.j(A)),new F(O,A)}for(O=T;x.l(A)>=0;){for(R=Math.max(1,Math.floor(x.m()/A.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),I=g(R),M=I.j(A);N(M)||M.l(x)>0;)R-=k,I=g(R),M=I.j(A);V(I)&&(I=w),O=O.add(I),x=z(x,M)}return new F(O,x)}t.B=function(x){return te(this,x).h},t.and=function(x){const A=Math.max(this.g.length,x.g.length),R=[];for(let k=0;k<A;k++)R[k]=this.i(k)&x.i(k);return new c(R,this.h&x.h)},t.or=function(x){const A=Math.max(this.g.length,x.g.length),R=[];for(let k=0;k<A;k++)R[k]=this.i(k)|x.i(k);return new c(R,this.h|x.h)},t.xor=function(x){const A=Math.max(this.g.length,x.g.length),R=[];for(let k=0;k<A;k++)R[k]=this.i(k)^x.i(k);return new c(R,this.h^x.h)};function B(x){const A=x.g.length+1,R=[];for(let k=0;k<A;k++)R[k]=x.i(k)<<1|x.i(k-1)>>>31;return new c(R,x.h)}function G(x,A){const R=A>>5;A%=32;const k=x.g.length-R,O=[];for(let I=0;I<k;I++)O[I]=A>0?x.i(I+R)>>>A|x.i(I+R+1)<<32-A:x.i(I+R);return new c(O,x.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,ZA=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,Zr=c}).apply(typeof cE<"u"?cE:typeof self<"u"?self:typeof window<"u"?window:{});var Ef=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var JA,$u,ex,Of,Xg,tx,nx,sx;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ef=="object"&&Ef];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=n(this);function a(h,v){if(v)e:{var E=i;h=h.split(".");for(var C=0;C<h.length-1;C++){var q=h[C];if(!(q in E))break e;E=E[q]}h=h[h.length-1],C=E[h],v=v(C),v!=C&&v!=null&&e(E,h,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(v){var E=[],C;for(C in v)Object.prototype.hasOwnProperty.call(v,C)&&E.push([C,v[C]]);return E}});var l=l||{},c=this||self;function f(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function m(h,v,E){return h.call.apply(h.bind,arguments)}function g(h,v,E){return g=m,g.apply(null,arguments)}function y(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var C=E.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function T(h,v){function E(){}E.prototype=v.prototype,h.Z=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(C,q,X){for(var le=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)le[Pe-2]=arguments[Pe];return v.prototype[q].apply(C,le)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function D(h){const v=h.length;if(v>0){const E=Array(v);for(let C=0;C<v;C++)E[C]=h[C];return E}return[]}function V(h,v){for(let C=1;C<arguments.length;C++){const q=arguments[C];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=h.length||0;const X=q.length||0;h.length=E+X;for(let le=0;le<X;le++)h[E+le]=q[le]}else h.push(q)}}class N{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function P(h){c.setTimeout(()=>{throw h},0)}function z(){var h=x;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class K{constructor(){this.h=this.g=null}add(v,E){const C=F.get();C.set(v,E),this.h?this.h.next=C:this.g=C,this.h=C}}var F=new N(()=>new te,h=>h.reset());class te{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let B,G=!1,x=new K,A=()=>{const h=Promise.resolve(void 0);B=()=>{h.then(R)}};function R(){for(var h;h=z();){try{h.h.call(h.g)}catch(E){P(E)}var v=F;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}G=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var I=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,v),c.removeEventListener("test",E,v)}catch{}return h})();function M(h){return/^[\s\xa0]*$/.test(h)}function pe(h,v){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}T(pe,O),pe.prototype.init=function(h,v){const E=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Be="closure_listenable_"+(Math.random()*1e6|0),J=0;function oe(h,v,E,C,q){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!C,this.ha=q,this.key=++J,this.da=this.fa=!1}function he(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Te(h,v,E){for(const C in h)v.call(E,h[C],C,h)}function Ce(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function L(h){const v={};for(const E in h)v[E]=h[E];return v}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(h,v){let E,C;for(let q=1;q<arguments.length;q++){C=arguments[q];for(E in C)h[E]=C[E];for(let X=0;X<se.length;X++)E=se[X],Object.prototype.hasOwnProperty.call(C,E)&&(h[E]=C[E])}}function ce(h){this.src=h,this.g={},this.h=0}ce.prototype.add=function(h,v,E,C,q){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const le=Oe(h,v,C,q);return le>-1?(v=h[le],E||(v.fa=!1)):(v=new oe(v,this.src,X,!!C,q),v.fa=E,h.push(v)),v};function Ee(h,v){const E=v.type;if(E in h.g){var C=h.g[E],q=Array.prototype.indexOf.call(C,v,void 0),X;(X=q>=0)&&Array.prototype.splice.call(C,q,1),X&&(he(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Oe(h,v,E,C){for(let q=0;q<h.length;++q){const X=h[q];if(!X.da&&X.listener==v&&X.capture==!!E&&X.ha==C)return q}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),It={};function mt(h,v,E,C,q){if(Array.isArray(v)){for(let X=0;X<v.length;X++)mt(h,v[X],E,C,q);return null}return E=ca(E),h&&h[Be]?h.J(v,E,f(C)?!!C.capture:!1,q):ns(h,v,E,!1,C,q)}function ns(h,v,E,C,q,X){if(!v)throw Error("Invalid event type");const le=f(q)?!!q.capture:!!q;let Pe=Ai(h);if(Pe||(h[ze]=Pe=new ce(h)),E=Pe.add(v,E,C,le,X),E.proxy)return E;if(C=ar(),E.proxy=C,C.src=h,C.listener=E,h.addEventListener)I||(q=le),q===void 0&&(q=!1),h.addEventListener(v.toString(),C,q);else if(h.attachEvent)h.attachEvent(ss(v.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ar(){function h(E){return v.call(h.src,h.listener,E)}const v=ur;return h}function or(h,v,E,C,q){if(Array.isArray(v))for(var X=0;X<v.length;X++)or(h,v[X],E,C,q);else C=f(C)?!!C.capture:!!C,E=ca(E),h&&h[Be]?(h=h.i,X=String(v).toString(),X in h.g&&(v=h.g[X],E=Oe(v,E,C,q),E>-1&&(he(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete h.g[X],h.h--)))):h&&(h=Ai(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Oe(v,E,C,q)),(E=h>-1?v[h]:null)&&lr(E))}function lr(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Be])Ee(v.i,h);else{var E=h.type,C=h.proxy;v.removeEventListener?v.removeEventListener(E,C,h.capture):v.detachEvent?v.detachEvent(ss(E),C):v.addListener&&v.removeListener&&v.removeListener(C),(E=Ai(v))?(Ee(E,h),E.h==0&&(E.src=null,v[ze]=null)):he(h)}}}function ss(h){return h in It?It[h]:It[h]="on"+h}function ur(h,v){if(h.da)h=!0;else{v=new pe(v,this);const E=h.listener,C=h.ha||h.src;h.fa&&lr(h),h=E.call(C,v)}return h}function Ai(h){return h=h[ze],h instanceof ce?h:null}var ua="__closure_events_fn_"+(Math.random()*1e9>>>0);function ca(h){return typeof h=="function"?h:(h[ua]||(h[ua]=function(v){return h.handleEvent(v)}),h[ua])}function Dt(){k.call(this),this.i=new ce(this),this.M=this,this.G=null}T(Dt,k),Dt.prototype[Be]=!0,Dt.prototype.removeEventListener=function(h,v,E,C){or(this,h,v,E,C)};function Ot(h,v){var E,C=h.G;if(C)for(E=[];C;C=C.G)E.push(C);if(h=h.M,C=v.type||v,typeof v=="string")v=new O(v,h);else if(v instanceof O)v.target=v.target||h;else{var q=v;v=new O(C,h),ue(v,q)}q=!0;let X,le;if(E)for(le=E.length-1;le>=0;le--)X=v.g=E[le],q=Hs(X,C,!0,v)&&q;if(X=v.g=h,q=Hs(X,C,!0,v)&&q,q=Hs(X,C,!1,v)&&q,E)for(le=0;le<E.length;le++)X=v.g=E[le],q=Hs(X,C,!1,v)&&q}Dt.prototype.N=function(){if(Dt.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const E=h.g[v];for(let C=0;C<E.length;C++)he(E[C]);delete h.g[v],h.h--}}this.G=null},Dt.prototype.J=function(h,v,E,C){return this.i.add(String(h),v,!1,E,C)},Dt.prototype.K=function(h,v,E,C){return this.i.add(String(h),v,!0,E,C)};function Hs(h,v,E,C){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let q=!0;for(let X=0;X<v.length;++X){const le=v[X];if(le&&!le.da&&le.capture==E){const Pe=le.listener,Vt=le.ha||le.src;le.fa&&Ee(h.i,le),q=Pe.call(Vt,C)!==!1&&q}}return q&&!C.defaultPrevented}function Fl(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function ha(h){h.g=Fl(()=>{h.g=null,h.i&&(h.i=!1,ha(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Xt extends k{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ha(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Es(h){k.call(this),this.h=h,this.g={}}T(Es,k);var fa=[];function da(h){Te(h.g,function(v,E){this.g.hasOwnProperty(E)&&lr(v)},h),h.g={}}Es.prototype.N=function(){Es.Z.N.call(this),da(this)},Es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qs=c.JSON.stringify,Hl=c.JSON.parse,fo=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function mo(){}function po(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Zt(){O.call(this,"d")}T(Zt,O);function Mn(){O.call(this,"c")}T(Mn,O);var wt={},ma=null;function cr(){return ma=ma||new Dt}wt.Ia="serverreachability";function Re(h){O.call(this,wt.Ia,h)}T(Re,O);function Le(h){const v=cr();Ot(v,new Re(v))}wt.STAT_EVENT="statevent";function Se(h,v){O.call(this,wt.STAT_EVENT,h),this.stat=v}T(Se,O);function Ae(h){const v=cr();Ot(v,new Se(v,h))}wt.Ja="timingevent";function kt(h,v){O.call(this,wt.Ja,h),this.size=v}T(kt,O);function Ne(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function ql(h,v,E,C,q,X){h.info(function(){if(h.g)if(X){var le="",Pe=X.split("&");for(let tt=0;tt<Pe.length;tt++){var Vt=Pe[tt].split("=");if(Vt.length>1){const Tt=Vt[0];Vt=Vt[1];const os=Tt.split("_");le=os.length>=2&&os[1]=="type"?le+(Tt+"="+Vt+"&"):le+(Tt+"=redacted&")}}}else le=null;else le=X;return"XMLHTTP REQ ("+C+") [attempt "+q+"]: "+v+`
`+E+`
`+le})}function go(h,v,E,C,q,X,le){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+q+"]: "+v+`
`+E+`
`+X+" "+le})}function Rn(h,v,E,C){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Bd(h,E)+(C?" "+C:"")})}function ws(h,v){h.info(function(){return"TIMEOUT: "+v})}zn.prototype.info=function(){};function Bd(h,v){if(!h.g)return v;if(!v)return null;try{const X=JSON.parse(v);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var E=X[h];if(!(E.length<2)){var C=E[1];if(Array.isArray(C)&&!(C.length<1)){var q=C[0];if(q!="noop"&&q!="stop"&&q!="close")for(let le=1;le<C.length;le++)C[le]=""}}}}return qs(X)}catch{return v}}var pa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Gl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Yl;function ga(){}T(ga,mo),ga.prototype.g=function(){return new XMLHttpRequest},Yl=new ga;function xi(h){return encodeURIComponent(String(h))}function Kc(h){var v=1;h=h.split(":");const E=[];for(;v>0&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function Ss(h,v,E,C){this.j=h,this.i=v,this.l=E,this.S=C||1,this.V=new Es(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new As}function As(){this.i=null,this.g="",this.h=!1}var zt={},sn={};function Gs(h,v,E){h.M=1,h.A=ya(Ht(v)),h.u=E,h.R=!0,yo(h,null)}function yo(h,v){h.F=Date.now(),Ys(h),h.B=Ht(h.A);var E=h.B,C=h.S;Array.isArray(C)||(C=[String(C)]),bo(E.i,"t",C),h.C=0,E=h.j.L,h.h=new As,h.g=uh(h.j,E?v:null,!h.u),h.P>0&&(h.O=new Xt(g(h.Y,h,h.g),h.P)),v=h.V,E=h.g,C=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(fa[0]=q.toString()),q=fa);for(let X=0;X<q.length;X++){const le=mt(E,q[X],C||v.handleEvent,!1,v.h||v);if(!le)break;v.g[le.key]=le}v=h.J?L(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),Le(),ql(h.i,h.v,h.B,h.l,h.S,h.u)}Ss.prototype.ba=function(h){h=h.target;const v=this.O;v&&Ds(h)==3?v.j():this.Y(h)},Ss.prototype.Y=function(h){try{if(h==this.g)e:{const Pe=Ds(this.g),Vt=this.g.ya(),tt=this.g.ca();if(!(Pe<3)&&(Pe!=3||this.g&&(this.h.h||this.g.la()||un(this.g)))){this.K||Pe!=4||Vt==7||(Vt==8||tt<=0?Le(3):Le(2)),Ws(this);var v=this.g.ca();this.X=v;var E=zd(this);if(this.o=v==200,go(this.i,this.v,this.B,this.l,this.S,Pe,v),this.o){if(this.U&&!this.L){t:{if(this.g){var C,q=this.g;if((C=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(C)){var X=C;break t}}X=null}if(h=X)Rn(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ks(this,h);else{this.o=!1,this.m=3,Ae(12),Fn(this),is(this);break e}}if(this.R){h=!0;let Tt;for(;!this.K&&this.C<E.length;)if(Tt=Qc(this,E),Tt==sn){Pe==4&&(this.m=4,Ae(14),h=!1),Rn(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==zt){this.m=4,Ae(15),Rn(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Rn(this.i,this.l,Tt,null),Ks(this,Tt);if($c(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||E.length!=0||this.h.h||(this.m=1,Ae(16),h=!1),this.o=this.o&&h,!h)Rn(this.i,this.l,E,"[Invalid Chunked Response]"),Fn(this),is(this);else if(E.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),ou(le),le.P=!0,Ae(11))}}else Rn(this.i,this.l,E,null),Ks(this,E);Pe==4&&Fn(this),this.o&&!this.K&&(Pe==4?rh(this.j,this):(this.o=!1,Ys(this)))}else Di(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),Fn(this),is(this)}}}catch{}finally{}};function zd(h){if(!$c(h))return h.g.la();const v=un(h.g);if(v==="")return"";let E="";const C=v.length,q=Ds(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Fn(h),is(h),"";h.h.i=new c.TextDecoder}for(let X=0;X<C;X++)h.h.h=!0,E+=h.h.i.decode(v[X],{stream:!(q&&X==C-1)});return v.length=0,h.h.g+=E,h.C=0,h.h.g}function $c(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Qc(h,v){var E=h.C,C=v.indexOf(`
`,E);return C==-1?sn:(E=Number(v.substring(E,C)),isNaN(E)?zt:(C+=1,C+E>v.length?sn:(v=v.slice(C,C+E),h.C=C+E,v)))}Ss.prototype.cancel=function(){this.K=!0,Fn(this)};function Ys(h){h.T=Date.now()+h.H,vo(h,h.H)}function vo(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ne(g(h.aa,h),v)}function Ws(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Ss.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ws(this.i,this.B),this.M!=2&&(Le(),Ae(17)),Fn(this),this.m=2,is(this)):vo(this,this.T-h)};function is(h){h.j.I==0||h.K||rh(h.j,h)}function Fn(h){Ws(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,da(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Ks(h,v){try{var E=h.j;if(E.I!=0&&(E.g==h||Qs(E.h,h))){if(!h.L&&Qs(E.h,h)&&E.I==3){try{var C=E.Ba.g.parse(v)}catch{C=null}if(Array.isArray(C)&&C.length==3){var q=C;if(q[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)xo(E),vr(E);else break e;Sa(E),Ae(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ne(g(E.Va,E),6e3));$s(E.h)<=1&&E.ta&&(E.ta=void 0)}else ni(E,11)}else if((h.L||E.g==h)&&xo(E),!M(v))for(q=E.Ba.g.parse(v),v=0;v<q.length;v++){let tt=q[v];const Tt=tt[0];if(!(Tt<=E.K))if(E.K=Tt,tt=tt[1],E.I==2)if(tt[0]=="c"){E.M=tt[1],E.ba=tt[2];const os=tt[3];os!=null&&(E.ka=os,E.j.info("VER="+E.ka));const si=tt[4];si!=null&&(E.za=si,E.j.info("SVER="+E.za));const Ms=tt[5];Ms!=null&&typeof Ms=="number"&&Ms>0&&(C=1.5*Ms,E.O=C,E.j.info("backChannelRequestTimeoutMs_="+C)),C=E;const Rs=h.g;if(Rs){const Aa=Rs.g?Rs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Aa){var X=C.h;X.g||Aa.indexOf("spdy")==-1&&Aa.indexOf("quic")==-1&&Aa.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&($l(X,X.h),X.h=null))}if(C.G){const Co=Rs.g?Rs.g.getResponseHeader("X-HTTP-Session-Id"):null;Co&&(C.wa=Co,it(C.J,C.G,Co))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),C=E;var le=h;if(C.na=lh(C,C.L?C.ba:null,C.W),le.L){Ql(C.h,le);var Pe=le,Vt=C.O;Vt&&(Pe.H=Vt),Pe.D&&(Ws(Pe),Ys(Pe)),C.g=le}else sh(C);E.i.length>0&&ti(E)}else tt[0]!="stop"&&tt[0]!="close"||ni(E,7);else E.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?ni(E,7):ru(E):tt[0]!="noop"&&E.l&&E.l.qa(tt),E.A=0)}}Le(4)}catch{}}var Ft=class{constructor(h,v){this.g=h,this.map=v}};function Wl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Kl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function $s(h){return h.h?1:h.g?h.g.size:0}function Qs(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function $l(h,v){h.g?h.g.add(v):h.h=v}function Ql(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Wl.prototype.cancel=function(){if(this.i=Xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Xl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.G);return v}return D(h.i)}var Xc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _o(h,v){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const C=h[E].indexOf("=");let q,X=null;C>=0?(q=h[E].substring(0,C),X=h[E].substring(C+1)):q=h[E],v(q,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Hn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof Hn?(this.l=h.l,rn(this,h.j),this.o=h.o,this.g=h.g,hr(this,h.u),this.h=h.h,Zl(this,th(h.i)),this.m=h.m):h&&(v=String(h).match(Xc))?(this.l=!1,rn(this,v[1]||"",!0),this.o=Xs(v[2]||""),this.g=Xs(v[3]||"",!0),hr(this,v[4]),this.h=Xs(v[5]||"",!0),Zl(this,v[6]||"",!0),this.m=Xs(v[7]||"")):(this.l=!1,this.i=new dr(null,this.l))}Hn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(va(v,To,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(va(v,To,!0),"@"),h.push(xi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(va(E,E.charAt(0)=="/"?Jl:Zc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",va(E,Jc)),h.join("")},Hn.prototype.resolve=function(h){const v=Ht(this);let E=!!h.j;E?rn(v,h.j):E=!!h.o,E?v.o=h.o:E=!!h.g,E?v.g=h.g:E=h.u!=null;var C=h.h;if(E)hr(v,h.u);else if(E=!!h.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var q=v.h.lastIndexOf("/");q!=-1&&(C=v.h.slice(0,q+1)+C)}if(q=C,q==".."||q==".")C="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){C=q.lastIndexOf("/",0)==0,q=q.split("/");const X=[];for(let le=0;le<q.length;){const Pe=q[le++];Pe=="."?C&&le==q.length&&X.push(""):Pe==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),C&&le==q.length&&X.push("")):(X.push(Pe),C=!0)}C=X.join("/")}else C=q}return E?v.h=C:E=h.i.toString()!=="",E?Zl(v,th(h.i)):E=!!h.m,E&&(v.m=h.m),v};function Ht(h){return new Hn(h)}function rn(h,v,E){h.j=E?Xs(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function hr(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function Zl(h,v,E){v instanceof dr?(h.i=v,Eo(h.i,h.l)):(E||(v=va(v,fr)),h.i=new dr(v,h.l))}function it(h,v,E){h.i.set(v,E)}function ya(h){return it(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Xs(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function va(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,Nn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Nn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var To=/[#\/\?@]/g,Zc=/[#\?:]/g,Jl=/[#\?]/g,fr=/[#\?@]/g,Jc=/#/g;function dr(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function In(h){h.g||(h.g=new Map,h.h=0,h.i&&_o(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}t=dr.prototype,t.add=function(h,v){In(this),this.i=null,h=mr(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function eh(h,v){In(h),v=mr(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function eu(h,v){return In(h),v=mr(h,v),h.g.has(v)}t.forEach=function(h,v){In(this),this.g.forEach(function(E,C){E.forEach(function(q){h.call(v,q,C,this)},this)},this)};function tu(h,v){In(h);let E=[];if(typeof v=="string")eu(h,v)&&(E=E.concat(h.g.get(mr(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)E=E.concat(h[v]);return E}t.set=function(h,v){return In(this),this.i=null,h=mr(this,h),eu(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=tu(this,h),h.length>0?String(h[0]):v):v};function bo(h,v,E){eh(h,v),E.length>0&&(h.i=null,h.g.set(mr(h,v),D(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let C=0;C<v.length;C++){var E=v[C];const q=xi(E);E=tu(this,E);for(let X=0;X<E.length;X++){let le=q;E[X]!==""&&(le+="="+xi(E[X])),h.push(le)}}return this.i=h.join("&")};function th(h){const v=new dr;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function mr(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Eo(h,v){v&&!h.j&&(In(h),h.i=null,h.g.forEach(function(E,C){const q=C.toLowerCase();C!=q&&(eh(this,C),bo(this,q,E))},h)),h.j=v}function xs(h,v){const E=new zn;if(c.Image){const C=new Image;C.onload=y(rs,E,"TestLoadImage: loaded",!0,v,C),C.onerror=y(rs,E,"TestLoadImage: error",!1,v,C),C.onabort=y(rs,E,"TestLoadImage: abort",!1,v,C),C.ontimeout=y(rs,E,"TestLoadImage: timeout",!1,v,C),c.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else v(!1)}function nu(h,v){const E=new zn,C=new AbortController,q=setTimeout(()=>{C.abort(),rs(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:C.signal}).then(X=>{clearTimeout(q),X.ok?rs(E,"TestPingServer: ok",!0,v):rs(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),rs(E,"TestPingServer: error",!1,v)})}function rs(h,v,E,C,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),C(E)}catch{}}function pr(){this.g=new fo}function Zs(h){this.i=h.Sb||null,this.h=h.ab||!1}T(Zs,mo),Zs.prototype.g=function(){return new _a(this.i,this.h)};function _a(h,v){Dt.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(_a,Dt),t=_a.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,Cs(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Cs(this)),this.g&&(this.readyState=3,Cs(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function wo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?gr(this):Cs(this),this.readyState==3&&wo(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,gr(this))},t.Na=function(h){this.g&&(this.response=h,gr(this))},t.ga=function(){this.g&&gr(this)};function gr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Cs(h)}t.setRequestHeader=function(h,v){this.A.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function Cs(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(_a.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function as(h){let v="";return Te(h,function(E,C){v+=C,v+=":",v+=E,v+=`\r
`}),v}function Ta(h,v,E){e:{for(C in E){var C=!1;break e}C=!0}C||(E=as(E),typeof h=="string"?E!=null&&xi(E):it(h,v,E))}function ut(h){Dt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(ut,Dt);var Js=/^https?$/i,su=["POST","PUT"];t=ut.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,v,E,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Yl.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(X){ba(this,X);return}if(h=E||"",E=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var q in C)E.set(q,C[q]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const X of C.keys())E.set(X,C.get(X));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),q=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(su,v,void 0)>=0)||C||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,le]of E)this.g.setRequestHeader(X,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){ba(this,X)}};function ba(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,iu(h),Ci(h)}function iu(h){h.A||(h.A=!0,Ot(h,"complete"),Ot(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ot(this,"complete"),Ot(this,"abort"),Ci(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ci(this,!0)),ut.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ea(this):this.Xa())},t.Xa=function(){Ea(this)};function Ea(h){if(h.h&&typeof l<"u"){if(h.v&&Ds(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ot(h,"readystatechange"),Ds(h)==4){h.h=!1;try{const X=h.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var C;if(C=X===0){let le=String(h.D).match(Xc)[1]||null;!le&&c.self&&c.self.location&&(le=c.self.location.protocol.slice(0,-1)),C=!Js.test(le?le.toLowerCase():"")}E=C}if(E)Ot(h,"complete"),Ot(h,"success");else{h.o=6;try{var q=Ds(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",iu(h)}}finally{Ci(h)}}}}function Ci(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,v||Ot(h,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ds(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Ds(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Hl(v)}};function un(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Di(h){const v={};h=(h.g&&Ds(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(M(h[C]))continue;var E=Kc(h[C]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=v[q]||[];v[q]=X,X.push(E)}Ce(v,function(C){return C.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ei(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function yr(h){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ei("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ei("baseRetryDelayMs",5e3,h),this.Za=ei("retryDelaySeedMs",1e4,h),this.Ta=ei("forwardChannelMaxRetries",2,h),this.va=ei("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Wl(h&&h.concurrentRequestLimit),this.Ba=new pr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=yr.prototype,t.ka=8,t.I=1,t.connect=function(h,v,E,C){Ae(0),this.W=h,this.H=v||{},E&&C!==void 0&&(this.H.OSID=E,this.H.OAID=C),this.F=this.X,this.J=lh(this,null,this.W),ti(this)};function ru(h){if(So(h),h.I==3){var v=h.V++,E=Ht(h.J);if(it(E,"SID",h.M),it(E,"RID",v),it(E,"TYPE","terminate"),wa(h,E),v=new Ss(h,h.j,v),v.M=2,v.A=ya(Ht(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=v.A,E=!0),E||(v.g=uh(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ys(v)}oh(h)}function vr(h){h.g&&(ou(h),h.g.cancel(),h.g=null)}function So(h){vr(h),h.v&&(c.clearTimeout(h.v),h.v=null),xo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function ti(h){if(!Kl(h.h)&&!h.m){h.m=!0;var v=h.Ea;B||A(),G||(B(),G=!0),x.add(v,h),h.D=0}}function Ao(h,v){return $s(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ne(g(h.Ea,h,v),ah(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new Ss(this,this.j,h);let X=this.o;if(this.U&&(X?(X=L(X),ue(X,this.U)):X=this.U),this.u!==null||this.R||(q.J=X,X=null),this.S)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var C=this.i[E];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(v+=C,v>4096){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=nh(this,q,v),E=Ht(this.J),it(E,"RID",h),it(E,"CVER",22),this.G&&it(E,"X-HTTP-Session-Id",this.G),wa(this,E),X&&(this.R?v="headers="+xi(as(X))+"&"+v:this.u&&Ta(E,this.u,X)),$l(this.h,q),this.Ra&&it(E,"TYPE","init"),this.S?(it(E,"$req",v),it(E,"SID","null"),q.U=!0,Gs(q,E,null)):Gs(q,E,v),this.I=2}}else this.I==3&&(h?au(this,h):this.i.length==0||Kl(this.h)||au(this))};function au(h,v){var E;v?E=v.l:E=h.V++;const C=Ht(h.J);it(C,"SID",h.M),it(C,"RID",E),it(C,"AID",h.K),wa(h,C),h.u&&h.o&&Ta(C,h.u,h.o),E=new Ss(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),v&&(h.i=v.G.concat(h.i)),v=nh(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),$l(h.h,E),Gs(E,C,v)}function wa(h,v){h.H&&Te(h.H,function(E,C){it(v,C,E)}),h.l&&Te({},function(E,C){it(v,C,E)})}function nh(h,v,E){E=Math.min(h.i.length,E);const C=h.l?g(h.l.Ka,h.l,h):null;e:{var q=h.i;let Pe=-1;for(;;){const Vt=["count="+E];Pe==-1?E>0?(Pe=q[0].g,Vt.push("ofs="+Pe)):Pe=0:Vt.push("ofs="+Pe);let tt=!0;for(let Tt=0;Tt<E;Tt++){var X=q[Tt].g;const os=q[Tt].map;if(X-=Pe,X<0)Pe=Math.max(0,q[Tt].g-100),tt=!1;else try{X="req"+X+"_"||"";try{var le=os instanceof Map?os:Object.entries(os);for(const[si,Ms]of le){let Rs=Ms;f(Ms)&&(Rs=qs(Ms)),Vt.push(X+si+"="+encodeURIComponent(Rs))}}catch(si){throw Vt.push(X+"type="+encodeURIComponent("_badmap")),si}}catch{C&&C(os)}}if(tt){le=Vt.join("&");break e}}le=void 0}return h=h.i.splice(0,E),v.G=h,le}function sh(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;B||A(),G||(B(),G=!0),x.add(v,h),h.A=0}}function Sa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ne(g(h.Da,h),ah(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,ih(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ne(g(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),vr(this),ih(this))};function ou(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function ih(h){h.g=new Ss(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Ht(h.na);it(v,"RID","rpc"),it(v,"SID",h.M),it(v,"AID",h.K),it(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&it(v,"TO",h.ia),it(v,"TYPE","xmlhttp"),wa(h,v),h.u&&h.o&&Ta(v,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=ya(Ht(v)),E.u=null,E.R=!0,yo(E,h)}t.Va=function(){this.C!=null&&(this.C=null,vr(this),Sa(this),Ae(19))};function xo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function rh(h,v){var E=null;if(h.g==v){xo(h),ou(h),h.g=null;var C=2}else if(Qs(h.h,v))E=v.G,Ql(h.h,v),C=1;else return;if(h.I!=0){if(v.o)if(C==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var q=h.D;C=cr(),Ot(C,new kt(C,E)),ti(h)}else sh(h);else if(q=v.m,q==3||q==0&&v.X>0||!(C==1&&Ao(h,v)||C==2&&Sa(h)))switch(E&&E.length>0&&(v=h.h,v.i=v.i.concat(E)),q){case 1:ni(h,5);break;case 4:ni(h,10);break;case 3:ni(h,6);break;default:ni(h,2)}}}function ah(h,v){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*v}function ni(h,v){if(h.j.info("Error code "+v),v==2){var E=g(h.bb,h),C=h.Ua;const q=!C;C=new Hn(C||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||rn(C,"https"),ya(C),q?xs(C.toString(),E):nu(C.toString(),E)}else Ae(2);h.I=0,h.l&&h.l.pa(v),oh(h),So(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function oh(h){if(h.I=0,h.ja=[],h.l){const v=Xl(h.h);(v.length!=0||h.i.length!=0)&&(V(h.ja,v),V(h.ja,h.i),h.h.i.length=0,D(h.i),h.i.length=0),h.l.oa()}}function lh(h,v,E){var C=E instanceof Hn?Ht(E):new Hn(E);if(C.g!="")v&&(C.g=v+"."+C.g),hr(C,C.u);else{var q=c.location;C=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;const X=new Hn(null);C&&rn(X,C),v&&(X.g=v),q&&hr(X,q),E&&(X.h=E),C=X}return E=h.G,v=h.wa,E&&v&&it(C,E,v),it(C,"VER",h.ka),wa(h,C),C}function uh(h,v,E){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new ut(new Zs({ab:E})):new ut(h.ma),v.Fa(h.L),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ch(){}t=ch.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function _r(){}_r.prototype.g=function(h,v){return new An(h,v)};function An(h,v){Dt.call(this),this.g=new yr(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!M(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!M(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Mi(this)}T(An,Dt),An.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){ru(this.g)},An.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=qs(h),h=E);v.i.push(new Ft(v.Ya++,h)),v.I==3&&ti(v)},An.prototype.N=function(){this.g.l=null,delete this.j,ru(this.g),delete this.g,An.Z.N.call(this)};function hh(h){Zt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const E in v){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}T(hh,Zt);function fh(){Mn.call(this),this.status=1}T(fh,Mn);function Mi(h){this.g=h}T(Mi,ch),Mi.prototype.ra=function(){Ot(this.g,"a")},Mi.prototype.qa=function(h){Ot(this.g,new hh(h))},Mi.prototype.pa=function(h){Ot(this.g,new fh)},Mi.prototype.oa=function(){Ot(this.g,"b")},_r.prototype.createWebChannel=_r.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,sx=function(){return new _r},nx=function(){return cr()},tx=wt,Xg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pa.NO_ERROR=0,pa.TIMEOUT=8,pa.HTTP_ERROR=6,Of=pa,Gl.COMPLETE="complete",ex=Gl,po.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",Dt.prototype.listen=Dt.prototype.J,$u=po,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,JA=ut}).apply(typeof Ef<"u"?Ef:typeof self<"u"?self:typeof window<"u"?window:{});const hE="@firebase/firestore",fE="4.9.2";class bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");let jl="12.3.0";const io=new lv("@firebase/firestore");function rl(){return io.logLevel}function de(t,...e){if(io.logLevel<=Ke.DEBUG){const n=e.map(hv);io.debug(`Firestore (${jl}): ${t}`,...n)}}function nr(t,...e){if(io.logLevel<=Ke.ERROR){const n=e.map(hv);io.error(`Firestore (${jl}): ${t}`,...n)}}function Al(t,...e){if(io.logLevel<=Ke.WARN){const n=e.map(hv);io.warn(`Firestore (${jl}): ${t}`,...n)}}function hv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function xe(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,ix(t,i,n)}function ix(t,e,n){let i=`FIRESTORE (${jl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw nr(i),new Error(i)}function st(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||ix(e,a,i)}function Ve(t,e){return t}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends rr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Za{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class rx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Tj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(bn.UNAUTHENTICATED)))}shutdown(){}}class bj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Ej{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){st(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,n(m)):Promise.resolve();let l=new Za;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Za,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Za)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(st(typeof i.accessToken=="string",31837,{l:i}),new rx(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new bn(e)}}class wj{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Sj{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new wj(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(bn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class dE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Aj{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,js(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){st(this.o===void 0,3512);const i=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,de("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new dE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(st(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new dE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function xj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class fv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=xj(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function $e(t,e){return t<e?-1:t>e?1:0}function Zg(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return og(a)===og(l)?$e(a,l):og(a)?1:-1}return $e(t.length,e.length)}const Cj=55296,Dj=57343;function og(t){const e=t.charCodeAt(0);return e>=Cj&&e<=Dj}function xl(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}const mE="__name__";class ui{constructor(e,n,i){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&xe(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return ui.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ui?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=ui.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return $e(e.length,n.length)}static compareSegments(e,n){const i=ui.isNumericId(e),a=ui.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?ui.extractNumericId(e).compare(ui.extractNumericId(n)):Zg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zr.fromString(e.substring(4,e.length-2))}}class At extends ui{construct(e,n,i){return new At(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ve(ae.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new At(n)}static emptyPath(){return new At([])}}const Mj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends ui{construct(e,n,i){return new yn(e,n,i)}static isValidIdentifier(e){return Mj.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mE}static keyField(){return new yn([mE])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ve(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new ve(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ve(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(i+=f,a++):(l(),a++)}if(l(),c)throw new ve(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yn(n)}static emptyPath(){return new yn([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(At.fromString(e))}static fromName(e){return new be(At.fromString(e).popFirst(5))}static empty(){return new be(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return At.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new At(e.slice()))}}function Rj(t,e,n){if(!n)throw new ve(ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Nj(t,e,n,i){if(e===!0&&i===!0)throw new ve(ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pE(t){if(!be.isDocumentKey(t))throw new ve(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ax(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function dv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe(12329,{type:typeof t})}function gl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dv(t);throw new ve(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Qt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Lc(t,e){if(!ax(t))throw new ve(ae.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const c=t[i];if(a&&typeof c!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new ve(ae.INVALID_ARGUMENT,n);return!0}const gE=-62135596800,yE=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*yE);return new _t(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<gE)throw new ve(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yE}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lc(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-gE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:Qt("string",_t._jsonSchemaVersion),seconds:Qt("number"),nanoseconds:Qt("number")};class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new _t(0,0))}static max(){return new Ie(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ec=-1;function Ij(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Ie.fromTimestamp(i===1e9?new _t(n+1,0):new _t(n,i));return new ta(a,be.empty(),e)}function Oj(t){return new ta(t.readTime,t.key,Ec)}class ta{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new ta(Ie.min(),be.empty(),Ec)}static max(){return new ta(Ie.max(),be.empty(),Ec)}}function kj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:$e(t.largestBatchId,e.largestBatchId))}const Vj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Pj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ll(t){if(t.code!==ae.FAILED_PRECONDITION||t.message!==Vj)throw t;de("LocalStore","Unexpectedly lost primary lease")}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,i)=>{n(e)}))}static reject(e){return new re(((n,i)=>{i(e)}))}static waitFor(e){return new re(((n,i)=>{let a=0,l=0,c=!1;e.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&n()}),(m=>i(m)))})),c=!0,l===a&&n()}))}static or(e){let n=re.resolve(!1);for(const i of e)n=n.next((a=>a?re.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new re(((i,a)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const g=m;n(e[g]).next((y=>{c[g]=y,++f,f===l&&i(c)}),(y=>a(y)))}}))}static doWhile(e,n){return new re(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function jj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ul(t){return t.name==="IndexedDbTransactionError"}class bd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bd.ce=-1;const mv=-1;function Ed(t){return t==null}function Xf(t){return t===0&&1/t==-1/0}function Lj(t){return typeof t=="number"&&Number.isInteger(t)&&!Xf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const ox="";function Uj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=vE(e)),e=Bj(t.get(n),e);return vE(e)}function Bj(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case ox:n+="";break;default:n+=l}}return n}function vE(t){return t+ox+""}function _E(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function lo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ct{constructor(e,n){this.comparator=e,this.root=n||gn.EMPTY}insert(e,n){return new Ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wf(this.root,e,this.comparator,!1)}getReverseIterator(){return new wf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wf(this.root,e,this.comparator,!0)}}class wf{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??gn.RED,this.left=a??gn.EMPTY,this.right=l??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new gn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return gn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new gn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nn{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new TE(this.data.getIterator())}getIteratorFrom(e){return new TE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new nn(this.comparator);return n.data=e,n}}class TE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Us{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new Us([])}unionWith(e){let n=new nn(yn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Us(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class ux extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new ux("Invalid base64 string: "+l):l}})(e);return new vn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new vn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const zj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function na(t){if(st(!!t,39018),typeof t=="string"){let e=0;const n=zj.exec(t);if(st(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Lt(t.seconds),nanos:Lt(t.nanos)}}function Lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function sa(t){return typeof t=="string"?vn.fromBase64String(t):vn.fromUint8Array(t)}const cx="server_timestamp",hx="__type__",fx="__previous_value__",dx="__local_write_time__";function pv(t){return(t?.mapValue?.fields||{})[hx]?.stringValue===cx}function wd(t){const e=t.mapValue.fields[fx];return pv(e)?wd(e):e}function wc(t){const e=na(t.mapValue.fields[dx].timestampValue);return new _t(e.seconds,e.nanos)}class Fj{constructor(e,n,i,a,l,c,f,m,g,y){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=y}}const Zf="(default)";class Sc{constructor(e,n){this.projectId=e,this.database=n||Zf}static empty(){return new Sc("","")}get isDefaultDatabase(){return this.database===Zf}isEqual(e){return e instanceof Sc&&e.projectId===this.projectId&&e.database===this.database}}const mx="__type__",Hj="__max__",Sf={mapValue:{}},px="__vector__",Jf="value";function ia(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pv(t)?4:Gj(t)?9007199254740991:qj(t)?10:11:xe(28295,{value:t})}function bi(t,e){if(t===e)return!0;const n=ia(t);if(n!==ia(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wc(t).isEqual(wc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=na(a.timestampValue),f=na(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return sa(a.bytesValue).isEqual(sa(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Lt(a.geoPointValue.latitude)===Lt(l.geoPointValue.latitude)&&Lt(a.geoPointValue.longitude)===Lt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Lt(a.integerValue)===Lt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Lt(a.doubleValue),f=Lt(l.doubleValue);return c===f?Xf(c)===Xf(f):isNaN(c)&&isNaN(f)}return!1})(t,e);case 9:return xl(t.arrayValue.values||[],e.arrayValue.values||[],bi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(_E(c)!==_E(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!bi(c[m],f[m])))return!1;return!0})(t,e);default:return xe(52216,{left:t})}}function Ac(t,e){return(t.values||[]).find((n=>bi(n,e)))!==void 0}function Cl(t,e){if(t===e)return 0;const n=ia(t),i=ia(e);if(n!==i)return $e(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=Lt(l.integerValue||l.doubleValue),m=Lt(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(t,e);case 3:return bE(t.timestampValue,e.timestampValue);case 4:return bE(wc(t),wc(e));case 5:return Zg(t.stringValue,e.stringValue);case 6:return(function(l,c){const f=sa(l),m=sa(c);return f.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),m=c.split("/");for(let g=0;g<f.length&&g<m.length;g++){const y=$e(f[g],m[g]);if(y!==0)return y}return $e(f.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=$e(Lt(l.latitude),Lt(c.latitude));return f!==0?f:$e(Lt(l.longitude),Lt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return EE(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const f=l.fields||{},m=c.fields||{},g=f[Jf]?.arrayValue,y=m[Jf]?.arrayValue,T=$e(g?.values?.length||0,y?.values?.length||0);return T!==0?T:EE(g,y)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Sf.mapValue&&c===Sf.mapValue)return 0;if(l===Sf.mapValue)return 1;if(c===Sf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),g=c.fields||{},y=Object.keys(g);m.sort(),y.sort();for(let T=0;T<m.length&&T<y.length;++T){const w=Zg(m[T],y[T]);if(w!==0)return w;const D=Cl(f[m[T]],g[y[T]]);if(D!==0)return D}return $e(m.length,y.length)})(t.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function bE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return $e(t,e);const n=na(t),i=na(e),a=$e(n.seconds,i.seconds);return a!==0?a:$e(n.nanos,i.nanos)}function EE(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=Cl(n[a],i[a]);if(l)return l}return $e(n.length,i.length)}function Dl(t){return Jg(t)}function Jg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=na(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return sa(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=Jg(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Jg(n.fields[c])}`;return a+"}"})(t.mapValue):xe(61005,{value:t})}function kf(t){switch(ia(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wd(t);return e?16+kf(e):16;case 5:return 2*t.stringValue.length;case 6:return sa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+kf(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return lo(i.fields,((l,c)=>{a+=l.length+kf(c)})),a})(t.mapValue);default:throw xe(13486,{value:t})}}function ey(t){return!!t&&"integerValue"in t}function gv(t){return!!t&&"arrayValue"in t}function wE(t){return!!t&&"nullValue"in t}function SE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vf(t){return!!t&&"mapValue"in t}function qj(t){return(t?.mapValue?.fields||{})[mx]?.stringValue===px}function rc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return lo(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=rc(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rc(t.arrayValue.values[n]);return e}return{...t}}function Gj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Hj}class ys{constructor(e){this.value=e}static empty(){return new ys({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Vf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rc(n)}setAll(e){let n=yn.emptyPath(),i={},a=[];e.forEach(((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,i,a),i={},a=[],n=f.popLast()}c?i[f.lastSegment()]=rc(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());Vf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Vf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){lo(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new ys(rc(this.value))}}function gx(t){const e=[];return lo(t.fields,((n,i)=>{const a=new yn([n]);if(Vf(i)){const l=gx(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Us(e)}class En{constructor(e,n,i,a,l,c,f){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new En(e,0,Ie.min(),Ie.min(),Ie.min(),ys.empty(),0)}static newFoundDocument(e,n,i,a){return new En(e,1,n,Ie.min(),i,a,0)}static newNoDocument(e,n){return new En(e,2,n,Ie.min(),Ie.min(),ys.empty(),0)}static newUnknownDocument(e,n){return new En(e,3,n,Ie.min(),Ie.min(),ys.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ys.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ys.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ed{constructor(e,n){this.position=e,this.inclusive=n}}function AE(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?i=be.comparator(be.fromName(c.referenceValue),n.key):i=Cl(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function xE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!bi(t.position[n],e.position[n]))return!1;return!0}class td{constructor(e,n="asc"){this.field=e,this.dir=n}}function Yj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class yx{}class tn extends yx{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new Kj(e,n,i):n==="array-contains"?new Xj(e,i):n==="in"?new Zj(e,i):n==="not-in"?new Jj(e,i):n==="array-contains-any"?new e3(e,i):new tn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new $j(e,i):new Qj(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Cl(n,this.value)):n!==null&&ia(this.value)===ia(n)&&this.matchesComparison(Cl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ei extends yx{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ei(e,n)}matches(e){return vx(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vx(t){return t.op==="and"}function _x(t){return Wj(t)&&vx(t)}function Wj(t){for(const e of t.filters)if(e instanceof Ei)return!1;return!0}function ty(t){if(t instanceof tn)return t.field.canonicalString()+t.op.toString()+Dl(t.value);if(_x(t))return t.filters.map((e=>ty(e))).join(",");{const e=t.filters.map((n=>ty(n))).join(",");return`${t.op}(${e})`}}function Tx(t,e){return t instanceof tn?(function(i,a){return a instanceof tn&&i.op===a.op&&i.field.isEqual(a.field)&&bi(i.value,a.value)})(t,e):t instanceof Ei?(function(i,a){return a instanceof Ei&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,f)=>l&&Tx(c,a.filters[f])),!0):!1})(t,e):void xe(19439)}function bx(t){return t instanceof tn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Dl(n.value)}`})(t):t instanceof Ei?(function(n){return n.op.toString()+" {"+n.getFilters().map(bx).join(" ,")+"}"})(t):"Filter"}class Kj extends tn{constructor(e,n,i){super(e,n,i),this.key=be.fromName(i.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class $j extends tn{constructor(e,n){super(e,"in",n),this.keys=Ex("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Qj extends tn{constructor(e,n){super(e,"not-in",n),this.keys=Ex("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Ex(t,e){return(e.arrayValue?.values||[]).map((n=>be.fromName(n.referenceValue)))}class Xj extends tn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gv(n)&&Ac(n.arrayValue,this.value)}}class Zj extends tn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ac(this.value.arrayValue,n)}}class Jj extends tn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ac(this.value.arrayValue,n)}}class e3 extends tn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Ac(this.value.arrayValue,i)))}}class t3{constructor(e,n=null,i=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function CE(t,e=null,n=[],i=[],a=null,l=null,c=null){return new t3(t,e,n,i,a,l,c)}function yv(t){const e=Ve(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>ty(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Ed(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Dl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Dl(i))).join(",")),e.Te=n}return e.Te}function vv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Yj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Tx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xE(t.startAt,e.startAt)&&xE(t.endAt,e.endAt)}function ny(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Sd{constructor(e,n=null,i=[],a=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function n3(t,e,n,i,a,l,c,f){return new Sd(t,e,n,i,a,l,c,f)}function _v(t){return new Sd(t)}function DE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function s3(t){return t.collectionGroup!==null}function ac(t){const e=Ve(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new nn(yn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(f=f.add(g.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new td(l,i))})),n.has(yn.keyField().canonicalString())||e.Ie.push(new td(yn.keyField(),i))}return e.Ie}function gi(t){const e=Ve(t);return e.Ee||(e.Ee=i3(e,ac(t))),e.Ee}function i3(t,e){if(t.limitType==="F")return CE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new td(a.field,l)}));const n=t.endAt?new ed(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new ed(t.startAt.position,t.startAt.inclusive):null;return CE(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function sy(t,e,n){return new Sd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ad(t,e){return vv(gi(t),gi(e))&&t.limitType===e.limitType}function wx(t){return`${yv(gi(t))}|lt:${t.limitType}`}function al(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>bx(a))).join(", ")}]`),Ed(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>Dl(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>Dl(a))).join(",")),`Target(${i})`})(gi(t))}; limitType=${t.limitType})`}function xd(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):be.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of ac(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(c,f,m){const g=AE(c,f,m);return c.inclusive?g<=0:g<0})(i.startAt,ac(i),a)||i.endAt&&!(function(c,f,m){const g=AE(c,f,m);return c.inclusive?g>=0:g>0})(i.endAt,ac(i),a))})(t,e)}function r3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Sx(t){return(e,n)=>{let i=!1;for(const a of ac(t)){const l=a3(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function a3(t,e,n){const i=t.field.isKeyField()?be.comparator(e.key,n.key):(function(l,c,f){const m=c.data.field(l),g=f.data.field(l);return m!==null&&g!==null?Cl(m,g):xe(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return xe(19790,{direction:t.dir})}}class uo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){lo(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return lx(this.inner)}size(){return this.innerSize}}const o3=new Ct(be.comparator);function sr(){return o3}const Ax=new Ct(be.comparator);function Qu(...t){let e=Ax;for(const n of t)e=e.insert(n.key,n);return e}function xx(t){let e=Ax;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Wa(){return oc()}function Cx(){return oc()}function oc(){return new uo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const l3=new Ct(be.comparator),u3=new nn(be.comparator);function Qe(...t){let e=u3;for(const n of t)e=e.add(n);return e}const c3=new nn($e);function h3(){return c3}function Tv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xf(e)?"-0":e}}function Dx(t){return{integerValue:""+t}}function f3(t,e){return Lj(e)?Dx(e):Tv(t,e)}class Cd{constructor(){this._=void 0}}function d3(t,e,n){return t instanceof nd?(function(a,l){const c={fields:{[hx]:{stringValue:cx},[dx]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&pv(l)&&(l=wd(l)),l&&(c.fields[fx]=l),{mapValue:c}})(n,e):t instanceof xc?Rx(t,e):t instanceof Cc?Nx(t,e):(function(a,l){const c=Mx(a,l),f=ME(c)+ME(a.Ae);return ey(c)&&ey(a.Ae)?Dx(f):Tv(a.serializer,f)})(t,e)}function m3(t,e,n){return t instanceof xc?Rx(t,e):t instanceof Cc?Nx(t,e):n}function Mx(t,e){return t instanceof sd?(function(i){return ey(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class nd extends Cd{}class xc extends Cd{constructor(e){super(),this.elements=e}}function Rx(t,e){const n=Ix(e);for(const i of t.elements)n.some((a=>bi(a,i)))||n.push(i);return{arrayValue:{values:n}}}class Cc extends Cd{constructor(e){super(),this.elements=e}}function Nx(t,e){let n=Ix(e);for(const i of t.elements)n=n.filter((a=>!bi(a,i)));return{arrayValue:{values:n}}}class sd extends Cd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function ME(t){return Lt(t.integerValue||t.doubleValue)}function Ix(t){return gv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function p3(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof xc&&a instanceof xc||i instanceof Cc&&a instanceof Cc?xl(i.elements,a.elements,bi):i instanceof sd&&a instanceof sd?bi(i.Ae,a.Ae):i instanceof nd&&a instanceof nd})(t.transform,e.transform)}class g3{constructor(e,n){this.version=e,this.transformResults=n}}class Zi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zi}static exists(e){return new Zi(void 0,e)}static updateTime(e){return new Zi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Dd{}function Ox(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Vx(t.key,Zi.none()):new Uc(t.key,t.data,Zi.none());{const n=t.data,i=ys.empty();let a=new nn(yn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new co(t.key,i,new Us(a.toArray()),Zi.none())}}function y3(t,e,n){t instanceof Uc?(function(a,l,c){const f=a.value.clone(),m=NE(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):t instanceof co?(function(a,l,c){if(!Pf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=NE(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(kx(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function lc(t,e,n,i){return t instanceof Uc?(function(l,c,f,m){if(!Pf(l.precondition,c))return f;const g=l.value.clone(),y=IE(l.fieldTransforms,m,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(t,e,n,i):t instanceof co?(function(l,c,f,m){if(!Pf(l.precondition,c))return f;const g=IE(l.fieldTransforms,m,c),y=c.data;return y.setAll(kx(l)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(t,e,n,i):(function(l,c,f){return Pf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(t,e,n)}function v3(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=Mx(i.transform,a||null);l!=null&&(n===null&&(n=ys.empty()),n.set(i.field,l))}return n||null}function RE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&xl(i,a,((l,c)=>p3(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Uc extends Dd{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class co extends Dd{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function kx(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function NE(t,e,n){const i=new Map;st(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,f=e.data.field(l.field);i.set(l.field,m3(c,f,n[a]))}return i}function IE(t,e,n){const i=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);i.set(a.field,d3(l,c,e))}return i}class Vx extends Dd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _3 extends Dd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class T3{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&y3(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=lc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=lc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=Cx();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const m=Ox(c,f);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ie.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Qe())}isEqual(e){return this.batchId===e.batchId&&xl(this.mutations,e.mutations,((n,i)=>RE(n,i)))&&xl(this.baseMutations,e.baseMutations,((n,i)=>RE(n,i)))}}class bv{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){st(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return l3})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new bv(e,n,i,a)}}class b3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class E3{constructor(e,n){this.count=e,this.unchangedNames=n}}var Kt,Ze;function w3(t){switch(t){case ae.OK:return xe(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return xe(15467,{code:t})}}function Px(t){if(t===void 0)return nr("GRPC error has no .code"),ae.UNKNOWN;switch(t){case Kt.OK:return ae.OK;case Kt.CANCELLED:return ae.CANCELLED;case Kt.UNKNOWN:return ae.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return ae.INTERNAL;case Kt.UNAVAILABLE:return ae.UNAVAILABLE;case Kt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Kt.NOT_FOUND:return ae.NOT_FOUND;case Kt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Kt.ABORTED:return ae.ABORTED;case Kt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Kt.DATA_LOSS:return ae.DATA_LOSS;default:return xe(39323,{code:t})}}(Ze=Kt||(Kt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";function S3(){return new TextEncoder}const A3=new Zr([4294967295,4294967295],0);function OE(t){const e=S3().encode(t),n=new ZA;return n.update(e),new Uint8Array(n.digest())}function kE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Zr([n,i],0),new Zr([a,l],0)]}class Ev{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Xu(`Invalid padding: ${n}`);if(i<0)throw new Xu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Xu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Xu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Zr.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(Zr.fromNumber(i)));return a.compare(A3)===1&&(a=new Zr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=OE(e),[i,a]=kE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Ev(l,a,n);return i.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const n=OE(e),[i,a]=kE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Xu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Md{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Bc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Md(Ie.min(),a,new Ct($e),sr(),Qe())}}class Bc{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Bc(i,n,Qe(),Qe(),Qe())}}class jf{constructor(e,n,i,a){this.be=e,this.removedTargetIds=n,this.key=i,this.De=a}}class jx{constructor(e,n){this.targetId=e,this.Ce=n}}class Lx{constructor(e,n,i=vn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class VE{constructor(){this.ve=0,this.Fe=PE(),this.Me=vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qe(),n=Qe(),i=Qe();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:xe(38017,{changeType:l})}})),new Bc(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=PE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class x3{constructor(e){this.Ge=e,this.ze=new Map,this.je=sr(),this.Je=Af(),this.He=Af(),this.Ye=new Ct($e)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(ny(l))if(i===0){const c=new be(l.path);this.et(n,c,En.newNoDocument(c,Ie.min()))}else st(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const f=this.ut(e),m=f?this.ct(f,e,c):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=sa(i).toUint8Array()}catch(m){if(m instanceof ux)return Al("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new Ev(c,a,l)}catch(m){return Al(m instanceof Xu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&ny(f.target)){const m=new be(f.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,En.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let i=Qe();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Md(e,n,this.Ye,this.je,i);return this.je=sr(),this.Je=Af(),this.He=Af(),this.Ye=new Ct($e),a}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new VE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new nn($e),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new nn($e),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new VE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Af(){return new Ct(be.comparator)}function PE(){return new Ct(be.comparator)}const C3={asc:"ASCENDING",desc:"DESCENDING"},D3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},M3={and:"AND",or:"OR"};class R3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function iy(t,e){return t.useProto3Json||Ed(e)?e:{value:e}}function id(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ux(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function N3(t,e){return id(t,e.toTimestamp())}function yi(t){return st(!!t,49232),Ie.fromTimestamp((function(n){const i=na(n);return new _t(i.seconds,i.nanos)})(t))}function wv(t,e){return ry(t,e).canonicalString()}function ry(t,e){const n=(function(a){return new At(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Bx(t){const e=At.fromString(t);return st(Gx(e),10190,{key:e.toString()}),e}function ay(t,e){return wv(t.databaseId,e.path)}function lg(t,e){const n=Bx(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(Fx(n))}function zx(t,e){return wv(t.databaseId,e)}function I3(t){const e=Bx(t);return e.length===4?At.emptyPath():Fx(e)}function oy(t){return new At(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Fx(t){return st(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function jE(t,e,n){return{name:ay(t,e),fields:n.value.mapValue.fields}}function O3(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:xe(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,y){return g.useProto3Json?(st(y===void 0||typeof y=="string",58123),vn.fromBase64String(y||"")):(st(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),vn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(g){const y=g.code===void 0?ae.UNKNOWN:Px(g.code);return new ve(y,g.message||"")})(c);n=new Lx(i,a,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=lg(t,i.document.name),l=yi(i.document.updateTime),c=i.document.createTime?yi(i.document.createTime):Ie.min(),f=new ys({mapValue:{fields:i.document.fields}}),m=En.newFoundDocument(a,l,c,f),g=i.targetIds||[],y=i.removedTargetIds||[];n=new jf(g,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=lg(t,i.document),l=i.readTime?yi(i.readTime):Ie.min(),c=En.newNoDocument(a,l),f=i.removedTargetIds||[];n=new jf([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=lg(t,i.document),l=i.removedTargetIds||[];n=new jf([],l,a,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new E3(a,l),f=i.targetId;n=new jx(f,c)}}return n}function k3(t,e){let n;if(e instanceof Uc)n={update:jE(t,e.key,e.value)};else if(e instanceof Vx)n={delete:ay(t,e.key)};else if(e instanceof co)n={update:jE(t,e.key,e.data),updateMask:H3(e.fieldMask)};else{if(!(e instanceof _3))return xe(16599,{Vt:e.type});n={verify:ay(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const f=c.transform;if(f instanceof nd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof xc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Cc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof sd)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw xe(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:N3(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:xe(27497)})(t,e.precondition)),n}function V3(t,e){return t&&t.length>0?(st(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?yi(a.updateTime):yi(l);return c.isEqual(Ie.min())&&(c=yi(l)),new g3(c,a.transformResults||[])})(n,e)))):[]}function P3(t,e){return{documents:[zx(t,e.path)]}}function j3(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=zx(t,a);const l=(function(g){if(g.length!==0)return qx(Ei.create(g,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((y=>(function(w){return{field:ol(w.field),direction:B3(w.dir)}})(y)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=iy(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:a}}function L3(t){let e=I3(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){st(i===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(T){const w=Hx(T);return w instanceof Ei&&_x(w)?w.getFilters():[w]})(n.where));let c=[];n.orderBy&&(c=(function(T){return T.map((w=>(function(V){return new td(ll(V.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(w)))})(n.orderBy));let f=null;n.limit&&(f=(function(T){let w;return w=typeof T=="object"?T.value:T,Ed(w)?null:w})(n.limit));let m=null;n.startAt&&(m=(function(T){const w=!!T.before,D=T.values||[];return new ed(D,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const w=!T.before,D=T.values||[];return new ed(D,w)})(n.endAt)),n3(e,a,c,l,f,"F",m,g)}function U3(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Hx(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ll(n.unaryFilter.field);return tn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=ll(n.unaryFilter.field);return tn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ll(n.unaryFilter.field);return tn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ll(n.unaryFilter.field);return tn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return tn.create(ll(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ei.create(n.compositeFilter.filters.map((i=>Hx(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(t):xe(30097,{filter:t})}function B3(t){return C3[t]}function z3(t){return D3[t]}function F3(t){return M3[t]}function ol(t){return{fieldPath:t.canonicalString()}}function ll(t){return yn.fromServerFormat(t.fieldPath)}function qx(t){return t instanceof tn?(function(n){if(n.op==="=="){if(SE(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NAN"}};if(wE(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(SE(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NOT_NAN"}};if(wE(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ol(n.field),op:z3(n.op),value:n.value}}})(t):t instanceof Ei?(function(n){const i=n.getFilters().map((a=>qx(a)));return i.length===1?i[0]:{compositeFilter:{op:F3(n.op),filters:i}}})(t):xe(54877,{filter:t})}function H3(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Gx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Kr{constructor(e,n,i,a,l=Ie.min(),c=Ie.min(),f=vn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Kr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class q3{constructor(e){this.yt=e}}function G3(t){const e=L3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?sy(e,e.limit,"L"):e}class Y3{constructor(){this.Cn=new W3}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(ta.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(ta.min())}updateCollectionGroup(e,n,i){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class W3{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new nn(At.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new nn(At.comparator)).toArray()}}const LE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Yx=41943040;class Ln{static withCacheSize(e){return new Ln(e,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(Yx,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);class Ml{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ml(0)}static cr(){return new Ml(-1)}}const UE="LruGarbageCollector",K3=1048576;function BE([t,e],[n,i]){const a=$e(t,n);return a===0?$e(e,i):a}class $3{constructor(e){this.Ir=e,this.buffer=new nn(BE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();BE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Q3{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(UE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ul(n)?de(UE,"Ignoring IndexedDB error during garbage collection: ",n):await Ll(n)}await this.Vr(3e5)}))}}class X3{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(bd.ce);const i=new $3(n);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(LE)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,a,l,c,f,m,g;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(e,a)))).next((T=>(i=T,f=Date.now(),this.removeTargets(e,i,n)))).next((T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((T=>(g=Date.now(),rl()<=Ke.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-y}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T}))))}}function Z3(t,e){return new X3(t,e)}class J3{constructor(){this.changes=new uo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?re.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class e6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class t6{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&lc(i.mutation,a,Us.empty(),_t.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Qe()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Qe()){const a=Wa();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let c=Qu();return l.forEach(((f,m)=>{c=c.insert(f,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const i=Wa();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Qe())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,f)=>{n.set(c,f)}))}))}computeViews(e,n,i,a){let l=sr();const c=oc(),f=(function(){return oc()})();return n.forEach(((m,g)=>{const y=i.get(g.key);a.has(g.key)&&(y===void 0||y.mutation instanceof co)?l=l.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),lc(y.mutation,g,y.mutation.getFieldMask(),_t.now())):c.set(g.key,Us.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,y)=>c.set(g,y))),n.forEach(((g,y)=>f.set(g,new e6(y,c.get(g)??null)))),f)))}recalculateAndSaveOverlays(e,n){const i=oc();let a=new Ct(((c,f)=>c-f)),l=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const f of c)f.keys().forEach((m=>{const g=n.get(m);if(g===null)return;let y=i.get(m)||Us.empty();y=f.applyToLocalView(g,y),i.set(m,y);const T=(a.get(f.batchId)||Qe()).add(m);a=a.insert(f.batchId,T)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),g=m.key,y=m.value,T=Cx();y.forEach((w=>{if(!l.has(w)){const D=Ox(n.get(w),i.get(w));D!==null&&T.set(w,D),l=l.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return re.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return(function(c){return be.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):s3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):re.resolve(Wa());let f=Ec,m=l;return c.next((g=>re.forEach(g,((y,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),l.get(y)?re.resolve():this.remoteDocumentCache.getEntry(e,y).next((w=>{m=m.insert(y,w)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,Qe()))).next((y=>({batchId:f,changes:xx(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((i=>{let a=Qu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let c=Qu();return this.indexManager.getCollectionParents(e,l).next((f=>re.forEach(f,(m=>{const g=(function(T,w){return new Sd(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next((y=>{y.forEach(((T,w)=>{c=c.insert(T,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((c=>{l.forEach(((m,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,En.newInvalidDocument(y)))}));let f=Qu();return c.forEach(((m,g)=>{const y=l.get(m);y!==void 0&&lc(y.mutation,g,Us.empty(),_t.now()),xd(n,g)&&(f=f.insert(m,g))})),f}))}}class n6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:yi(a.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:G3(a.bundledQuery),readTime:yi(a.readTime)}})(n)),re.resolve()}}class s6{constructor(){this.overlays=new Ct(be.comparator),this.qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Wa();return re.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.St(e,n,l)})),re.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),re.resolve()}getOverlaysForCollection(e,n,i){const a=Wa(),l=n.length+1,c=new be(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return re.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new Ct(((g,y)=>g-y));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>i){let y=l.get(g.largestBatchId);y===null&&(y=Wa(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const f=Wa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,y)=>f.set(g,y))),!(f.size()>=a)););return re.resolve(f)}St(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new b3(n,i));let l=this.qr.get(n);l===void 0&&(l=Qe(),this.qr.set(n,l)),this.qr.set(n,l.add(i.key))}}class i6{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}class Sv{constructor(){this.Qr=new nn(on.$r),this.Ur=new nn(on.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new on(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new on(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new be(new At([])),i=new on(n,e),a=new on(n,e+1),l=[];return this.Ur.forEachInRange([i,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new be(new At([])),i=new on(n,e),a=new on(n,e+1);let l=Qe();return this.Ur.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new on(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class on{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return be.comparator(e.key,n.key)||$e(e.Yr,n.Yr)}static Kr(e,n){return $e(e.Yr,n.Yr)||be.comparator(e.key,n.key)}}class r6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new nn(on.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new T3(l,n,i,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new on(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return re.resolve(c)}lookupMutationBatch(e,n){return re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.ei(i),l=a<0?0:a;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?mv:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new on(n,0),a=new on(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(c=>{const f=this.Xr(c.Yr);l.push(f)})),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new nn($e);return n.forEach((a=>{const l=new on(a,0),c=new on(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{i=i.add(f.Yr)}))})),re.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;be.isDocumentKey(l)||(l=l.child(""));const c=new on(new be(l),0);let f=new nn($e);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(f=f.add(m.Yr)),!0)}),c),re.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){st(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return re.forEach(n.mutations,(a=>{const l=new on(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new on(n,0),a=this.Zr.firstAfterOrEqual(i);return re.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class a6{constructor(e){this.ri=e,this.docs=(function(){return new Ct(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return re.resolve(i?i.document.mutableCopy():En.newInvalidDocument(n))}getEntries(e,n){let i=sr();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():En.newInvalidDocument(a))})),re.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=sr();const c=n.path,f=new be(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:g,value:{document:y}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||kj(Oj(y),i)<=0||(a.has(y.key)||xd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,n,i,a){xe(9500)}ii(e,n){return re.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new o6(this)}getSize(e){return re.resolve(this.size)}}class o6 extends J3{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class l6{constructor(e){this.persistence=e,this.si=new uo((n=>yv(n)),vv),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new Sv,this.targetCount=0,this.ai=Ml.ur()}forEachTarget(e,n){return this.si.forEach(((i,a)=>n(a))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),re.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ml(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Pr(n),re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=n&&i.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),re.waitFor(l).next((()=>a))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return re.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),re.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),re.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return re.resolve(i)}containsKey(e,n){return re.resolve(this._i.containsKey(n))}}class Wx{constructor(e,n){this.ui={},this.overlays={},this.ci=new bd(0),this.li=!1,this.li=!0,this.hi=new i6,this.referenceDelegate=e(this),this.Pi=new l6(this),this.indexManager=new Y3,this.remoteDocumentCache=(function(a){return new a6(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new q3(n),this.Ii=new n6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new s6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new r6(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){de("MemoryPersistence","Starting transaction:",e);const a=new u6(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return re.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class u6 extends Pj{constructor(e){super(),this.currentSequenceNumber=e}}class Av{constructor(e){this.persistence=e,this.Ri=new Sv,this.Vi=null}static mi(e){return new Av(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),re.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(i=>{const a=be.fromPath(i);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Ie.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class rd{constructor(e,n){this.persistence=e,this.pi=new uo((i=>Uj(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=Z3(this,n)}static mi(e,n){return new rd(e,n)}Ei(){}di(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return re.forEach(this.pi,((i,a)=>this.br(e,i,a).next((l=>l?re.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((f=>{f||(i++,l.removeEntry(c,Ie.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),re.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=kf(e.data.value)),n}br(e,n,i){return re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return re.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class xv{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=a}static As(e,n){let i=Qe(),a=Qe();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new xv(e,n.fromCache,i,a)}}class c6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class h6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return nP()?8:jj(Sn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new c6;return this.Ss(e,n,c).next((f=>{if(l.result=f,this.Vs)return this.bs(e,n,c,f.size)}))})).next((()=>l.result))}bs(e,n,i,a){return i.documentReadCount<this.fs?(rl()<=Ke.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",al(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(rl()<=Ke.DEBUG&&de("QueryEngine","Query:",al(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(rl()<=Ke.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",al(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gi(n))):re.resolve())}ys(e,n){if(DE(n))return re.resolve(null);let i=gi(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=sy(n,null,"F"),i=gi(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Qe(...l);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,i).next((m=>{const g=this.Ds(n,f);return this.Cs(n,g,c,m.readTime)?this.ys(e,sy(n,null,"F")):this.vs(e,g,n,m)}))))})))))}ws(e,n,i,a){return DE(n)||a.isEqual(Ie.min())?re.resolve(null):this.ps.getDocuments(e,i).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,i,a)?re.resolve(null):(rl()<=Ke.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),al(n)),this.vs(e,c,n,Ij(a,Ec)).next((f=>f)))}))}Ds(e,n){let i=new nn(Sx(e));return n.forEach(((a,l)=>{xd(e,l)&&(i=i.add(l))})),i}Cs(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,i){return rl()<=Ke.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",al(n)),this.ps.getDocumentsMatchingQuery(e,n,ta.min(),i)}vs(e,n,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const Cv="LocalStore",f6=3e8;class d6{constructor(e,n,i,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Ct($e),this.xs=new uo((l=>yv(l)),vv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new t6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function m6(t,e,n,i){return new d6(t,e,n,i)}async function Kx(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],f=[];let m=Qe();for(const g of a){c.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}for(const g of l){f.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(i,m).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:f})))}))}))}function p6(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,g,y){const T=g.batch,w=T.keys();let D=re.resolve();return w.forEach((V=>{D=D.next((()=>y.getEntry(m,V))).next((N=>{const P=g.docVersions.get(V);st(P!==null,48541),N.version.compareTo(P)<0&&(T.applyToRemoteDocument(N,g),N.isValidDocument()&&(N.setReadTime(g.commitVersion),y.addEntry(N)))}))})),D.next((()=>f.mutationQueue.removeMutationBatch(m,T)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let m=Qe();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(m=m.add(f.batch.mutations[g].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function $x(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function g6(t,e){const n=Ve(t),i=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const f=[];e.targetChanges.forEach(((y,T)=>{const w=a.get(T);if(!w)return;f.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,T))));let D=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?D=D.withResumeToken(vn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):y.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(y.resumeToken,i)),a=a.insert(T,D),(function(N,P,z){return N.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=f6?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(w,D,y)&&f.push(n.Pi.updateTargetData(l,D))}));let m=sr(),g=Qe();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(y6(l,c,e.documentUpdates).next((y=>{m=y.ks,g=y.qs}))),!i.isEqual(Ie.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((T=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(y)}return re.waitFor(f).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function y6(t,e,n){let i=Qe(),a=Qe();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let c=sr();return n.forEach(((f,m)=>{const g=l.get(f);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Ie.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):de(Cv,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function v6(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=mv),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function _6(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.Pi.getTargetData(i,e).next((l=>l?(a=l,re.resolve(a)):n.Pi.allocateTargetId(i).next((c=>(a=new Kr(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function ly(t,e,n){const i=Ve(t),a=i.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Ul(c))throw c;de(Cv,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function zE(t,e,n){const i=Ve(t);let a=Ie.min(),l=Qe();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,y){const T=Ve(m),w=T.xs.get(y);return w!==void 0?re.resolve(T.Ms.get(w)):T.Pi.getTargetData(g,y)})(i,c,gi(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,f.targetId).next((m=>{l=m}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,n?a:Ie.min(),n?l:Qe()))).next((f=>(T6(i,r3(e),f),{documents:f,Qs:l})))))}function T6(t,e,n){let i=t.Os.get(e)||Ie.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Os.set(e,i)}class FE{constructor(){this.activeTargetIds=h3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class b6{constructor(){this.Mo=new FE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new FE,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class E6{Oo(e){}shutdown(){}}const HE="ConnectivityMonitor";class qE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(HE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(HE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let xf=null;function uy(){return xf===null?xf=(function(){return 268435456+Math.round(2147483648*Math.random())})():xf++,"0x"+xf.toString(16)}const ug="RestConnection",w6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class S6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===Zf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,n,i,a,l){const c=uy(),f=this.zo(e,n.toUriEncodedString());de(ug,`Sending RPC '${e}' ${c}:`,f,i);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:g}=new URL(f),y=Vl(g);return this.Jo(e,f,m,i,y).then((T=>(de(ug,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw Al(ug,`RPC '${e}' ${c} failed with error: `,T,"url: ",f,"request:",i),T}))}Ho(e,n,i,a,l,c){return this.Go(e,n,i,a,l)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const i=w6[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}class A6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Tn="WebChannelConnection";class x6 extends S6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,a,l){const c=uy();return new Promise(((f,m)=>{const g=new JA;g.setWithCredentials(!0),g.listenOnce(ex.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Of.NO_ERROR:const T=g.getResponseJson();de(Tn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),f(T);break;case Of.TIMEOUT:de(Tn,`RPC '${e}' ${c} timed out`),m(new ve(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Of.HTTP_ERROR:const w=g.getStatus();if(de(Tn,`RPC '${e}' ${c} failed with status:`,w,"response text:",g.getResponseText()),w>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const V=D?.error;if(V&&V.status&&V.message){const N=(function(z){const K=z.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(K)>=0?K:ae.UNKNOWN})(V.status);m(new ve(N,V.message))}else m(new ve(ae.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ve(ae.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{de(Tn,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(a);de(Tn,`RPC '${e}' ${c} sending request:`,a),g.send(n,"POST",y,i,15)}))}T_(e,n,i){const a=uy(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=sx(),f=nx(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,i),m.encodeInitMessageHeaders=!0;const y=l.join("");de(Tn,`Creating RPC '${e}' stream ${a}: ${y}`,m);const T=c.createWebChannel(y,m);this.I_(T);let w=!1,D=!1;const V=new A6({Yo:P=>{D?de(Tn,`Not sending because RPC '${e}' stream ${a} is closed:`,P):(w||(de(Tn,`Opening RPC '${e}' stream ${a} transport.`),T.open(),w=!0),de(Tn,`RPC '${e}' stream ${a} sending:`,P),T.send(P))},Zo:()=>T.close()}),N=(P,z,K)=>{P.listen(z,(F=>{try{K(F)}catch(te){setTimeout((()=>{throw te}),0)}}))};return N(T,$u.EventType.OPEN,(()=>{D||(de(Tn,`RPC '${e}' stream ${a} transport opened.`),V.o_())})),N(T,$u.EventType.CLOSE,(()=>{D||(D=!0,de(Tn,`RPC '${e}' stream ${a} transport closed`),V.a_(),this.E_(T))})),N(T,$u.EventType.ERROR,(P=>{D||(D=!0,Al(Tn,`RPC '${e}' stream ${a} transport errored. Name:`,P.name,"Message:",P.message),V.a_(new ve(ae.UNAVAILABLE,"The operation could not be completed")))})),N(T,$u.EventType.MESSAGE,(P=>{if(!D){const z=P.data[0];st(!!z,16349);const K=z,F=K?.error||K[0]?.error;if(F){de(Tn,`RPC '${e}' stream ${a} received error:`,F);const te=F.status;let B=(function(A){const R=Kt[A];if(R!==void 0)return Px(R)})(te),G=F.message;B===void 0&&(B=ae.INTERNAL,G="Unknown error status: "+te+" with message "+F.message),D=!0,V.a_(new ve(B,G)),T.close()}else de(Tn,`RPC '${e}' stream ${a} received:`,z),V.u_(z)}})),N(f,tx.STAT_EVENT,(P=>{P.stat===Xg.PROXY?de(Tn,`RPC '${e}' stream ${a} detected buffering proxy`):P.stat===Xg.NOPROXY&&de(Tn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function cg(){return typeof document<"u"?document:null}function Rd(t){return new R3(t,!0)}class Qx{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&de("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const GE="PersistentStream";class Xx{constructor(e,n,i,a,l,c,f,m){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Qx(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(nr(n.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new ve(ae.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(GE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(de(GE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class C6 extends Xx{constructor(e,n,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=O3(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Ie.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ie.min():c.readTime?yi(c.readTime):Ie.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=oy(this.serializer),n.addTarget=(function(l,c){let f;const m=c.target;if(f=ny(m)?{documents:P3(l,m)}:{query:j3(l,m).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=Ux(l,c.resumeToken);const g=iy(l,c.expectedCount);g!==null&&(f.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ie.min())>0){f.readTime=id(l,c.snapshotVersion.toTimestamp());const g=iy(l,c.expectedCount);g!==null&&(f.expectedCount=g)}return f})(this.serializer,e);const i=U3(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=oy(this.serializer),n.removeTarget=e,this.q_(n)}}class D6 extends Xx{constructor(e,n,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=V3(e.writeResults,e.commitTime),i=yi(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=oy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>k3(this.serializer,i)))};this.q_(n)}}class M6{}class R6 extends M6{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ve(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,ry(n,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(ae.UNKNOWN,l.toString())}))}Ho(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,ry(n,i),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(ae.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class N6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(nr(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ro="RemoteStore";class I6{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{ho(this)&&(de(ro,"Restarting streams for network reachability change."),await(async function(m){const g=Ve(m);g.Ea.add(4),await zc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Nd(g)})(this))}))})),this.Ra=new N6(i,a)}}async function Nd(t){if(ho(t))for(const e of t.da)await e(!0)}async function zc(t){for(const e of t.da)await e(!1)}function Zx(t,e){const n=Ve(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Nv(n)?Rv(n):Bl(n).O_()&&Mv(n,e))}function Dv(t,e){const n=Ve(t),i=Bl(n);n.Ia.delete(e),i.O_()&&Jx(n,e),n.Ia.size===0&&(i.O_()?i.L_():ho(n)&&n.Ra.set("Unknown"))}function Mv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bl(t).Y_(e)}function Jx(t,e){t.Va.Ue(e),Bl(t).Z_(e)}function Rv(t){t.Va=new x3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Bl(t).start(),t.Ra.ua()}function Nv(t){return ho(t)&&!Bl(t).x_()&&t.Ia.size>0}function ho(t){return Ve(t).Ea.size===0}function eC(t){t.Va=void 0}async function O6(t){t.Ra.set("Online")}async function k6(t){t.Ia.forEach(((e,n)=>{Mv(t,e)}))}async function V6(t,e){eC(t),Nv(t)?(t.Ra.ha(e),Rv(t)):t.Ra.set("Unknown")}async function P6(t,e,n){if(t.Ra.set("Online"),e instanceof Lx&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))})(t,e)}catch(i){de(ro,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ad(t,i)}else if(e instanceof jf?t.Va.Ze(e):e instanceof jx?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ie.min()))try{const i=await $x(t.localStore);n.compareTo(i)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(g);y&&l.Ia.set(g,y.withResumeToken(m.resumeToken,c))}})),f.targetMismatches.forEach(((m,g)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(vn.EMPTY_BYTE_STRING,y.snapshotVersion)),Jx(l,m);const T=new Kr(y.target,m,g,y.sequenceNumber);Mv(l,T)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(i){de(ro,"Failed to raise snapshot:",i),await ad(t,i)}}async function ad(t,e,n){if(!Ul(e))throw e;t.Ea.add(1),await zc(t),t.Ra.set("Offline"),n||(n=()=>$x(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{de(ro,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Nd(t)}))}function tC(t,e){return e().catch((n=>ad(t,n,e)))}async function Id(t){const e=Ve(t),n=ra(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:mv;for(;j6(e);)try{const a=await v6(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,L6(e,a)}catch(a){await ad(e,a)}nC(e)&&sC(e)}function j6(t){return ho(t)&&t.Ta.length<10}function L6(t,e){t.Ta.push(e);const n=ra(t);n.O_()&&n.X_&&n.ea(e.mutations)}function nC(t){return ho(t)&&!ra(t).x_()&&t.Ta.length>0}function sC(t){ra(t).start()}async function U6(t){ra(t).ra()}async function B6(t){const e=ra(t);for(const n of t.Ta)e.ea(n.mutations)}async function z6(t,e,n){const i=t.Ta.shift(),a=bv.from(i,e,n);await tC(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Id(t)}async function F6(t,e){e&&ra(t).X_&&await(async function(i,a){if((function(c){return w3(c)&&c!==ae.ABORTED})(a.code)){const l=i.Ta.shift();ra(i).B_(),await tC(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Id(i)}})(t,e),nC(t)&&sC(t)}async function YE(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),de(ro,"RemoteStore received new credentials");const i=ho(n);n.Ea.add(3),await zc(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Nd(n)}async function H6(t,e){const n=Ve(t);e?(n.Ea.delete(2),await Nd(n)):e||(n.Ea.add(2),await zc(n),n.Ra.set("Unknown"))}function Bl(t){return t.ma||(t.ma=(function(n,i,a){const l=Ve(n);return l.sa(),new C6(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:O6.bind(null,t),t_:k6.bind(null,t),r_:V6.bind(null,t),H_:P6.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Nv(t)?Rv(t):t.Ra.set("Unknown")):(await t.ma.stop(),eC(t))}))),t.ma}function ra(t){return t.fa||(t.fa=(function(n,i,a){const l=Ve(n);return l.sa(),new D6(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:U6.bind(null,t),r_:F6.bind(null,t),ta:B6.bind(null,t),na:z6.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Id(t)):(await t.fa.stop(),t.Ta.length>0&&(de(ro,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Iv{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Za,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const c=Date.now()+i,f=new Iv(e,n,c,a,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ov(t,e){if(nr("AsyncQueue",`${e}: ${t}`),Ul(t))return new ve(ae.UNAVAILABLE,`${e}: ${t}`);throw t}class yl{static emptySet(e){return new yl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||be.comparator(n.key,i.key):(n,i)=>be.comparator(n.key,i.key),this.keyedMap=Qu(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new yl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class WE{constructor(){this.ga=new Ct(be.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Rl{constructor(e,n,i,a,l,c,f,m,g){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,i,a,l){const c=[];return n.forEach((f=>{c.push({type:0,doc:f})})),new Rl(e,n,yl.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ad(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}class q6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class G6{constructor(){this.queries=KE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Ve(n),l=a.queries;a.queries=KE(),l.forEach(((c,f)=>{for(const m of f.Sa)m.onError(i)}))})(this,new ve(ae.ABORTED,"Firestore shutting down"))}}function KE(){return new uo((t=>wx(t)),Ad)}async function Y6(t,e){const n=Ve(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new q6,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=Ov(c,`Initialization of query '${al(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&kv(n)}async function W6(t,e){const n=Ve(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function K6(t,e){const n=Ve(t);let i=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.Sa)f.Fa(a)&&(i=!0);c.wa=a}}i&&kv(n)}function $6(t,e,n){const i=Ve(t),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);i.queries.delete(e)}function kv(t){t.Ca.forEach((e=>{e.next()}))}var cy,$E;($E=cy||(cy={})).Ma="default",$E.Cache="cache";class Q6{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Rl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cy.Cache}}class iC{constructor(e){this.key=e}}class rC{constructor(e){this.key=e}}class X6{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qe(),this.mutatedKeys=Qe(),this.eu=Sx(e),this.tu=new yl(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new WE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,T)=>{const w=a.get(y),D=xd(this.query,T)?T:null,V=!!w&&this.mutatedKeys.has(w.key),N=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let P=!1;w&&D?w.data.isEqual(D.data)?V!==N&&(i.track({type:3,doc:D}),P=!0):this.su(w,D)||(i.track({type:2,doc:D}),P=!0,(m&&this.eu(D,m)>0||g&&this.eu(D,g)<0)&&(f=!0)):!w&&D?(i.track({type:0,doc:D}),P=!0):w&&!D&&(i.track({type:1,doc:w}),P=!0,(m||g)&&(f=!0)),P&&(D?(c=c.add(D),l=N?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{tu:c,iu:i,Cs:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((y,T)=>(function(D,V){const N=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:P})}};return N(D)-N(V)})(y.type,T.type)||this.eu(y.doc,T.doc))),this.ou(i),a=a??!1;const f=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,g=m!==this.Za;return this.Za=m,c.length!==0||g?{snapshot:new Rl(this.query,e.tu,l,c,e.mutatedKeys,m===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new WE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Qe(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new rC(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new iC(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Rl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Vv="SyncEngine";class Z6{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class J6{constructor(e){this.key=e,this.hu=!1}}class e5{constructor(e,n,i,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new uo((f=>wx(f)),Ad),this.Iu=new Map,this.Eu=new Set,this.du=new Ct(be.comparator),this.Au=new Map,this.Ru=new Sv,this.Vu={},this.mu=new Map,this.fu=Ml.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function t5(t,e,n=!0){const i=hC(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await aC(i,e,n,!0),a}async function n5(t,e){const n=hC(t);await aC(n,e,!0,!1)}async function aC(t,e,n,i){const a=await _6(t.localStore,gi(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let f;return i&&(f=await s5(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&Zx(t.remoteStore,a),f}async function s5(t,e,n,i,a){t.pu=(T,w,D)=>(async function(N,P,z,K){let F=P.view.ru(z);F.Cs&&(F=await zE(N.localStore,P.query,!1).then((({documents:x})=>P.view.ru(x,F))));const te=K&&K.targetChanges.get(P.targetId),B=K&&K.targetMismatches.get(P.targetId)!=null,G=P.view.applyChanges(F,N.isPrimaryClient,te,B);return XE(N,P.targetId,G.au),G.snapshot})(t,T,w,D);const l=await zE(t.localStore,e,!0),c=new X6(e,l.Qs),f=c.ru(l.documents),m=Bc.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),g=c.applyChanges(f,t.isPrimaryClient,m);XE(t,n,g.au);const y=new Z6(e,n,c);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function i5(t,e,n){const i=Ve(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!Ad(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await ly(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&Dv(i.remoteStore,a.targetId),hy(i,a.targetId)})).catch(Ll)):(hy(i,a.targetId),await ly(i.localStore,a.targetId,!0))}async function r5(t,e){const n=Ve(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Dv(n.remoteStore,i.targetId))}async function a5(t,e,n){const i=d5(t);try{const a=await(function(c,f){const m=Ve(c),g=_t.now(),y=f.reduce(((D,V)=>D.add(V.key)),Qe());let T,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let V=sr(),N=Qe();return m.Ns.getEntries(D,y).next((P=>{V=P,V.forEach(((z,K)=>{K.isValidDocument()||(N=N.add(z))}))})).next((()=>m.localDocuments.getOverlayedDocuments(D,V))).next((P=>{T=P;const z=[];for(const K of f){const F=v3(K,T.get(K.key).overlayedDocument);F!=null&&z.push(new co(K.key,F,gx(F.value.mapValue),Zi.exists(!0)))}return m.mutationQueue.addMutationBatch(D,g,z,f)})).next((P=>{w=P;const z=P.applyToLocalDocumentSet(T,N);return m.documentOverlayCache.saveOverlays(D,P.batchId,z)}))})).then((()=>({batchId:w.batchId,changes:xx(T)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,f,m){let g=c.Vu[c.currentUser.toKey()];g||(g=new Ct($e)),g=g.insert(f,m),c.Vu[c.currentUser.toKey()]=g})(i,a.batchId,n),await Fc(i,a.changes),await Id(i.remoteStore)}catch(a){const l=Ov(a,"Failed to persist write");n.reject(l)}}async function oC(t,e){const n=Ve(t);try{const i=await g6(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(st(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?st(c.hu,14607):a.removedDocuments.size>0&&(st(c.hu,42227),c.hu=!1))})),await Fc(n,i,e)}catch(i){await Ll(i)}}function QE(t,e,n){const i=Ve(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const m=Ve(c);m.onlineState=f;let g=!1;m.queries.forEach(((y,T)=>{for(const w of T.Sa)w.va(f)&&(g=!0)})),g&&kv(m)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function o5(t,e,n){const i=Ve(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new Ct(be.comparator);c=c.insert(l,En.newNoDocument(l,Ie.min()));const f=Qe().add(l),m=new Md(Ie.min(),new Map,new Ct($e),c,f);await oC(i,m),i.du=i.du.remove(l),i.Au.delete(e),Pv(i)}else await ly(i.localStore,e,!1).then((()=>hy(i,e,n))).catch(Ll)}async function l5(t,e){const n=Ve(t),i=e.batch.batchId;try{const a=await p6(n.localStore,e);uC(n,i,null),lC(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Fc(n,a)}catch(a){await Ll(a)}}async function u5(t,e,n){const i=Ve(t);try{const a=await(function(c,f){const m=Ve(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return m.mutationQueue.lookupMutationBatch(g,f).next((T=>(st(T!==null,37113),y=T.keys(),m.mutationQueue.removeMutationBatch(g,T)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,y,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>m.localDocuments.getDocuments(g,y)))}))})(i.localStore,e);uC(i,e,n),lC(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Fc(i,a)}catch(a){await Ll(a)}}function lC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function uC(t,e,n){const i=Ve(t);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function hy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||cC(t,i)}))}function cC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Dv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Pv(t))}function XE(t,e,n){for(const i of n)i instanceof iC?(t.Ru.addReference(i.key,e),c5(t,i)):i instanceof rC?(de(Vv,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||cC(t,i.key)):xe(19791,{wu:i})}function c5(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(de(Vv,"New document in limbo: "+n),t.Eu.add(i),Pv(t))}function Pv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new be(At.fromString(e)),i=t.fu.next();t.Au.set(i,new J6(n)),t.du=t.du.insert(n,i),Zx(t.remoteStore,new Kr(gi(_v(n.path)),i,"TargetPurposeLimboResolution",bd.ce))}}async function Fc(t,e,n){const i=Ve(t),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,m)=>{c.push(i.pu(m,e,n).then((g=>{if((g||n)&&i.isPrimaryClient){const y=g?!g.fromCache:n?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(g){a.push(g);const y=xv.As(m.targetId,g);l.push(y)}})))})),await Promise.all(c),i.Pu.H_(a),await(async function(m,g){const y=Ve(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>re.forEach(g,(w=>re.forEach(w.Es,(D=>y.persistence.referenceDelegate.addReference(T,w.targetId,D))).next((()=>re.forEach(w.ds,(D=>y.persistence.referenceDelegate.removeReference(T,w.targetId,D)))))))))}catch(T){if(!Ul(T))throw T;de(Cv,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const D=y.Ms.get(w),V=D.snapshotVersion,N=D.withLastLimboFreeSnapshotVersion(V);y.Ms=y.Ms.insert(w,N)}}})(i.localStore,l))}async function h5(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){de(Vv,"User change. New user:",e.toKey());const i=await Kx(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new ve(ae.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Fc(n,i.Ls)}}function f5(t,e){const n=Ve(t),i=n.Au.get(e);if(i&&i.hu)return Qe().add(i.key);{let a=Qe();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const f=n.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function hC(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=f5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=o5.bind(null,e),e.Pu.H_=K6.bind(null,e.eventManager),e.Pu.yu=$6.bind(null,e.eventManager),e}function d5(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=l5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=u5.bind(null,e),e}class od{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return m6(this.persistence,new h6,e.initialUser,this.serializer)}Cu(e){return new Wx(Av.mi,this.serializer)}Du(e){return new b6}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}od.provider={build:()=>new od};class m5 extends od{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){st(this.persistence.referenceDelegate instanceof rd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Q3(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new Wx((i=>rd.mi(i,n)),this.serializer)}}class fy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>QE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=h5.bind(null,this.syncEngine),await H6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new G6})()}createDatastore(e){const n=Rd(e.databaseInfo.databaseId),i=(function(l){return new x6(l)})(e.databaseInfo);return(function(l,c,f,m){return new R6(l,c,f,m)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,c,f){return new I6(i,a,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>QE(this.syncEngine,n,0)),(function(){return qE.v()?new qE:new E6})())}createSyncEngine(e,n){return(function(a,l,c,f,m,g,y){const T=new e5(a,l,c,f,m,g);return y&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Ve(n);de(ro,"RemoteStore shutting down."),i.Ea.add(5),await zc(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}fy.provider={build:()=>new fy};class p5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):nr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const aa="FirestoreClient";class g5{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=bn.UNAUTHENTICATED,this.clientId=fv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{de(aa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(de(aa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Za;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Ov(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function hg(t,e){t.asyncQueue.verifyOperationInProgress(),de(aa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await Kx(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function ZE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await y5(t);de(aa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>YE(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>YE(e.remoteStore,a))),t._onlineComponents=e}async function y5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de(aa,"Using user provided OfflineComponentProvider");try{await hg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ae.FAILED_PRECONDITION||a.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Al("Error using user provided cache. Falling back to memory cache: "+n),await hg(t,new od)}}else de(aa,"Using default OfflineComponentProvider"),await hg(t,new m5(void 0));return t._offlineComponents}async function fC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de(aa,"Using user provided OnlineComponentProvider"),await ZE(t,t._uninitializedComponentsProvider._online)):(de(aa,"Using default OnlineComponentProvider"),await ZE(t,new fy))),t._onlineComponents}function v5(t){return fC(t).then((e=>e.syncEngine))}async function JE(t){const e=await fC(t),n=e.eventManager;return n.onListen=t5.bind(null,e.syncEngine),n.onUnlisten=i5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=n5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=r5.bind(null,e.syncEngine),n}function dC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const ew=new Map;const mC="firestore.googleapis.com",tw=!0;class nw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mC,this.ssl=tw}else this.host=e.host,this.ssl=e.ssl??tw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Yx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<K3)throw new ve(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Nj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dC(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ve(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ve(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ve(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jv{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new Tj;switch(i.type){case"firstParty":return new Sj(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=ew.get(n);i&&(de("ComponentProvider","Removing Datastore"),ew.delete(n),i.terminate())})(this),Promise.resolve()}}function _5(t,e,n,i={}){t=gl(t,jv);const a=Vl(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(qA(`https://${f}`),GA("Firestore",!0)),l.host!==mC&&l.host!==f&&Al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:i};if(!no(m,c)&&(t._setSettings(m),i.mockUserToken)){let g,y;if(typeof i.mockUserToken=="string")g=i.mockUserToken,y=bn.MOCK_USER;else{g=W4(i.mockUserToken,t._app?.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new ve(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new bn(T)}t._authCredentials=new bj(new rx(g,y))}}class Od{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Od(this.firestore,e,this._query)}}class ln{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}toJSON(){return{type:ln._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Lc(n,ln._jsonSchema))return new ln(e,i||null,new be(At.fromString(n.referencePath)))}}ln._jsonSchemaVersion="firestore/documentReference/1.0",ln._jsonSchema={type:Qt("string",ln._jsonSchemaVersion),referencePath:Qt("string")};class Dc extends Od{constructor(e,n,i){super(e,n,_v(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new be(e))}withConverter(e){return new Dc(this.firestore,e,this._path)}}function dy(t,e,...n){if(t=es(t),arguments.length===1&&(e=fv.newId()),Rj("doc","path",e),t instanceof jv){const i=At.fromString(e,...n);return pE(i),new ln(t,null,new be(i))}{if(!(t instanceof ln||t instanceof Dc))throw new ve(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(At.fromString(e,...n));return pE(i),new ln(t.firestore,t instanceof Dc?t.converter:null,new be(i))}}const sw="AsyncQueue";class iw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Qx(this,"async_queue_retry"),this._c=()=>{const i=cg();i&&de(sw,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=cg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=cg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Za;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ul(e))throw e;de(sw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,nr("INTERNAL UNHANDLED ERROR: ",rw(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Iv.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&xe(47125,{Pc:rw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function rw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function aw(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class ld extends jv{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new iw,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iw(e),this._firestoreClient=void 0,await e}}}function T5(t,e){const n=typeof t=="object"?t:$A(),i=typeof t=="string"?t:Zf,a=cv(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=G4("firestore");l&&_5(a,...l)}return a}function pC(t){if(t._terminated)throw new ve(ae.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||b5(t),t._firestoreClient}function b5(t){const e=t._freezeSettings(),n=(function(a,l,c,f){return new Fj(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,dC(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new g5(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class vs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vs(vn.fromBase64String(e))}catch(n){throw new ve(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vs(vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lc(e,vs._jsonSchema))return vs.fromBase64String(e.bytes)}}vs._jsonSchemaVersion="firestore/bytes/1.0",vs._jsonSchema={type:Qt("string",vs._jsonSchemaVersion),bytes:Qt("string")};class Lv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gC{constructor(e){this._methodName=e}}class vi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vi._jsonSchemaVersion}}static fromJSON(e){if(Lc(e,vi._jsonSchema))return new vi(e.latitude,e.longitude)}}vi._jsonSchemaVersion="firestore/geoPoint/1.0",vi._jsonSchema={type:Qt("string",vi._jsonSchemaVersion),latitude:Qt("number"),longitude:Qt("number")};class _i{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:_i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lc(e,_i._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new _i(e.vectorValues);throw new ve(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_i._jsonSchemaVersion="firestore/vectorValue/1.0",_i._jsonSchema={type:Qt("string",_i._jsonSchemaVersion),vectorValues:Qt("object")};const E5=/^__.*__$/;class w5{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new co(e,this.data,this.fieldMask,n,this.fieldTransforms):new Uc(e,this.data,n,this.fieldTransforms)}}function yC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:t})}}class Uv{constructor(e,n,i,a,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Uv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ud(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(yC(this.Ac)&&E5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class S5{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Rd(e)}Cc(e,n,i,a=!1){return new Uv({Ac:e,methodName:n,Dc:i,path:yn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function A5(t){const e=t._freezeSettings(),n=Rd(t._databaseId);return new S5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function x5(t,e,n,i,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);bC("Data must be an object, but it was:",c,i);const f=_C(i,c);let m,g;if(l.merge)m=new Us(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const T of l.mergeFields){const w=C5(e,T,n);if(!c.contains(w))throw new ve(ae.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);M5(y,w)||y.push(w)}m=new Us(y),g=c.fieldTransforms.filter((T=>m.covers(T.field)))}else m=null,g=c.fieldTransforms;return new w5(new ys(f),m,g)}function vC(t,e){if(TC(t=es(t)))return bC("Unsupported field value:",e,t),_C(t,e);if(t instanceof gC)return(function(i,a){if(!yC(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const f of i){let m=vC(f,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=es(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return f3(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=_t.fromDate(i);return{timestampValue:id(a.serializer,l)}}if(i instanceof _t){const l=new _t(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:id(a.serializer,l)}}if(i instanceof vi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof vs)return{bytesValue:Ux(a.serializer,i._byteString)};if(i instanceof ln){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:wv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof _i)return(function(c,f){return{mapValue:{fields:{[mx]:{stringValue:px},[Jf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw f.Sc("VectorValues must only contain numeric values.");return Tv(f.serializer,g)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${dv(i)}`)})(t,e)}function _C(t,e){const n={};return lx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lo(t,((i,a)=>{const l=vC(a,e.mc(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function TC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof vi||t instanceof vs||t instanceof ln||t instanceof gC||t instanceof _i)}function bC(t,e,n){if(!TC(n)||!ax(n)){const i=dv(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function C5(t,e,n){if((e=es(e))instanceof Lv)return e._internalPath;if(typeof e=="string")return EC(t,e);throw ud("Field path arguments must be of type string or ",t,!1,void 0,n)}const D5=new RegExp("[~\\*/\\[\\]]");function EC(t,e,n){if(e.search(D5)>=0)throw ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Lv(...e.split("."))._internalPath}catch{throw ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ud(t,e,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new ve(ae.INVALID_ARGUMENT,f+t+m)}function M5(t,e){return t.some((n=>n.isEqual(e)))}class wC{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new R5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(SC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class R5 extends wC{data(){return super.data()}}function SC(t,e){return typeof e=="string"?EC(t,e):e instanceof Lv?e._internalPath:e._delegate._internalPath}function N5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class I5{convertValue(e,n="none"){switch(ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(sa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return lo(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){const n=e.fields?.[Jf].arrayValue?.values?.map((i=>Lt(i.doubleValue)));return new _i(n)}convertGeoPoint(e){return new vi(Lt(e.latitude),Lt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=wd(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(wc(e));default:return null}}convertTimestamp(e){const n=na(e);return new _t(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=At.fromString(e);st(Gx(i),9688,{name:e});const a=new Sc(i.get(1),i.get(3)),l=new be(i.popFirst(5));return a.isEqual(n)||nr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function O5(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class Zu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ja extends wC{constructor(e,n,i,a,l,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(SC("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ja._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ja._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ja._jsonSchema={type:Qt("string",Ja._jsonSchemaVersion),bundleSource:Qt("string","DocumentSnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class Lf extends Ja{data(e={}){return super.data(e)}}class vl{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Zu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Lf(this._firestore,this._userDataWriter,i.key,i,new Zu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const m=new Lf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Zu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new Lf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Zu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,y=-1;return f.type!==0&&(g=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:k5(f.type),doc:m,oldIndex:g,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function k5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:t})}}vl._jsonSchemaVersion="firestore/querySnapshot/1.0",vl._jsonSchema={type:Qt("string",vl._jsonSchemaVersion),bundleSource:Qt("string","QuerySnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class AC extends I5{constructor(e){super(),this.firestore=e}convertBytes(e){return new vs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,n)}}function xC(t,e,n){t=gl(t,ln);const i=gl(t.firestore,ld),a=O5(t.converter,e,n);return P5(i,[x5(A5(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Zi.none())])}function V5(t,...e){t=es(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||aw(e[i])||(n=e[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(aw(e[i])){const m=e[i];e[i]=m.next?.bind(m),e[i+1]=m.error?.bind(m),e[i+2]=m.complete?.bind(m)}let l,c,f;if(t instanceof ln)c=gl(t.firestore,ld),f=_v(t._key.path),l={next:m=>{e[i]&&e[i](j5(c,t,m))},error:e[i+1],complete:e[i+2]};else{const m=gl(t,Od);c=gl(m.firestore,ld),f=m._query;const g=new AC(c);l={next:y=>{e[i]&&e[i](new vl(c,g,m,y))},error:e[i+1],complete:e[i+2]},N5(t._query)}return(function(g,y,T,w){const D=new p5(w),V=new Q6(y,D,T);return g.asyncQueue.enqueueAndForget((async()=>Y6(await JE(g),V))),()=>{D.Nu(),g.asyncQueue.enqueueAndForget((async()=>W6(await JE(g),V)))}})(pC(c),f,a,l)}function P5(t,e){return(function(i,a){const l=new Za;return i.asyncQueue.enqueueAndForget((async()=>a5(await v5(i),a,l))),l.promise})(pC(t),e)}function j5(t,e,n){const i=n.docs.get(e._key),a=new AC(t);return new Ja(t,a,e._key,i,new Zu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){jl=a})(Pl),Sl(new so("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new ld(new Ej(i.getProvider("auth-internal")),new Aj(c,i.getProvider("app-check-internal")),(function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ve(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sc(g.options.projectId,y)})(c,a),c);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Xr(hE,fE,e),Xr(hE,fE,"esm2020")})();function CC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const L5=CC,DC=new Pc("auth","Firebase",CC());const cd=new lv("@firebase/auth");function U5(t,...e){cd.logLevel<=Ke.WARN&&cd.warn(`Auth (${Pl}): ${t}`,...e)}function Uf(t,...e){cd.logLevel<=Ke.ERROR&&cd.error(`Auth (${Pl}): ${t}`,...e)}function wi(t,...e){throw zv(t,...e)}function Fs(t,...e){return zv(t,...e)}function Bv(t,e,n){const i={...L5(),[e]:n};return new Pc("auth","Firebase",i).create(e,{appName:t.name})}function eo(t){return Bv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function B5(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&wi(t,"argument-error"),Bv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zv(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return DC.create(t,...e)}function Me(t,e,...n){if(!t)throw zv(e,...n)}function Wi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Uf(e),new Error(e)}function ir(t,e){t||Wi(e)}function my(){return typeof self<"u"&&self.location?.href||""}function z5(){return ow()==="http:"||ow()==="https:"}function ow(){return typeof self<"u"&&self.location?.protocol||null}function F5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(z5()||J4()||"connection"in navigator)?navigator.onLine:!0}function H5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Hc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ir(n>e,"Short delay should be less than long delay!"),this.isMobile=Q4()||eP()}get(){return F5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Fv(t,e){ir(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class MC{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const q5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const G5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Y5=new Hc(3e4,6e4);function Hv(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function zl(t,e,n,i,a={}){return RC(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const f=jc({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:m,...l};return Z4()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&Vl(t.emulatorConfig.host)&&(g.credentials="include"),MC.fetch()(await NC(t,t.config.apiHost,n,f),g)})}async function RC(t,e,n){t._canInitEmulator=!1;const i={...q5,...e};try{const a=new K5(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Cf(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,g]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cf(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Cf(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw Cf(t,"user-disabled",c);const y=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Bv(t,y,g);wi(t,y)}}catch(a){if(a instanceof rr)throw a;wi(t,"network-request-failed",{message:String(a)})}}async function W5(t,e,n,i,a={}){const l=await zl(t,e,n,i,a);return"mfaPendingCredential"in l&&wi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function NC(t,e,n,i){const a=`${e}${n}?${i}`,l=t,c=l.config.emulator?Fv(t.config,a):`${t.config.apiScheme}://${a}`;return G5.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class K5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Fs(this.auth,"network-request-failed")),Y5.get())})}}function Cf(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Fs(t,e,i);return a.customData._tokenResponse=n,a}async function $5(t,e){return zl(t,"POST","/v1/accounts:delete",e)}async function hd(t,e){return zl(t,"POST","/v1/accounts:lookup",e)}function uc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Q5(t,e=!1){const n=es(t),i=await n.getIdToken(e),a=qv(i);Me(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:uc(fg(a.auth_time)),issuedAtTime:uc(fg(a.iat)),expirationTime:uc(fg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function fg(t){return Number(t)*1e3}function qv(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Uf("JWT malformed, contained fewer than 3 sections"),null;try{const a=BA(n);return a?JSON.parse(a):(Uf("Failed to decode base64 JWT payload"),null)}catch(a){return Uf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function lw(t){const e=qv(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Mc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof rr&&X5(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function X5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class Z5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class py{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=uc(this.lastLoginAt),this.creationTime=uc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function fd(t){const e=t.auth,n=await t.getIdToken(),i=await Mc(t,hd(e,{idToken:n}));Me(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?IC(a.providerUserInfo):[],c=eL(t.providerData,l),f=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!c?.length,g=f?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new py(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function J5(t){const e=es(t);await fd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eL(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function IC(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function tL(t,e){const n=await RC(t,{},async()=>{const i=jc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await NC(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:i};return t.emulatorConfig&&Vl(t.emulatorConfig.host)&&(m.credentials="include"),MC.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nL(t,e){return zl(t,"POST","/v2/accounts:revokeToken",Hv(t,e))}class _l{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=lw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await tL(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new _l;return i&&(Me(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Me(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Me(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _l,this.toJSON())}_performRefresh(){return Wi("not implemented")}}function Hr(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Bs{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new Z5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new py(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Mc(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Q5(this,e)}reload(){return J5(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Bs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await fd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(js(this.auth.app))return Promise.reject(eo(this.auth));const e=await this.getIdToken();return await Mc(this,$5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:D,providerData:V,stsTokenManager:N}=n;Me(T&&N,e,"internal-error");const P=_l.fromJSON(this.name,N);Me(typeof T=="string",e,"internal-error"),Hr(i,e.name),Hr(a,e.name),Me(typeof w=="boolean",e,"internal-error"),Me(typeof D=="boolean",e,"internal-error"),Hr(l,e.name),Hr(c,e.name),Hr(f,e.name),Hr(m,e.name),Hr(g,e.name),Hr(y,e.name);const z=new Bs({uid:T,auth:e,email:a,emailVerified:w,displayName:i,isAnonymous:D,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:P,createdAt:g,lastLoginAt:y});return V&&Array.isArray(V)&&(z.providerData=V.map(K=>({...K}))),m&&(z._redirectEventId=m),z}static async _fromIdTokenResponse(e,n,i=!1){const a=new _l;a.updateFromServerResponse(n);const l=new Bs({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await fd(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Me(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?IC(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,f=new _l;f.updateFromIdToken(i);const m=new Bs({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new py(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}const uw=new Map;function Ki(t){ir(t instanceof Function,"Expected a class definition");let e=uw.get(t);return e?(ir(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,uw.set(t,e),e)}class OC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}OC.type="NONE";const cw=OC;function Bf(t,e,n){return`firebase:${t}:${e}:${n}`}class Tl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Bf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Bf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await hd(this.auth,{idToken:e}).catch(()=>{});return n?Bs._fromGetAccountInfoResponse(this.auth,n,e):null}return Bs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Tl(Ki(cw),e,i);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Ki(cw);const c=Bf(i,e.config.apiKey,e.name);let f=null;for(const g of n)try{const y=await g._get(c);if(y){let T;if(typeof y=="string"){const w=await hd(e,{idToken:y}).catch(()=>{});if(!w)break;T=await Bs._fromGetAccountInfoResponse(e,w,y)}else T=Bs._fromJSON(e,y);g!==l&&(f=T),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Tl(l,e,i):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Tl(l,e,i))}}function hw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UC(e))return"Blackberry";if(BC(e))return"Webos";if(VC(e))return"Safari";if((e.includes("chrome/")||PC(e))&&!e.includes("edge/"))return"Chrome";if(LC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function kC(t=Sn()){return/firefox\//i.test(t)}function VC(t=Sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PC(t=Sn()){return/crios\//i.test(t)}function jC(t=Sn()){return/iemobile/i.test(t)}function LC(t=Sn()){return/android/i.test(t)}function UC(t=Sn()){return/blackberry/i.test(t)}function BC(t=Sn()){return/webos/i.test(t)}function Gv(t=Sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sL(t=Sn()){return Gv(t)&&!!window.navigator?.standalone}function iL(){return tP()&&document.documentMode===10}function zC(t=Sn()){return Gv(t)||LC(t)||BC(t)||UC(t)||/windows phone/i.test(t)||jC(t)}function FC(t,e=[]){let n;switch(t){case"Browser":n=hw(Sn());break;case"Worker":n=`${hw(Sn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Pl}/${i}`}class rL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function aL(t,e={}){return zl(t,"GET","/v2/passwordPolicy",Hv(t,e))}const oL=6;class lL{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??oL,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class uL{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fw(this),this.idTokenSubscription=new fw(this),this.beforeStateQueue=new rL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ki(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Tl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hd(this,{idToken:e}),i=await Bs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(js(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&f?.user&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=H5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(js(this.app))return Promise.reject(eo(this));const n=e?es(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return js(this.app)?Promise.reject(eo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return js(this.app)?Promise.reject(eo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aL(this),n=new lL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Pc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await nL(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ki(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await Tl.create(this,[Ki(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,i,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(js(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&U5(`Error while retrieving App Check token: ${e.error}`),e?.token}}function kd(t){return es(t)}class fw{constructor(e){this.auth=e,this.observer=null,this.addObserver=uP(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Yv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cL(t){Yv=t}function hL(t){return Yv.loadJS(t)}function fL(){return Yv.gapiScript}function dL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function mL(t,e){const n=cv(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(no(l,e??{}))return a;wi(a,"already-initialized")}return n.initialize({options:e})}function pL(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Ki);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function gL(t,e,n){const i=kd(t);Me(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=HC(e),{host:c,port:f}=yL(e),m=f===null?"":`:${f}`,g={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Me(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Me(no(g,i.config.emulator)&&no(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,Vl(c)?(qA(`${l}//${c}${m}`),GA("Auth",!0)):vL()}function HC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function yL(t){const e=HC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:dw(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:dw(c)}}}function dw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function vL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class qC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wi("not implemented")}_getIdTokenResponse(e){return Wi("not implemented")}_linkToIdToken(e,n){return Wi("not implemented")}_getReauthenticationResolver(e){return Wi("not implemented")}}async function bl(t,e){return W5(t,"POST","/v1/accounts:signInWithIdp",Hv(t,e))}const _L="http://localhost";class ao extends qC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ao(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const c=new ao(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return bl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,bl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bl(e,n)}buildRequest(){const e={requestUri:_L,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=jc(n)}return e}}class Wv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class qc extends Wv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Gr extends qc{constructor(){super("facebook.com")}static credential(e){return ao._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gr.credential(e.oauthAccessToken)}catch{return null}}}Gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gr.PROVIDER_ID="facebook.com";class Yi extends qc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ao._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Yi.credential(n,i)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";class Yr extends qc{constructor(){super("github.com")}static credential(e){return ao._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.GITHUB_SIGN_IN_METHOD="github.com";Yr.PROVIDER_ID="github.com";class Wr extends qc{constructor(){super("twitter.com")}static credential(e,n){return ao._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Wr.credential(n,i)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";class Nl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await Bs._fromIdTokenResponse(e,i,a),c=mw(i);return new Nl({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=mw(i);return new Nl({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function mw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class dd extends rr{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,dd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new dd(e,n,i,a)}}function GC(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?dd._fromErrorAndOperation(t,l,e,i):l})}async function TL(t,e,n=!1){const i=await Mc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Nl._forOperation(t,"link",i)}async function bL(t,e,n=!1){const{auth:i}=t;if(js(i.app))return Promise.reject(eo(i));const a="reauthenticate";try{const l=await Mc(t,GC(i,a,e,t),n);Me(l.idToken,i,"internal-error");const c=qv(l.idToken);Me(c,i,"internal-error");const{sub:f}=c;return Me(t.uid===f,i,"user-mismatch"),Nl._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&wi(i,"user-mismatch"),l}}async function EL(t,e,n=!1){if(js(t.app))return Promise.reject(eo(t));const i="signIn",a=await GC(t,i,e),l=await Nl._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}function wL(t,e,n,i){return es(t).onIdTokenChanged(e,n,i)}function SL(t,e,n){return es(t).beforeAuthStateChanged(e,n)}function AL(t,e,n,i){return es(t).onAuthStateChanged(e,n,i)}function xL(t){return es(t).signOut()}const md="__sak";class YC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(md,"1"),this.storage.removeItem(md),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const CL=1e3,DL=10;class WC extends YC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);iL()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,DL):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},CL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}WC.type="LOCAL";const ML=WC;class KC extends YC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}KC.type="SESSION";const $C=KC;function RL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Vd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Vd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(c).map(async g=>g(n.origin,l)),m=await RL(f);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vd.receivers=[];function Kv(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}class NL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const g=Kv("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(w.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Ti(){return window}function IL(t){Ti().location.href=t}function QC(){return typeof Ti().WorkerGlobalScope<"u"&&typeof Ti().importScripts=="function"}async function OL(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kL(){return navigator?.serviceWorker?.controller||null}function VL(){return QC()?self:null}const XC="firebaseLocalStorageDb",PL=1,pd="firebaseLocalStorage",ZC="fbase_key";class Gc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Pd(t,e){return t.transaction([pd],e?"readwrite":"readonly").objectStore(pd)}function jL(){const t=indexedDB.deleteDatabase(XC);return new Gc(t).toPromise()}function gy(){const t=indexedDB.open(XC,PL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(pd,{keyPath:ZC})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(pd)?e(i):(i.close(),await jL(),e(await gy()))})})}async function pw(t,e,n){const i=Pd(t,!0).put({[ZC]:e,value:n});return new Gc(i).toPromise()}async function LL(t,e){const n=Pd(t,!1).get(e),i=await new Gc(n).toPromise();return i===void 0?null:i.value}function gw(t,e){const n=Pd(t,!0).delete(e);return new Gc(n).toPromise()}const UL=800,BL=3;class JC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>BL)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vd._getInstance(VL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await OL(),!this.activeServiceWorker)return;this.sender=new NL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gy();return await pw(e,md,"1"),await gw(e,md),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>pw(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>LL(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>gw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Pd(a,!1).getAll();return new Gc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JC.type="LOCAL";const zL=JC;new Hc(3e4,6e4);function eD(t,e){return e?Ki(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class $v extends qC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function FL(t){return EL(t.auth,new $v(t),t.bypassAuthState)}function HL(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),bL(n,new $v(t),t.bypassAuthState)}async function qL(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),TL(n,new $v(t),t.bypassAuthState)}class tD{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FL;case"linkViaPopup":case"linkViaRedirect":return qL;case"reauthViaPopup":case"reauthViaRedirect":return HL;default:wi(this.auth,"internal-error")}}resolve(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const GL=new Hc(2e3,1e4);async function YL(t,e,n){if(js(t.app))return Promise.reject(Fs(t,"operation-not-supported-in-this-environment"));const i=kd(t);B5(t,e,Wv);const a=eD(i,n);return new Ka(i,"signInViaPopup",e,a).executeNotNull()}class Ka extends tD{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Ka.currentPopupAction&&Ka.currentPopupAction.cancel(),Ka.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){ir(this.filter.length===1,"Popup operations only handle one event");const e=Kv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Fs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ka.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GL.get())};e()}}Ka.currentPopupAction=null;const WL="pendingRedirect",zf=new Map;class KL extends tD{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=zf.get(this.auth._key());if(!e){try{const i=await $L(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}zf.set(this.auth._key(),e)}return this.bypassAuthState||zf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $L(t,e){const n=ZL(e),i=XL(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function QL(t,e){zf.set(t._key(),e)}function XL(t){return Ki(t._redirectPersistence)}function ZL(t){return Bf(WL,t.config.apiKey,t.name)}async function JL(t,e,n=!1){if(js(t.app))return Promise.reject(eo(t));const i=kd(t),a=eD(i,e),c=await new KL(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const e9=600*1e3;class t9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!n9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!nD(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Fs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=e9&&this.cachedEventUids.clear(),this.cachedEventUids.has(yw(e))}saveEventToCache(e){this.cachedEventUids.add(yw(e)),this.lastProcessedEventTime=Date.now()}}function yw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function nD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function n9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nD(t);default:return!1}}async function s9(t,e={}){return zl(t,"GET","/v1/projects",e)}const i9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r9=/^https?/;async function a9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await s9(t);for(const n of e)try{if(o9(n))return}catch{}wi(t,"unauthorized-domain")}function o9(t){const e=my(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!r9.test(n))return!1;if(i9.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const l9=new Hc(3e4,6e4);function vw(){const t=Ti().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function u9(t){return new Promise((e,n)=>{function i(){vw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vw(),n(Fs(t,"network-request-failed"))},timeout:l9.get()})}if(Ti().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ti().gapi?.load)i();else{const a=dL("iframefcb");return Ti()[a]=()=>{gapi.load?i():n(Fs(t,"network-request-failed"))},hL(`${fL()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ff=null,e})}let Ff=null;function c9(t){return Ff=Ff||u9(t),Ff}const h9=new Hc(5e3,15e3),f9="__/auth/iframe",d9="emulator/auth/iframe",m9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g9(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Fv(e,d9):`https://${t.config.authDomain}/${f9}`,i={apiKey:e.apiKey,appName:t.name,v:Pl},a=p9.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${jc(i).slice(1)}`}async function y9(t){const e=await c9(t),n=Ti().gapi;return Me(n,t,"internal-error"),e.open({where:document.body,url:g9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:m9,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Fs(t,"network-request-failed"),f=Ti().setTimeout(()=>{l(c)},h9.get());function m(){Ti().clearTimeout(f),a(i)}i.ping(m).then(m,()=>{l(c)})}))}const v9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_9=500,T9=600,b9="_blank",E9="http://localhost";class _w{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function w9(t,e,n,i=_9,a=T9){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const m={...v9,width:i.toString(),height:a.toString(),top:l,left:c},g=Sn().toLowerCase();n&&(f=PC(g)?b9:n),kC(g)&&(e=e||E9,m.scrollbars="yes");const y=Object.entries(m).reduce((w,[D,V])=>`${w}${D}=${V},`,"");if(sL(g)&&f!=="_self")return S9(e||"",f),new _w(null);const T=window.open(e||"",f,y);Me(T,t,"popup-blocked");try{T.focus()}catch{}return new _w(T)}function S9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const A9="__/auth/handler",x9="emulator/auth/handler",C9=encodeURIComponent("fac");async function Tw(t,e,n,i,a,l){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Pl,eventId:a};if(e instanceof Wv){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",lP(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,T]of Object.entries({}))c[y]=T}if(e instanceof qc){const y=e.getScopes().filter(T=>T!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await t._getAppCheckToken(),g=m?`#${C9}=${encodeURIComponent(m)}`:"";return`${D9(t)}?${jc(f).slice(1)}${g}`}function D9({config:t}){return t.emulator?Fv(t,x9):`https://${t.authDomain}/${A9}`}const dg="webStorageSupport";class M9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$C,this._completeRedirectFn=JL,this._overrideRedirectResult=QL}async _openPopup(e,n,i,a){ir(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Tw(e,n,i,my(),a);return w9(e,l,Kv())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await Tw(e,n,i,my(),a);return IL(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(ir(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await y9(e),i=new t9(e);return n.register("authEvent",a=>(Me(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dg,{type:dg},a=>{const l=a?.[0]?.[dg];l!==void 0&&n(!!l),wi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=a9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zC()||VC()||Gv()}}const R9=M9;var bw="@firebase/auth",Ew="1.11.1";class N9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function I9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function O9(t){Sl(new so("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;Me(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FC(t)},g=new uL(i,a,l,m);return pL(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Sl(new so("auth-internal",e=>{const n=kd(e.getProvider("auth").getImmediate());return(i=>new N9(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(bw,Ew,I9(t)),Xr(bw,Ew,"esm2020")}const k9=300,V9=HA("authIdTokenMaxAge")||k9;let ww=null;const P9=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>V9)return;const a=n?.token;ww!==a&&(ww=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function j9(t=$A()){const e=cv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=mL(t,{popupRedirectResolver:R9,persistence:[zL,ML,$C]}),i=HA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=P9(l.toString());SL(n,c,()=>c(n.currentUser)),wL(n,f=>c(f))}}const a=zA("auth");return a&&gL(n,`http://${a}`),n}function L9(){return document.getElementsByTagName("head")?.[0]??document}cL({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Fs("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",L9().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});O9("Browser");var U9="firebase",B9="12.6.0";Xr(U9,B9,"app");const z9={apiKey:"AIzaSyC0wgzVQ1XVJkQlLisLTGeyLHP_RV3ectk",authDomain:"me-u-5ab65.firebaseapp.com",projectId:"me-u-5ab65",storageBucket:"me-u-5ab65.appspot.com",messagingSenderId:"359943167809",appId:"1:359943167809:web:95c5ce6d43740448524bc0"},sD=KA(z9),yy=T5(sD),vy=j9(sD);function F9(t,e,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:t,timeZoneName:n}).format(e).split(/\s/g).slice(2).join(" ")}const H9={},Ju={};function $a(t,e){try{const i=(H9[t]||=new Intl.DateTimeFormat("en-US",{timeZone:t,timeZoneName:"longOffset"}).format)(e).split("GMT")[1];return i in Ju?Ju[i]:Sw(i,i.split(":"))}catch{if(t in Ju)return Ju[t];const n=t?.match(q9);return n?Sw(t,n.slice(1)):NaN}}const q9=/([+-]\d\d):?(\d\d)?/;function Sw(t,e){const n=+(e[0]||0),i=+(e[1]||0),a=+(e[2]||0)/60;return Ju[t]=n*60+i>0?n*60+i+a:n*60-i-a}class di extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN($a(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),iD(this),_y(this)):this.setTime(Date.now())}static tz(e,...n){return n.length?new di(...n,e):new di(Date.now(),e)}withTimeZone(e){return new di(+this,e)}getTimezoneOffset(){const e=-$a(this.timeZone,this);return e>0?Math.floor(e):Math.ceil(e)}setTime(e){return Date.prototype.setTime.apply(this,arguments),_y(this),+this}[Symbol.for("constructDateFrom")](e){return new di(+new Date(e),this.timeZone)}}const Aw=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!Aw.test(t))return;const e=t.replace(Aw,"$1UTC");di.prototype[e]&&(t.startsWith("get")?di.prototype[t]=function(){return this.internal[e]()}:(di.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),G9(this),+this},di.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),_y(this),+this}))});function _y(t){t.internal.setTime(+t),t.internal.setUTCSeconds(t.internal.getUTCSeconds()-Math.round(-$a(t.timeZone,t)*60))}function G9(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),iD(t)}function iD(t){const e=$a(t.timeZone,t),n=e>0?Math.floor(e):Math.ceil(e),i=new Date(+t);i.setUTCHours(i.getUTCHours()-1);const a=-new Date(+t).getTimezoneOffset(),l=-new Date(+i).getTimezoneOffset(),c=a-l,f=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();c&&f&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+c);const m=a-n;m&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+m);const g=new Date(+t);g.setUTCSeconds(0);const y=a>0?g.getSeconds():(g.getSeconds()-60)%60,T=Math.round(-($a(t.timeZone,t)*60))%60;(T||y)&&(t.internal.setUTCSeconds(t.internal.getUTCSeconds()+T),Date.prototype.setUTCSeconds.call(t,Date.prototype.getUTCSeconds.call(t)+T+y));const w=$a(t.timeZone,t),D=w>0?Math.floor(w):Math.ceil(w),N=-new Date(+t).getTimezoneOffset()-D,P=D!==n,z=N-m;if(P&&z){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+z);const K=$a(t.timeZone,t),F=K>0?Math.floor(K):Math.ceil(K),te=D-F;te&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+te),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+te))}}class $i extends di{static tz(e,...n){return n.length?new $i(...n,e):new $i(Date.now(),e)}toISOString(){const[e,n,i]=this.tzComponents(),a=`${e}${n}:${i}`;return this.internal.toISOString().slice(0,-1)+a}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,n,i,a]=this.internal.toUTCString().split(" ");return`${e?.slice(0,-1)} ${i} ${n} ${a}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[n,i,a]=this.tzComponents();return`${e} GMT${n}${i}${a} (${F9(this.timeZone,this)})`}toLocaleString(e,n){return Date.prototype.toLocaleString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleDateString(e,n){return Date.prototype.toLocaleDateString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleTimeString(e,n){return Date.prototype.toLocaleTimeString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),n=e>0?"-":"+",i=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),a=String(Math.abs(e)%60).padStart(2,"0");return[n,i,a]}withTimeZone(e){return new $i(+this,e)}[Symbol.for("constructDateFrom")](e){return new $i(+new Date(e),this.timeZone)}}const xw=5,Y9=4;function W9(t,e){const n=e.startOfMonth(t),i=n.getDay()>0?n.getDay():7,a=e.addDays(t,-i+1),l=e.addDays(a,xw*7-1);return e.getMonth(t)===e.getMonth(l)?xw:Y9}function rD(t,e){const n=e.startOfMonth(t),i=n.getDay();return i===1?n:i===0?e.addDays(n,-6):e.addDays(n,-1*(i-1))}function K9(t,e){const n=rD(t,e),i=W9(t,e);return e.addDays(n,i*7-1)}const aD={...il,labels:{labelDayButton:(t,e,n,i)=>{let a;i&&typeof i.format=="function"?a=i.format.bind(i):a=(c,f)=>qe(c,f,{locale:il,...n});let l=a(t,"PPPP");return e.today&&(l=`Today, ${l}`),e.selected&&(l=`${l}, selected`),l},labelMonthDropdown:"Choose the Month",labelNext:"Go to the Next Month",labelPrevious:"Go to the Previous Month",labelWeekNumber:t=>`Week ${t}`,labelYearDropdown:"Choose the Year",labelGrid:(t,e,n)=>{let i;return n&&typeof n.format=="function"?i=n.format.bind(n):i=(a,l)=>qe(a,l,{locale:il,...e}),i(t,"LLLL yyyy")},labelGridcell:(t,e,n,i)=>{let a;i&&typeof i.format=="function"?a=i.format.bind(i):a=(c,f)=>qe(c,f,{locale:il,...n});let l=a(t,"PPPP");return e?.today&&(l=`Today, ${l}`),l},labelNav:"Navigation bar",labelWeekNumberHeader:"Week Number",labelWeekday:(t,e,n)=>{let i;return n&&typeof n.format=="function"?i=n.format.bind(n):i=(a,l)=>qe(a,l,{locale:il,...e}),i(t,"cccc")}}};class ts{constructor(e,n){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?$i.tz(this.options.timeZone):new this.Date,this.newDate=(i,a,l)=>this.overrides?.newDate?this.overrides.newDate(i,a,l):this.options.timeZone?new $i(i,a,l,this.options.timeZone):new Date(i,a,l),this.addDays=(i,a)=>this.overrides?.addDays?this.overrides.addDays(i,a):Ls(i,a),this.addMonths=(i,a)=>this.overrides?.addMonths?this.overrides.addMonths(i,a):wy(i,a),this.addWeeks=(i,a)=>this.overrides?.addWeeks?this.overrides.addWeeks(i,a):v2(i,a),this.addYears=(i,a)=>this.overrides?.addYears?this.overrides.addYears(i,a):_2(i,a),this.differenceInCalendarDays=(i,a)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(i,a):Sy(i,a),this.differenceInCalendarMonths=(i,a)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(i,a):S2(i,a),this.eachMonthOfInterval=i=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(i):C2(i),this.eachYearOfInterval=i=>{const a=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(i):M2(i),l=new Set(a.map(f=>this.getYear(f)));if(l.size===a.length)return a;const c=[];return l.forEach(f=>{c.push(new Date(f,0,1))}),c},this.endOfBroadcastWeek=i=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(i):K9(i,this),this.endOfISOWeek=i=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(i):R2(i),this.endOfMonth=i=>this.overrides?.endOfMonth?this.overrides.endOfMonth(i):zw(i),this.endOfWeek=(i,a)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(i,a):xy(i,this.options),this.endOfYear=i=>this.overrides?.endOfYear?this.overrides.endOfYear(i):D2(i),this.format=(i,a,l)=>{const c=this.overrides?.format?this.overrides.format(i,a,this.options):qe(i,a,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(c):c},this.getISOWeek=i=>this.overrides?.getISOWeek?this.overrides.getISOWeek(i):Yw(i),this.getMonth=(i,a)=>this.overrides?.getMonth?this.overrides.getMonth(i,this.options):xR(i,this.options),this.getYear=(i,a)=>this.overrides?.getYear?this.overrides.getYear(i,this.options):CR(i,this.options),this.getWeek=(i,a)=>this.overrides?.getWeek?this.overrides.getWeek(i,this.options):Kw(i,this.options),this.isAfter=(i,a)=>this.overrides?.isAfter?this.overrides.isAfter(i,a):DR(i,a),this.isBefore=(i,a)=>this.overrides?.isBefore?this.overrides.isBefore(i,a):MR(i,a),this.isDate=i=>this.overrides?.isDate?this.overrides.isDate(i):Uw(i),this.isSameDay=(i,a)=>this.overrides?.isSameDay?this.overrides.isSameDay(i,a):Gi(i,a),this.isSameMonth=(i,a)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(i,a):Qw(i,a),this.isSameYear=(i,a)=>this.overrides?.isSameYear?this.overrides.isSameYear(i,a):NR(i,a),this.max=i=>this.overrides?.max?this.overrides.max(i):T2(i),this.min=i=>this.overrides?.min?this.overrides.min(i):b2(i),this.setMonth=(i,a)=>this.overrides?.setMonth?this.overrides.setMonth(i,a):Xw(i,a),this.setYear=(i,a)=>this.overrides?.setYear?this.overrides.setYear(i,a):OR(i,a),this.startOfBroadcastWeek=(i,a)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(i,this):rD(i,this),this.startOfDay=i=>this.overrides?.startOfDay?this.overrides.startOfDay(i):fc(i),this.startOfISOWeek=i=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(i):hc(i),this.startOfMonth=i=>this.overrides?.startOfMonth?this.overrides.startOfMonth(i):Hw(i),this.startOfWeek=(i,a)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(i,this.options):bs(i,this.options),this.startOfYear=i=>this.overrides?.startOfYear?this.overrides.startOfYear(i):qw(i),this.options={locale:aD,...e},this.overrides=n}getDigitMap(){const{numerals:e="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:e}),i={};for(let a=0;a<10;a++)i[a.toString()]=n.format(a);return i}replaceDigits(e){const n=this.getDigitMap();return e.replace(/\d/g,i=>n[i]||i)}formatNumber(e){return this.replaceDigits(e.toString())}getMonthYearOrder(){const e=this.options.locale?.code;return e&&ts.yearFirstLocales.has(e)?"year-first":"month-first"}formatMonthYear(e){const{locale:n,timeZone:i,numerals:a}=this.options,l=n?.code;if(l&&ts.yearFirstLocales.has(l))try{return new Intl.DateTimeFormat(l,{month:"long",year:"numeric",timeZone:i,numberingSystem:a}).format(e)}catch{}const c=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(e,c)}}ts.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const Si=new ts;class oD{constructor(e,n,i=Si){this.date=e,this.displayMonth=n,this.outside=!!(n&&!i.isSameMonth(e,n)),this.dateLib=i,this.isoDate=i.format(e,"yyyy-MM-dd"),this.displayMonthId=i.format(n,"yyyy-MM"),this.dateMonthId=i.format(e,"yyyy-MM")}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class $9{constructor(e,n){this.date=e,this.weeks=n}}class Q9{constructor(e,n){this.days=n,this.weekNumber=e}}function X9(t){return fe.createElement("button",{...t})}function Z9(t){return fe.createElement("span",{...t})}function J9(t){const{size:e=24,orientation:n="left",className:i}=t;return fe.createElement("svg",{className:i,width:e,height:e,viewBox:"0 0 24 24"},n==="up"&&fe.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&fe.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&fe.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&fe.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function eU(t){const{day:e,modifiers:n,...i}=t;return fe.createElement("td",{...i})}function tU(t){const{day:e,modifiers:n,...i}=t,a=fe.useRef(null);return fe.useEffect(()=>{n.focused&&a.current?.focus()},[n.focused]),fe.createElement("button",{ref:a,...i})}var ye;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(ye||(ye={}));var St;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(St||(St={}));var zs;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(zs||(zs={}));var Xn;(function(t){t.weeks_before_enter="weeks_before_enter",t.weeks_before_exit="weeks_before_exit",t.weeks_after_enter="weeks_after_enter",t.weeks_after_exit="weeks_after_exit",t.caption_after_enter="caption_after_enter",t.caption_after_exit="caption_after_exit",t.caption_before_enter="caption_before_enter",t.caption_before_exit="caption_before_exit"})(Xn||(Xn={}));function nU(t){const{options:e,className:n,components:i,classNames:a,...l}=t,c=[a[ye.Dropdown],n].join(" "),f=e?.find(({value:m})=>m===l.value);return fe.createElement("span",{"data-disabled":l.disabled,className:a[ye.DropdownRoot]},fe.createElement(i.Select,{className:c,...l},e?.map(({value:m,label:g,disabled:y})=>fe.createElement(i.Option,{key:m,value:m,disabled:y},g))),fe.createElement("span",{className:a[ye.CaptionLabel],"aria-hidden":!0},f?.label,fe.createElement(i.Chevron,{orientation:"down",size:18,className:a[ye.Chevron]})))}function sU(t){return fe.createElement("div",{...t})}function iU(t){return fe.createElement("div",{...t})}function rU(t){const{calendarMonth:e,displayIndex:n,...i}=t;return fe.createElement("div",{...i},t.children)}function aU(t){const{calendarMonth:e,displayIndex:n,...i}=t;return fe.createElement("div",{...i})}function oU(t){return fe.createElement("table",{...t})}function lU(t){return fe.createElement("div",{...t})}const lD=Q.createContext(void 0);function Yc(){const t=Q.useContext(lD);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function uU(t){const{components:e}=Yc();return fe.createElement(e.Dropdown,{...t})}function cU(t){const{onPreviousClick:e,onNextClick:n,previousMonth:i,nextMonth:a,...l}=t,{components:c,classNames:f,labels:{labelPrevious:m,labelNext:g}}=Yc(),y=Q.useCallback(w=>{a&&n?.(w)},[a,n]),T=Q.useCallback(w=>{i&&e?.(w)},[i,e]);return fe.createElement("nav",{...l},fe.createElement(c.PreviousMonthButton,{type:"button",className:f[ye.PreviousMonthButton],tabIndex:i?void 0:-1,"aria-disabled":i?void 0:!0,"aria-label":m(i),onClick:T},fe.createElement(c.Chevron,{disabled:i?void 0:!0,className:f[ye.Chevron],orientation:"left"})),fe.createElement(c.NextMonthButton,{type:"button",className:f[ye.NextMonthButton],tabIndex:a?void 0:-1,"aria-disabled":a?void 0:!0,"aria-label":g(a),onClick:y},fe.createElement(c.Chevron,{disabled:a?void 0:!0,orientation:"right",className:f[ye.Chevron]})))}function hU(t){const{components:e}=Yc();return fe.createElement(e.Button,{...t})}function fU(t){return fe.createElement("option",{...t})}function dU(t){const{components:e}=Yc();return fe.createElement(e.Button,{...t})}function mU(t){const{rootRef:e,...n}=t;return fe.createElement("div",{...n,ref:e})}function pU(t){return fe.createElement("select",{...t})}function gU(t){const{week:e,...n}=t;return fe.createElement("tr",{...n})}function yU(t){return fe.createElement("th",{...t})}function vU(t){return fe.createElement("thead",{"aria-hidden":!0},fe.createElement("tr",{...t}))}function _U(t){const{week:e,...n}=t;return fe.createElement("th",{...n})}function TU(t){return fe.createElement("th",{...t})}function bU(t){return fe.createElement("tbody",{...t})}function EU(t){const{components:e}=Yc();return fe.createElement(e.Dropdown,{...t})}const wU=Object.freeze(Object.defineProperty({__proto__:null,Button:X9,CaptionLabel:Z9,Chevron:J9,Day:eU,DayButton:tU,Dropdown:nU,DropdownNav:sU,Footer:iU,Month:rU,MonthCaption:aU,MonthGrid:oU,Months:lU,MonthsDropdown:uU,Nav:cU,NextMonthButton:hU,Option:fU,PreviousMonthButton:dU,Root:mU,Select:pU,Week:gU,WeekNumber:_U,WeekNumberHeader:TU,Weekday:yU,Weekdays:vU,Weeks:bU,YearsDropdown:EU},Symbol.toStringTag,{value:"Module"}));function Qi(t,e,n=!1,i=Si){let{from:a,to:l}=t;const{differenceInCalendarDays:c,isSameDay:f}=i;return a&&l?(c(l,a)<0&&([a,l]=[l,a]),c(e,a)>=(n?1:0)&&c(l,e)>=(n?1:0)):!n&&l?f(l,e):!n&&a?f(a,e):!1}function Qv(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function jd(t){return!!(t&&typeof t=="object"&&"from"in t)}function Xv(t){return!!(t&&typeof t=="object"&&"after"in t)}function Zv(t){return!!(t&&typeof t=="object"&&"before"in t)}function uD(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function cD(t,e){return Array.isArray(t)&&t.every(e.isDate)}function Xi(t,e,n=Si){const i=Array.isArray(e)?e:[e],{isSameDay:a,differenceInCalendarDays:l,isAfter:c}=n;return i.some(f=>{if(typeof f=="boolean")return f;if(n.isDate(f))return a(t,f);if(cD(f,n))return f.some(m=>a(t,m));if(jd(f))return Qi(f,t,!1,n);if(uD(f))return Array.isArray(f.dayOfWeek)?f.dayOfWeek.includes(t.getDay()):f.dayOfWeek===t.getDay();if(Qv(f)){const m=l(f.before,t),g=l(f.after,t),y=m>0,T=g<0;return c(f.before,f.after)?T&&y:y||T}return Xv(f)?l(t,f.after)>0:Zv(f)?l(f.before,t)>0:typeof f=="function"?f(t):!1})}function SU(t,e,n,i,a){const{disabled:l,hidden:c,modifiers:f,showOutsideDays:m,broadcastCalendar:g,today:y=a.today()}=e,{isSameDay:T,isSameMonth:w,startOfMonth:D,isBefore:V,endOfMonth:N,isAfter:P}=a,z=n&&D(n),K=i&&N(i),F={[St.focused]:[],[St.outside]:[],[St.disabled]:[],[St.hidden]:[],[St.today]:[]},te={};for(const B of t){const{date:G,displayMonth:x}=B,A=!!(x&&!w(G,x)),R=!!(z&&V(G,z)),k=!!(K&&P(G,K)),O=!!(l&&Xi(G,l,a)),I=!!(c&&Xi(G,c,a))||R||k||!g&&!m&&A||g&&m===!1&&A,M=T(G,y);A&&F.outside.push(B),O&&F.disabled.push(B),I&&F.hidden.push(B),M&&F.today.push(B),f&&Object.keys(f).forEach(pe=>{const Be=f?.[pe];Be&&Xi(G,Be,a)&&(te[pe]?te[pe].push(B):te[pe]=[B])})}return B=>{const G={[St.focused]:!1,[St.disabled]:!1,[St.hidden]:!1,[St.outside]:!1,[St.today]:!1},x={};for(const A in F){const R=F[A];G[A]=R.some(k=>k===B)}for(const A in te)x[A]=te[A].some(R=>R===B);return{...G,...x}}}function AU(t,e,n={}){return Object.entries(t).filter(([,a])=>a===!0).reduce((a,[l])=>(n[l]?a.push(n[l]):e[St[l]]?a.push(e[St[l]]):e[zs[l]]&&a.push(e[zs[l]]),a),[e[ye.Day]])}function xU(t){return{...wU,...t}}function CU(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0,"data-nav-layout":t.navLayout||void 0};return Object.entries(t).forEach(([n,i])=>{n.startsWith("data-")&&(e[n]=i)}),e}function DU(){const t={};for(const e in ye)t[ye[e]]=`rdp-${ye[e]}`;for(const e in St)t[St[e]]=`rdp-${St[e]}`;for(const e in zs)t[zs[e]]=`rdp-${zs[e]}`;for(const e in Xn)t[Xn[e]]=`rdp-${Xn[e]}`;return t}function hD(t,e,n){return(n??new ts(e)).formatMonthYear(t)}const MU=hD;function RU(t,e,n){return(n??new ts(e)).format(t,"d")}function NU(t,e=Si){return e.format(t,"LLLL")}function IU(t,e,n){return(n??new ts(e)).format(t,"cccccc")}function OU(t,e=Si){return t<10?e.formatNumber(`0${t.toLocaleString()}`):e.formatNumber(`${t.toLocaleString()}`)}function kU(){return""}function fD(t,e=Si){return e.format(t,"yyyy")}const VU=fD,PU=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:hD,formatDay:RU,formatMonthCaption:MU,formatMonthDropdown:NU,formatWeekNumber:OU,formatWeekNumberHeader:kU,formatWeekdayName:IU,formatYearCaption:VU,formatYearDropdown:fD},Symbol.toStringTag,{value:"Module"}));function jU(t){return t?.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t?.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...PU,...t}}function Jv(t,e,n,i){let a=(i??new ts(n)).format(t,"PPPP");return e.today&&(a=`Today, ${a}`),e.selected&&(a=`${a}, selected`),a}const LU=Jv;function e0(t,e,n){return(n??new ts(e)).formatMonthYear(t)}const UU=e0;function dD(t,e,n,i){let a=(i??new ts(n)).format(t,"PPPP");return e?.today&&(a=`Today, ${a}`),a}function mD(t){return"Choose the Month"}function pD(){return""}const BU="Go to the Next Month";function gD(t,e){return BU}function yD(t){return"Go to the Previous Month"}function vD(t,e,n){return(n??new ts(e)).format(t,"cccc")}function _D(t,e){return`Week ${t}`}function TD(t){return"Week Number"}function bD(t){return"Choose the Year"}const zU=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:UU,labelDay:LU,labelDayButton:Jv,labelGrid:e0,labelGridcell:dD,labelMonthDropdown:mD,labelNav:pD,labelNext:gD,labelPrevious:yD,labelWeekNumber:_D,labelWeekNumberHeader:TD,labelWeekday:vD,labelYearDropdown:bD},Symbol.toStringTag,{value:"Module"})),Vs=(t,e,n)=>e||(n?typeof n=="function"?n:(...i)=>n:t);function FU(t,e){const n=e.locale?.labels??{};return{...zU,...t??{},labelDayButton:Vs(Jv,t?.labelDayButton,n.labelDayButton),labelMonthDropdown:Vs(mD,t?.labelMonthDropdown,n.labelMonthDropdown),labelNext:Vs(gD,t?.labelNext,n.labelNext),labelPrevious:Vs(yD,t?.labelPrevious,n.labelPrevious),labelWeekNumber:Vs(_D,t?.labelWeekNumber,n.labelWeekNumber),labelYearDropdown:Vs(bD,t?.labelYearDropdown,n.labelYearDropdown),labelGrid:Vs(e0,t?.labelGrid,n.labelGrid),labelGridcell:Vs(dD,t?.labelGridcell,n.labelGridcell),labelNav:Vs(pD,t?.labelNav,n.labelNav),labelWeekNumberHeader:Vs(TD,t?.labelWeekNumberHeader,n.labelWeekNumberHeader),labelWeekday:Vs(vD,t?.labelWeekday,n.labelWeekday)}}function HU(t,e,n,i,a){const{startOfMonth:l,startOfYear:c,endOfYear:f,eachMonthOfInterval:m,getMonth:g}=a;return m({start:c(t),end:f(t)}).map(w=>{const D=i.formatMonthDropdown(w,a),V=g(w),N=e&&w<l(e)||n&&w>l(n)||!1;return{value:V,label:D,disabled:N}})}function qU(t,e={},n={}){let i={...e?.[ye.Day]};return Object.entries(t).filter(([,a])=>a===!0).forEach(([a])=>{i={...i,...n?.[a]}}),i}function GU(t,e,n,i){const a=i??t.today(),l=n?t.startOfBroadcastWeek(a,t):e?t.startOfISOWeek(a):t.startOfWeek(a),c=[];for(let f=0;f<7;f++){const m=t.addDays(l,f);c.push(m)}return c}function YU(t,e,n,i,a=!1){if(!t||!e)return;const{startOfYear:l,endOfYear:c,eachYearOfInterval:f,getYear:m}=i,g=l(t),y=c(e),T=f({start:g,end:y});return a&&T.reverse(),T.map(w=>{const D=n.formatYearDropdown(w,i);return{value:m(w),label:D,disabled:!1}})}const Wc=t=>t instanceof HTMLElement?t:null,mg=t=>[...t.querySelectorAll("[data-animated-month]")??[]],WU=t=>Wc(t.querySelector("[data-animated-month]")),pg=t=>Wc(t.querySelector("[data-animated-caption]")),gg=t=>Wc(t.querySelector("[data-animated-weeks]")),KU=t=>Wc(t.querySelector("[data-animated-nav]")),$U=t=>Wc(t.querySelector("[data-animated-weekdays]"));function QU(t,e,{classNames:n,months:i,focused:a,dateLib:l}){const c=Q.useRef(null),f=Q.useRef(i),m=Q.useRef(!1);Q.useLayoutEffect(()=>{const g=f.current;if(f.current=i,!e||!t.current||!(t.current instanceof HTMLElement)||i.length===0||g.length===0||i.length!==g.length)return;const y=l.isSameMonth(i[0].date,g[0].date),T=l.isAfter(i[0].date,g[0].date),w=T?n[Xn.caption_after_enter]:n[Xn.caption_before_enter],D=T?n[Xn.weeks_after_enter]:n[Xn.weeks_before_enter],V=c.current,N=t.current.cloneNode(!0);if(N instanceof HTMLElement?(mg(N).forEach(F=>{if(!(F instanceof HTMLElement))return;const te=WU(F);te&&F.contains(te)&&F.removeChild(te);const B=pg(F);B&&B.classList.remove(w);const G=gg(F);G&&G.classList.remove(D)}),c.current=N):c.current=null,m.current||y||a)return;const P=V instanceof HTMLElement?mg(V):[],z=mg(t.current);if(z?.every(K=>K instanceof HTMLElement)&&P&&P.every(K=>K instanceof HTMLElement)){m.current=!0,t.current.style.isolation="isolate";const K=KU(t.current);K&&(K.style.zIndex="1"),z.forEach((F,te)=>{const B=P[te];if(!B)return;F.style.position="relative",F.style.overflow="hidden";const G=pg(F);G&&G.classList.add(w);const x=gg(F);x&&x.classList.add(D);const A=()=>{m.current=!1,t.current&&(t.current.style.isolation=""),K&&(K.style.zIndex=""),G&&G.classList.remove(w),x&&x.classList.remove(D),F.style.position="",F.style.overflow="",F.contains(B)&&F.removeChild(B)};B.style.pointerEvents="none",B.style.position="absolute",B.style.overflow="hidden",B.setAttribute("aria-hidden","true");const R=$U(B);R&&(R.style.opacity="0");const k=pg(B);k&&(k.classList.add(T?n[Xn.caption_before_exit]:n[Xn.caption_after_exit]),k.addEventListener("animationend",A));const O=gg(B);O&&O.classList.add(T?n[Xn.weeks_before_exit]:n[Xn.weeks_after_exit]),F.insertBefore(B,F.firstChild)})}})}function XU(t,e,n,i){const a=t[0],l=t[t.length-1],{ISOWeek:c,fixedWeeks:f,broadcastCalendar:m}=n??{},{addDays:g,differenceInCalendarDays:y,differenceInCalendarMonths:T,endOfBroadcastWeek:w,endOfISOWeek:D,endOfMonth:V,endOfWeek:N,isAfter:P,startOfBroadcastWeek:z,startOfISOWeek:K,startOfWeek:F}=i,te=m?z(a,i):c?K(a):F(a),B=m?w(l):c?D(V(l)):N(V(l)),G=e&&(m?w(e):c?D(e):N(e)),x=G&&P(B,G)?G:B,A=y(x,te),R=T(l,a)+1,k=[];for(let M=0;M<=A;M++){const pe=g(te,M);k.push(pe)}const I=(m?35:42)*R;if(f&&k.length<I){const M=I-k.length;for(let pe=0;pe<M;pe++){const Be=g(k[k.length-1],1);k.push(Be)}}return k}function ZU(t){const e=[];return t.reduce((n,i)=>{const a=i.weeks.reduce((l,c)=>l.concat(c.days.slice()),e.slice());return n.concat(a.slice())},e.slice())}function JU(t,e,n,i){const{numberOfMonths:a=1}=n,l=[];for(let c=0;c<a;c++){const f=i.addMonths(t,c);if(e&&f>e)break;l.push(f)}return l}function Cw(t,e,n,i){const{month:a,defaultMonth:l,today:c=i.today(),numberOfMonths:f=1}=t;let m=a||l||c;const{differenceInCalendarMonths:g,addMonths:y,startOfMonth:T}=i;if(n&&g(n,m)<f-1){const w=-1*(f-1);m=y(n,w)}return e&&g(m,e)<0&&(m=e),T(m)}function eB(t,e,n,i){const{addDays:a,endOfBroadcastWeek:l,endOfISOWeek:c,endOfMonth:f,endOfWeek:m,getISOWeek:g,getWeek:y,startOfBroadcastWeek:T,startOfISOWeek:w,startOfWeek:D}=i,V=t.reduce((N,P)=>{const z=n.broadcastCalendar?T(P,i):n.ISOWeek?w(P):D(P),K=n.broadcastCalendar?l(P):n.ISOWeek?c(f(P)):m(f(P)),F=e.filter(x=>x>=z&&x<=K),te=n.broadcastCalendar?35:42;if(n.fixedWeeks&&F.length<te){const x=e.filter(A=>{const R=te-F.length;return A>K&&A<=a(K,R)});F.push(...x)}const B=F.reduce((x,A)=>{const R=n.ISOWeek?g(A):y(A),k=x.find(I=>I.weekNumber===R),O=new oD(A,P,i);return k?k.days.push(O):x.push(new Q9(R,[O])),x},[]),G=new $9(P,B);return N.push(G),N},[]);return n.reverseMonths?V.reverse():V}function tB(t,e){let{startMonth:n,endMonth:i}=t;const{startOfYear:a,startOfDay:l,startOfMonth:c,endOfMonth:f,addYears:m,endOfYear:g,newDate:y,today:T}=e,{fromYear:w,toYear:D,fromMonth:V,toMonth:N}=t;!n&&V&&(n=V),!n&&w&&(n=e.newDate(w,0,1)),!i&&N&&(i=N),!i&&D&&(i=y(D,11,31));const P=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return n?n=c(n):w?n=y(w,0,1):!n&&P&&(n=a(m(t.today??T(),-100))),i?i=f(i):D?i=y(D,11,31):!i&&P&&(i=g(t.today??T())),[n&&l(n),i&&l(i)]}function nB(t,e,n,i){if(n.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:l=1}=n,{startOfMonth:c,addMonths:f,differenceInCalendarMonths:m}=i,g=a?l:1,y=c(t);if(!e)return f(y,g);if(!(m(e,t)<l))return f(y,g)}function sB(t,e,n,i){if(n.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:l}=n,{startOfMonth:c,addMonths:f,differenceInCalendarMonths:m}=i,g=a?l??1:1,y=c(t);if(!e)return f(y,-g);if(!(m(y,e)<=0))return f(y,-g)}function iB(t){const e=[];return t.reduce((n,i)=>n.concat(i.weeks.slice()),e.slice())}function Ld(t,e){const[n,i]=Q.useState(t);return[e===void 0?n:e,i]}function rB(t,e){const[n,i]=tB(t,e),{startOfMonth:a,endOfMonth:l}=e,c=Cw(t,n,i,e),[f,m]=Ld(c,t.month?c:void 0);Q.useEffect(()=>{const te=Cw(t,n,i,e);m(te)},[t.timeZone]);const{months:g,weeks:y,days:T,previousMonth:w,nextMonth:D}=Q.useMemo(()=>{const te=JU(f,i,{numberOfMonths:t.numberOfMonths},e),B=XU(te,t.endMonth?l(t.endMonth):void 0,{ISOWeek:t.ISOWeek,fixedWeeks:t.fixedWeeks,broadcastCalendar:t.broadcastCalendar},e),G=eB(te,B,{broadcastCalendar:t.broadcastCalendar,fixedWeeks:t.fixedWeeks,ISOWeek:t.ISOWeek,reverseMonths:t.reverseMonths},e),x=iB(G),A=ZU(G),R=sB(f,n,t,e),k=nB(f,i,t,e);return{months:G,weeks:x,days:A,previousMonth:R,nextMonth:k}},[e,f.getTime(),i?.getTime(),n?.getTime(),t.disableNavigation,t.broadcastCalendar,t.endMonth?.getTime(),t.fixedWeeks,t.ISOWeek,t.numberOfMonths,t.pagedNavigation,t.reverseMonths]),{disableNavigation:V,onMonthChange:N}=t,P=te=>y.some(B=>B.days.some(G=>G.isEqualTo(te))),z=te=>{if(V)return;let B=a(te);n&&B<a(n)&&(B=a(n)),i&&B>a(i)&&(B=a(i)),m(B),N?.(B)};return{months:g,weeks:y,days:T,navStart:n,navEnd:i,previousMonth:w,nextMonth:D,goToMonth:z,goToDay:te=>{P(te)||z(te.date)}}}var li;(function(t){t[t.Today=0]="Today",t[t.Selected=1]="Selected",t[t.LastFocused=2]="LastFocused",t[t.FocusedModifier=3]="FocusedModifier"})(li||(li={}));function Dw(t){return!t[St.disabled]&&!t[St.hidden]&&!t[St.outside]}function aB(t,e,n,i){let a,l=-1;for(const c of t){const f=e(c);Dw(f)&&(f[St.focused]&&l<li.FocusedModifier?(a=c,l=li.FocusedModifier):i?.isEqualTo(c)&&l<li.LastFocused?(a=c,l=li.LastFocused):n(c.date)&&l<li.Selected?(a=c,l=li.Selected):f[St.today]&&l<li.Today&&(a=c,l=li.Today))}return a||(a=t.find(c=>Dw(e(c)))),a}function oB(t,e,n,i,a,l,c){const{ISOWeek:f,broadcastCalendar:m}=l,{addDays:g,addMonths:y,addWeeks:T,addYears:w,endOfBroadcastWeek:D,endOfISOWeek:V,endOfWeek:N,max:P,min:z,startOfBroadcastWeek:K,startOfISOWeek:F,startOfWeek:te}=c;let G={day:g,week:T,month:y,year:w,startOfWeek:x=>m?K(x,c):f?F(x):te(x),endOfWeek:x=>m?D(x):f?V(x):N(x)}[t](n,e==="after"?1:-1);return e==="before"&&i?G=P([i,G]):e==="after"&&a&&(G=z([a,G])),G}function ED(t,e,n,i,a,l,c,f=0){if(f>365)return;const m=oB(t,e,n.date,i,a,l,c),g=!!(l.disabled&&Xi(m,l.disabled,c)),y=!!(l.hidden&&Xi(m,l.hidden,c)),T=m,w=new oD(m,T,c);return!g&&!y?w:ED(t,e,w,i,a,l,c,f+1)}function lB(t,e,n,i,a){const{autoFocus:l}=t,[c,f]=Q.useState(),m=aB(e.days,n,i||(()=>!1),c),[g,y]=Q.useState(l?m:void 0);return{isFocusTarget:N=>!!m?.isEqualTo(N),setFocused:y,focused:g,blur:()=>{f(g),y(void 0)},moveFocus:(N,P)=>{if(!g)return;const z=ED(N,P,g,e.navStart,e.navEnd,t,a);z&&(t.disableNavigation&&!e.days.some(F=>F.isEqualTo(z))||(e.goToDay(z),y(z)))}}}function uB(t,e){const{selected:n,required:i,onSelect:a}=t,[l,c]=Ld(n,a?n:void 0),f=a?n:l,{isSameDay:m}=e,g=D=>f?.some(V=>m(V,D))??!1,{min:y,max:T}=t;return{selected:f,select:(D,V,N)=>{let P=[...f??[]];if(g(D)){if(f?.length===y||i&&f?.length===1)return;P=f?.filter(z=>!m(z,D))}else f?.length===T?P=[D]:P=[...P,D];return a||c(P),a?.(P,D,V,N),P},isSelected:g}}function cB(t,e,n=0,i=0,a=!1,l=Si){const{from:c,to:f}=e||{},{isSameDay:m,isAfter:g,isBefore:y}=l;let T;if(!c&&!f)T={from:t,to:n>0?void 0:t};else if(c&&!f)m(c,t)?n===0?T={from:c,to:t}:a?T={from:c,to:void 0}:T=void 0:y(t,c)?T={from:t,to:c}:T={from:c,to:t};else if(c&&f)if(m(c,t)&&m(f,t))a?T={from:c,to:f}:T=void 0;else if(m(c,t))T={from:c,to:n>0?void 0:t};else if(m(f,t))T={from:t,to:n>0?void 0:t};else if(y(t,c))T={from:t,to:f};else if(g(t,c))T={from:c,to:t};else if(g(t,f))T={from:c,to:t};else throw new Error("Invalid range");if(T?.from&&T?.to){const w=l.differenceInCalendarDays(T.to,T.from);i>0&&w>i?T={from:t,to:void 0}:n>1&&w<n&&(T={from:t,to:void 0})}return T}function hB(t,e,n=Si){const i=Array.isArray(e)?e:[e];let a=t.from;const l=n.differenceInCalendarDays(t.to,t.from),c=Math.min(l,6);for(let f=0;f<=c;f++){if(i.includes(a.getDay()))return!0;a=n.addDays(a,1)}return!1}function Mw(t,e,n=Si){return Qi(t,e.from,!1,n)||Qi(t,e.to,!1,n)||Qi(e,t.from,!1,n)||Qi(e,t.to,!1,n)}function fB(t,e,n=Si){const i=Array.isArray(e)?e:[e];if(i.filter(f=>typeof f!="function").some(f=>typeof f=="boolean"?f:n.isDate(f)?Qi(t,f,!1,n):cD(f,n)?f.some(m=>Qi(t,m,!1,n)):jd(f)?f.from&&f.to?Mw(t,{from:f.from,to:f.to},n):!1:uD(f)?hB(t,f.dayOfWeek,n):Qv(f)?n.isAfter(f.before,f.after)?Mw(t,{from:n.addDays(f.after,1),to:n.addDays(f.before,-1)},n):Xi(t.from,f,n)||Xi(t.to,f,n):Xv(f)||Zv(f)?Xi(t.from,f,n)||Xi(t.to,f,n):!1))return!0;const c=i.filter(f=>typeof f=="function");if(c.length){let f=t.from;const m=n.differenceInCalendarDays(t.to,t.from);for(let g=0;g<=m;g++){if(c.some(y=>y(f)))return!0;f=n.addDays(f,1)}}return!1}function dB(t,e){const{disabled:n,excludeDisabled:i,selected:a,required:l,onSelect:c}=t,[f,m]=Ld(a,c?a:void 0),g=c?a:f;return{selected:g,select:(w,D,V)=>{const{min:N,max:P}=t,z=w?cB(w,g,N,P,l,e):void 0;return i&&n&&z?.from&&z.to&&fB({from:z.from,to:z.to},n,e)&&(z.from=w,z.to=void 0),c||m(z),c?.(z,w,D,V),z},isSelected:w=>g&&Qi(g,w,!1,e)}}function mB(t,e){const{selected:n,required:i,onSelect:a}=t,[l,c]=Ld(n,a?n:void 0),f=a?n:l,{isSameDay:m}=e;return{selected:f,select:(T,w,D)=>{let V=T;return!i&&f&&f&&m(T,f)&&(V=void 0),a||c(V),a?.(V,T,w,D),V},isSelected:T=>f?m(f,T):!1}}function pB(t,e){const n=mB(t,e),i=uB(t,e),a=dB(t,e);switch(t.mode){case"single":return n;case"multiple":return i;case"range":return a;default:return}}function pn(t,e){return t instanceof $i&&t.timeZone===e?t:new $i(t,e)}function Rw(t,e){return typeof t=="boolean"||typeof t=="function"?t:t instanceof Date?pn(t,e):Array.isArray(t)?t.map(n=>n instanceof Date?pn(n,e):n):jd(t)?{...t,from:t.from?pn(t.from,e):t.from,to:t.to?pn(t.to,e):t.to}:Qv(t)?{before:pn(t.before,e),after:pn(t.after,e)}:Xv(t)?{after:pn(t.after,e)}:Zv(t)?{before:pn(t.before,e)}:t}function yg(t,e){return t&&(Array.isArray(t)?t.map(n=>Rw(n,e)):Rw(t,e))}function wD(t){let e=t;const n=e.timeZone;if(n&&(e={...t,timeZone:n},e.today&&(e.today=pn(e.today,n)),e.month&&(e.month=pn(e.month,n)),e.defaultMonth&&(e.defaultMonth=pn(e.defaultMonth,n)),e.startMonth&&(e.startMonth=pn(e.startMonth,n)),e.endMonth&&(e.endMonth=pn(e.endMonth,n)),e.mode==="single"&&e.selected?e.selected=pn(e.selected,n):e.mode==="multiple"&&e.selected?e.selected=e.selected?.map(Re=>pn(Re,n)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?pn(e.selected.from,n):e.selected.from,to:e.selected.to?pn(e.selected.to,n):e.selected.to}),e.disabled!==void 0&&(e.disabled=yg(e.disabled,n)),e.hidden!==void 0&&(e.hidden=yg(e.hidden,n)),e.modifiers)){const Re={};Object.keys(e.modifiers).forEach(Le=>{Re[Le]=yg(e.modifiers?.[Le],n)}),e.modifiers=Re}const{components:i,formatters:a,labels:l,dateLib:c,locale:f,classNames:m}=Q.useMemo(()=>{const Re={...aD,...e.locale},Le=new ts({locale:Re,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},e.dateLib);return{dateLib:Le,components:xU(e.components),formatters:jU(e.formatters),labels:FU(e.labels,Le.options),locale:Re,classNames:{...DU(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.components,e.formatters,e.labels,e.classNames]);e.today||(e={...e,today:c.today()});const{captionLayout:g,mode:y,navLayout:T,numberOfMonths:w=1,onDayBlur:D,onDayClick:V,onDayFocus:N,onDayKeyDown:P,onDayMouseEnter:z,onDayMouseLeave:K,onNextClick:F,onPrevClick:te,showWeekNumber:B,styles:G}=e,{formatCaption:x,formatDay:A,formatMonthDropdown:R,formatWeekNumber:k,formatWeekNumberHeader:O,formatWeekdayName:I,formatYearDropdown:M}=a,pe=rB(e,c),{days:Be,months:J,navStart:oe,navEnd:he,previousMonth:Te,nextMonth:Ce,goToMonth:L}=pe,se=SU(Be,e,oe,he,c),{isSelected:ue,select:ce,selected:Ee}=pB(e,c)??{},{blur:Oe,focused:ze,isFocusTarget:It,moveFocus:mt,setFocused:ns}=lB(e,pe,se,ue??(()=>!1),c),{labelDayButton:ar,labelGridcell:or,labelGrid:lr,labelMonthDropdown:ss,labelNav:ur,labelPrevious:Ai,labelNext:ua,labelWeekday:ca,labelWeekNumber:Dt,labelWeekNumberHeader:Ot,labelYearDropdown:Hs}=l,Fl=Q.useMemo(()=>GU(c,e.ISOWeek,e.broadcastCalendar,e.today),[c,e.ISOWeek,e.broadcastCalendar,e.today]),ha=y!==void 0||V!==void 0,Xt=Q.useCallback(()=>{Te&&(L(Te),te?.(Te))},[Te,L,te]),Es=Q.useCallback(()=>{Ce&&(L(Ce),F?.(Ce))},[L,Ce,F]),fa=Q.useCallback((Re,Le)=>Se=>{Se.preventDefault(),Se.stopPropagation(),ns(Re),!Le.disabled&&(ce?.(Re.date,Le,Se),V?.(Re.date,Le,Se))},[ce,V,ns]),da=Q.useCallback((Re,Le)=>Se=>{ns(Re),N?.(Re.date,Le,Se)},[N,ns]),qs=Q.useCallback((Re,Le)=>Se=>{Oe(),D?.(Re.date,Le,Se)},[Oe,D]),Hl=Q.useCallback((Re,Le)=>Se=>{const Ae={ArrowLeft:[Se.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[Se.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[Se.shiftKey?"year":"week","after"],ArrowUp:[Se.shiftKey?"year":"week","before"],PageUp:[Se.shiftKey?"year":"month","before"],PageDown:[Se.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Ae[Se.key]){Se.preventDefault(),Se.stopPropagation();const[kt,Ne]=Ae[Se.key];mt(kt,Ne)}P?.(Re.date,Le,Se)},[mt,P,e.dir]),fo=Q.useCallback((Re,Le)=>Se=>{z?.(Re.date,Le,Se)},[z]),mo=Q.useCallback((Re,Le)=>Se=>{K?.(Re.date,Le,Se)},[K]),po=Q.useCallback(Re=>Le=>{const Se=Number(Le.target.value),Ae=c.setMonth(c.startOfMonth(Re),Se);L(Ae)},[c,L]),Bn=Q.useCallback(Re=>Le=>{const Se=Number(Le.target.value),Ae=c.setYear(c.startOfMonth(Re),Se);L(Ae)},[c,L]),{className:Zt,style:Mn}=Q.useMemo(()=>({className:[m[ye.Root],e.className].filter(Boolean).join(" "),style:{...G?.[ye.Root],...e.style}}),[m,e.className,e.style,G]),wt=CU(e),ma=Q.useRef(null);QU(ma,!!e.animate,{classNames:m,months:J,focused:ze,dateLib:c});const cr={dayPickerProps:e,selected:Ee,select:ce,isSelected:ue,months:J,nextMonth:Ce,previousMonth:Te,goToMonth:L,getModifiers:se,components:i,classNames:m,styles:G,labels:l,formatters:a};return fe.createElement(lD.Provider,{value:cr},fe.createElement(i.Root,{rootRef:e.animate?ma:void 0,className:Zt,style:Mn,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],"aria-labelledby":e["aria-labelledby"],...wt},fe.createElement(i.Months,{className:m[ye.Months],style:G?.[ye.Months]},!e.hideNavigation&&!T&&fe.createElement(i.Nav,{"data-animated-nav":e.animate?"true":void 0,className:m[ye.Nav],style:G?.[ye.Nav],"aria-label":ur(),onPreviousClick:Xt,onNextClick:Es,previousMonth:Te,nextMonth:Ce}),J.map((Re,Le)=>fe.createElement(i.Month,{"data-animated-month":e.animate?"true":void 0,className:m[ye.Month],style:G?.[ye.Month],key:Le,displayIndex:Le,calendarMonth:Re},T==="around"&&!e.hideNavigation&&Le===0&&fe.createElement(i.PreviousMonthButton,{type:"button",className:m[ye.PreviousMonthButton],tabIndex:Te?void 0:-1,"aria-disabled":Te?void 0:!0,"aria-label":Ai(Te),onClick:Xt,"data-animated-button":e.animate?"true":void 0},fe.createElement(i.Chevron,{disabled:Te?void 0:!0,className:m[ye.Chevron],orientation:e.dir==="rtl"?"right":"left"})),fe.createElement(i.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:m[ye.MonthCaption],style:G?.[ye.MonthCaption],calendarMonth:Re,displayIndex:Le},g?.startsWith("dropdown")?fe.createElement(i.DropdownNav,{className:m[ye.Dropdowns],style:G?.[ye.Dropdowns]},(()=>{const Se=g==="dropdown"||g==="dropdown-months"?fe.createElement(i.MonthsDropdown,{key:"month",className:m[ye.MonthsDropdown],"aria-label":ss(),classNames:m,components:i,disabled:!!e.disableNavigation,onChange:po(Re.date),options:HU(Re.date,oe,he,a,c),style:G?.[ye.Dropdown],value:c.getMonth(Re.date)}):fe.createElement("span",{key:"month"},R(Re.date,c)),Ae=g==="dropdown"||g==="dropdown-years"?fe.createElement(i.YearsDropdown,{key:"year",className:m[ye.YearsDropdown],"aria-label":Hs(c.options),classNames:m,components:i,disabled:!!e.disableNavigation,onChange:Bn(Re.date),options:YU(oe,he,a,c,!!e.reverseYears),style:G?.[ye.Dropdown],value:c.getYear(Re.date)}):fe.createElement("span",{key:"year"},M(Re.date,c));return c.getMonthYearOrder()==="year-first"?[Ae,Se]:[Se,Ae]})(),fe.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},x(Re.date,c.options,c))):fe.createElement(i.CaptionLabel,{className:m[ye.CaptionLabel],role:"status","aria-live":"polite"},x(Re.date,c.options,c))),T==="around"&&!e.hideNavigation&&Le===w-1&&fe.createElement(i.NextMonthButton,{type:"button",className:m[ye.NextMonthButton],tabIndex:Ce?void 0:-1,"aria-disabled":Ce?void 0:!0,"aria-label":ua(Ce),onClick:Es,"data-animated-button":e.animate?"true":void 0},fe.createElement(i.Chevron,{disabled:Ce?void 0:!0,className:m[ye.Chevron],orientation:e.dir==="rtl"?"left":"right"})),Le===w-1&&T==="after"&&!e.hideNavigation&&fe.createElement(i.Nav,{"data-animated-nav":e.animate?"true":void 0,className:m[ye.Nav],style:G?.[ye.Nav],"aria-label":ur(),onPreviousClick:Xt,onNextClick:Es,previousMonth:Te,nextMonth:Ce}),fe.createElement(i.MonthGrid,{role:"grid","aria-multiselectable":y==="multiple"||y==="range","aria-label":lr(Re.date,c.options,c)||void 0,className:m[ye.MonthGrid],style:G?.[ye.MonthGrid]},!e.hideWeekdays&&fe.createElement(i.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:m[ye.Weekdays],style:G?.[ye.Weekdays]},B&&fe.createElement(i.WeekNumberHeader,{"aria-label":Ot(c.options),className:m[ye.WeekNumberHeader],style:G?.[ye.WeekNumberHeader],scope:"col"},O()),Fl.map(Se=>fe.createElement(i.Weekday,{"aria-label":ca(Se,c.options,c),className:m[ye.Weekday],key:String(Se),style:G?.[ye.Weekday],scope:"col"},I(Se,c.options,c)))),fe.createElement(i.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:m[ye.Weeks],style:G?.[ye.Weeks]},Re.weeks.map(Se=>fe.createElement(i.Week,{className:m[ye.Week],key:Se.weekNumber,style:G?.[ye.Week],week:Se},B&&fe.createElement(i.WeekNumber,{week:Se,style:G?.[ye.WeekNumber],"aria-label":Dt(Se.weekNumber,{locale:f}),className:m[ye.WeekNumber],scope:"row",role:"rowheader"},k(Se.weekNumber,c)),Se.days.map(Ae=>{const{date:kt}=Ae,Ne=se(Ae);if(Ne[St.focused]=!Ne.hidden&&!!ze?.isEqualTo(Ae),Ne[zs.selected]=ue?.(kt)||Ne.selected,jd(Ee)){const{from:Rn,to:ws}=Ee;Ne[zs.range_start]=!!(Rn&&ws&&c.isSameDay(kt,Rn)),Ne[zs.range_end]=!!(Rn&&ws&&c.isSameDay(kt,ws)),Ne[zs.range_middle]=Qi(Ee,kt,!0,c)}const zn=qU(Ne,G,e.modifiersStyles),ql=AU(Ne,m,e.modifiersClassNames),go=!ha&&!Ne.hidden?or(kt,Ne,c.options,c):void 0;return fe.createElement(i.Day,{key:`${Ae.isoDate}_${Ae.displayMonthId}`,day:Ae,modifiers:Ne,className:ql.join(" "),style:zn,role:"gridcell","aria-selected":Ne.selected||void 0,"aria-label":go,"data-day":Ae.isoDate,"data-month":Ae.outside?Ae.dateMonthId:void 0,"data-selected":Ne.selected||void 0,"data-disabled":Ne.disabled||void 0,"data-hidden":Ne.hidden||void 0,"data-outside":Ae.outside||void 0,"data-focused":Ne.focused||void 0,"data-today":Ne.today||void 0},!Ne.hidden&&ha?fe.createElement(i.DayButton,{className:m[ye.DayButton],style:G?.[ye.DayButton],type:"button",day:Ae,modifiers:Ne,disabled:!Ne.focused&&Ne.disabled||void 0,"aria-disabled":Ne.focused&&Ne.disabled||void 0,tabIndex:It(Ae)?0:-1,"aria-label":ar(kt,Ne,c.options,c),onClick:fa(Ae,Ne),onBlur:qs(Ae,Ne),onFocus:da(Ae,Ne),onKeyDown:Hl(Ae,Ne),onMouseEnter:fo(Ae,Ne),onMouseLeave:mo(Ae,Ne)},A(kt,c.options,c)):!Ne.hidden&&A(Ae.date,c.options,c))})))))))),e.footer&&fe.createElement(i.Footer,{className:m[ye.Footer],style:G?.[ye.Footer],role:"status","aria-live":"polite"},e.footer)))}const Ut=({as:t="button",className:e="",children:n,...i})=>_.jsx(t,{className:`inline-flex items-center justify-center gap-2 select-none
      px-4 py-3 text-sm md:text-base font-semibold rounded-2xl
      bg-gradient-to-br from-indigo-600 to-indigo-500 text-white
      shadow-lg shadow-indigo-500/25 hover:shadow-xl active:scale-95 
      focus:outline-none
      transition-all disabled:opacity-60 ${e}`,...i,children:n}),lt=({as:t="button",className:e="",children:n,...i})=>_.jsx(t,{className:`inline-flex items-center justify-center gap-2 px-3 py-2 text-sm rounded-lg
      backdrop-blur-sm border border-white/10 text-slate-700
      hover:bg-white/60 active:scale-95 focus:outline-none
      transition ${e}`,...i,children:n}),Bt=fe.forwardRef((t,e)=>_.jsx("input",{ref:e,...t,className:`w-full px-3 py-2 text-sm md:text-base rounded-xl bg-white/60 backdrop-blur-sm
      border border-slate-200/30 outline-none focus:border-indigo-400
      placeholder:text-slate-400 transition ${t.className||""}`})),SD=t=>{const e=Q.useRef(null);return Q.useEffect(()=>{const n=e.current;n&&(n.style.height="0px",n.style.height=`${n.scrollHeight}px`)},[t.value]),_.jsx("textarea",{ref:e,rows:1,...t,className:`w-full px-3 py-2 text-sm md:text-base rounded-xl bg-white/60 backdrop-blur-sm
        border border-white/10 outline-none focus:ring-2 focus:ring-indigo-400 transition resize-none overflow-y-hidden
        ${t.className||""}`})},gB=t=>_.jsx("select",{...t,className:`w-full px-3 py-2 text-sm md:text-base rounded-xl bg-white/60 backdrop-blur-sm
      border border-slate-200/30 outline-none focus:border-indigo-400 transition ${t.className||""}`}),Cn=({className:t="",children:e,...n})=>_.jsx(to.div,{initial:{opacity:0,y:8,scale:.995},animate:{opacity:1,y:0,scale:1},transition:{duration:.18},className:`bg-white/70 backdrop-blur-sm border border-white/10
      p-4 md:p-6 mb-3 rounded-2xl shadow-lg shadow-slate-300/20 ${t}`,...n,children:e}),Zn=({children:t})=>_.jsx(to.div,{initial:{opacity:0,x:-8},animate:{opacity:1,x:0},transition:{duration:.18},className:"text-lg md:text-2xl font-semibold mb-4 flex items-center gap-2 text-slate-800",children:t}),Ud=({children:t,className:e=""})=>_.jsx("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 text-xs font-semibold rounded-full bg-white/20 border border-white/5 ${e}`,children:t}),cc={subjects:[],tasks:[],courses:[],scheduleOverrides:{},lastLogin:null,loginStreak:0};function yB(t,e){switch(e.type){case"load":{const n=e.payload;return typeof n!="object"||n===null?cc:{...cc,subjects:Array.isArray(n.subjects)?n.subjects.filter(i=>i&&typeof i=="object"):[],tasks:Array.isArray(n.tasks)?n.tasks.filter(i=>i&&typeof i=="object"):[],courses:Array.isArray(n.courses)?n.courses.filter(i=>i&&typeof i=="object"):[],scheduleOverrides:typeof n.scheduleOverrides=="object"&&n.scheduleOverrides!==null?n.scheduleOverrides:{},lastLogin:n.lastLogin||null,loginStreak:n.loginStreak||0}}case"addSubject":return{...t,subjects:[...t.subjects,e.payload]};case"updateSubject":return{...t,subjects:t.subjects.map(n=>n.id===e.payload.id?{...n,...e.payload}:n)};case"deleteSubject":return{...t,subjects:t.subjects.filter(n=>n.id!==e.id),tasks:t.tasks.filter(n=>n.subjectId!==e.id)};case"addTask":return{...t,tasks:[...t.tasks,e.payload]};case"updateTask":return{...t,tasks:t.tasks.map(n=>n.id===e.payload.id?{...n,...e.payload,updatedAt:Date.now()}:n)};case"deleteTask":return{...t,tasks:t.tasks.filter(n=>n.id!==e.id)};case"addCourse":return{...t,courses:[...t.courses,e.payload]};case"updateCourse":return{...t,courses:t.courses.map(n=>n.id===e.payload.id?{...n,...e.payload,updatedAt:Date.now()}:n)};case"deleteCourse":return{...t,courses:t.courses.filter(n=>n.id!==e.id)};case"setScheduleOverride":{const{key:n,status:i}=e.payload;return{...t,scheduleOverrides:{...t.scheduleOverrides,[n]:i}}}case"removeScheduleOverride":{const{key:n}=e.payload,i={...t.scheduleOverrides};return delete i[n],{...t,scheduleOverrides:i}}case"updateLoginStreak":return{...t,lastLogin:e.payload.lastLogin,loginStreak:e.payload.loginStreak};case"reset":return{...cc,scheduleOverrides:{}};default:return t}}const Ty=()=>Math.random().toString(36).slice(2,9),AD=(t,e=1)=>{if(!t||!/^#([A-Fa-f0-9]{3}){1,2}$/.test(t))return"";let n=t.substring(1).split("");return n.length===3&&(n=[n[0],n[0],n[1],n[1],n[2],n[2]]),n="0x"+n.join(""),`rgba(${n>>16&255}, ${n>>8&255}, ${n&255}, ${e})`},xD=t=>{const e=new Date("2025-12-02"),n=bs(t,{weekStartsOn:1}),i=bs(e,{weekStartsOn:1});return Math.floor(A2(n,i)/7)%2===0?"odd":"even"},Wu=(t,e,n={})=>{const i=bs(e,{weekStartsOn:1}),a=qe(i,"yyyy-MM-dd"),l=`${t.id}_${a}`;if(n[l])return{status:n[l],isOverridden:!0};const c=xD(e);let f="unknown";return t.scheduleType==="online-always"?f="online":t.scheduleType==="onsite-always"?f="onsite":t.scheduleType==="odd-onsite"?f=c==="odd"?"onsite":"online":t.scheduleType==="even-onsite"&&(f=c==="even"?"onsite":"online"),{status:f,isOverridden:!1}},Nw=(t,e)=>{const n=e.getDay();return t.filter(i=>i.dayOfWeek===n).sort((i,a)=>i.startTime.localeCompare(a.startTime))};function vB(t){const[e,n]=Q.useReducer(yB,cc),i=Q.useRef(!0);return Q.useEffect(()=>{if(!t){n({type:"reset"});return}i.current=!0;const a=dy(yy,"schedules",t),l=V5(a,c=>{if(c.exists()){const f=c.data();console.log("  Firestore:",f),n({type:"load",payload:f}),i.current=!1;const m=qe(new Date,"yyyy-MM-dd"),g=f.lastLogin?qe(new Date(f.lastLogin),"yyyy-MM-dd"):null;if(g!==m){const y=qe(Ls(new Date,-1),"yyyy-MM-dd"),T=g===y?(f.loginStreak||0)+1:1;console.log("  login streak:",T),n({type:"updateLoginStreak",payload:{lastLogin:new Date().toISOString(),loginStreak:T}})}}else console.log("  "),n({type:"reset"}),i.current=!1},c=>{console.error(" Error listening to document:",c),i.current=!1});return()=>l()},[t]),Q.useEffect(()=>{if(!t||i.current){console.log("  (userId:",t,"isInitialLoad:",i.current,")");return}const a=JSON.parse(JSON.stringify(e,(c,f)=>f===void 0?null:f));console.log("  Firestore...",a);const l=dy(yy,"schedules",t);xC(l,a,{merge:!0}).then(()=>{console.log(" !")}).catch(c=>{console.error(" Error writing document: ",c),alert(" ")})},[e,t]),[e,n]}function _B(t){if(!("Notification"in window)||Notification.permission!=="granted"||!t.dueAt||!t.reminders?.length)return;const e=new Date(t.dueAt);t.reminders.forEach(n=>{let i=new Date(e);n.type==="minutes"&&(i=Lw(e,-n.amount)),n.type==="hours"&&(i=p2(e,-n.amount)),n.type==="days"&&(i=Ls(e,-n.amount));const a=i.getTime()-Date.now();a>0&&setTimeout(()=>{new Notification(`: ${t.title}`,{body:t.subjectName?`: ${t.subjectName}`:void 0})},Math.min(a,2147483647))})}function TB(t){const e=new Date(t),n=Math.max(0,_g(e,new Date));return n>=1440?` ${Math.floor(n/1440)} `:n>=60?` ${Math.floor(n/60)} .`:` ${n} `}function by(t){const e={todo:"",doing:"",done:""},n=t==="done"?"border-emerald-400 text-emerald-600 dark:text-emerald-300":t==="doing"?"border-amber-400 text-amber-600 dark:text-amber-300":"border-slate-300 text-slate-500 dark:text-slate-300";return _.jsx(Ud,{className:n,children:e[t]})}function bB(){const[t,e]=Q.useState(null),[n,i]=Q.useState(!0),[a,l]=vB(t?.uid),[c,f]=Q.useState("dashboard"),[m,g]=Q.useState(null),[y,T]=Q.useState(""),[w,D]=Q.useState(!1),[V,N]=Q.useState(new Set),[P,z]=Q.useState(0);Q.useEffect(()=>{const I=AL(vy,M=>{e(M),i(!1)});return()=>I()},[]),Q.useEffect(()=>{const I=setInterval(()=>z(M=>M+1),3e4);return()=>clearInterval(I)},[]);const K=Q.useMemo(()=>Object.fromEntries(a.subjects.map(I=>[I.id,I])),[a.subjects]),F=Q.useMemo(()=>a.tasks.map(I=>({...I,subjectName:K[I.subjectId]?.name,subjectColor:K[I.subjectId]?.color})),[a.tasks,K]),te=F.filter(I=>I.dueAt&&IR(new Date(I.dueAt))),B=te.length?Math.round(te.reduce((I,M)=>I+(M.progress||0),0)/te.length):F.length?Math.round(F.reduce((I,M)=>I+(M.progress||0),0)/F.length):0;F.filter(I=>I.status==="done").length;const G=Math.max(0,100-B),x=F.filter(I=>I.dueAt&&I.status!=="done").sort((I,M)=>new Date(I.dueAt)-new Date(M.dueAt)).slice(0,5),A=Q.useMemo(()=>{let I=F;return m&&(I=I.filter(M=>M.subjectId===m)),y.trim()&&(I=I.filter(M=>(M.title+" "+(M.detail||"")).toLowerCase().includes(y.toLowerCase()))),I=[...I].sort((M,pe)=>M.status==="done"&&pe.status!=="done"?1:M.status!=="done"&&pe.status==="done"?-1:M.dueAt&&pe.dueAt?new Date(M.dueAt)-new Date(pe.dueAt):M.dueAt?-1:pe.dueAt?1:new Date(pe.createdAt)-new Date(M.createdAt)),I.filter(M=>M.status==="done"&&M.updatedAt?vg(new Date,new Date(M.updatedAt))<1:!0)},[F,m,y]);Q.useEffect(()=>{if("Notification"in window&&Notification.permission==="default"){const I=setTimeout(()=>Notification.requestPermission(),1e3);return()=>clearTimeout(I)}},[]);const R=Q.useMemo(()=>F.filter(I=>I.status==="done"&&I.updatedAt&&vg(new Date,new Date(I.updatedAt))>=1).sort((I,M)=>new Date(M.updatedAt)-new Date(I.updatedAt)),[F]),k=[{key:"dashboard",label:"",icon:m4},{key:"tasks",label:"",icon:y4},{key:"schedule",label:"",icon:Vc},{key:"settings",label:"",icon:f4}];if(Q.useEffect(()=>{F.forEach(_B)},[F]),n)return _.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-100 dark:bg-slate-900",children:"..."});if(!t)return _.jsx(NB,{});const O=()=>{confirm("?")&&xL(vy)};return _.jsxs("div",{className:"min-h-screen text-slate-800 dark:text-slate-100 bg-slate-100 dark:bg-slate-950 font-sans",children:[_.jsxs("div",{className:"md:flex pb-16 md:pb-0",children:[_.jsxs("aside",{className:"hidden md:flex flex-col w-64 bg-white dark:bg-black border-r-4 border-black dark:border-white p-4",children:[_.jsx("div",{className:"flex items-center gap-3 mb-8 px-2",children:_.jsx("img",{src:"/logo.svg",alt:"FlowO Logo",className:"h-9"})}),_.jsx("nav",{className:"flex-1 space-y-2",children:k.map(({key:I,label:M,icon:pe})=>_.jsxs("a",{href:"#",onClick:Be=>{Be.preventDefault(),f(I)},className:`flex items-center gap-3 px-4 py-2.5 rounded-xl text-sm font-medium transition-all ${c===I?"bg-white text-indigo-600 shadow-md":"hover:bg-slate-200/50 text-slate-600"}`,children:[_.jsx(pe,{className:"h-5 w-5"}),_.jsx("span",{children:M})]},I))}),_.jsx("div",{className:"mt-auto",children:_.jsxs("div",{className:"flex items-center gap-2 text-sm p-2 rounded-xl bg-slate-200/50 dark:bg-slate-800/50",children:[t.photoURL?_.jsx("img",{src:t.photoURL,alt:t.displayName||t.email,className:"h-8 w-8 rounded-full"}):_.jsx("div",{className:"h-8 w-8 rounded-full bg-slate-300 dark:bg-slate-700 flex items-center justify-center",children:_.jsx(jA,{className:"h-4 w-4 text-slate-500"})}),_.jsx("span",{className:"truncate flex-1 font-medium",children:t.displayName||t.email})]})})]}),_.jsxs("main",{className:"flex-1 px-4 py-6 md:p-8",children:[_.jsx("header",{className:"md:hidden flex items-center justify-between mb-4",children:_.jsx("img",{src:"/logo.svg",alt:"FlowO Logo",className:"h-8"})}),_.jsx(fi,{mode:"wait",children:_.jsxs(to.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.12},children:[c==="dashboard"&&_.jsx(EB,{state:a,tasks:F,dueSoon:x,progressToday:B,lazyScore:G,setView:f,setSelectedSubject:g}),c==="tasks"&&_.jsx(SB,{state:a,dispatch:l,tasks:F,filteredTasks:A,setQuery:T,query:y,selectedSubject:m,setSelectedSubject:g,deleteMode:w,selectedTasksForDeletion:V,setSelectedTasksForDeletion:N}),c==="schedule"&&_.jsx(wB,{state:a,dispatch:l,userId:t?.uid}),c==="settings"&&_.jsx(DB,{state:a,dispatch:l,userId:t?.uid,onLogout:O,setView:f}),c==="history"&&_.jsx(RB,{tasks:R,dispatch:l})]},c)})]})]}),c==="tasks"&&_.jsxs("div",{className:"fixed left-4 right-4 bottom-20 md:bottom-6 flex items-center justify-between gap-3 z-40",children:[w?_.jsxs(Ut,{onClick:()=>{D(!1),N(new Set)},className:"bg-slate-500 hover:bg-slate-600",children:[_.jsx(P4,{className:"h-4 w-4"})," "]}):_.jsx(Ut,{onClick:()=>D(!0),className:"bg-slate-600 hover:bg-slate-700",children:_.jsx(Tc,{className:"h-4 w-4"})}),w?_.jsxs(Ut,{onClick:()=>{confirm(` ${V.size} ?`)&&(V.forEach(I=>l({type:"deleteTask",id:I})),N(new Set),D(!1))},className:"bg-rose-600 hover:bg-rose-700",disabled:V.size===0,children:[_.jsx(Tc,{className:"h-4 w-4"}),"  ",V.size," "]}):_.jsx(AB,{subjects:a.subjects,onAdd:I=>l({type:"addTask",payload:I})})]}),_.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white/90 dark:bg-slate-950/90 border-t border-slate-200/50 dark:border-slate-800/50 p-1",children:_.jsx("div",{className:"flex items-center justify-around",children:k.map(({key:I,label:M,icon:pe})=>_.jsxs("a",{href:"#",onClick:Be=>{Be.preventDefault(),f(I)},className:`flex flex-col items-center justify-center w-16 h-14 rounded-xl transition-all ${c===I?"text-indigo-600":"text-slate-500"}`,children:[_.jsx(pe,{className:"h-6 w-6"}),_.jsx("span",{className:"text-xs mt-1",children:M})]},I))})})]})}function EB({state:t,tasks:e,dueSoon:n,progressToday:i,lazyScore:a,setView:l,setSelectedSubject:c}){const[f,m]=Q.useState(null),[g,y]=Q.useState(new Date),[T,w]=Q.useState(new Date),D=Hw(T),V=zw(T),N=Fw({start:bs(D,{weekStartsOn:1}),end:xy(V,{weekStartsOn:1})}),P=e.reduce((B,G)=>{if(!G.dueAt)return B;const x=qe(new Date(G.dueAt),"yyyy-MM-dd");return B[x]=B[x]||[],B[x].push(G),B},{}),z=B=>{m(B),y(B)},K=Q.useMemo(()=>{const B=new Map;for(const G of N){const x=qe(G,"yyyy-MM-dd"),A=new Set;for(const k of e){const O=k.taskType==="event",I=k.dueAt&&Gi(new Date(k.dueAt),G),M=k.startAt&&Gi(new Date(k.startAt),G),pe=k.startAt&&k.dueAt&&!M&&!I&&G>new Date(k.startAt)&&G<new Date(k.dueAt);I&&(O||k.taskType==="deadline")?A.add("red"):M?A.add("blue"):pe&&A.add("green")}const R=Array.from(A).sort((k,O)=>{const I={red:0,blue:1,green:2};return I[k]-I[O]});B.set(x,R)}return B},[N,e]),F=Q.useMemo(()=>{const B=[],G=(P[qe(g,"yyyy-MM-dd")]||[]).sort((I,M)=>(I.dueAt?new Date(I.dueAt).getTime():-1)-(M.dueAt?new Date(M.dueAt).getTime():-1)),x=G.filter(I=>!I.dueAt),A=e.filter(I=>I.taskType==="deadline"&&I.startAt&&I.dueAt&&Gi(g,new Date(I.startAt))===!1&&Gi(g,new Date(I.dueAt))===!1&&g>new Date(I.startAt)&&g<new Date(I.dueAt));x.length>0&&B.push({type:"all-day",tasks:x});const R=G.filter(I=>I.dueAt);let k=new Date(g).setHours(0,0,0,0);R.forEach(I=>{const M=new Date(I.dueAt).getTime();if(M>k){const Be=_g(M,k);Be>15&&B.push({type:"free",start:k,end:M,duration:Be})}const pe=Lw(M,I.duration||60).getTime();B.push({type:"task",task:I}),k=pe});const O=new Date(g).setHours(23,59,59,999);if(O>k){const I=_g(O,k);I>15&&B.push({type:"free",start:k,end:O,duration:I})}return A.length>0&&B.unshift({type:"workable",tasks:A}),B},[g,P]),te=B=>B<60?`${B} `:`${Math.floor(B/60)} . ${B%60>0?B%60+" ":""}`;return _.jsxs("div",{className:"space-y-6",children:[_.jsxs(Cn,{children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsxs(Zn,{children:[_.jsx(c4,{className:"h-4 w-4"})," "]}),_.jsx("div",{className:"text-sm text-slate-500",children:""})]}),_.jsx("div",{className:"space-y-3",children:n.length>0?n.map(B=>_.jsxs("div",{className:"p-3 rounded-lg bg-white/60 flex items-start justify-between",children:[_.jsxs("div",{className:"min-w-0 flex-1",children:[_.jsx("div",{className:"font-medium truncate",children:B.title}),_.jsxs("div",{className:"text-xs text-slate-500",children:[B.subjectName||"","  ",B.dueAt?qe(new Date(B.dueAt),"d MMM HH:mm",{locale:Jn}):""]})]}),_.jsx("div",{className:"ml-3 flex flex-col items-end gap-2",children:by(B.status)})]},B.id)):_.jsx("div",{className:"text-slate-500 text-center py-6",children:""})})]}),_.jsxs(Cn,{children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsxs(Zn,{children:[_.jsx(Vc,{className:"h-4 w-4"})," "]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(lt,{onClick:()=>w(Ib(T,{months:-1})),children:_.jsx(zg,{className:"h-4 w-4"})}),_.jsx("div",{className:"text-sm font-medium w-32 text-center",children:qe(T,"MMMM yyyy",{locale:Jn})}),_.jsx(lt,{onClick:()=>w(Ib(T,{months:1})),children:_.jsx(Fg,{className:"h-4 w-4"})})]})]}),_.jsx("div",{className:"grid grid-cols-7 gap-1 text-center text-xs text-slate-500 mb-2",children:["","","","","","",""].map(B=>_.jsx("div",{children:B},B))}),_.jsx("div",{className:"grid grid-cols-7 gap-1",children:N.map(B=>{const G=qe(B,"yyyy-MM-dd");P[G];const x=K.get(G)||[];return _.jsxs("div",{onClick:()=>z(B),className:`
                  aspect-square p-1 rounded-lg cursor-pointer
                  transition-all duration-200
                  border border-slate-200/50 dark:border-slate-700/50
                  backdrop-blur-sm
                  ${x.length>0?"scale-100":"scale-90 opacity-60"}
                  ${Qw(B,T)?`bg-white/60 ${!f||!Gi(B,f)?"hover:bg-white/80":""}`:"opacity-40"}
                  ${Gi(B,new Date)?"ring-2 ring-indigo-400":""}
                `,children:[_.jsx("div",{className:`text-xs ${Gi(B,new Date)?"font-semibold text-indigo-600":""}`,children:qe(B,"d")}),_.jsx("div",{className:"absolute bottom-1 left-1 right-1 flex flex-col gap-0.5",children:x.slice(0,8).map((A,R)=>_.jsx("div",{className:`h-0.5 w-full rounded-full ${A==="red"?"bg-red-500":A==="blue"?"bg-blue-500":"bg-green-500"}`},R))})]},G)})})]}),_.jsxs(Cn,{children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsxs(Zn,{children:[_.jsx(R4,{className:"h-4 w-4"})," "]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(lt,{onClick:()=>y(Df(g,1)),children:_.jsx(zg,{className:"h-4 w-4"})}),_.jsx("div",{className:"text-sm font-medium w-32 text-center",children:qe(g,"EEEE d MMM",{locale:Jn})}),_.jsx(lt,{onClick:()=>y(Ls(g,1)),children:_.jsx(Fg,{className:"h-4 w-4"})})]})]}),_.jsx("div",{className:"space-y-1",children:F.length>0?F.map((B,G)=>{if(B.type==="task"){const{task:x}=B,A=new Date(x.dueAt),R=x.taskType==="event";return _.jsxs("div",{className:"flex gap-4",children:[_.jsx("div",{className:"text-xs text-slate-400 w-12 text-right pt-2",children:qe(A,"HH:mm")}),_.jsxs("div",{className:`flex-1 p-3 rounded-lg border ${R?"border-green-500":"border-blue-500"}`,style:{backgroundColor:AD(R?"#22c55e":"#3b82f6",.1)},children:[_.jsx("div",{className:"font-medium text-sm",children:x.title}),_.jsx("div",{className:"text-xs text-slate-500",children:x.subjectName})]})]},x.id)}return B.type==="free"?_.jsx("div",{className:"relative flex items-center h-8",children:B.duration>30&&_.jsxs("div",{className:"absolute left-0 right-0 flex items-center justify-center",children:[_.jsx("div",{className:"w-full border-t-2 border-dashed border-slate-200 dark:border-slate-700 absolute"}),_.jsxs("span",{className:"bg-slate-100 dark:bg-slate-900 px-2 text-xs text-slate-400 relative z-10",children:[" ",te(B.duration)]})]})},`free-${G}`):B.type==="all-day"?_.jsxs("div",{className:"mb-2",children:[_.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300 mb-2",children:" ()"}),B.tasks.map(x=>_.jsx("div",{className:"p-2 rounded-lg bg-slate-100/80 dark:bg-slate-800/80 mb-1 text-sm",children:x.title},x.id))]},"all-day"):B.type==="workable"?_.jsxs("div",{className:"mb-2 p-3 rounded-lg bg-slate-100/80 dark:bg-slate-800/80",children:[_.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300 mb-2",children:"  "}),B.tasks.map(x=>_.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["- ",x.title," ",_.jsxs("span",{className:"text-xs",children:["(",x.subjectName,")"]})]},x.id))]},"workable-day"):null}):_.jsx("div",{className:"text-slate-500 text-center py-8",children:" "})})]}),_.jsx(fi,{children:f&&_.jsxs(oo,{onClose:()=>m(null),children:[_.jsxs("div",{className:"text-lg font-semibold mb-4",children:[" ",qe(f,"d MMMM yyyy",{locale:Jn})]}),(()=>{const B=P[qe(f,"yyyy-MM-dd")]||[],G=B.filter(A=>A.status!=="done"),x=B.filter(A=>A.status==="done");return B.length===0?_.jsx("div",{className:"text-slate-500 text-center py-8",children:" "}):_.jsxs("div",{className:"space-y-4",children:[G.length>0&&_.jsx("div",{className:"space-y-2",children:G.map(A=>_.jsx("div",{onClick:()=>{l("tasks"),c(null)},className:"p-3 rounded-lg bg-slate-50 hover:bg-slate-100 cursor-pointer transition-colors",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{children:[_.jsx("div",{className:"font-medium",children:A.title}),_.jsx("div",{className:"text-xs text-slate-500",children:A.subjectName})]}),_.jsx("div",{className:"flex gap-2",children:by(A.status)})]})},A.id))}),x.length>0&&_.jsxs("div",{children:[_.jsx("div",{className:"text-sm font-semibold text-slate-500 mt-4 pt-4 border-t border-slate-200/80",children:""}),_.jsx("div",{className:"space-y-2 mt-2",children:x.map(A=>_.jsxs("div",{className:"p-3 rounded-lg bg-slate-50/50 opacity-70",children:[_.jsx("div",{className:"font-medium line-through",children:A.title}),_.jsx("div",{className:"text-xs text-slate-500",children:A.subjectName})]},A.id))})]})]})})()]})})]})}function wB({state:t,dispatch:e,userId:n}){const[i,a]=Q.useState(new Date),[l,c]=Q.useState(null),f=xD(i),m=f==="odd"?"":"",g=f==="odd"?"bg-gradient-to-r from-indigo-500 to-purple-500 text-white shadow-lg shadow-indigo-500/50":"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-lg shadow-purple-500/50",y=Q.useMemo(()=>Nw(t.courses,i),[t.courses,i]),T=Q.useMemo(()=>{const N=bs(i,{weekStartsOn:1}),P=Ls(N,4);return Fw({start:N,end:P})},[i]),w=Q.useMemo(()=>{const N={};return T.forEach(P=>{const z=qe(P,"yyyy-MM-dd");N[z]=Nw(t.courses,P)}),N},[t.courses,T]),D=N=>{const[P,z]=N.startTime.split(":").map(Number),[K,F]=N.endTime.split(":").map(Number),te=P*60+z,B=K*60+F;return Math.ceil((B-te)/60)},V=(N,P)=>{const{status:z}=Wu(N,P,t.scheduleOverrides),K=bs(P,{weekStartsOn:1}),F=qe(K,"yyyy-MM-dd"),te=`${N.id}_${F}`,B=Wu(N,P,{}),G=z==="online"?"onsite":"online";G===B.status?e({type:"removeScheduleOverride",payload:{key:te}}):e({type:"setScheduleOverride",payload:{key:te,status:G}})};return _.jsxs("div",{className:"space-y-6",children:[_.jsxs(Cn,{children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsxs(Zn,{children:[_.jsx(Vc,{className:"h-5 w-5"})," "]}),_.jsxs(Ut,{onClick:()=>{if(!n){alert(" ");return}const N=`${window.location.origin}/share/${n}`;navigator.clipboard.writeText(N).then(()=>{alert(`!
${N}`)}).catch(()=>{alert("")})},children:[_.jsx(ov,{className:"h-4 w-4 mr-2"}),""]})]}),_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs(lt,{onClick:()=>{let N=Df(i,1);N.getDay()===0&&(N=Df(N,2)),N.getDay()===6&&(N=Df(N,1)),a(N)},children:[_.jsx(zg,{className:"h-4 w-4 mr-1"})," "]}),_.jsxs("div",{className:"text-center flex-1 px-2",children:[_.jsx("div",{className:"font-semibold text-lg mb-2",children:qe(i,"EEEE d MMMM",{locale:Jn})}),_.jsxs("div",{className:`inline-block px-6 py-2 rounded-full font-bold text-lg ${g} animate-pulse`,children:[" ",m," "]})]}),_.jsxs(lt,{onClick:()=>{let N=Ls(i,1);N.getDay()===6&&(N=Ls(N,2)),N.getDay()===0&&(N=Ls(N,1)),a(N)},children:[" ",_.jsx(Fg,{className:"h-4 w-4 ml-1"})]})]})]}),_.jsxs(Cn,{children:[_.jsx(Zn,{children:""}),y.length>0?_.jsx("div",{className:"space-y-3 mt-4",children:y.map(N=>{const{status:P,isOverridden:z}=Wu(N,i,t.scheduleOverrides),K=P==="online"?"bg-blue-500":P==="onsite"?"bg-green-500":"bg-slate-500",F=P==="online"?" ":P==="onsite"?" ":" ";return _.jsxs("div",{onClick:()=>c({course:N,date:i}),className:"rounded-xl bg-white/60 dark:bg-slate-800/60 hover:bg-white dark:hover:bg-slate-800 cursor-pointer transition-all overflow-hidden border-l-4",style:{borderLeftColor:N.color},children:[_.jsxs("div",{className:`${K} text-white px-4 py-2 font-bold text-sm flex items-center justify-between`,children:[_.jsxs("div",{className:"flex items-center gap-2",children:[z&&_.jsx(bf,{className:"h-4 w-4 animate-spin"}),_.jsx("span",{children:F})]}),_.jsxs("span",{className:"text-xs opacity-90",children:[_.jsx(PA,{className:"h-3 w-3 inline mr-1"}),N.startTime," - ",N.endTime]})]}),_.jsx("div",{className:"p-4",children:_.jsx("div",{className:"flex items-start justify-between",children:_.jsxs("div",{className:"flex-1",children:[_.jsx("div",{className:"font-semibold text-lg mb-2",children:N.name}),_.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-300 space-y-1",children:[_.jsxs("div",{children:[" : ",N.code]}),N.room&&_.jsxs("div",{children:[" : ",N.room]}),N.pRoom&&_.jsxs("div",{children:["  P: ",N.pRoom]}),N.teacher&&_.jsxs("div",{children:[" : ",N.teacher]})]})]})})})]},N.id)})}):_.jsx("div",{className:"text-center text-slate-500 py-10",children:" "})]}),_.jsxs(Cn,{children:[_.jsxs("div",{className:"flex items-center justify-between mb-2",children:[_.jsx(Zn,{children:" ()"}),_.jsx("div",{className:"text-xs text-slate-500",children:"  "})]}),_.jsx("div",{className:"mt-4 overflow-x-auto",children:_.jsxs("table",{className:"w-full border-collapse",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{className:"border border-slate-200 dark:border-slate-700 p-2 bg-slate-50 dark:bg-slate-800 text-sm font-semibold sticky left-0 z-10",children:""}),T.map(N=>_.jsxs("th",{className:"border border-slate-200 dark:border-slate-700 p-2 bg-slate-50 dark:bg-slate-800 text-sm font-semibold min-w-[140px]",children:[qe(N,"EEEE",{locale:Jn}),_.jsx("div",{className:"text-xs font-normal text-slate-500",children:qe(N,"d MMM",{locale:Jn})})]},qe(N,"yyyy-MM-dd")))]})}),_.jsx("tbody",{children:["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00"].map((N,P)=>{const z=new Set;return _.jsxs("tr",{children:[_.jsx("td",{className:"border border-slate-200 dark:border-slate-700 p-2 text-xs text-slate-500 font-medium bg-slate-50 dark:bg-slate-800 sticky left-0 z-10",children:N}),T.map((K,F)=>{const te=qe(K,"yyyy-MM-dd"),B=`${te}-${P}`;if(z.has(B))return null;const x=(w[te]||[]).find(A=>A.startTime<=N&&A.endTime>N);if(x&&x.startTime===N){const A=D(x),{status:R,isOverridden:k}=Wu(x,K,t.scheduleOverrides),O=R==="online"?"bg-blue-500":R==="onsite"?"bg-green-500":"bg-slate-500",I=R==="online"?"":R==="onsite"?"":"",M=R==="online"?"":R==="onsite"?"":"";for(let pe=0;pe<A;pe++)z.add(`${te}-${P+pe}`);return _.jsx("td",{rowSpan:A,onClick:()=>c({course:x,date:K}),className:"border border-slate-200 dark:border-slate-700 p-0 align-top cursor-pointer hover:shadow-lg hover:brightness-95 transition-all duration-200 group",style:{backgroundColor:AD(x.color,.15)},title:"",children:_.jsxs("div",{className:"h-full flex flex-col",children:[_.jsxs("div",{className:`${O} text-white px-2 py-1 text-[10px] font-bold flex items-center justify-center gap-1`,children:[k&&_.jsx(bf,{className:"h-3 w-3 animate-spin"}),_.jsx("span",{children:I}),_.jsx("span",{children:M})]}),_.jsxs("div",{className:"p-2 flex-1",children:[_.jsx("div",{className:"font-medium text-xs",children:x.name}),_.jsx("div",{className:"text-slate-600 dark:text-slate-300 text-[10px]",children:x.code}),_.jsxs("div",{className:"text-slate-500 text-[10px] mt-1",children:[x.startTime,"-",x.endTime]})]})]})},te)}else if(!x)return _.jsx("td",{className:"border border-slate-200 dark:border-slate-700 p-1"},te);return null})]},N)})})]})})]}),_.jsx(fi,{children:l&&(()=>{const{course:N,date:P}=l,{status:z,isOverridden:K}=Wu(N,P,t.scheduleOverrides),F=z==="online"?"onsite":"online";return _.jsxs(oo,{onClose:()=>c(null),children:[_.jsx("div",{className:"text-lg font-semibold mb-4",children:N.name}),_.jsxs("div",{className:"space-y-3",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-slate-500",children:""}),_.jsx("div",{className:"font-medium",children:N.code})]}),N.room&&_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-slate-500",children:""}),_.jsx("div",{className:"font-medium",children:N.room})]}),N.pRoom&&_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-slate-500",children:" P"}),_.jsx("div",{className:"font-medium",children:N.pRoom})]}),N.teacher&&_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-slate-500",children:""}),_.jsx("div",{className:"font-medium",children:N.teacher})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-slate-500",children:""}),_.jsxs("div",{className:"font-medium",children:[N.startTime," - ",N.endTime]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-slate-500",children:""}),_.jsxs("div",{className:"font-medium",children:[N.scheduleType==="odd-onsite"&&" / ",N.scheduleType==="even-onsite"&&" / ",N.scheduleType==="online-always"&&"",N.scheduleType==="onsite-always"&&""]})]})]}),_.jsxs("div",{className:"mt-6 pt-4 border-t-2 border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg",children:[_.jsx("div",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-3",children:" "}),_.jsxs("div",{className:"flex items-center justify-between gap-4",children:[_.jsxs("div",{className:"flex-1",children:[_.jsx("label",{className:"text-xs text-slate-500",children:""}),_.jsxs("div",{className:"font-bold text-xl flex items-center gap-2 mt-1",children:[K&&_.jsx(bf,{className:"h-5 w-5 animate-spin text-indigo-500"}),z==="online"?" ":" "]}),K&&_.jsx("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 mt-1 font-medium",children:" "})]}),_.jsxs(Ut,{onClick:()=>V(N,P),className:"bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white font-bold px-6 py-3 shadow-lg",children:[_.jsx(bf,{className:"h-5 w-5 mr-2"})," ",F==="online"?" ":" "]})]})]}),_.jsx("div",{className:"mt-6 flex justify-end",children:_.jsx(Ut,{onClick:()=>c(null),children:""})})]})})()})]})}function SB({state:t,dispatch:e,tasks:n,filteredTasks:i,setQuery:a,query:l,selectedSubject:c,setSelectedSubject:f,deleteMode:m,selectedTasksForDeletion:g,setSelectedTasksForDeletion:y}){const[T,w]=Q.useState(null),D=Q.useMemo(()=>Object.fromEntries(t.subjects.map(V=>[V.id,n.filter(N=>N.subjectId===V.id).length])),[n,t.subjects]);return _.jsxs("div",{className:"space-y-6 pb-24",children:[_.jsx("div",{className:"sticky top-0 z-20 bg-slate-100/80 dark:bg-slate-950/80 backdrop-blur-xl p-4 -mx-4",children:_.jsxs("div",{className:"relative",children:[_.jsx(x4,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-indigo-400"}),_.jsx(Bt,{placeholder:"...",value:l,onChange:V=>a(V.target.value),className:"pl-9 w-full shadow-lg"})]})}),_.jsx("div",{className:"sticky top-[76px] z-10 -mx-4 px-4 py-2 bg-slate-100/60 dark:bg-slate-950/60 backdrop-blur-xl",children:_.jsxs("div",{className:"flex flex-wrap gap-2",children:[_.jsx(lt,{onClick:()=>f(null),className:`transition-all ${c?"bg-white/40":"bg-indigo-500 !text-white shadow-lg"}`,children:""}),t.subjects.map(V=>_.jsxs(lt,{onClick:()=>f(V.id),className:`transition-all
                ${c===V.id?"bg-indigo-500 !text-white shadow-lg":"bg-white/40"}
              `,children:[_.jsx("span",{className:"w-2 h-2 rounded-full mr-2",style:{backgroundColor:V.color}}),V.name,_.jsx(Ud,{className:"ml-1 !px-1.5",children:D[V.id]||0})]},V.id))]})}),_.jsxs("div",{className:"space-y-2",children:[_.jsx(fi,{children:i.map(V=>_.jsx(to.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{duration:.3},children:_.jsx(xB,{task:V,isInDeleteMode:m,isSelected:g.has(V.id),onToggleSelect:()=>y(N=>{const P=new Set(N);return P.has(V.id)?P.delete(V.id):P.add(V.id),P}),onUpdate:N=>e({type:"updateTask",payload:N}),onView:()=>w(V)})},V.id))}),i.length===0&&_.jsx("div",{className:"text-center text-slate-500 py-10",children:""})]}),_.jsx(fi,{children:T&&_.jsx(oo,{onClose:()=>w(null),children:_.jsx(MB,{task:T,onUpdate:V=>e({type:"updateTask",payload:V}),onClose:()=>w(null),subjects:t.subjects})})})]})}function AB({subjects:t,onAdd:e}){const[n,i]=Q.useState(!1),[a,l]=Q.useState({subjectId:t[0]?.id||"",title:"",detail:"",startAt:"",dueAt:"",link:"",status:"todo",category:"",reminders:[],taskType:"deadline"});Q.useEffect(()=>{t.length&&!a.subjectId&&l(y=>({...y,subjectId:t[0].id}))},[t]);const c=y=>{const{startAt:T,dueAt:w}=a,D=Zw(y,{hours:0,minutes:0,seconds:0,milliseconds:0});if(!T&&!w)l(V=>({...V,dueAt:D.toISOString(),startAt:""}));else if(!T&&w){const V=new Date(w);D<V?l(N=>({...N,startAt:D.toISOString()})):l(N=>({...N,startAt:w,dueAt:D.toISOString()}))}else l(V=>({...V,dueAt:D.toISOString(),startAt:""}))},f=(y,T)=>{if(!T)return;const[w,D]=T.split(":"),V=a[y]?new Date(a[y]):new Date;let N=Jw(V,parseInt(w,10));N=eS(N,parseInt(D,10)),l(P=>({...P,[y]:N.toISOString()}))},m=Q.useMemo(()=>{const y=a.startAt?new Date(a.startAt):void 0,T=a.dueAt?new Date(a.dueAt):void 0;return y&&!T?{from:y,to:y}:!y&&T?{from:T,to:T}:{from:y,to:T}},[a.startAt,a.dueAt]),g=()=>{if(!a.title)return alert("");const y={...a,id:Ty(),createdAt:Date.now(),updatedAt:Date.now(),detail:a.detail||"",link:a.link||""};e(y),i(!1),l({subjectId:t[0]?.id||"",title:"",detail:"",startAt:"",dueAt:"",link:"",status:"todo",category:"",reminders:[],taskType:"deadline"})};return _.jsxs(_.Fragment,{children:[_.jsxs(Ut,{onClick:()=>i(!0),children:[_.jsx(Gg,{className:"h-4 w-4"})," "]}),_.jsx(fi,{children:n&&_.jsxs(oo,{onClose:()=>i(!1),children:[_.jsx("div",{className:"text-lg font-semibold mb-4 px-2",children:""}),_.jsxs("div",{className:"px-2 mb-4",children:[_.jsx("label",{className:"text-xs text-slate-500 mb-1 block",children:""}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx(lt,{onClick:()=>l({...a,taskType:"deadline"}),className:`flex-1 ${a.taskType==="deadline"?"bg-indigo-500 !text-white":"bg-white/40"}`,children:" "}),_.jsx(lt,{onClick:()=>l({...a,taskType:"event"}),className:`flex-1 ${a.taskType==="event"?"bg-indigo-500 !text-white":"bg-white/40"}`,children:" "})]})]}),_.jsxs("div",{className:"overflow-y-auto max-h-[calc(85vh-8rem)] px-2",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-y-4 gap-x-4",children:[_.jsxs("div",{className:"md:col-span-2",children:[_.jsx("label",{className:"text-xs text-slate-500 mb-1 block",children:""}),_.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(y=>_.jsxs(lt,{onClick:()=>l({...a,subjectId:y.id}),className:`${a.subjectId===y.id?"bg-indigo-500 !text-white":"bg-white/40"}`,children:[_.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:y.color}})," ",y.name]},y.id))})]}),_.jsxs("div",{className:"md:col-span-2",children:[_.jsx("label",{className:"text-xs",children:""}),_.jsx(Bt,{value:a.title,onChange:y=>l({...a,title:y.target.value}),placeholder:" Assignment  3"})]}),_.jsxs("div",{className:"md:col-span-2",children:[_.jsx("label",{className:"text-xs",children:""}),_.jsx(SD,{value:a.detail,onChange:y=>l({...a,detail:y.target.value}),placeholder:"  checklist "})]}),_.jsxs("div",{className:"md:col-span-2 p-3 rounded-2xl bg-slate-100/50",children:[_.jsx("div",{className:"flex justify-center",children:_.jsx(wD,{mode:"range",selected:m,onDayClick:c,locale:Jn,showOutsideDays:!0,weekStartsOn:1})}),_.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2 pt-2 border-t border-slate-200/50",children:[a.taskType==="deadline"&&_.jsxs("div",{children:[_.jsx("label",{className:"text-xs",children:""}),_.jsx(Bt,{type:"time",value:a.startAt?qe(new Date(a.startAt),"HH:mm"):"",onChange:y=>f("startAt",y.target.value)})]}),_.jsxs("div",{className:a.taskType!=="deadline"?"col-span-2":"",children:[_.jsx("label",{className:"text-xs",children:a.taskType==="deadline"?"":""}),_.jsx(Bt,{type:"time",value:a.dueAt?qe(new Date(a.dueAt),"HH:mm"):"",onChange:y=>f("dueAt",y.target.value)})]})]}),_.jsx("div",{className:"text-xs text-center text-slate-500 mt-2",children:a.startAt&&a.dueAt?"":a.dueAt?" ":""})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs",children:""}),_.jsx(Bt,{value:a.link,onChange:y=>l({...a,link:y.target.value}),placeholder:""})]}),_.jsxs("div",{className:"md:col-span-2",children:[_.jsx("label",{className:"text-xs",children:""}),_.jsx("div",{className:"flex flex-wrap gap-2",children:[{value:"",label:""},{value:"",label:""},{value:"",label:""}].map(y=>_.jsx(lt,{onClick:()=>l({...a,category:y.value}),className:`${a.category===y.value?"bg-indigo-500 !text-white":"bg-white/40"}`,children:y.label},y.value))})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs",children:""}),_.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:[{value:"todo",label:""},{value:"doing",label:""},{value:"done",label:""}].map(y=>_.jsx(lt,{onClick:()=>l({...a,status:y.value}),className:a.status===y.value?"bg-indigo-500 !text-white":"bg-white/40",children:y.label},y.value))})]}),_.jsxs("div",{className:"md:col-span-2",children:[_.jsx("label",{className:"text-xs",children:" ()"}),_.jsx("div",{className:"flex flex-wrap gap-2",children:[{label:"15 ",type:"minutes",amount:15},{label:"1 .",type:"hours",amount:1},{label:"1 ",type:"days",amount:1}].map(y=>_.jsxs(lt,{onClick:()=>{l(T=>({...T,reminders:T.reminders.some(w=>w.type===y.type&&w.amount===y.amount)?T.reminders.filter(w=>!(w.type===y.type&&w.amount===y.amount)):[...T.reminders,y]}))},className:a.reminders.some(T=>T.type===y.type&&T.amount===y.amount)?"bg-indigo-500 !text-white":"bg-white/40",children:[_.jsx(VA,{className:"h-4 w-4"})," ",y.label]},y.label))})]})]}),_.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[_.jsx(lt,{onClick:()=>i(!1),children:""}),_.jsxs(Ut,{onClick:g,children:[_.jsx(_c,{className:"h-4 w-4"})," "]})]})]})]})})]})}function xB({task:t,onUpdate:e,onView:n,isInDeleteMode:i,isSelected:a,onToggleSelect:l}){const c=y=>{y.stopPropagation();const T=["todo","doing","done"],w=T.indexOf(t.status),D=T[(w+1)%T.length];if(t.status==="done"&&t.updatedAt&&vg(new Date,new Date(t.updatedAt))>=1){alert(" 1 ");return}e({...t,status:D,updatedAt:new Date().toISOString()})},f=t.status==="done"?"opacity-60 bg-gradient-to-l from-emerald-400/10":t.status==="doing"?"bg-gradient-to-l from-amber-400/10":"",m=t.taskType==="event",g=()=>{i?l():n()};return _.jsx(Cn,{onClick:g,className:`${f} cursor-pointer transition-all ${a?"ring-2 ring-indigo-500":""}`,children:_.jsxs("div",{className:"flex items-start gap-4",children:[_.jsxs("button",{onClick:c,className:"flex-shrink-0 mt-1 transition-transform active:scale-90",title:"",children:[t.status==="done"&&_.jsx(Hg,{className:"h-6 w-6 text-emerald-500"}),t.status==="doing"&&_.jsx("div",{className:"h-6 w-6 rounded-full border-2 border-amber-500 flex items-center justify-center",children:_.jsx(b4,{className:"h-4 w-4 text-amber-500"})}),t.status==="todo"&&_.jsx(s4,{className:"h-6 w-6 text-slate-300 dark:text-slate-600"})]}),_.jsxs("div",{className:"min-w-0 flex-1",children:[_.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[_.jsx("div",{className:"font-medium truncate",children:t.title}),t.subjectName&&_.jsxs(Ud,{className:"border-slate-300 text-slate-500",children:[_.jsx("span",{className:"inline-block w-2 h-2 rounded-full mr-1",style:{background:t.subjectColor}})," ",t.subjectName]})]}),t.detail&&_.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1 whitespace-pre-wrap line-clamp-4",children:t.detail}),_.jsx("div",{className:"mt-2",children:_.jsxs("div",{className:"text-xs text-slate-500 mt-1 flex items-center gap-2 flex-wrap",children:[t.dueAt?m?_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(PA,{className:"h-3 w-3"})," : ",qe(new Date(t.dueAt),"d MMM yy HH:mm",{locale:Jn})]}):_.jsxs(_.Fragment,{children:[_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(l4,{className:"h-3 w-3"})," : ",qe(new Date(t.dueAt),"d MMM yy HH:mm",{locale:Jn})]}),_.jsxs("span",{children:[" ",RR(new Date(t.dueAt))?"":TB(t.dueAt)]})]}):_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(Vc,{className:"h-3 w-3"})," "]}),t.link&&_.jsxs("a",{href:t.link,target:"_blank",className:"inline-flex items-center gap-1 underline",children:[_.jsx(ov,{className:"h-3 w-3"})," "]})]})})]}),i&&_.jsx("div",{className:"absolute top-2 right-2",children:_.jsx(Hg,{className:`h-6 w-6 transition-all ${a?"text-indigo-500 scale-100":"text-slate-300 dark:text-slate-600 scale-0"}`})})]})})}function CB({value:t,onChange:e}){const n=[{label:"15 ",type:"minutes",amount:15},{label:"30 ",type:"minutes",amount:30},{label:"1 .",type:"hours",amount:1},{label:"3 .",type:"hours",amount:3},{label:"1 ",type:"days",amount:1}],i=a=>{const l=t.some(c=>c.type===a.type&&c.amount===a.amount);e(l?t.filter(c=>!(c.type===a.type&&c.amount===a.amount)):[...t,a])};return _.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(a=>_.jsxs(lt,{onClick:()=>i(a),className:t.some(l=>l.type===a.type&&l.amount===a.amount)?"bg-slate-50 dark:bg-slate-800":"",children:[_.jsx(VA,{className:"h-4 w-4"})," ",a.label]},a.label))})}function Iw({course:t,onClose:e,onSave:n}){const[i,a]=Q.useState(t||{name:"",code:"",room:"",pRoom:"",teacher:"",dayOfWeek:1,startTime:"09:00",endTime:"12:00",scheduleType:"odd-onsite",color:"#6366f1"}),l=()=>{if(!i.name||!i.code){alert("");return}n(i)};return _.jsxs(oo,{onClose:e,children:[_.jsx("div",{className:"text-lg font-semibold mb-4",children:t?"":""}),_.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-slate-500",children:""}),_.jsx(Bt,{value:i.name,onChange:c=>a({...i,name:c.target.value}),placeholder:" ",autoFocus:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-slate-500",children:""}),_.jsx(Bt,{value:i.code,onChange:c=>a({...i,code:c.target.value}),placeholder:" 002125"})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-slate-500",children:""}),_.jsx(Bt,{value:i.room,onChange:c=>a({...i,room:c.target.value}),placeholder:" 9.06.06"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-slate-500",children:" P"}),_.jsx(Bt,{value:i.pRoom,onChange:c=>a({...i,pRoom:c.target.value}),placeholder:" P3"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-slate-500",children:""}),_.jsx(Bt,{value:i.teacher,onChange:c=>a({...i,teacher:c.target.value}),placeholder:""})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-slate-500",children:""}),_.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:[{value:1,label:""},{value:2,label:""},{value:3,label:""},{value:4,label:""},{value:5,label:""}].map(c=>_.jsx(lt,{onClick:()=>a({...i,dayOfWeek:c.value}),className:i.dayOfWeek===c.value?"bg-indigo-500 !text-white":"bg-white/40",children:c.label},c.value))})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-slate-500",children:""}),_.jsx(Bt,{type:"time",value:i.startTime,onChange:c=>a({...i,startTime:c.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-slate-500",children:""}),_.jsx(Bt,{type:"time",value:i.endTime,onChange:c=>a({...i,endTime:c.target.value})})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-slate-500 mb-2 block",children:""}),_.jsx("div",{className:"space-y-2",children:[{value:"odd-onsite",label:" / "},{value:"even-onsite",label:" / "},{value:"online-always",label:""},{value:"onsite-always",label:""}].map(c=>_.jsxs("label",{className:"flex items-center gap-2 p-2 rounded-lg hover:bg-slate-100/50 dark:hover:bg-slate-800/50 cursor-pointer",children:[_.jsx("input",{type:"radio",name:"scheduleType",value:c.value,checked:i.scheduleType===c.value,onChange:f=>a({...i,scheduleType:f.target.value}),className:"w-4 h-4"}),_.jsx("span",{className:"text-sm",children:c.label})]},c.value))})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-slate-500",children:""}),_.jsx(Bt,{type:"color",value:i.color,onChange:c=>a({...i,color:c.target.value}),className:"w-full h-12 p-1"})]})]}),_.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[_.jsx(lt,{onClick:e,children:""}),_.jsxs(Ut,{onClick:l,children:[_.jsx(_c,{className:"h-4 w-4"})," "]})]})]})}function DB({state:t,dispatch:e,userId:n,onLogout:i,setView:a}){const l=Q.useRef(null),[c,f]=Q.useState(!1),[m,g]=Q.useState(null),[y,T]=Q.useState(!1),[w,D]=Q.useState(null),V=Q.useRef(null),N=Q.useRef(null),P=Q.useRef(null),z=Q.useRef(null),K=()=>{const O=V.current.value.trim();O&&(e({type:"addSubject",payload:{id:Ty(),name:O,color:N.current.value||"#6366f1"}}),V.current.value="",f(!1))},F=O=>{g(O)},te=()=>{if(!m)return;const O=P.current.value.trim();O&&e({type:"updateSubject",payload:{...m,name:O,color:z.current.value||"#6366f1"}}),g(null)},B=O=>{confirm("?")&&e({type:"deleteSubject",id:O})},G=O=>{D(O)},x=O=>{confirm("?")&&e({type:"deleteCourse",id:O})},A=()=>{const O=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),I=URL.createObjectURL(O),M=document.createElement("a");M.href=I,M.download="flowo-data.json",M.click(),URL.revokeObjectURL(I)},R=O=>{const I=O.target.files?.[0];if(!I)return;const M=new FileReader;M.onload=pe=>{try{const Be=JSON.parse(pe.target.result);e({type:"load",payload:Be}),alert("!")}catch{alert("")}},M.readAsText(I)},k=()=>{if(confirm("? ")){if(!n)return;const O=dy(yy,"schedules",n);xC(O,cc).then(()=>{alert("!")}).catch(I=>{console.error("Error clearing document: ",I),alert("")})}};return _.jsxs("div",{className:"space-y-6",children:[_.jsxs(Cn,{children:[_.jsx(Zn,{children:""}),_.jsx("div",{className:"space-y-2 mb-4",children:t.subjects.map(O=>_.jsxs("div",{className:"flex items-center p-2 rounded-lg bg-slate-100/50 dark:bg-slate-800/50 group",children:[_.jsx("span",{className:"w-3 h-3 rounded-full mr-3",style:{backgroundColor:O.color}}),_.jsx("span",{className:"flex-1",children:O.name}),_.jsxs("div",{className:"flex items-center opacity-0 group-hover:opacity-100 transition-opacity",children:[_.jsx(lt,{onClick:()=>F(O),className:"!p-2",children:_.jsx(qg,{className:"h-4 w-4"})}),_.jsx(lt,{onClick:()=>B(O.id),className:"!p-2 text-rose-500",children:_.jsx(Tc,{className:"h-4 w-4"})})]})]},O.id))}),_.jsxs(Ut,{onClick:()=>f(!0),children:[_.jsx(Gg,{className:"h-4 w-4"})," "]})]}),_.jsx(fi,{children:c&&_.jsxs(oo,{onClose:()=>f(!1),children:[_.jsx("div",{className:"text-lg font-semibold mb-4",children:""}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-xs",children:""}),_.jsx(Bt,{ref:V,placeholder:" GEN001",autoFocus:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs",children:""}),_.jsx(Bt,{ref:N,type:"color",defaultValue:"#6366f1",className:"w-full h-12 p-1"})]})]}),_.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[_.jsx(lt,{onClick:()=>f(!1),children:""}),_.jsxs(Ut,{onClick:K,children:[_.jsx(_c,{className:"h-4 w-4"})," "]})]})]})}),_.jsx(fi,{children:m&&_.jsxs(oo,{onClose:()=>g(null),children:[_.jsx("div",{className:"text-lg font-semibold mb-4",children:""}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-xs",children:""}),_.jsx(Bt,{ref:P,defaultValue:m.name,autoFocus:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs",children:""}),_.jsx(Bt,{ref:z,type:"color",defaultValue:m.color,className:"w-full h-12 p-1"})]})]}),_.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[_.jsx(lt,{onClick:()=>g(null),children:""}),_.jsxs(Ut,{onClick:te,children:[_.jsx(_c,{className:"h-4 w-4"})," "]})]})]})}),_.jsxs(Cn,{children:[_.jsx(Zn,{children:""}),_.jsx("div",{className:"space-y-2 mb-4",children:t.courses.map(O=>_.jsxs("div",{className:"flex items-center p-2 rounded-lg bg-slate-100/50 dark:bg-slate-800/50 group",children:[_.jsx("span",{className:"w-3 h-3 rounded-full mr-3",style:{backgroundColor:O.color}}),_.jsxs("div",{className:"flex-1",children:[_.jsx("div",{className:"font-medium",children:O.name}),_.jsxs("div",{className:"text-xs text-slate-500",children:[O.code,"  ",["","","","","",""][O.dayOfWeek]," ",O.startTime,"-",O.endTime]})]}),_.jsxs("div",{className:"flex items-center opacity-0 group-hover:opacity-100 transition-opacity",children:[_.jsx(lt,{onClick:()=>G(O),className:"!p-2",children:_.jsx(qg,{className:"h-4 w-4"})}),_.jsx(lt,{onClick:()=>x(O.id),className:"!p-2 text-rose-500",children:_.jsx(Tc,{className:"h-4 w-4"})})]})]},O.id))}),_.jsxs(Ut,{onClick:()=>T(!0),children:[_.jsx(Gg,{className:"h-4 w-4"})," "]})]}),_.jsx(fi,{children:y&&_.jsx(Iw,{onClose:()=>T(!1),onSave:O=>{e({type:"addCourse",payload:{...O,id:Ty(),createdAt:Date.now(),updatedAt:Date.now()}}),T(!1)}})}),_.jsx(fi,{children:w&&_.jsx(Iw,{course:w,onClose:()=>D(null),onSave:O=>{e({type:"updateCourse",payload:O}),D(null)}})}),_.jsxs(Cn,{children:[_.jsxs(Zn,{children:[_.jsx(kA,{className:"h-4 w-4"})," "]}),_.jsx("p",{className:"text-sm text-slate-500 mb-3",children:""}),_.jsx(Ut,{onClick:()=>a("history"),children:""})]}),_.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[_.jsxs(Cn,{className:"sm:col-span-1",children:[_.jsx(Zn,{children:"/"}),_.jsxs("div",{className:"flex flex-wrap items-center gap-2 justify-center sm:justify-start",children:[_.jsxs(Ut,{onClick:A,children:[_.jsx(a4,{className:"h-4 w-4"}),"  JSON"]}),_.jsxs(lt,{onClick:()=>l.current?.click(),children:[_.jsx(O4,{className:"h-4 w-4"}),"  JSON"]}),_.jsx("input",{ref:l,type:"file",accept:"application/json",className:"hidden",onChange:R})]}),_.jsx("div",{className:"mt-3 text-xs text-slate-500",children:""})]}),_.jsxs(Cn,{className:"sm:col-span-1",children:[_.jsx(Zn,{children:""}),_.jsxs("div",{className:"flex flex-col items-start",children:[_.jsx(Ut,{className:"bg-rose-600 hover:bg-rose-700",onClick:k,children:""}),_.jsx("p",{className:"text-xs text-slate-500 mt-2",children:""})]})]})]}),_.jsxs(Cn,{children:[_.jsx(Zn,{children:""}),_.jsx("p",{className:"text-sm text-slate-500 mb-3",children:""}),_.jsxs(Ut,{onClick:i,className:"bg-slate-600 hover:bg-slate-700",children:[_.jsx(_4,{className:"h-4 w-4"})," "]})]})]})}function MB({task:t,onUpdate:e,onClose:n,subjects:i}){const[a,l]=Q.useState(!1),[c,f]=Q.useState({...t,taskType:t.taskType||"deadline",startAt:t.startAt?qe(new Date(t.startAt),"yyyy-MM-dd'T'HH:mm"):"",dueAt:t.dueAt?qe(new Date(t.dueAt),"yyyy-MM-dd'T'HH:mm"):""}),m=w=>{const{startAt:D,dueAt:V}=c,N=Zw(w,{hours:0,minutes:0,seconds:0,milliseconds:0});if(!D&&!V)f(P=>({...P,dueAt:N.toISOString(),startAt:""}));else if(!D&&V){const P=new Date(V);N<P?f(z=>({...z,startAt:N.toISOString()})):f(z=>({...z,startAt:V,dueAt:N.toISOString()}))}else f(P=>({...P,dueAt:N.toISOString(),startAt:""}))},g=(w,D)=>{if(!D)return;const[V,N]=D.split(":"),P=c[w]?new Date(c[w]):new Date;let z=Jw(P,parseInt(V,10));z=eS(z,parseInt(N,10)),f(K=>({...K,[w]:z.toISOString()}))},y=Q.useMemo(()=>{const w=c.startAt?new Date(c.startAt):void 0,D=c.dueAt?new Date(c.dueAt):void 0;return w&&!D?{from:w,to:w}:!w&&D?{from:D,to:D}:{from:w,to:D}},[c.startAt,c.dueAt]),T=()=>{const w={...c,detail:c.detail||"",link:c.link||""};e(w),l(!1)};return a?_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsx("div",{className:"text-lg font-semibold",children:""}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx(lt,{onClick:()=>l(!1),children:""}),_.jsxs(Ut,{onClick:T,children:[_.jsx(_c,{className:"h-4 w-4"})," "]})]})]}),_.jsxs("div",{className:"mb-4",children:[_.jsx("label",{className:"text-xs text-slate-500 mb-1 block",children:""}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx(lt,{onClick:()=>f({...c,taskType:"deadline"}),className:`flex-1 ${c.taskType==="deadline"?"bg-indigo-500 !text-white":"bg-white/40"}`,children:" "}),_.jsx(lt,{onClick:()=>f({...c,taskType:"event"}),className:`flex-1 ${c.taskType==="event"?"bg-indigo-500 !text-white":"bg-white/40"}`,children:" "})]})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-xs",children:""}),_.jsx("div",{className:"custom-select-wrapper",children:_.jsxs(gB,{value:c.status,onChange:w=>f({...c,status:w.target.value}),children:[_.jsx("option",{value:"todo",children:""}),_.jsx("option",{value:"doing",children:""}),_.jsx("option",{value:"done",children:""})]})})]}),_.jsxs("div",{className:"md:col-span-2",children:[_.jsx("label",{className:"text-xs",children:""}),_.jsx(Bt,{value:c.title,onChange:w=>f({...c,title:w.target.value}),className:"w-full"})]}),_.jsxs("div",{className:"md:col-span-2",children:[_.jsx("label",{className:"text-xs",children:""}),_.jsx(SD,{value:c.detail||"",onChange:w=>f({...c,detail:w.target.value})})]}),_.jsxs("div",{className:"md:col-span-2 p-3 rounded-2xl bg-slate-100/50",children:[_.jsx(wD,{mode:"range",selected:y,onDayClick:m,locale:Jn,showOutsideDays:!0,weekStartsOn:1}),_.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2 pt-2 border-t border-slate-200/50",children:[c.taskType==="deadline"&&_.jsxs("div",{children:[_.jsx("label",{className:"text-xs",children:""}),_.jsx(Bt,{type:"time",value:c.startAt?qe(new Date(c.startAt),"HH:mm"):"",onChange:w=>g("startAt",w.target.value)})]}),_.jsxs("div",{className:c.taskType!=="deadline"?"col-span-2":"",children:[_.jsx("label",{className:"text-xs",children:c.taskType==="deadline"?"":""}),_.jsx(Bt,{type:"time",value:c.dueAt?qe(new Date(c.dueAt),"HH:mm"):"",onChange:w=>g("dueAt",w.target.value)})]})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs",children:""}),_.jsx(Bt,{value:c.link||"",onChange:w=>f({...c,link:w.target.value}),className:"w-full"})]}),_.jsxs("div",{className:"md:col-span-2",children:[_.jsx("label",{className:"text-xs",children:""}),_.jsx(CB,{value:c.reminders||[],onChange:w=>f({...c,reminders:w})})]})]})]}):_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"text-lg font-semibold mb-2",children:t.title}),_.jsxs("div",{className:"space-y-4",children:[t.detail&&_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-slate-500",children:""}),_.jsx("div",{className:"whitespace-pre-wrap text-sm",children:t.detail})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-slate-500",children:t.taskType==="event"?"":""}),_.jsx("div",{className:"flex items-center gap-2 text-sm",children:t.dueAt?_.jsxs(_.Fragment,{children:[_.jsx(Vc,{className:"h-4 w-4 text-slate-500"}),_.jsx("span",{children:qe(new Date(t.dueAt),"d MMMM yyyy '' HH:mm",{locale:Jn})})]}):_.jsx("span",{className:"text-slate-500",children:""})})]}),t.link&&_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-slate-500",children:""}),_.jsxs("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-500 hover:underline flex items-center gap-1 text-sm truncate",children:[_.jsx(ov,{className:"h-4 w-4"})," ",t.link]})]}),_.jsxs("div",{className:"flex gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-slate-500",children:""}),_.jsx("div",{children:by(t.status)})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-slate-500",children:""}),_.jsx("div",{children:t.subjectName?_.jsxs(Ud,{className:"border-slate-300 text-slate-500",children:[_.jsx("span",{className:"inline-block w-2 h-2 rounded-full mr-1",style:{background:t.subjectColor||"#94a3b8"}})," ",t.subjectName]}):""})]})]})]}),_.jsxs("div",{className:"mt-6 pt-4 border-t border-slate-200 dark:border-slate-700 flex justify-end gap-2",children:[_.jsx(lt,{onClick:n,children:""}),_.jsxs(Ut,{onClick:()=>l(!0),children:[_.jsx(qg,{className:"h-4 w-4"})," "]})]})]})}function RB({tasks:t,dispatch:e}){const[n,i]=Q.useState(new Set),a=()=>{n.size!==0&&confirm(` ${n.size} ?`)&&(n.forEach(l=>e({type:"deleteTask",id:l})),i(new Set))};return _.jsxs("div",{className:"space-y-4",children:[_.jsxs(Zn,{children:[_.jsx(kA,{className:"h-5 w-5"})," "]}),_.jsx("p",{className:"text-sm text-slate-500 -mt-4",children:" 1 "}),_.jsx("div",{className:"flex justify-end",children:_.jsxs(Ut,{onClick:a,disabled:n.size===0,className:"bg-rose-600 hover:bg-rose-700",children:[_.jsx(Tc,{className:"h-4 w-4"}),"  ",n.size," "]})}),_.jsxs("div",{className:"space-y-2",children:[t.map(l=>_.jsx(Cn,{onClick:()=>{const c=new Set(n);c.has(l.id)?c.delete(l.id):c.add(l.id),i(c)},className:`cursor-pointer transition-opacity opacity-70 hover:opacity-100 ${n.has(l.id)?"ring-2 ring-rose-500":""}`,children:_.jsxs("div",{className:"flex justify-between",children:[_.jsxs("div",{children:[_.jsx("div",{className:"font-medium",children:l.title}),_.jsxs("div",{className:"text-xs text-slate-500",children:[": ",qe(new Date(l.updatedAt),"d MMM yy HH:mm",{locale:Jn})]})]}),n.has(l.id)&&_.jsx(Hg,{className:"h-5 w-5 text-rose-500"})]})},l.id)),t.length===0&&_.jsx("div",{className:"text-center text-slate-500 py-10",children:""})]})]})}function NB(){const t=async()=>{const e=new Yi;try{await YL(vy,e)}catch(n){console.error("Error signing in with Google",n),alert(": "+n.message)}};return _.jsxs("div",{className:"h-screen flex flex-col items-center justify-center gap-8 bg-slate-100 dark:bg-slate-950 p-4",children:[_.jsxs("div",{className:"text-center",children:[_.jsx(to.div,{initial:{rotate:-8,scale:.9},animate:{rotate:0,scale:1},className:"inline-block h-20 w-20 mb-4 rounded-3xl bg-indigo-600 text-white items-center justify-center shadow-lg shadow-indigo-500/30",children:_.jsx(D4,{className:"h-12 w-12 m-4"})}),_.jsx("h1",{className:"text-3xl font-bold font-display",children:" FlowO"}),_.jsx("p",{className:"text-slate-500 mt-2",children:""})]}),_.jsxs(Ut,{onClick:t,className:"!px-6 !py-3 !text-base",children:[_.jsx(jA,{className:"h-5 w-5"}),"  Google"]})]})}function oo({children:t,onClose:e}){return Q.useEffect(()=>{const n=i=>{i.key==="Escape"&&e()};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[e]),kR.createPortal(_.jsxs(_.Fragment,{children:[_.jsx(to.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-40",onClick:e}),_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-8",onClick:e,children:_.jsx(to.div,{initial:{opacity:0,scale:.98,y:8},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.98,y:8},transition:{duration:.18},className:"w-[92%] sm:w-[80%] md:w-[720px] mx-auto",onClick:n=>n.stopPropagation(),children:_.jsx("div",{className:"max-h-[calc(100vh-4rem)] w-full overflow-y-auto rounded-2xl",children:_.jsx(Cn,{className:"p-4 md:p-6 rounded-2xl",children:t})})})})]}),document.body)}f2.createRoot(document.getElementById("root")).render(_.jsx(Q.StrictMode,{children:_.jsx(bB,{})}));
